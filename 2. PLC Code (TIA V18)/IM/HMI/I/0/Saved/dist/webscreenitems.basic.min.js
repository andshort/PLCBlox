/*! SIMATIC WINCC UA/WebUX 3.1.43 WinCC Unified PC Runtime {%version%}, Copyright (C) Siemens AG 2023. All Rights Reserved. */
var PWC=function(i){var r={};function a(e){var t;return(r[e]||(t=r[e]={i:e,l:!1,exports:{}},i[e].call(t.exports,t,t.exports,a),t.l=!0,t)).exports}return a.m=i,a.c=r,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(i,r,function(e){return t[e]}.bind(null,r));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=14)}([function(e,t,i){var r;
/*!
 * Globalize v1.4.3 2020-03-19T12:34Z Released under the MIT license
 * http://git.io/TrdQbw
 */
r=function(i){function r(e,t){return e=e.replace(/{[0-9a-zA-Z-_. ]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),h(t[e])})}function a(){var i=arguments[0];return[].slice.call(arguments,1).forEach(function(e){for(var t in e)i[t]=e[t]}),i}function n(e,t,i){return t=e+(t?": "+r(t,i):""),(t=new Error(t)).code=e,a(t,i),t}function o(e){return Array.isArray(e)?e:e?[e]:[]}function t(e,t){p("E_MISSING_PARAMETER","Missing required parameter `{name}`.",void 0!==e,{name:t})}function s(e,t){g(e,t,void 0===e||"string"==typeof e||e instanceof i,"String or Cldr instance")}function l(e){return null!==e&&""+e=="[object Object]"}function u(e){return e instanceof i?e:new i(e)}var h=function(e){return"string"==typeof e?e:"number"==typeof e?""+e:JSON.stringify(e)},d=function(e){return JSON.stringify(e,function(e,t){return t&&t.runtimeKey?t.runtimeKey:t})},c=function(e){return[].reduce.call(e,function(e,t){return 0|(e=(e<<5)-e+t.charCodeAt(0))},0)},p=function(e,t,i,r){if(!i)throw n(e,t,r)},m=function(t,e,i){i=o((i=i||{}).skip).some(function(e){return e.test(t)});p("E_MISSING_CLDR","Missing required CLDR content `{path}`.",e||i,{path:t})},g=function(e,t,i,r){p("E_INVALID_PAR_TYPE","Invalid `{name}` parameter ({value}). {expected} expected.",i,{expected:r,name:t,value:e})};function T(e){e.once("get",m),e.get("supplemental/likelySubtags")}function f(e){if(!(this instanceof f))return new f(e);t(e,"locale"),s(e,"locale"),this.cldr=u(e),T(this.cldr)}return f.load=function(){i.load.apply(i,arguments)},f.locale=function(e){return s(e,"locale"),arguments.length&&(this.cldr=u(e),T(this.cldr)),this.cldr},f._alwaysArray=o,f._createError=n,f._formatMessage=r,f._isPlainObject=l,f._objectExtend=a,f._regexpEscape=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},f._runtimeBind=function(e,t,i,r){var a,n,o=d(e),s=void 0!==(e=i).name?e.name:(e=/^function\s+([\w\$]+)\s*\(/.exec(e.toString()))&&0<e.length?e[1]:void 0,l=t.locale;return s&&(i.runtimeKey=(e=s,t=l,a=null,n=(n=o)||d(a),0<(a=c(e+t+n))?"a"+a:"b"+Math.abs(a)),i.generatorString=function(){return'Globalize("'+l+'").'+s+"("+o.slice(1,-1)+")"},i.runtimeArgs=r),i},f._stringPad=function(e,t,i){for(var r=(e="string"!=typeof e?String(e):e).length;r<t;r+=1)e=i?e+"0":"0"+e;return e},f._validate=p,f._validateCldr=m,f._validateDefaultLocale=function(e){p("E_DEFAULT_LOCALE_NOT_DEFINED","Default locale has not been defined.",void 0!==e,{})},f._validateParameterPresence=t,f._validateParameterRange=function(e,t,i,r){p("E_PAR_OUT_OF_RANGE","Parameter `{name}` has value `{value}` out of range [{minimum}, {maximum}].",void 0===e||i<=e&&e<=r,{maximum:r,minimum:i,name:t,value:e})},f._validateParameterTypePlainObject=function(e,t){g(e,t,void 0===e||l(e),"Plain Object")},f._validateParameterType=g,f},e.exports=r(i(3))},function(e,t,i){var r;void 0!==(i="function"==typeof(r=function(){var a=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},n=function(e,t){if(a(e))e=e.join("/");if(typeof e!=="string")throw new Error('invalid path "'+e+'"');e=e.replace(/^\//,"").replace(/^cldr\//,"");e=e.replace(/{[a-zA-Z]+}/g,function(e){e=e.replace(/^{([^}]*)}$/,"$1");return t[e]});return e.split("/")},d=function(e,t){var i,r;if(e.some)return e.some(t);for(i=0,r=e.length;i<r;i++)if(t(e[i],i,e))return true;return false},c=function(e,t,i,r){var a,n,o=i[0],s=i[1],l=e.localeSep,u=i[2],h=i.slice(3,4);r=r||{};if(o!=="und"&&s!=="Zzzz"&&u!=="ZZ")return[o,s,u].concat(h);if(typeof t.get("supplemental/likelySubtags")==="undefined")return;n=d([[o,s,u],[o,u],[o,s],[o],["und",s]],function(e){return a=!/\b(Zzzz|ZZ)\b/.test(e.join(l))&&t.get(["supplemental/likelySubtags",e.join(l)])});if(n){a=a.split(l);return[o!=="und"?o:a[0],s!=="Zzzz"?s:a[1],u!=="ZZ"?u:a[2]].concat(h)}else if(r.force)return t.get("supplemental/likelySubtags/und").split(l);else return},p=function(i,r,a){var n,e,t=a[0],o=a[1],s=a[2],l=a[3];e=d([[[t,"Zzzz","ZZ"],[t]],[[t,"Zzzz",s],[t,s]],[[t,o,"ZZ"],[t,o]]],function(e){var t=c(i,r,e[0]);n=e[1];return t&&t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]});if(e){if(l)n.push(l);return n}return a},m=function(e){var t,i,r=[];e=e.replace(/_/,"-");t=e.split("-u-");if(t[1]){t[1]=t[1].split("-t-");e=t[0]+(t[1][1]?"-t-"+t[1][1]:"");r[4]=t[1][0]}i=e.split("-t-")[0];t=i.match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/);if(t===null)return["und","Zzzz","ZZ"];r[0]=t[10]||t[2]||"und";r[1]=t[4]||"Zzzz";r[2]=t[6]||"ZZ";if(t[7]&&t[7].length)r[3]=t[7].slice(1);return r},h=function(e,t){var i,r;if(e.forEach)return e.forEach(t);for(i=0,r=e.length;i<r;i++)t(e[i],i,e)},g=function(o,s,e){var l=o._availableBundleMap,u=o._availableBundleMapQueue;if(u.length){h(u,function(e,t){var i,r,a,n;n=m(e);r=c(o,s,n);if(r===undefined){u.splice(t,1);throw new Error("Could not find likelySubtags for "+e)}a=p(o,s,r);a=a.join(o.localeSep);i=l[a];if(i&&i.length<e.length)return;l[a]=e});o._availableBundleMapQueue=[]}return l[e]||null},o=function(e){var t,i=[];if(Object.keys)return Object.keys(e);for(t in e)i.push(t);return i},r=function(e,t){var i,r;r=e+(t&&JSON?": "+JSON.stringify(t):"");i=new Error(r);i.code=e;h(o(t),function(e){i[e]=t[e]});return i},s=function(e,t,i){if(!t)throw r(e,i)},T=function(e,t){s("E_MISSING_PARAMETER",typeof e!=="undefined",{name:t})},i=function(e,t,i,r){s("E_INVALID_PAR_TYPE",i,{expected:r,name:t,value:e})},t=function(e,t){i(e,t,typeof e==="string"||a(e),"String or Array")},l=function(e){return e!==null&&""+e==="[object Object]"},u=function(e,t){i(e,t,typeof e==="undefined"||l(e),"Plain Object")},f=function(e,t){i(e,t,typeof e==="string","a string")},y=function(e,t){var i,r=e,a=t.length;for(i=0;i<a-1;i++){r=r[t[i]];if(!r)return undefined}return r[t[i]]},D=function(e,t){var i,r=e._availableBundleMapQueue,a=y(t,["main"]);if(a)for(i in a)if(a.hasOwnProperty(i)&&i!=="root"&&r.indexOf(i)===-1)r.push(i)},S=function(e){return a(e)?e:[e]},b=function(){var r=function(){var i={},e=[].slice.call(arguments,0);h(e,function(e){var t;for(t in e)if(t in i&&typeof i[t]==="object"&&!a(i[t]))i[t]=r(i[t],e[t]);else i[t]=e[t]});return i};return r}(),e=function(e,t,i){var r,a,n;T(i[0],"json");for(r=0;r<i.length;r++){n=S(i[r]);for(a=0;a<n.length;a++){u(n[a],"json");t=b(t,n[a]);D(e,n[a])}}return t},C=function(e,t,i){var r=n(t,i);return y(e._resolved,r)},v=function(e){this.init(e)};return v._alwaysArray=S,v._coreLoad=e,v._createError=r,v._itemGetResolved=C,v._jsonMerge=b,v._pathNormalize=n,v._resourceGet=y,v._validatePresence=T,v._validateType=i,v._validateTypePath=t,v._validateTypePlainObject=u,v._availableBundleMap={},v._availableBundleMapQueue=[],v._resolved={},v.localeSep="-",v.load=function(){v._resolved=e(v,v._resolved,arguments)},v.prototype.init=function(e){var r,t,i,a,n,o,s,l,u,h=v.localeSep,d="";T(e,"locale");f(e,"locale");o=m(e);if(o.length===5){l=o.pop();d=h+"u"+h+l;if(!o[3])o.pop()}u=o[3];i=c(v,this,o,{force:true})||o;t=i[0];n=i[1];s=i[2];a=p(v,this,i).join(h);this.attributes=r={bundle:g(v,this,a),minLanguageId:a+d,maxLanguageId:i.join(h)+d,language:t,script:n,territory:s,region:s,variant:u};l&&("-"+l).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,function(e,t,i){if(t)r["u"+t]=i;else r["u"+e]=true});this.locale=e},v.prototype.get=function(e){T(e,"path");t(e,"path");return C(v,e,this.attributes)},v.prototype.main=function(e){T(e,"path");t(e,"path");s("E_MISSING_BUNDLE",this.attributes.bundle!==null,{locale:this.locale});e=S(e);return this.get(["main/{bundle}"].concat(e))},v})?r.call(t,i,t,e):r)&&(e.exports=i)},function(F,H){var O,p,N,v,m,k,W,g,G,U,T,z,j,Y,C,X,q,f,K,Z,S,Q,d,J,$,ee,te,y,ie,re,ae,ne,oe,se,le,ue,he,de,ce,pe,me,ge,Te,fe,ye,De,Se,be,Ce,ve,_e,Pe,Ae,we,Ve,xe,Ee,Ie,Re,Be,Le,Me,Fe,He,Oe,Ne,ke,D,We,Ge,Ue,ze,je,Ye,Xe,qe,Ke,Ze,Qe,Je,$e,et,tt,it,rt,at,nt,ot,st,lt,ut,ht,dt,ct,pt,mt,gt,Tt,ft,yt,Dt,St,bt,Ct,vt,_t,Pt,At,wt,Vt,xt,Et,It,Rt,Bt,Lt,b,Mt,Ft,Ht,Ot,Nt,kt,Wt,Gt,Ut,zt,jt,Yt,Xt,qt,Kt,Zt,Qt,Jt,$t,ei,ti,ii,ri,ai,ni,oi,si,li,ui,hi,di,ci,pi,mi,gi,Ti,fi,yi,Di,Si,bi,Ci,vi,_i,Pi,Ai,wi,Vi,xi,Ei,Ii,Ri,Bi,Li,Mi,Fi,Hi,Oi,Ni,ki,Wi,Gi,Ui,zi,ji,Yi,Xi,qi,Ki,Zi,Qi,Ji,$i,er,tr,ir,c,rr,ar,nr,or,sr,lr,ur,hr,dr,cr,pr,mr,gr,Tr,fr,yr,Dr,Sr,br,Cr,vr,_r,Pr,Ar,wr,Vr,xr,Er,Ir,Rr,Br,Lr,Mr,Fr,Hr,Or,Nr,kr,Wr,Gr,Ur,zr,jr,Yr,Xr,qr,Kr,Zr,Qr,Jr,$r,ea,ta,ia,ra,aa,na,oa,sa,la,ua,ha,da,ca,pa,ma,ga,Ta,fa,ya,Da,Sa,ba,Ca,va,_a,Pa,Aa,wa,Va,xa,Ea,Ia,s,Ra,Ba,La,Ma,Fa,Ha,Oa,_,Na,P,ka,Wa,Ga,Ua,za,ja,Ya,Xa,qa,Ka,Za,Qa,e,t,Ja,i=this&&this.__extends||(O=function(e,t){return(O=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)},function(e,t){function i(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),$a=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<i;t++)for(var n=arguments[t],o=0,s=n.length;o<s;o++,a++)r[a]=n[o];return r};function en(){this.eventCbs={onAxisMouseOver:null,onAxisMouseOut:null,onPan:null,onMouseOver:null,onMouseOut:null,onTouchStart:null},this.dialsForPan=!1,this.PADDING_X=8,this.PADDING_Y=4,this.lineWidth=1,this.straightDialPos={staticPosAttr:"",staticPos:0,dynamicPosAttr:"",dynamicPos:0,posChangeOperator:1,dialLength:0,secondaryScalePosFilter:"inner end",orientation:""},this.alwaysShowRecent=!0,this.labelWidth=0,this.labelHeight=0,this.MajorTickSize=5,this.MinimumLabelSpace=10,this.MinorTickSize=3,this.MinorTickCount=0,this.LabelToMajorTickSpace=4,this.LabelToBorderSpace=8,this.zoomInOutCount=0,this.defaultFeaturesUsed=!1,this.straightDials=[],this.templateAttrCollection=[],this.templateAttributes={},this.templateFeatures=[],this.divisionFeatures=[],this.autoMeasureFeatures=[],this.gridlineAttributes={length:0,offset:0,condition:!0},this.gridlines=[],this.ticksFeatures=[],this.labelsFeatures=[],this.fontFeatures=[],this.minorGridLines=[]}function tn(e,t){this._trendCount=0,this._axisCount=0,this._animateTimeAxes=!1,this._axisAnimIntervals=[],this._calculateRulerData=!1,this.RULER_DATA_CALCULATION_INTERVAL=1e3,this.TREND_ANIM_INTERVAL=16.67,this._timeAxisAnimators=[],this._animFrameRequestor=N.AnimFrameRequestor,this._trendsToAnimate={},this._axisRangesToAnimate={},this._frameDetails={},this._rulerDataCalculator=t,this._frameDetails.lastTrendOrVACall=this._frameDetails.frameRequestTime=this._frameDetails.lastRulerDataCalc=+Date.now(),this._frameDetails.frameRequested=!1,this._frameDetails.lastTimeAxisCalls=[],this._rtoid=e+"_"+this._frameDetails.frameRequestTime}function rn(){this.Attributes={},this.Features=new Array,this.defaults={}}function an(){this._trendMode=v.getChromEnum("HmiTrendMode"),this._scalingType=v.getChromEnum("HmiScalingType"),this._rangeTypeEnum=v.getChromEnum("HmiTimeRangeType"),this.thresholdDefault={BeginValue:0,Color:4278190080,DisplayName:"",ElementID:0,EndValue:0,Name:"",ThresholdMode:0,Type:0,Value:0},this.EXPO_POSITION_LIMIT=1e6,this._TICKS_PER_MILLISECOND=1e4,this._EPOCH_DIFFERENCE=116444736e5,this.templateTrendAttrCollection=[],this.templateTrendAttributes={},this.templateMarkerAttrCollection=[],this.templateMarkerAttributes={},this.thresholds=[],this.lastTime=[],this.clearTagListOnDataReceived=!1,this.linesCollection=[],this.qualityLinesCollection=[],this.qualityMarkerPositionsCollection=[],this.markerPositionsCollection=[],this.pointsToAnimate=[],this.dataSourceX={Tag:"",TagDisplayName:""},this.dataSourceY={Tag:"",TagDisplayName:""},this.dataSource={Tag:"",TagDisplayName:""},this.midMarkerURLsArray=[],this.boundingValue=null}function nn(){}function A(){var e=null!==W&&W.apply(this,arguments)||this;return e._rangeType=m.getChromEnum("HmiTimeRangeType"),e.dataSourceX={Tag:"",TagDisplayName:""},e.dataSourceY={Tag:"",TagDisplayName:""},e.yminValTemp=null,e.ymaxValTemp=null,e.xminValTemp=null,e.xmaxValTemp=null,e.numberOfPoints=0,e.numberOfDummyPoints=0,e.numberOfQualityPoints=0,e.numberOfQualityDummyPoints=0,e.translateX=0,e.translateY=0,e.qualityTranslate=0,e.xminVal=null,e.xmaxVal=0,e.yminVal=null,e.ymaxVal=0,e.linesCollection=[],e.markerPositionsCollection=[],e.qualityLinesCollection=[],e.qualityMarkerPositionsCollection=[],e.pointsToAnimate=[],e.lastTime=[],e.clearTagListBeforeTimeStamp=!1,e.clearTagListOnDataReceived=!1,e.thresholdFills=[],e.historicalDataRequested=!1,e.previousYTagValueTemp=null,e.previousXTagValueTemp=null,e.previousYTagQualityTemp=null,e.previousXTagQualityTemp=null,e.isStartTimeModified=!1,e.clearWarningFlashing=function(){this._trendLimitObj.clearWarningFlashing()},e.clearDangerFlashing=function(){this._trendLimitObj.clearDangerFlashing()},e.cleanUp=function(){var e;this.trendView.isStyleChange()?((e=new m.Data.TrendData(this.tagList,this.linesCollection,this.qualityLinesCollection,this.markerPositionsCollection,this.qualityMarkerPositionsCollection)).xMinVal=this.xminVal,e.xMaxVal=this.xmaxVal,e.yMinVal=this.yminVal,e.yMaxVal=this.ymaxVal,e.boundingValue=this.boundingValue,m.Data.TrendDataStore.store(this.partId,e)):this.clearTagList(),this.oldTagList=null,this.dom=this.metaData=this.Attributes=this._lastTrendPointCalculated=this.thresholdFills=this.midMarkerURLsArray=this.boundingValue=this.currentTagList=this.dataSourceXProp=this.dataSourceYProp=this.dataSourceX=this.dataSourceY=this.matrix=this.fillMatrix=this.qualityMatrix=this._currentXAxis=this._currentXAxis=this._lastPointAddedToPoints=null,this.cleanUpChildObj()},e}function r(e){this.trendAreaConfigs=[],this.allAreasDrawn=!1,this.trendAreas=[],this.pixelsInTrendAreas=0,this._drawableTrendAreas=[],this._drawableTrends=[],this._trends=[],this._validTrends=[],this._undrawnTrendData={},this._resubTimeoutID=null,this._invalidateCheckArray={},this._disconnectedDataSources={},this.initialized=!1,this.trendCompanion=!1,this.trendCompanionConstUpdate=!1,this.trendCompanionMode=null,this.moveAxes=!1,this.moveTrendArea=!1,this.isMoveButtonClicked=!1,this.zoomInOut=!1,this.zoomInOutX=!1,this.zoomInOutY=!1,this.zoomArea=!1,this.isZooming=!1,this.oneToOneView=!1,this.redrawForScrollbars=!1,this.yAxesScrollbar=!1,this.forceTimeAxisDrawn=!1,this.newlyDrawnTrendWindowIndex=null,this.layoutBalancerId=null,this.propertyUpdateInProgress=!1,this.modifiedProperty=[],this.dirtyList=[],this.zoomAxis=!1,this.beginTimePropertyChanged=!1,this.chart=e}function on(){var e=null!==U&&U.apply(this,arguments)||this;return e._xAxes=[],e._yAxes=[],e._updateObject={},e._getQualityCode=G.Utilities.getQualityOfValue,e.trendTagListsSaved=!1,e}function w(){this.drawableTrends=[],this.trends=[],this.bottomAxes=[],this.topAxes=[],this.rightAxes=[],this.leftAxes=[],this.templateStroke=!1,this.templateStrokeWidth=!1,this.vertGridTranslate=0,this.horizGridTranslate=0,this.trendCount=0,this._rect=null,this._horizontalElementsGroup=null,this._verticalElementsGroup=null,this._xAxisCollection=[],this._yAxisCollection=[],this._trendsCollection=[],this._displayValueRectFlag=!1,this._currentDragPoint={x:0,y:0},this._deltaX=0,this._deltaY=0,this._zoomRect=null,this._zoomRectStartPt=null,this._zoomXCount=0,this._zoomYCount=0,this._zoomScale=1,this._invertColor=T.Utilities.getInvertedColor,this.enableDisablePinchAndScroll=null,this.enableTrendAreaMove=null}function sn(e){this.trendObj=e}function a(){var e=null!==q&&q.apply(this,arguments)||this;return e._getQualityOfValue=C.Utilities.getQualityOfValue,e._maxDispVal="",e.hideToolTip=[!1,!1],e.dataSource={Tag:"",TagDisplayName:""},e.thresholds=[],e.trendIndicatorPoints="",e.dummyTrendIndicatorFill="",e.rulerContentWidth=0,e.rulerContentHeight=0,e.contentWidthModified=!1,e.contentHeightModified=!1,e.useOldStyle=!1,e.rulerPosition=0,e.prevPos=-1,e.matrix=null,e.dummyMatrix=null,e.fillMatrix=null,e.qualityMatrix=null,e.qualityDummyMatrix=null,e.translateX=0,e.translateY=0,e.qualityTranslate=0,e.numberOfPoints=0,e.numberOfDummyPoints=0,e.numberOfQualityPoints=0,e.numberOfQualityDummyPoints=0,e.thresholdFills=[],e.createPointsWithEndBound=!1,e.currentTagList=null,e.currentMarkerPositions=null,e.historicalDataRequested=!1,e.historicalDataReceived=!1,e.clearTagListBeforeTimeStamp=!1,e.clearTagListAfterTimeStamp=0,e.minVal=null,e.maxVal=null,e.defaults={},e}function n(){var e=null!==K&&K.apply(this,arguments)||this;return e._resetAnimationCounterOn=1,e.calculateStatistics=!1,e._timeAxes=[],e._valueAxes=[],e}function ln(){this.CURRENT_PROJ_VER=null,this._bounds=null,this._isLeftOrRight=!1,this._setAttributes=Z.Features.Shape.SvgShape.SetAttributes,this._defaultRulerProps=Z.Data.RulerConstProps,this._attr1=null,this._attr2=null,this._attr3=null,this._attr4=null,this._cursorType=null,this.HIGHLIGHT_WIDTH=12,this.RULER_BACK_LINE_WIDTH=4,this.STROKE_OPACITY=.4,this._rulerDirEnum=Z.Data.RulerDirection,this._rulerTypeEnum=Z.Data.RulerType,this._rulerWidth=1,this._showLabel=!0,this._direction=null,this._rulerType=null,this._handleWidth=0,this._handleHeight=0,this._handleCornerRad=0,this._singleCharWidth=-1,this._oldValueAxisValue="00",this._minMaxLabel="",this._minMaxLabelValue="",this._rulerTemplate=null,this.templateStroke=!1,this.templateStrokeWidth=!1,this.rootNodeHeight=0,this.rootNodeWidth=0,this.paddingX=18+this._defaultRulerProps.rulerLeftRightPadding,this.paddingY=10,this._topBottomPaddingFactor=this._defaultRulerProps.topBottomPaddingFactor,this.height2ndRow=0,this.contentWidth=0,this.contentHeight=0,this.contentWidthModified=!1,this.contentHeightModified=!1,this.rulerPosition=0,this.useOldStyle=!1,this.prevPos=0,this._rulerAttr={id:"",start:0,end:0,pos:0,percOfPos:0},this.associatedAxis=null,this.labelHeight=0,this.labelWidth=0,this._rulerElementsGroup=null,this._rulerDummyLine=null,this._rulerBckGrndLine=null,this._handleArrow=null,this._rulerText=null,this._rulerDispDetails={positionOnAxis:0,rulerPosition:0},this._rulerRect=null,this._handleRect=null,this._handleInnerRect=null,this._isRulerAddedToDOM=!1,this._rulerLine=null,this._handleArrowBckGrnd=null}function o(e,t,i){this._onlineTrendControl=S.Data.TrendObjectType.Online,this._setAttributes=S.Features.Shape.SvgShape.SetAttributes,this._movingRuler=null,this._movingRulerAttr=null,this.HIGHLIGHT_WIDTH=12,this.panDeltaCoords={x:0,y:0},this.minMaxTextBBox={width:0,height:0},this._bounds={left:0,right:1,top:2,bottom:3,height:4,width:5},this._moveStatus=!1,this._updateMinMaxRulerPosition=function(){var e;this._rulerMinEnabled&&((e=this._rulerMin.getRulerAttr()).pos=this._trendWindow.selectedTrend.currentYAxis.getPositionFromValue(this._rulerMin.thresholdValue),this._getPercFromPos(e),this._rulerMin.setRulerAttrPos(e)),this._rulerMaxEnabled&&((e=this._rulerMax.getRulerAttr()).pos=this._trendWindow.selectedTrend.currentYAxis.getPositionFromValue(this._rulerMax.thresholdValue),this._getPercFromPos(e),this._rulerMax.setRulerAttrPos(e))},this._invertColor=S.Utilities.getInvertedColor;var r=S.Data.RulerDataStore.retrieve(t.config.ElementID);this._trendView=e,this._trendWindow=t,this._id=i,this._init(),r&&(this._ruler1.setRulerAttrPos(r._ruler1),this._rulerMin.setRulerAttrPos(r._rulerMin),this._rulerMax.setRulerAttrPos(r._rulerMax),this._trendView.trendObjectType===S.Data.TrendObjectType.Function?this._rulerHoriz.setRulerAttrPos(r._rulerHoriz):(this._rulerStat1.setRulerAttrPos(r._rulerStat1),this._rulerStat2.setRulerAttrPos(r._rulerStat2)))}function un(e,t,i){this.thresholdModeType=Q.getChromEnum("HmiThresholdMode"),this.parentLimits=t,this.propThreshold=i,this.name=i.Name,this.thresholdMode=i.ThresholdMode||this.thresholdModeType.Normal,this.value=i.Value,this.partId=i.ElementID,this.endValueUndefined=!1,this.beginValueUndefined=!1,this.thresholdMode===this.thresholdModeType.Minimum?this.beginValue=-1/0:(this.beginValue=i.BeginValue,void 0===i.BeginValue&&(this.beginValueUndefined=!0)),this.color=Q.getRGBAcolor(i.Color),this.displayName=i.DisplayName,this.thresholdMode===this.thresholdModeType.Maximum?this.endValue=1/0:(this.endValue=i.EndValue,void 0===i.EndValue&&(this.endValueUndefined=!0)),this.prev=null,this.next=null,this.type=null,this.thresholdMode===this.thresholdModeType.Normal?(this.markerId="thresholdMarker_"+this.thresholdMode+"_"+e,this.isNormal=!0):(this.markerId="thresholdMarker_"+this.thresholdMode+"_"+this.partId+"_"+e,this.isNormal=!1),this.addingToThreshold=!1,this.addingToThresholdBegin=!1,this.fill=this.color}function hn(){}function h(){var e=null!==J&&J.apply(this,arguments)||this;return e._deltaPos=0,e._currentDragPoint={x:0,y:0},e.TICKS_PER_MILLISECOND=1e4,e.LEFT_CLICK=1,e.RIGHT_CLICK=3,e.THOUSAND_MS=1e3,e.RIGHT_ANGLE=90,e.EPOCH_DIFFERENCE=116444736e5,e._animatingInvalidation=!1,e.translate=0,e.straightDialCount=3,e._rangeType=d.getChromEnum("HmiTimeRangeType"),e.templateAttributes={},e.defaults={},e.timeAxisDrawn=!0,e.ribbons=[],e.isPointCountForceAnim=!1,e}function dn(e){this._addingToUncertainQuality=!1,this._addingToUncertainQualityBegin=!1,this._addingToBadQuality=!1,this._addingToBadQualityBegin=!1,this._curThreshold=null,this.trendObj=e}function l(e,t,i,r){this._svgParent=null,this._eventFocusElements=null,this._innerRect=null,this._svgPoint=null,this.LEFT_CLICK=1,this.RIGHT_CLICK=3,this.RIGHT_CLICK_KEYCODE=2,this.SINGLE_TAP_TIME=150,this._rightClickObj={point:{},timeStamp:0},this._currentDragPoint={x:0,y:0},this._zoomInCursorPath=null,this._zoomOutCursorPath=null,this._toolTippedTrend=null,this._rulerEvents=!1,this._moveTrendAreaEvents=!1,this._mouseScrollEvents=!1,this._moveTrendAreaStatus=!1,this._lastMousePositionX=0,this._lastMousePositionY=0,this._rulerMoveStatus=!1,this._hammerEvents=te.Data.HammerEvents,this._isToolTipShown=!1,this._previousScale=0,this.MIN_ZOOM_SCALE_DIFF=.05,this.SCROLLBAR_WIDTH=17,this.SCROLLBAR_ENDVALUE=500,this.SCROLLBAR_BEGINVALUE=0,this.SCROLL_STEPS=100,this._targetParentId=null,this._isTouchEnabled=!1,this._eventCbs={onTrendWindowMouseMove:null,onTrendWindowMouseUp:null,onTrendWindowMouseDown:null,onTrendWindowMouseLeave:null,onEvent:null,onPan:null,onPanStart:null,onSingleTap:null,twoFingerSingleTap:null,onPinch:null},this._trendView=e,this._trendWindow=t,this._trendWindowId=i,this._ruler=r}function V(){var e=null!==ie&&ie.apply(this,arguments)||this;return e._deltaX=0,e._deltaY=0,e.LEFT_CLICK=1,e.RIGHT_CLICK=3,e._currentDragPoint={x:0,y:0},e.requiredFeature=[],e.trendIndicatorRectClippathIds={},e.moveToPerc=null,e.maxAllowedValue=1e307,e.minAllowedValue=1e-307,e.straightDialCount=1,e._animationSteps=1,e._axisWidth=0,e._axisBufferWidth=0,e._bufferString="00",e._lowerBoundAxisWidth=0,e._animatingInvalidation=!1,e.maxScaleLimit=1e307,e.minScaleLimit=-1e307,e.decimalPrecision=2,e.templateAttributes={},e.defaults={},e}function cn(e){this.trendObj=e}function pn(e){this.color=e}function mn(e,t){var o=this;this.getCellColor=function(e,t,i,r,a){void 0===a&&(a=!0);var n=0;return o.getter(e,t),a&&(n=o.metaData.configuration.ColoringMode===o.coloringMode.Rows?r:o.metaData.configuration.ColoringMode===o.coloringMode.Columns?i:0,o.metaData.helper.isEven(n)||(o.emptyCellColor.Back=o.emptyCellColor.AlternateBack,o.emptyCellColor.Fore=o.emptyCellColor.AlternateFore)),o.emptyCellColor},this.setFunction=function(){o.metaData.configuration.ColoringMode===o.coloringMode.None?o.getter=o.calEmptyCellColorModeNone.bind(o):o.getter=o.calEmptyCellColor.bind(o)},this.mergedColumnColors=[],this.metaData=e,this.coloringMode=t,this.emptyCellColor=new ne.Colors,this.setFunction()}function gn(){}function Tn(e){this.items=[],this.listType=e}function fn(e,t,i){var n=this;this.acceptOnFocusOut=!1,this.clearEdit=function(e){n.data.tableProps.latestProjectVersion?(n.acceptOnFocusOut&&(n.inProgress=!1,null===n.cell.rootItem.RootFocusManager.currentFocusArea&&n.cell.rootItem.RootFocusManager.setFocus(),n.cell.rootItem.RootFocusManager.moveFocus(8)),n.cell.setDataContent({IsEditing:!1}),n.cell.setDataContent({OutputFormat:""}),n.cell.setDataContent({MinimumValue:""}),n.cell.setDataContent({MaximumValue:""}),n.cell.update()):(e&&n.textFieldNve.focusOut(),n.editGroup&&n.editGroup.parentNode&&n.data.dataTemplateGroup.parentNode.removeChild(n.editGroup),n.textFieldNve&&(n.textFieldNve.onValueChanged=null)),n.inProgress=!1,n.cellIndex=-1,n.rowIndex=-1,n.cell=null},this.initTextField=function(e,t){var i=n.data.configuration.Font,r=n.getDimension(),a=n.getPos(),i=(n.createParentDom(a,r),n.createBackGroundRect(r),a=new ue.Features.Font,n.textFieldNve||(n.textFieldNve=new ue.TextField,a.Attributes.name=i.Name,a.Attributes.size=i.Size,a.Attributes.italic=i.Italic,a.Attributes["strike-out"]=i.StrikeOut,a.Attributes.underline=i.Underline,a.Attributes.weight=i.Weight,n.textFieldNve.Features.push(a),n.textFieldNve.Attributes.height=r.height,n.textFieldNve.Attributes.target=" "),n.textFieldNve.Attributes.width=r.width,n.textFieldNve.Attributes.value=e.value,n.isDateTime||(n.textFieldNve.Attributes["output-format"]=t),n.textFieldNve.onValueChanged=n.onValueChanged.bind(n),n.textFieldNve.create(n.item));return n.editGroup.appendChild(i),i.getElementsByTagName("rect")[0]},this.getPos=function(){var e=n.rowIndex*n.data.tableProps.cellHeight+n.data.tableProps.headerHeight+n.data.tableProps.topBorder/2;return{x:n.data.tableProps.leftBorder/2+n.data.helper.getColumnWidthTillIndex(n.cellIndex-1)+n.data.tableProps.rowHeaderWidth,y:e}},this.getDimension=function(){return{height:n.data.configuration.RowHeight,width:n.data.helper.getColumnWidthByIndex(n.cellIndex)}},this.createDatePicker=function(e,t,i){"number"==typeof e?(r=window.DatePrecise([NaN,0])).setMilliseconds(NaN):r=window.DatePrecise(e);var r,e={type:ue.format2Type(t),defaultDate:r,callback:n.dateChanged.bind(n),timeZonePreference:i};n.item.Store.gfxWebLib.dialogs.showDateTimePicker(n.item.Store,e)},this.dateChanged=function(e,t,i){t=window.DatePrecise(t).getTime();n.onValueChanged("",t)},this.isInProgress=function(){return n.inProgress},this.isEditedCell=function(e){var t;return!(!n.inProgress||(t=n.data.helper.getColumnIndexByXpos(e.x),e=n.data.helper.getRowIndexByYpos(e.y),n.cellIndex!==t)||n.rowIndex!==e)},this.cleanup=function(){n.clearEditing(!0),n.backgroundRect=null,n.editGroup=null,n.textFieldNve=null,n.hostcallBack=null,n.data=null,n.item=null},this.item=e,this.data=t,this.hostcallBack=i,this.oldValue="",this.outputFormat="",this.timeZoneIndex=-1,this.inProgress=!1,this.cellIndex=-1,this.rowIndex=-1,this.isDateTime=!1,this.isTimespan=!1}function u(e,t){this.SIZE_FACTOR=18,this.HIGHLIGHTER_HEADERLINE_GROUP="highlighterHeaderLineGroup",this.isEditInProgress=!1,this.data=e,this.item=t,this.data.selection=new ce.Selection(e,t),this.prevClickedHeaderIndex=-1,this.oldIndex=-1,this.prevClickedRowIndex=-1,this.swipeStarted=!1,this.wheelEvtAdded=!1,this.data.callBacks.fireSelection=this.fireSelection.bind(this)}function yn(){this.vBeginExpHeader=null,this.vBeginExpInner=null,this.vEndExpHeader=null,this.vEndExpInner=null,this.vHeaderExpHeader=null,this.vHeaderExpInner=null,this.vInnerExpInner=[],this.vInnerExpHeader=[],this.hHeaderLines=[],this.hBeginExpHeader=null,this.hBeginExpInner=null,this.hEndExpHeader=null,this.hEndExpInner=null,this.hInnerExpInner=[],this.hInnerExpHeader=[],this.hHeaderExpHeader=null,this.hHeaderExpInner=null,this.vInnerLineIndex=[],this.hInnerLineIndex=[],this.vHeaderLineIndex=[],this.hHeaderLineIndex=[],this.hasVerticalLines=!1,this.hasHorizontalLines=!1,this.topBorder=0,this.bottomBorder=0,this.leftBorder=0,this.rightBorder=0}function Dn(){this.inBackgroundGridLines=null,this.onTopGridLines=null,this.onColumnsGridLines=null,this.onRowColumnGridLines=null,this.onColumnsGroup=null,this.onRowsColumnsGroup=null,this.inBackgroundGroup=null,this.onTopGroup=null}function Sn(){this.tableProps=new me.TableProps,this.viewport=new me.Viewport(this.tableProps),this.lineConfigurations=new me.GridLinesConfigurations,this.gridLineLayer=new me.GridLineLayer,this.selectionDetail=new me.SelectionDetails,this.helper=new me.Helper(this.viewport,this.tableProps),this.featureList={},this.columnConfig=[],this.callBacks=[],this.timerRef=-1,this.instanceID=""}function bn(e,t){var r=this;this.isDragAutoSelection=function(e,t){var t=t.y-r.tableProps.headerHeight,i={isValid:!1,isDragAutoSelection:!1,direction:"  "};return-1===e?(i.isDragAutoSelection=!0,i.isValid=!0,i.direction="up"):(e+=r.viewport.getStartIndex())<r.tableProps.totalRecords&&Math.ceil(t)>r.viewport.getSize()*r.tableProps.cellHeight-r.viewport.halfRowHeight&&(i.isDragAutoSelection=!0,i.direction="down",i.isValid=!0),i},this.viewport=e,this.tableProps=t}function Cn(e,t,i){this.sections=e,this.poles=t,this.structureElement=i}function vn(e,t,i){this.dirtyList=new Array,this.defs=e,this.isVertical=t,this.NVE=i}function _n(){}function Pn(e,t){var r=this;this.autoSelectionOnDrag=function(e){var t=fe.Utilities.getDataProvider(r.item,r.gridMetadata.instanceID),i=(r.selectedRowIndex=r.gridMetadata.selectionDetail.getSelection().rowIndex,r.get());"down"===e.direction?(r.selectedRowIndex++,r.gridMetadata.viewport.getEndIndex()+(r.gridMetadata.viewport.hasHalfRow?1:0)<=r.gridMetadata.tableProps.totalRecords?(r.gridMetadata.viewport.setStartIndex(r.gridMetadata.viewport.getStartIndex()+1),r.gridMetadata.viewport.setEndIndex(r.gridMetadata.viewport.getEndIndex()+1),r.gridSelectionMode.Multi===r.gridMetadata.configuration.GridSelectionMode?(r.handleShiftSelection(!1),r.gridMetadata.callBacks.fireSelection(null,i,!0)):r.gridSelectionMode.Single===r.gridMetadata.configuration.GridSelectionMode&&(r.handleSingleSelection(),r.gridMetadata.callBacks.fireSelection(null,i)),t.setVisibleDataRange(r.gridMetadata.viewport.getStartIndex(),r.gridMetadata.viewport.getEndIndex()),r.gridMetadata.callBacks.dragAutoSelect("down")):-1!==r.timerRef&&(clearInterval(r.timerRef),r.timerRef=-1)):0<r.gridMetadata.viewport.getStartIndex()?(r.gridMetadata.viewport.setStartIndex(r.gridMetadata.viewport.getStartIndex()-1),r.gridMetadata.viewport.setEndIndex(r.gridMetadata.viewport.getStartIndex()+(r.gridMetadata.viewport.getSize()-1)),r.gridSelectionMode.Multi===r.gridMetadata.configuration.GridSelectionMode?(r.handleShiftSelection(!1),t.setVisibleDataRange(r.gridMetadata.viewport.getStartIndex(),r.gridMetadata.viewport.getEndIndex()),r.gridMetadata.callBacks.fireSelection(null,i,!0)):r.gridSelectionMode.Single===r.gridMetadata.configuration.GridSelectionMode&&(r.handleSingleSelection(),t.setVisibleDataRange(r.gridMetadata.viewport.getStartIndex(),r.gridMetadata.viewport.getEndIndex()),r.gridMetadata.callBacks.fireSelection(null,i)),r.gridMetadata.callBacks.dragAutoSelect("up")):-1!==r.timerRef&&(clearInterval(r.timerRef),r.timerRef=-1)},this.gridMetadata=e,this.item=t,this.timerRef=-1}function An(){this.selectAll=!1,this.selectedColumnIndex=-1,this.selectedRowIndices=[],this.selectedRowIndex=-1,this.selectedCells=[],this.shiftSelection={rowStartIndex:-1,rowEndIndex:-1,columnStartIndex:-1,columnEndIndex:-1,startIndex:-1,endIndex:-1,colStart:-1,colEnd:-1,viewportIndex:-1,indices:[],cellIndices:[]},this.unselectedColumnIndex=-1,this.unselectedCellIndices=[],this.unselectedRowIndex=-1,this.lastSelectedColIndex=-1}function wn(e,t,i,r,a,n,o){if(this.activeDomNodes=new Array,this.freeDomNodes=new Array,a&&n){var s=o?o.length:0;this.tagName=n.tagName,this.parentNode=t,this.createFunction=i||n.createFunction,this.recycleFunction=r||n.recycleFunction;for(var l=0;l<s;l++)this.activeDomNodes.push(o[l])}else this.tagName=e,this.parentNode=t,this.createFunction=i,this.recycleFunction=r}function Vn(){this.x=0,this.y=0,this.startX=0,this.startY=0,this.cellHeight=0,this.width=0,this.height=0,this.rowHeaderWidth=0,this.totalRecords=0,this.headerHeight=0,this.vHeaderWidth=0,this.hHeaderWidth=0,this.hasColumnHeader=!1,this.hasRowHeader=!1,this.hasHorScollBar=!1,this.horScrollBarHeight=0,this.leftBorder=0,this.rightBorder=0,this.topBorder=0,this.bottomBorder=0,this.alwaysShowRecent=!0,this.allowRowHeaderResize=!1,this.isRowHeaderAction=!1,this.isRowHeaderActionAllowed=!1,this.DEF_ROW_CHAR_COUNT=5,this.defaultSortDirection=1,this.changeHorizontalPosX=!1,this.latestProjectVersion=!0,this.horizontalScrollbarVisibility=0,this.verticalScrollbarVisibility=0,this.defaultCharWidth=0,this.rowHeaderCharCount=0,this.MAJOR_VERSION=17}function xn(e){var r=this;this.loadHalfRow=!0,this.getColumnIndexByActualIndex=function(e){for(var t=r.totalColumns.length,i=0;i<t;i++)if(r.totalColumns[i].Index===e)return i;return-1},this.getColumnIndexHavingActualIndex=function(e){for(var t=r.totalColumns.length,i=0;i<t;i++)if(r.totalColumns[i].ActualIndex===e)return i;return-1},this.recordCount=0,this.endIndex=0,this.size=0,this.startIndex=0,this.visibleColumns=[],this.autocompleteColumnVisible=!1,this.totalColumns=[],this.totalColumnWidth=0,this.isLastColVisible=!1,this.columnStartIndex=-1,this.columnEndIndex=-1,this.hasHalfRow=!1,this.halfRowHeight=0,this.isScrolled=!1,this.displayedRowCount=0,this.scrolledTillEnd=!1,this.tableProps=e}t=(t=e=e||{}).Lib||(t.Lib={}),t=(p=t.NVEs||(t.NVEs={})).ChartElements||(p.ChartElements={}),en.prototype.updateStraightDialAttributes=function(e){for(var t=0;t<this.straightDialCount;t++)this.straightDials[t].Attributes.length=this.straightDialPos.dialLength,this.straightDials[t].Attributes.orientation=this.straightDialPos.orientation,this.straightDials[t].Attributes[this.straightDialPos.dynamicPosAttr]=e+t*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength,this.straightDials[t].Attributes[this.straightDialPos.staticPosAttr]=this.straightDialPos.staticPos},en.prototype.createStraightDial=function(e){for(var t=0;t<this.straightDialCount;t++)this.straightDials[t].Attributes.length=this.straightDialPos.dialLength,this.straightDials[t].Attributes[this.straightDialPos.dynamicPosAttr]=e+t*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength,this.straightDials[t].Attributes[this.straightDialPos.staticPosAttr]=this.straightDialPos.staticPos,this.straightDials[t].create(this.trendView.RTPUItem)},en.prototype.updateStraightDialPos=function(e,t,i,r,a){return r=this.textOrientation===p.Data.TextOrientation.FromRight||this.textOrientation===p.Data.TextOrientation.FromLeft?(this.straightDialPos.dialLength=e.width=this.innerRect.width,this.straightDialPos.dynamicPos=e.left=this.innerRect.left,t=i.height,this.align===this.trendView.alignmentEnum.Top?(this.straightDialPos.staticPos=this.innerRect.top+this.innerRect.height,e.top=this.innerRect.top,e.height=i.top+t-this.innerRect.top):(this.straightDialPos.staticPos=this.innerRect.top+this.lineWidth,e.top=i.top,e.height=this.innerRect.top+this.innerRect.height-i.top),i.top-this.straightDialPos.staticPos):(this.straightDialPos.dialLength=e.height=this.innerRect.height,this.straightDialPos.dynamicPos=e.top=this.innerRect.top,t=i.width,this.align===this.trendView.alignmentEnum.Left?(this.straightDialPos.staticPos=this.innerRect.left+this.innerRect.width,e.left=this.innerRect.left,e.width=i.left+t-this.innerRect.left):(this.straightDialPos.staticPos=this.innerRect.left+this.lineWidth,e.left=i.left,e.width=this.innerRect.left+this.innerRect.width-i.left),i.left-this.straightDialPos.staticPos),{gridlineLength:t,offset:r,dynamicPos:this.dialsForPan?this.straightDialPos.dynamicPos+-this.boundingDialsForPanCount*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength:this.straightDialPos.dynamicPos}},en.prototype.getTrends=function(e){for(var t,i=[],r=[],a=(i=e?this.parentTrendWindow.trends:this.parentTrendWindow.drawableTrends).length,n=0;n<a;n++)t=i[n],(this.axisType===this.trendView.axisTypeEnum.xAxis?t.getXAxis():t.getYAxis())===this.config.Name&&r.push(t);return r},en.prototype.applyTemplateProperties=function(){},en.prototype.addFeaturesAndAttributes=function(e,t){var i,r,a;for(i in t)this.templateAttributes[i]=t[i];if(this.templateAttrCollection.push(t),0<(r=e.length))if(1===r&&e[0]instanceof p.Features.AreaGridlines)this.gridlineFeature=e[0];else for(this.templateFeatures=e,a=r-1;0<=a;a--)if(e[a]instanceof p.Features.AreaGridlines){this.gridlineFeature=e[a];break}},en.prototype.addFeatures=function(e,t,i){for(var r,a,n=e.length,o=t,s=0;s<n;s++)(r=e[s])instanceof p.Features.AreaGridlines||(a=new r.constructor,o.Features.push(a),a.Parent=o,a.Attributes=r.Attributes,r instanceof p.Features.Structure.Division?this.divisionFeatures.push(a):r instanceof p.Features.Structure.AutoMeasure?i||this.autoMeasureFeatures.push(a):r instanceof p.Features.Shape.Ticks?this.ticksFeatures.push(r):r instanceof p.Features.Shape.Labels&&this.labelsFeatures.push(r),r.Features&&0<r.Features.length&&this.addFeatures(r.Features,a))},en.prototype.updateGridlineVisibility=function(){for(var e=0;e<this.gridlines.length;e++){var t=this.gridlines[e].dom;t&&(this.gridlineAttributes.condition?t.setAttributeNS(null,"visibility","inherit"):t.setAttributeNS(null,"visibility","hidden"))}},en.prototype.cleanScale=function(e){var t,i;for(this.gridlines=[],this.ticksFeatures=[],this.labelsFeatures=[],this.divisionFeatures=[],this.autoMeasureFeatures=[],this.fontFeatures=[],this.gridlineAttributes={length:this.gridlineAttributes.length,offset:this.gridlineAttributes.offset,condition:this.gridlineAttributes.condition},this.gridlineFeature=null,t=0;t<e;t++)(i=this.straightDials[t].Features[0]).remove(),i.Features=[];this.templateAttributes={},this.templateFeatures=[],this.templateAttrCollection=[]},en.prototype.enableAxesMove=function(){this.axisRect&&this._hammerMan&&(this._hammerMan.on(p.Data.HammerEvents.PAN,this.eventCbs.onPan),p.Features.Shape.SvgShape.AddSvgEvents(this.axisRect,{touchstart:this.eventCbs.onTouchStart,mouseover:this.eventCbs.onAxisMouseOver,mouseout:this.eventCbs.onAxisMouseOut}))},en.prototype.disableAxesMove=function(e,t){this.axisRect&&this._hammerMan&&(this._hammerMan.handlers.hasOwnProperty(p.Data.HammerEvents.PAN)&&this._hammerMan.off(p.Data.HammerEvents.PAN,this.eventCbs.onPan),p.Features.Shape.SvgShape.RemoveSvgEvents(this.axisRect,{touchstart:this.eventCbs.onTouchStart,mouseover:this.eventCbs.onAxisMouseOver,mouseout:this.eventCbs.onAxisMouseOut}),-1<this.config.Type.indexOf("time")?this.dialsForPan&&this.toggleDialsForPan():!1===e&&(0!==this.zoomInOutCount||void 0!==t&&-1!==t.tryAdd(this.config.Name)||this.invalidate(),this.endValueBuffer2)&&(this.endValueBuffer=this.endValueBuffer2,this.startValueBuffer=this.startValueBuffer2,this.endValueBuffer2=null,this.startValueBuffer2=null))},en.prototype.toggleDialsForPanWrapper=function(e){this.toggleDialsForPan=e},en.prototype._onAxisMouseOver=function(e){switch(this.axisType){case this.trendView.axisTypeEnum.xAxis:this.svgParent.style.cursor=this.trendView.isLeftOrRight()?"w-resize":"s-resize";break;case this.trendView.axisTypeEnum.yAxis:this.svgParent.style.cursor=this.trendView.isLeftOrRight()?"s-resize":"w-resize"}},en.prototype._onAxisMouseOut=function(e){this.svgParent.style.cursor="Default"},en.prototype.update=function(){var e,t,i,r,a,n,o=this.parentTrendWindow.getRect(),s={left:0,height:0,top:0,width:0},l=(l=this.id+"clippath").replace(/\s+/g,"");if(this.config.Visible){if((l=this.trendView.SVGParent.getElementById(l)||p.Features.Shape.SvgShape.getElementByIDSafariHack(this.trendView.SVGParent,"clipPath",l)).removeChild(l.lastChild),t=(o=this.updateStraightDialPos(s,t,o,0,n)).gridlineLength,e=o.offset,n=o.dynamicPos,this.isTimeAxis&&this.defaultFeaturesUsed)for(i=Math.floor(this.straightDialPos.dialLength/(1.5*this.bBoxText.width)),a=this.divisionFeatures.length,r=0;r<a;r++)this.divisionFeatures[r].Attributes.count=i;if(this.gridlineFeature&&(this.gridlineAttributes.length=t,this.gridlineAttributes.offset=e,0<this.minorGridLines.length)&&this.updateMinorGridLine(),p.Features.Shape.SvgShape.CreateSvgElement("rect",{x:s.left,y:s.top,width:s.width,height:s.height,appendTo:l}),p.Features.Shape.SvgShape.SetAttributes(this.axisRect,{rect:this.rect}),l=null,this.isTimeAxis)this.calculateAndUpdate(!0);else if(!1===this.calculateAndUpdate(!0))return!1;this.createStraightDial(n),0<this.config.DisplayName.trim().length&&this.drawAxisLabel()}else{if(this.textOrientation===p.Data.TextOrientation.FromRight||this.textOrientation===p.Data.TextOrientation.FromLeft?(this.straightDialPos.dialLength=s.width=this.innerRect.width,this.straightDialPos.dynamicPos=s.left=this.innerRect.left,this.align===this.trendView.alignmentEnum.Top?this.straightDialPos.staticPos=this.innerRect.top+this.innerRect.height:this.straightDialPos.staticPos=this.innerRect.top+this.lineWidth):(this.straightDialPos.dialLength=s.height=this.innerRect.height,this.straightDialPos.dynamicPos=s.top=this.innerRect.top,this.align===this.trendView.alignmentEnum.Left?this.straightDialPos.staticPos=this.innerRect.left+this.innerRect.width:this.straightDialPos.staticPos=this.innerRect.left+this.lineWidth),n=this.dialsForPan?this.straightDialPos.dynamicPos+-this.boundingDialsForPanCount*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength:this.straightDialPos.dynamicPos,this.isTimeAxis)this.calculateAndUpdate(!0);else if(!1===this.calculateAndUpdate(!0))return!1;this.createStraightDial(n)}return!0},en.prototype.pixelRangeToValueRange=function(e){var t=this.getValueFromPosition(0),e=this.getValueFromPosition(e);return Math.abs(e-t)},en.prototype.getPos=function(e){return{x:e.pointers[0].pageX,y:e.pointers[0].pageY}},en.prototype.initHammer=function(){this.Hammer=this.trendView.Hammer,this.Hammer&&(this.unInitHammer(),this._hammerMan=new this.Hammer.Manager(this.axisRect),this._hammerMan.add(new this.Hammer.Pan({event:p.Data.HammerEvents.PAN,pointers:1,direction:this.Hammer.DIRECTION_ALL,threshold:5})))},en.prototype.unInitHammer=function(){this._hammerMan&&(this._hammerMan.destroy(),this._hammerMan=null)},en.prototype.draw=function(){var e,t,i,r,a,n,o;if(void 0===this.dom?(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g"),this.dom.setAttributeNS(null,"id",this.id+"_group")):this.displayNameSvg&&(this.dom.removeChild(this.displayNameSvg),this.displayNameSvg=null),void 0===this.translateDom)this.translateDom=document.createElementNS("http://www.w3.org/2000/svg","g"),this.translateDom.setAttributeNS(null,"id",this.id+"_translateGroup");else for(;this.translateDom.firstChild;)this.translateDom.removeChild(this.translateDom.firstChild);if(void 0===this.axisRect&&(this.axisRect=p.Features.Shape.SvgShape.CreateSvgElement("rect",{id:this.id+"_eventRect","data-tif-id":this.id,"fill-opacity":0,"stroke-width":0,"stroke-opacity":1,class:"lineColorClass"})),p.Features.Shape.SvgShape.SetAttributes(this.axisRect,{rect:this.rect}),o=this.parentTrendWindow.getRect(),a=(o=this.updateStraightDialPos(r={left:0,height:0,top:0,width:0},void 0,o,0,void 0)).gridlineLength,e=o.offset,o=o.dynamicPos,this.updateStraightDialAttributes(o),this.isTimeAxis&&this.defaultFeaturesUsed)for(n=Math.floor(this.straightDialPos.dialLength/(1.5*this.bBoxText.width)),t=this.divisionFeatures.length,i=0;i<t;i++)this.divisionFeatures[i].Attributes.count=n;if(this.gridlineFeature&&(this.gridlineAttributes.length=a,this.gridlineAttributes.offset=e,0<this.minorGridLines.length)&&this.updateMinorGridLine(),this._clipPathId=this.id+"clippath",this._clipPathId=this._clipPathId.replace(/\s+/g,""),o=p.Features.Shape.SvgShape.CreateSvgElement("defs"),a=p.Features.Shape.SvgShape.CreateSvgElement("clipPath",{id:this._clipPathId,appendTo:o}),p.Features.Shape.SvgShape.CreateSvgElement("rect",{x:r.left,y:r.top,width:r.width,height:r.height,appendTo:a}),this.svgParent.appendChild(o),0,this._clipPathId="url(#"+this._clipPathId+")",this.dom.setAttributeNS(null,"clip-path",this._clipPathId),this.isTimeAxis)this.calculateAndUpdate(!0,!0);else if(!1===this.calculateAndUpdate(!0,!0))return!1;for(i=0;i<this.straightDialCount;i++)this.translateDom.appendChild(this.straightDials[i].create(this.trendView.RTPUItem));for(this.isTimeAxis&&((this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.parentTrendWindow.updateRulerLabel(this),this.setTranslatableFeatures()),t=this.gridlines.length,i=0;i<t;i++){var s=this.gridlines[i];!s.idSet&&s.dom&&(s.dom.setAttributeNS(null,"id",this.gridlinesGroupId+i),s.idSet=!0)}for(this.setMinorGridLinesGroupId(),t=this.ticksFeatures.length,i=0;i<t;i++){var l=this.ticksFeatures[i];!l.idSet&&l.dom&&(l.dom.setAttributeNS(null,"id",this.ticksGroupId+i),l.idSet=!0)}for(t=this.labelsFeatures.length,i=0;i<t;i++){var u=this.labelsFeatures[i];!u.idSet&&u.dom&&(u.dom.setAttributeNS(null,"id",this.labelsGroupId+i),u.idSet=!0)}return this.trendView.Hammer&&this.trendView.enabled&&this.initHammer(),this.trendView.isOnline()&&this.alwaysShowRecent||!this.isTimeAxis?this.trendView.moveAxes&&!this.isTimeAxis&&this.enableAxesMove():this.trendView.moveAxes&&this.enableAxesMove(),this.dom.appendChild(this.translateDom),this.dom.appendChild(this.axisRect),0<this.config.DisplayName.length&&this.drawAxisLabel(),this.svgParent.appendChild(this.dom),!0},en.prototype.drawInvisibleAxis=function(){var e,t;for(this.textOrientation===p.Data.TextOrientation.FromRight||this.textOrientation===p.Data.TextOrientation.FromLeft?(this.straightDialPos.dialLength=this.innerRect.width,this.straightDialPos.dynamicPos=this.innerRect.left,this.align===this.trendView.alignmentEnum.Top?this.straightDialPos.staticPos=this.innerRect.top+this.innerRect.height:this.straightDialPos.staticPos=this.innerRect.top+this.lineWidth):(this.straightDialPos.dialLength=this.innerRect.height,this.straightDialPos.dynamicPos=this.innerRect.top,this.align===this.trendView.alignmentEnum.Left?this.straightDialPos.staticPos=this.innerRect.left+this.innerRect.width:this.straightDialPos.staticPos=this.innerRect.left+this.lineWidth),t=this.dialsForPan?this.straightDialPos.dynamicPos+-this.boundingDialsForPanCount*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength:this.straightDialPos.dynamicPos,this.updateStraightDialAttributes(t),this.isTimeAxis&&this.calculateAndUpdate(!0,!0),e=0;e<this.straightDialCount;e++)this.straightDials[e].create(this.trendView.RTPUItem);return!(!this.isTimeAxis&&!1===this.calculateAndUpdate(!0,!0))},en.prototype.updateProperty=function(e,t){var i,r,a,n,o=!0,s=!1,l=p.Data.AxisPropId,u=p.Data.LabelFont,h=p.Data.ScaleMode;switch(e){case l.LabelFontName:case l.LabelFontUnderline:case l.LabelFontItalic:case l.LabelFontStrikeOut:i=u[e],this.config.LabelFont[i]=t,o=!0;break;case l.LabelFontSize:case l.LabelFontWeight:i=u[e],t>this.config.LabelFont[i]&&(s=!0),this.config.LabelFont[i]=t,o=!0;break;case l.ScaleMode:if(this.config.ScaleMode=t,this.trendWindowDrawable&&this.defaultFeaturesUsed){for(r=!!(t&h.Ticks),a=!!(t&h.Labels),n=0;n<this.labelsFeatures.length;n++)this.labelsFeatures[n].Attributes.condition=a,this.config.Visible&&this.labelsFeatures[n].applyVisibility();for(n=0;n<this.ticksFeatures.length;n++)this.ticksFeatures[n].Attributes.condition=r,this.config.Visible&&this.ticksFeatures[n].applyVisibility()}}if(o&&(this.updateRulerLabelFont&&this.updateRulerLabelFont(),this.defaultFeaturesUsed)){for(var d=void 0,c=this.fontFeatures.length,d=0;d<c;d++)this.fontFeatures[d].redraw();e!==l.LabelFontSize&&e!==l.LabelFontWeight&&e!==l.LabelFontName||(!1===this.trendView.allAreasDrawn&&!1===s?p.Data.PostPropertyUpdate.CreateDrawableCollection=!0:p.Data.PostPropertyUpdate.Redraw=!0)}},en.prototype.resetGridlineAttributes=function(){var e,t=this.gridlines.length;for(this.setGridlinesVisibility(),this.setMinorGridLinesVisibility(),this.gridlineAttributes={length:this.gridlineAttributes.length,offset:this.gridlineAttributes.offset,condition:this.gridlineAttributes.condition},this.gridlineAttributes=p.Utilities.mergeWithDefaults(this.gridlineAttributes,this.gridlineFeature.Attributes),this.gridlineAttributes.hasOwnProperty("stroke")||(this.gridlineAttributes.stroke=this.parentTrendWindow.coarseGridColor),e=0;e<t;e++)this.gridlines[e].Attributes=this.gridlineAttributes},en.prototype.addOrRemoveEventsForDisplayNameSVG=function(e){0<this.config.DisplayName.trim().length&&(e===this.config.DisplayName||this.addEventOnDisplayName?e===this.config.DisplayName&&this.addEventOnDisplayName&&(p.Features.Shape.SvgShape.RemoveSvgEvents(this.displayNameSvg,{mouseover:this.eventCbs.onMouseOver,mouseout:this.eventCbs.onMouseOut}),this.addEventOnDisplayName=!1):(p.Features.Shape.SvgShape.AddSvgEvents(this.displayNameSvg,{mouseover:this.eventCbs.onMouseOver,mouseout:this.eventCbs.onMouseOut}),this.addEventOnDisplayName=!0))},en.prototype.onMouseOver=function(e){var t={x:0,y:0};e.changedTouches?(t.x=e.changedTouches[0].pageX,t.y=e.changedTouches[0].pageY):(t.x=e.pageX,t.y=e.pageY),p.showTooltip({props:{ToolTipText:this.config.DisplayName}},t.x,t.y)},en.prototype.onMouseOut=function(e){p.hideTooltip()},en.prototype.onTouchStart=function(e){e.preventDefault()},en.prototype.createMinorGridLines=function(){var e,t;if(this.isTimeAxis)for(var i=0,r=this.divisionFeatures;i<r.length;i++)t=r[i],e=this.parentTrendWindow.verticalMinorGrid,this.minorGridLineHelper(t,e);else if(e=this.axisType===this.trendView.axisTypeEnum.xAxis?this.parentTrendWindow.verticalMinorGrid:this.parentTrendWindow.horizontalMinorGrid,this.config.AutoScaling)for(var a=0,n=this.autoMeasureFeatures;a<n.length;a++)t=n[a],this.minorGridLineHelper(t,e);else for(var o=0,s=this.divisionFeatures;o<s.length;o++)t=s[o],this.minorGridLineHelper(t,e)},en.prototype.minorGridLineHelper=function(e,t){var i=new p.Features.Shape.Ticks,r=new p.Features.Structure.Division;e.Features.push(r),r.Parent=e,i.Attributes={length:0,offset:0,stroke:p.getRGBAcolor(this.parentTrendWindow.config.MinorGridLinesColor),"stroke-width":1,condition:t,"position-filter":"inner"},(i.Parent=r).Attributes={count:1},r.Features.push(i),this.minorGridLines.push(i)},en.prototype.updateMinorGridLine=function(){var e,t;this.isTimeAxis||this.config.AutoScaling?(t=Math.floor(this.straightDialPos.dialLength/(1.5*this.bBoxText.width)/2))<3&&(t=3):t=this.config.SubDivisionCount;for(var i=0,r=this.minorGridLines;i<r.length;i++)(e=r[i]).Attributes.offset=this.gridlineAttributes.offset,e.Attributes.length=this.gridlineAttributes.length,e.Parent.Attributes.count=t},en.prototype.updateMinorGridLineVisibility=function(){for(var e,t=0,i=this.minorGridLines;t<i.length;t++)(e=i[t]).dom&&(e.Attributes.condition?e.dom.setAttributeNS(null,"visibility","inherit"):e.dom.setAttributeNS(null,"visibility","hidden"))},en.prototype.redrawScale=function(){for(var e,t=0;t<this.straightDialCount;t++)(e=this.straightDials[t].Features[0]).draw(e.webRTPUItem,e.metaData)},en.prototype.setMinorGridLinesGroupId=function(){for(var e=this.minorGridLines.length,t=0;t<e;t++)!this.minorGridLines[t].idSet&&this.minorGridLines[t].dom&&(this.minorGridLines[t].dom.setAttributeNS(null,"id",this.minorGrdLinesGroupId+t),this.minorGridLines[t].idSet=!0)},en.prototype.cleanUp=function(){for(var e=0;e<this.straightDialCount;e++)this.straightDials[e].remove(),this.straightDials[e]=null;this.eventCbs.onAxisMouseOver=this.eventCbs.onAxisMouseOut=this.eventCbs.onPan=null,this.Hammer&&this.unInitHammer(),this.dom=this.translateDom=this.svgParent=this.axisRect=this.eventCbs=this.config=this.trendView=this.parentTrendWindow=this.matrix=this.rect=this.innerRect=this.straightDial=this.straightDials=this.templateAttributes=this.templateAttrCollection=this.templateFeatures=this.divisionFeatures=this.gridlineFeature=this.gridlines=this.ticksFeatures=this.labelsFeatures=this.fontFeatures=this.displayNameSvg=this.updateRulerLabelFont=this.gridlineAttributes=this.straightDialPos=this.minorGrdLinesGroupId=null,this.minorGridLines.length=0,this.autoMeasureFeatures=null},t.AxisBase=en,t=(t=e=e||{}).Lib||(t.Lib={}),t=(N=t.NVEs||(t.NVEs={})).ChartElements||(N.ChartElements={}),tn.prototype._trendAnimator=function(e){var t,i,r,a;for(i in this._trendsToAnimate)for(r=(t=this._trendsToAnimate[i]).callBacks.length,a=0;a<r;a++)if((3<r||300<e-t.startTimes[a]||!1===t.callBacks[a]())&&(t.callBacks.splice(a,1),t.recalculateCbs.splice(a,1),t.cleanUps[a](!0),t.cleanUps.splice(a,1),t.startTimes.splice(a,1),a--,0==--r)&&(this._trendsToAnimate[i]=null,delete this._trendsToAnimate[i],0==--this._trendCount))return t=null,!1;return!(t=null)},tn.prototype._axisRangeAnimator=function(){var e,t;for(t in this._axisRangesToAnimate)if(!1===(e=this._axisRangesToAnimate[t]).callBack()&&(e.callBack=null,e.cleanUp=null,e.axisDetails=null,this._axisRangesToAnimate[t]=e=null,delete this._axisRangesToAnimate[t],0==--this._axisCount))return!1;return!(e=null)},tn.prototype._escapeSlowAnimationFrames=function(){var e,t,i,r;for(t in this._trendsToAnimate)for(i=(e=this._trendsToAnimate[t]).callBacks.length,r=0;r<i;r++)r===i-1?e.cleanUps[r](!0):e.cleanUps[r](!1),e.callBacks.splice(r,1),e.recalculateCbs.splice(r,1),e.cleanUps.splice(r,1),e.startTimes.splice(r,1),r--,i--;e=null,this._trendsToAnimate={},this._trendCount=0},tn.prototype._trendControlAnimator=function(){var i,r=+Date.now(),e=!1;this._frameDetails.frameRequested=!1,500<(i=r-this._frameDetails.frameRequestTime)&&this._escapeSlowAnimationFrames(),(i=r-this._frameDetails.lastTrendOrVACall)>this.TREND_ANIM_INTERVAL?(0<this._trendCount&&this._trendAnimator(r)&&(e=!0),(e=0<this._axisCount&&this._axisRangeAnimator()?!0:e)&&(this._frameDetails.lastTrendOrVACall=r-i%this.TREND_ANIM_INTERVAL)):(0<this._axisCount||0<this._trendCount)&&(e=!0),this._animateTimeAxes&&(e=!0,this._timeAxisAnimators.forEach(function(e,t){(i=r-this._frameDetails.lastTimeAxisCalls[t])>this._axisAnimIntervals[t]&&(this._frameDetails.lastTimeAxisCalls[t]=r-i%this._axisAnimIntervals[t],e())},this)),this._calculateRulerData&&((i=r-this._frameDetails.lastRulerDataCalc)>this.RULER_DATA_CALCULATION_INTERVAL?(this._rulerDataCalculator(),this._frameDetails.lastRulerDataCalc=r-i%this.RULER_DATA_CALCULATION_INTERVAL,this._calculateRulerData=!1):e=!0),e&&!1===this._frameDetails.frameRequested&&(this._animFrameRequestor.requestAF(this._rtoid,this._trendControlAnimator.bind(this)),this._frameDetails.frameRequestTime=r,this._frameDetails.frameRequested=!0)},tn.prototype.addTrendAnimation=function(e,t,i,r){this._trendsToAnimate[e]?(this._trendsToAnimate[e].callBacks.push(t),this._trendsToAnimate[e].recalculateCbs.push(i),this._trendsToAnimate[e].cleanUps.push(r),this._trendsToAnimate[e].startTimes.push(+Date.now())):(this._trendsToAnimate[e]={callBacks:[t],recalculateCbs:[i],cleanUps:[r],startTimes:[+Date.now()]},1==++this._trendCount&&!1===this._frameDetails.frameRequested&&(this._animFrameRequestor.requestAF(this._rtoid,this._trendControlAnimator.bind(this)),this._frameDetails.frameRequestTime=+Date.now(),this._frameDetails.frameRequested=!0))},tn.prototype.removeTrendAnimation=function(e){var t,i,r;if(r=this._trendsToAnimate[e]){for(t=r.callBacks.length,i=0;i<t;i++)r.cleanUps[i](!1),r.cleanUps[i]=null,r.callBacks[i]=null,r.recalculateCbs[i]=null,r.startTimes[i]=null;this._trendsToAnimate[e].callBacks=r=null,this._trendsToAnimate[e].recalculateCbs=null,this._trendsToAnimate[e].cleanUps=null,this._trendsToAnimate[e].startTimes=null,this._trendsToAnimate[e]=null,delete this._trendsToAnimate[e],--this._trendCount}},tn.prototype.addValueAxisAnimation=function(e,t,i,r){var a;(a=this._axisRangesToAnimate[e])?a.axisDetails.newBeginValue===r.newBeginValue&&a.axisDetails.newEndValue===r.newEndValue||(a.cleanUp(),a.cleanUp=null,a.callBack=null,a.axisDetails=null,this._axisRangesToAnimate[e]={callBack:t,cleanUp:i,axisDetails:r}):(this._axisRangesToAnimate[e]={callBack:t,cleanUp:i,axisDetails:r},1==++this._axisCount&&!1===this._frameDetails.frameRequested&&(this._animFrameRequestor.requestAF(this._rtoid,this._trendControlAnimator.bind(this)),this._frameDetails.frameRequestTime=+Date.now(),this._frameDetails.frameRequested=!0))},tn.prototype.removeValueAxisAnimation=function(e){var t;(t=this._axisRangesToAnimate[e])&&(t.cleanUp(),t.cleanUp=null,t.callBack=null,t.axisDetails=null,this._axisRangesToAnimate[e]=null,delete this._axisRangesToAnimate[e],--this._axisCount)},tn.prototype.startAxisTimer=function(e,t){var i=+Date.now();-1===this._timeAxisAnimators.indexOf(e)&&(this._timeAxisAnimators.push(e),this._frameDetails.lastTimeAxisCalls.push(i),this._axisAnimIntervals.push(t)),0<this._timeAxisAnimators.length&&!(this._animateTimeAxes=!0)===this._frameDetails.frameRequested&&(this._animFrameRequestor.requestAF(this._rtoid,this._trendControlAnimator.bind(this)),this._frameDetails.frameRequestTime=i,this._frameDetails.frameRequested=!0)},tn.prototype.removeAxisTimer=function(e){e=this._timeAxisAnimators.indexOf(e);-1<e&&(this._timeAxisAnimators.splice(e,1),this._axisAnimIntervals.splice(e,1),this._frameDetails.lastTimeAxisCalls.splice(e,1)),0===this._timeAxisAnimators.length&&(this._animateTimeAxes=!1)},tn.prototype.setAxisAnimInterval=function(e,t){t=this._timeAxisAnimators.indexOf(t);-1<t&&(this._axisAnimIntervals[t]=e)},tn.prototype.requestRulerDataCalculation=function(e){(this._calculateRulerData=e)&&!1===this._frameDetails.frameRequested&&(this._animFrameRequestor.requestAF(this._rtoid,this._trendControlAnimator.bind(this)),this._frameDetails.frameRequestTime=+Date.now(),this._frameDetails.frameRequested=!0)},tn.prototype.recalculateAnimPaths=function(e){var t,i,r;if(t=this._trendsToAnimate[e])for(i=t.recalculateCbs.length,r=0;r<i;r++)t.recalculateCbs[r]()},tn.prototype.cleanAnimDOMClosures=function(){var e,t,i,r;for(r in this._trendsToAnimate){for(e=(i=this._trendsToAnimate[r]).callBacks.length,t=0;t<e;t++)i.cleanUps[t](!1),i.cleanUps[t]=null,i.callBacks[t]=null,i.recalculateCbs[t]=null,i.startTimes[t]=null;this._trendsToAnimate[r].callBacks=i=null,this._trendsToAnimate[r].recalculateCbs=null,this._trendsToAnimate[r].cleanUps=null,this._trendsToAnimate[r].startTimes=null,this._trendsToAnimate[r]=null,delete this._trendsToAnimate[r]}this._trendsToAnimate={},this._trendCount=0},tn.prototype.cleanUp=function(){this._animFrameRequestor&&(this._animFrameRequestor.removeObj(this._rtoid),this._animFrameRequestor=null),this._trendsToAnimate={},this._axisRangesToAnimate={},this._trendCount=0,this._axisCount=0,this._animateTimeAxes=!1,this._calculateRulerData=!1,this._rulerDataCalculator=null,this._timeAxisAnimators=[]},t.ChartAnimator=tn,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Features||(t.Features={}),rn.prototype.propertyChanged=function(e){},rn.prototype.remove=function(){for(var e=0;e<this.Features.length;e++)this.Features[e].remove();if(this.dom){for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.dom=null}this.Templates=null,this.Parent=null,this.Attributes=null,this.webRTPUItem=null,this.Features=null,this.defaults=null},rn.prototype.getAttribute=function(e){return this.Attributes[e]},t.FeatureBase=rn,t=(t=e=e||{}).Lib||(t.Lib={}),t=(v=t.NVEs||(t.NVEs={})).ChartElements||(v.ChartElements={}),an.prototype._applyGradientLimits=function(e,t,i){e.setAttributeNS(null,"x1",t.x1),e.setAttributeNS(null,"x2",t.x2),e.setAttributeNS(null,"y1",t.y1),e.setAttributeNS(null,"y2",t.y2),e.childNodes[0].setAttributeNS(null,"stop-color",this.fillColor),e.childNodes[1].setAttributeNS(null,"stop-color",this.alternateFillColor),e.childNodes[1].setAttributeNS(null,"offset",i)},an.prototype._applyBiGradient=function(e,t){this._applyGradientLimits(e,t,"100%"),e.childNodes[2]&&e.childNodes[2].parentNode.removeChild(e.childNodes[2])},an.prototype._applyTriGradient=function(e,t){this._applyGradientLimits(e,t,"50%"),2<e.childNodes.length?e.childNodes[2].setAttributeNS(null,"stop-color",this.fillColor):((t=v.Features.Shape.SvgShape.CreateSvgElement("stop")).setAttributeNS(null,"offset","100%"),t.setAttributeNS(null,"stop-color",this.fillColor),e.appendChild(t))},an.prototype.updateColor=function(e,t,i,r){var a,n,o,s,l,u=this._trendMode,h=this.trendView.SVGParent,d=v.Features.Shape.SvgShape.updateDOMAttributes,c=v.Features.Shape.SvgShape.GetElementsByClassName;if(this.trendStyle===u.Value){if(o={stroke:i},(a=c(h,t+"_polylineClass_"+this.id,void 0))&&d(a,o),a=c(h,t+"_dispValueRect_"+this.id,void 0)){for(this.fill?o.fill=i:o.fill=this.parentTrendWindow.backColor,d(a,o),l=a.length,n=[],s=0;s<l;s++)n.push(a[s].nextSibling);d(n,o={fill:v.Utilities.getContrastColor(o.fill)})}}else this.trendStyle===u.Stepped?(a=c(h,t+"_polylineClass_"+this.id+"_dummy",void 0))&&d(a,{stroke:i}):(a=c(h,t+"_polylineClass_"+this.id,void 0))&&d(a,{stroke:i}),this.pointStyle!==v.getChromEnum("HmiMarkerType").None&&(a=h.getElementById(e)||v.Features.Shape.SvgShape.getElementByIDSafariHack(h,"marker",e))&&this.createPatternImage(a.childNodes[0],i,this.pointStyle),r&&this.fill&&this.svgGroup.trendFillPropertyGroup&&((a=c(this.svgGroup.trendFillPropertyGroup,t+"_fillPolylineClass_"+this.id,void 0))&&d(a,{fill:i}),a=c(this.svgGroup.trendFillPropertyGroup,t+"_translateFillPolylineClass_"+this.id,void 0))&&d(a,{fill:i})},an.prototype.createPatternImage=function(e,t,i){var r,a,n,o=document.createElement("canvas");if(o.setAttribute("width","30"),o.setAttribute("height","30"),o.setAttribute("style","position:absolute;"),i===(n=v.getChromEnum("HmiMarkerType")).Graphic)a=this.graphicMarkerSrc;else{switch((r=o.getContext("2d")).lineWidth=1.5,r.fillStyle=r.strokeStyle=t,i){case n.Point:r.beginPath(),r.arc(17,17,9,0,2*Math.PI),r.stroke(),r.fill();break;case n.Square:r.fillRect(0,0,400,400);break;case n.Circle:r.beginPath(),r.arc(15,15,11,0,2*Math.PI),r.stroke(),r.fill()}a=o.toDataURL("image/png").replace(/^base64,/,"")}e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a)},an.prototype.getPointElement=function(e,t){var i=(this.viewBoxDim-this.pointWidth)/2,i={height:this.pointWidth,width:this.pointWidth,style:"will-change:auto;",x:i,y:i,appendTo:e},e=v.Features.Shape.SvgShape.CreateSvgElement("image",i);this.createPatternImage(e,t,this.pointStyle)},an.prototype.loadMarkerGraphic=function(){var n=this;v.Utilities.loadImage(this.trendView.RTPUItem.Store,this.markerGraphic,function(e){var t,i,r,a=n.trendView.SVGParent;if(n.graphicMarkerSrc=e,n.visibility&&n.pointStyle===v.getChromEnum("HmiMarkerType").Graphic){for(r=n.thresholds.length,i=0;i<r;i++)(t=a.getElementById(n.thresholds[i].markerId))&&n.createPatternImage(t.childNodes[0],void 0,n.pointStyle);n.qualityVisualizationVisible&&((t=a.getElementById(n.uncertainQualityMarkerId))&&n.createPatternImage(t.childNodes[0],void 0,n.pointStyle),t=a.getElementById(n.badQualityMarkerId))&&n.createPatternImage(t.childNodes[0],void 0,n.pointStyle),n.parentTrendWindow.trendWindowDrawn&&n.parentTrendWindow.updateMarkerGraphic(n.partId)}n=null})},an.prototype.getLineStyle=function(){var e=null,t=v.getChromEnum("HmiDashType");switch(this.lineStyle){case t.Dash:e="10,5";break;case t.Dot:e="5,5";break;case t.DashDot:e="5,5,10,5";break;case t.DashDotDot:e="10,5,5,5,5,5"}return e},an.prototype.getMinMaxThresholds=function(){for(var e=v.getChromEnum("HmiThresholdMode"),t=this.thresholds.length,i={minimumValue:void 0,maximumValue:void 0,minimumColor:void 0,maximumColor:void 0},r=0;r<t;r++)void 0===i.minimumValue&&this.thresholds[r].thresholdMode===e.Minimum&&(i.minimumValue=this.thresholds[r].endValue,i.minimumColor=this.thresholds[r].color),void 0===i.maximumValue&&this.thresholds[r].thresholdMode===e.Maximum&&(i.maximumValue=this.thresholds[r].beginValue,i.maximumColor=this.thresholds[r].color);return i},an.prototype.createLinearGrad=function(){var e=v.Features.Shape.SvgShape.CreateSvgElement,t=e("linearGradient"),i=e("stop");return t.setAttributeNS(null,"id","trendGrad_"+this.id),t.setAttributeNS(null,"x1","0%"),t.setAttributeNS(null,"x2","0%"),t.setAttributeNS(null,"y1","0%"),t.setAttributeNS(null,"y2","0%"),i.setAttributeNS(null,"offset","0%"),i.setAttributeNS(null,"stop-color",this.fillColor),t.appendChild(i),(i=e("stop")).setAttributeNS(null,"offset","0%"),i.setAttributeNS(null,"stop-color",this.alternateFillColor),t.appendChild(i),(i=e("stop")).setAttributeNS(null,"offset","100%"),i.setAttributeNS(null,"stop-color",this.fillColor),t.appendChild(i),this.setStopElements(t),t},an.prototype.setStopElements=function(e){var t=v.getChromEnum("HmiFillPattern"),i=e||this.trendView.SVGParent.getElementById("trendGrad_"+this.id);if(i)switch(this.backFillPattern){case t.GradientHorizontal:this._applyBiGradient(i,{x1:"0%",x2:"100%",y1:"0%",y2:"0%"});break;case t.GradientVertical:this._applyBiGradient(i,{x1:"0%",x2:"0%",y1:"0%",y2:"100%"});break;case t.GradientForwardDiagonal:this._applyBiGradient(i,{x1:"0%",x2:"100%",y1:"0%",y2:"100%"});break;case t.GradientBackwardDiagonal:this._applyBiGradient(i,{x1:"100%",x2:"0%",y1:"0%",y2:"100%"});break;case t.GradientHorizontalTricolor:this._applyTriGradient(i,{x1:"0%",x2:"100%",y1:"0%",y2:"0%"});break;case t.GradientVerticalTricolor:this._applyTriGradient(i,{x1:"0%",x2:"0%",y1:"0%",y2:"100%"});break;case t.GradientForwardDiagonalTricolor:this._applyTriGradient(i,{x1:"0%",x2:"100%",y1:"0%",y2:"100%"});break;case t.GradientBackwardDiagonalTricolor:this._applyTriGradient(i,{x1:"100%",x2:"0%",y1:"0%",y2:"100%"})}},an.prototype.updateTrendDisplayText=function(){var e,t;""===this.displayName?this.trendView.trendObjectType===v.Data.TrendObjectType.Online&&""!==this.dataSource.Tag?""!==this.cpmPath?this.trendDisplayText=this.cpmPath.split(".hierarchy")[1]+"."+this.dataSource.TagDisplayName.substring(this.dataSource.TagDisplayName.indexOf(".")+1):this.trendDisplayText=this.dataSource.TagDisplayName:this.trendView.trendObjectType!==v.Data.TrendObjectType.Function||""===this.dataSourceX.Tag&&""===this.dataSourceY.Tag?this.trendView.setTrendDisplayNames(this):(e=""!==this.cpmPathX?this.cpmPathX.split(".hierarchy")[1]+"."+this.dataSourceX.TagDisplayName.substring(this.dataSourceX.TagDisplayName.indexOf(".")+1):this.dataSourceX.TagDisplayName,t=""!==this.cpmPathY?this.cpmPathY.split(".hierarchy")[1]+"."+this.dataSourceY.TagDisplayName.substring(this.dataSourceY.TagDisplayName.indexOf(".")+1):this.dataSourceY.TagDisplayName,this.trendDisplayText=e+","+t):this.trendDisplayText=this.displayName},an.prototype.getRoundedTagPosition=function(e){return Math.round(100*e)/100},an.prototype.updateTrendAttrs=function(e){for(var t in e)""!==e[t]&&(this.templateTrendAttributes[t]=e[t]);this.templateTrendAttrCollection.push(e)},an.prototype.updateMarkerAttrs=function(e){for(var t in e)""!==e[t]&&(this.templateMarkerAttributes[t]=e[t]);this.templateMarkerAttrCollection.push(e)},an.prototype.removeTemplateAttrs=function(){this.templateTrendAttrCollection=[],this.templateTrendAttributes={},this.templateMarkerAttrCollection=[],this.templateMarkerAttributes={},this.tooltipFeature=null},an.prototype.updateTrendAttributes=function(e){var t,i,r=this.templateTrendAttrCollection.length;if(this.templateTrendAttributes.hasOwnProperty(e))for(t=0;t<r;t++)(i=this.templateTrendAttrCollection[t]).hasOwnProperty(e)&&(this.templateTrendAttributes[e]=i[e]);this.applyTrendTemplateProperties()},an.prototype.updateMarkerAttributes=function(e){var t,i,r=this.templateMarkerAttrCollection.length;if(this.templateMarkerAttributes.hasOwnProperty(e))for(t=0;t<r;t++)(i=this.templateMarkerAttrCollection[t]).hasOwnProperty(e)&&(this.templateMarkerAttributes[e]=i[e]);this.applyMarkerTemplateProperties()},an.prototype.applyTemplateProperties=function(){this.applyTrendTemplateProperties(),this.applyMarkerTemplateProperties()},an.prototype.applyTrendTemplateProperties=function(){var e,t,i=this.templateTrendAttributes;if(this.templateTrendAttributes={},t=this.trendStyle,void 0===i.interpolation)e=t;else switch(i.interpolation){case"none":e=v.getChromEnum("HmiTrendMode").Points;break;case"linear":e=v.getChromEnum("HmiTrendMode").Interpolated;break;default:e=v.getChromEnum("HmiTrendMode").Stepped}this.trendStyle!==e&&(this.OnUpdate(v.Data.TrendPropId.TrendMode,e),this.config.TrendMode=t),t=this.config.LineWidth,e=void 0===i["stroke-width"]?parseInt(t,10):parseInt(i["stroke-width"],10),this.lineWidth!==e&&(this.OnUpdate(v.Data.TrendPropId.LineWidth,e),this.config.LineWidth=t),t=this.config.LineColor,e=void 0===i.stroke?v.getRGBAcolor(t):i.stroke,this.color!==e&&(this.OnUpdate(v.Data.TrendPropId.LineColor,e),this.config.LineColor=t),t=this.config.BackFillPattern,e=void 0!==i.fill&&"transparent"===i.fill?v.getChromEnum("HmiFillPattern").Transparent:t,this.backFillPattern!==e&&(this.OnUpdate(v.Data.TrendPropId.BackFillPattern,e),this.config.BackFillPattern=t),this.templateTrendAttributes=i},an.prototype.applyMarkerTemplateProperties=function(){var e,t,i=this.templateMarkerAttributes;if(this.templateMarkerAttributes={},t=this.config.MarkerType,void 0===i.type)e=t;else switch(i.type){case"none":e=v.getChromEnum("HmiMarkerType").None;break;case"point":e=v.getChromEnum("HmiMarkerType").Point;break;case"circle":e=v.getChromEnum("HmiMarkerType").Circle;break;case"square":e=v.getChromEnum("HmiMarkerType").Square;break;default:e=t}this.pointStyle!==e&&(this.OnUpdate(v.Data.TrendPropId.MarkerType,e),this.config.MarkerType=t),t=this.config.MarkerDimension,e=void 0===i.dimension?parseInt(t,10):parseInt(i.dimension,10),this.pointWidth!==e&&(this.OnUpdate(v.Data.TrendPropId.MarkerDimension,e),this.config.MarkerDimension=t),t=this.config.MarkerColor,e=void 0===i.color?v.getRGBAcolor(t):i.color,this.pointColor!==e&&(this.OnUpdate(v.Data.TrendPropId.MarkerColor,e),this.config.MarkerColor=t),this.templateMarkerAttributes=i},an.prototype.addTooltipInfo=function(e){this.tooltipFeature=e},an.prototype.RetrieveCachedTrendData=function(){var e=v.Data.TrendDataStore.retrieve(this.partId);e&&(this.tagList=e.tagList,this.linesCollection=e.linesCollection,this.qualityLinesCollection=e.qualityLinesCollection,this.boundingValue=e.boundingValue,this.markerPositionsCollection=e.markerPositionsCollection,this.qualityMarkerPositionsCollection=e.qualityMarkerPositionsCollection,this.retrieveCachedMinMax(e),0<this.tagList.items.length)&&this._trendLimitObj.setThresholdFlags()},an.prototype.baseInitialize=function(e,t,i){this.config=e,this.config.ElementID&&(this.partId=this.config.ElementID),this.name="trend"+this.partId,this.displayName=this.config.DisplayName,this.trendDisplayText=this.displayName,i.visible&&0!==i.spacePortion?this.currentTrendWindow=i:this.currentTrendWindow=null,this.pbId="Trend"+ ++i.trendCount,this.trendWindow=i.config.Name,this.trendView=t,this.parentTrendWindow=i,this.id=(this.trendView.getControlName()+"_"+this.trendWindow+"_"+this.pbId).replace(/\s+/g,"_sp_").replace(/\(/g,"_ob_").replace(/\)/g,"_cb_").replace(/\\/g,"_bs_").replace(/\'/g,"_sq_").replace(/\"/g,"_dq_"),this.color=v.getRGBAcolor(this.config.LineColor),this.lineStyle=this.config.DashType,this.lineWidth=this.config.LineWidth,this.pointStyle=this.config.MarkerType,this.pointWidth=this.config.MarkerDimension,this.pointColor=v.getRGBAcolor(this.config.MarkerColor),this.markerGraphic=this.config.MarkerGraphic,this.graphicMarkerSrc="",this.pointStyle===v.getChromEnum("HmiMarkerType").Graphic&&this.loadMarkerGraphic(),this.fillColor=v.getRGBAcolor(this.config.BackColor),this.alternateFillColor=v.getRGBAcolor(this.config.AlternateBackColor),this.backFillPattern=this.config.BackFillPattern,this.fill=v.getChromEnum("HmiFillPattern").Transparent!==this.backFillPattern,this.fillURL=this.fill?0===this.backFillPattern?this.fillColor:"url(#trendGrad_"+this.id+")":"none",this.visibility=!!e.Visible,this.thresholdParts=this.config.Thresholds||this.thresholdDefault,this.qualityVisualization=this.config.QualityVisualization,this.qualityVisualizationVisible=this.qualityVisualization.Visible,this.uncertainQualityMarkerId="uncertainQualityMarker_"+this.id,this.uncertainQualityColor=v.getRGBAcolor(this.qualityVisualization.UncertainColor),this.badQualityMarkerId="badQualityMarker_"+this.id,this.badQualityColor=v.getRGBAcolor(this.qualityVisualization.BadColor),this.resetSVGGroup(),this.trendStyle=this.config.TrendMode,this.trendModeObj=null},an.prototype.setMarkers=function(){var e,t,i=this.linesCollection.length,r=v.Features.Shape.SvgShape.SetAttributes;if(this._trendLimitObj.initializeMarkers(),this.pointStyle===v.getChromEnum("HmiMarkerType").None){for(t=0;t<i;t++)this.markerPositionsCollection[t].markerStart=this.markerPositionsCollection[t].markerEnd="none",(e=this.linesCollection[t]).polyline&&r(e.polyline,{"marker-start":"none","marker-mid":"none","marker-end":"none"});for(i=this.qualityLinesCollection.length,t=0;t<i;t++)this.qualityMarkerPositionsCollection[t].markerStart=this.qualityMarkerPositionsCollection[t].markerEnd="none",(e=this.qualityLinesCollection[t]).polyline&&r(e.polyline,{"marker-start":"none","marker-mid":"none","marker-end":"none"})}else{for(this._trendLimitObj.setMarkers(),t=0;t<i;t++)(e=this.linesCollection[t]).polyline&&r(e.polyline,{"marker-start":this.markerPositionsCollection[t].markerStart,"marker-mid":this.midMarkerURLsArray[e.listType],"marker-end":this.markerPositionsCollection[t].markerEnd});for(this._trendLimitObj.createNewQualityCollection(),i=this.qualityLinesCollection.length,t=0;t<i;t++)(e=this.qualityLinesCollection[t]).polyline&&r(e.polyline,{"marker-start":this.qualityMarkerPositionsCollection[t].markerStart,"marker-mid":this.midMarkerURLsArray[e.listType],"marker-end":this.qualityMarkerPositionsCollection[t].markerEnd})}},an.prototype.removePointsBeforeTimeStamp=function(e,t){var i,r,a,n=this.linesCollection.length,o=this.trendView.trendObjectType===v.Data.TrendObjectType.Online;if(o&&this.trendStyle===this._trendMode.Value){for(r=0;r<n;r++)if(e<this.linesCollection[r].timeStamp){this.linesCollection.splice(0,r);break}}else{for(r=0;r<n;r++){if(a=(i=this.linesCollection[r]).removeBeforeTimeStamp(e),0!==i.items.length){0<a.length&&(this.markerPositionsCollection[r].markerStart=this.midMarkerURLsArray[i.listType],o)&&t&&(i.setPoints=!0);break}i.polyline&&i.polyline.parentNode&&i.polyline.parentNode.removeChild(i.polyline),i.dummyPolyline&&i.dummyPolyline.parentNode&&i.dummyPolyline.parentNode.removeChild(i.dummyPolyline),i=null,this.linesCollection.splice(r,1),this.markerPositionsCollection.splice(r,1),--r,0===--n&&(this.linesCollection.currentTagList=null,this._trendLimitObj.clearTagList())}for(n=this.qualityLinesCollection.length,r=0;r<n;r++){if(a=(i=this.qualityLinesCollection[r]).removeBeforeTimeStamp(e),0!==i.items.length){0<a.length&&(this.qualityMarkerPositionsCollection[r].markerStart=this.midMarkerURLsArray[i.listType],t)&&(i.setPoints=!0);break}i.polyline&&i.polyline.parentNode&&i.polyline.parentNode.removeChild(i.polyline),i.dummyPolyline&&i.dummyPolyline.parentNode&&i.dummyPolyline.parentNode.removeChild(i.dummyPolyline),this.qualityLinesCollection.splice(r,1),this.qualityMarkerPositionsCollection.splice(r,1),i=null,--r,--n}}},an.prototype.OnUpdate=function(e,t){var i,r,a,n,o,s,l,u,h,d,c,p,m,g,T="trendIndicator_"+this.id,f=this.svgGroup,y=v.Data.TrendPropId,D=this._trendMode,S=this.trendView,b=S.SVGParent,C=v.Features.Shape.SvgShape.updateDOMAttributes;switch(e){case y.TrendDescription:this.displayName=t=0===t?"":t,this.updateTrendDisplayText();break;case y.DisplayName:this.config.DisplayName=t=0===t?"":t,this.displayName=t,this.updateTrendDisplayText();break;case y.Visible:t^this.config.Visible&&(t?(this.config.Visible=!0,this.visibility=!0,this.fill&&this.trendStyle!==D.Value&&this.currentXAxis&&this.currentYAxis&&this.filledSVGCreation()):(this.config.Visible=!1,this.visibility=!1,this.clearTagList(),this.resetSVGGroup(),this.parentTrendWindow.removeSelectedTrend(),S.trendObjectType===v.Data.TrendObjectType.Online?this.currentYAxis&&(h=this.currentYAxis.axisPbId):this.currentYAxis&&this.currentXAxis?h=null:(h={},this.currentYAxis&&(h.yAxis=this.currentYAxis.axisPbId),this.currentXAxis&&(h.xAxis=this.currentXAxis.axisPbId))),S.createDrawableCollections(h),this.config.Visible?this.requestHistoricalData(!0,!0):v.Data.PostPropertyUpdate.SendHistoricalDataRequests?this.trendView.setRequestsForRemaningTags():this.trendView.requestHistoricalData(void 0,void 0,void 0,!0,!0,!0),v.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),(this.trendView.trendCompanionConstUpdate&&(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())||this.trendView.secondaryRulerToolTip)&&this.trendView.calculateRulerData();break;case y.LineColor:if(this.config.LineColor=t,void 0===this.templateTrendAttributes.stroke){if(d="string"==typeof t?t:v.getRGBAcolor(t),this.color=d,this.config.Visible)for((u=b.getElementById(T))&&u.setAttribute("stroke",d),s=this.thresholds.length,o=0;o<s;o++)this.thresholds[o].isNormal&&this.updateColor(void 0,o,d);this.currentTrendWindow}break;case y.DashType:this.lineStyle=t,this.trendStyle===D.Value&&(g=b.getElementById("DisplayValueRectGroup"+this.id)),this.config.Visible&&(h=this.getLineStyle(),f.trendPropertyGroup&&C(f.trendPropertyGroup,{"stroke-dasharray":h}),f.qualityGroup&&C(f.qualityGroup,{"stroke-dasharray":h}),g&&g.setAttribute("stroke-dasharray",h),u=b.getElementById(T))&&u.setAttribute("stroke-dasharray",h);break;case y.LineWidth:this.config.LineWidth=t,void 0===this.templateTrendAttributes["stroke-width"]&&(this.lineWidth=t,this.config.Visible)&&(this.trendStyle===D.Stepped?(f.dummyPolyLineGroup&&(f.dummyPolyLineGroup.setAttribute("stroke-width",this.lineWidth),f.polyLineGroup.setAttribute("stroke-width",0)),f.qualityDummyPolyLineGroup&&(f.qualityDummyPolyLineGroup.setAttribute("stroke-width",this.lineWidth+.8),f.qualityPolyLineGroup.setAttribute("stroke-width",0))):this.trendStyle!==D.Interpolated&&this.trendStyle!==D.Value||(f.polyLineGroup&&f.polyLineGroup.setAttribute("stroke-width",this.lineWidth),f.qualityPolyLineGroup&&f.qualityPolyLineGroup.setAttribute("stroke-width",this.lineWidth+.8)),S.trendObjectType===v.Data.TrendObjectType.Function&&void 0!==this.timeAxis&&""!==this.timeAxis&&S.setTrendIndicatorPoints(this.timeAxis,this.trendWindow),(u=b.getElementById(T))&&u.setAttribute("stroke-width",this.lineWidth),f.animationPathGroup)&&f.animationPathGroup.setAttribute("stroke-width",this.lineWidth);break;case y.MarkerGraphic:if(this.config.MarkerGraphic=t,this.markerGraphic=t,this.graphicMarkerSrc="",this.pointStyle===v.getChromEnum("HmiMarkerType").Graphic){for(s=this.thresholds.length,o=0;o<s;o++)(a=b.getElementById(this.thresholds[o].markerId))&&this.createPatternImage(a.childNodes[0],void 0,this.pointStyle);this.qualityVisualizationVisible&&((a=b.getElementById(this.uncertainQualityMarkerId))&&this.createPatternImage(a.childNodes[0],void 0,this.pointStyle),a=b.getElementById(this.badQualityMarkerId))&&this.createPatternImage(a.childNodes[0],void 0,this.pointStyle),this.loadMarkerGraphic()}break;case y.MarkerType:if(this.config.MarkerType=t,void 0===this.templateMarkerAttributes.type){for(p=this.pointStyle,this.pointStyle=t,this.pointStyle===v.getChromEnum("HmiMarkerType").Graphic&&""===this.graphicMarkerSrc&&this.loadMarkerGraphic(),s=this.thresholds.length,o=0;o<s;o++)(a=b.getElementById(this.thresholds[o].markerId))&&(a.firstChild&&a.removeChild(a.childNodes[0]),this.thresholds[o].isNormal?this.getPointElement(a,this.pointColor):this.getPointElement(a,this.thresholds[o].color));this.qualityVisualizationVisible&&((a=b.getElementById(this.uncertainQualityMarkerId))&&(a.firstChild&&a.removeChild(a.childNodes[0]),this.getPointElement(a,this.uncertainQualityColor)),a=b.getElementById(this.badQualityMarkerId))&&(a.firstChild&&a.removeChild(a.childNodes[0]),this.getPointElement(a,this.badQualityColor)),p===v.getChromEnum("HmiMarkerType").None!=(this.pointStyle===v.getChromEnum("HmiMarkerType").None)&&this.trendStyle<this._trendMode.Value&&this.setMarkers(),this.currentTrendWindow}break;case y.MarkerDimension:if(this.config.MarkerDimension=parseInt(t,10),void 0===this.templateMarkerAttributes.dimension&&(this.pointWidth=this.config.MarkerDimension,this.viewBoxDim=this.pointWidth+1,c={viewBox:"0 0 "+this.viewBoxDim+" "+this.viewBoxDim,refX:this.viewBoxDim/2,refY:this.viewBoxDim/2,markerWidth:this.viewBoxDim,markerHeight:this.viewBoxDim},this.config.Visible)){for(s=this.thresholds.length,o=0;o<s;o++)(a=b.getElementById(this.thresholds[o].markerId))&&(C(a,c),a.firstChild)&&(a.removeChild(a.childNodes[0]),this.thresholds[o].isNormal?this.getPointElement(a,this.pointColor):this.getPointElement(a,this.thresholds[o].color));this.qualityVisualizationVisible&&((a=b.getElementById(this.uncertainQualityMarkerId))&&(C(a,c),a.firstChild)&&(a.removeChild(a.childNodes[0]),this.getPointElement(a,this.uncertainQualityColor)),a=b.getElementById(this.badQualityMarkerId))&&(C(a,c),a.firstChild)&&(a.removeChild(a.childNodes[0]),this.getPointElement(a,this.badQualityColor))}break;case y.MarkerColor:this.config.MarkerColor=t,void 0===this.templateMarkerAttributes.color&&(d="string"==typeof t?t:v.getRGBAcolor(t),this.pointColor=d,this.config.Visible&&this.pointStyle!==v.getChromEnum("HmiMarkerType").None&&(a=b.getElementById("thresholdMarker_"+v.getChromEnum("HmiThresholdMode").Normal+"_"+this.id))&&this.createPatternImage(a.childNodes[0],this.pointColor,this.pointStyle),this.currentTrendWindow);break;case y.BackFillPattern:if(this.config.BackFillPattern=t,void 0===this.templateTrendAttributes.fill){if(g=this.backFillPattern,S.trendObjectType===v.Data.TrendObjectType.Function)return;if(p=this.fill,this.backFillPattern=t,this.fill=v.getChromEnum("HmiFillPattern").Transparent!==this.backFillPattern,this.fillURL=this.fill?0===this.backFillPattern?this.fillColor:"url(#trendGrad_"+this.id+")":"none",this.config.Visible){if(this.trendStyle===D.Value){if(this.qualityVisualizationVisible&&(this.updateColor(void 0,this.thresholds.length+1,this.badQualityColor),this.updateColor(void 0,this.thresholds.length,this.uncertainQualityColor)),!(m=g>v.getChromEnum("HmiFillPattern").Transparent&&this.backFillPattern>v.getChromEnum("HmiFillPattern").Transparent)){for(n=[],l=this.thresholds.length,i=0;i<l;i++)if(this.thresholds[i].isNormal&&(u=v.Features.Shape.SvgShape.GetElementsByClassName(b,i+"_dispValueRect_"+this.id,void 0)))for(C(u,{fill:d=this.fill?this.fillURL:this.parentTrendWindow.backColor}),s=u.length,o=0;o<s;o++)n.push(u[o].nextSibling);n.length&&C(n,{fill:v.Utilities.getContrastColor(this.fill?this.fillColor:d)})}}else(m=g>v.getChromEnum("HmiFillPattern").Transparent&&this.backFillPattern>v.getChromEnum("HmiFillPattern").Transparent)||(this.fill?p?(r=b.getElementById("0_fillPolyline_"+this.id))&&r.setAttribute("fill",this.fillURL):this.filledSVGCreation():f.trendFillPropertyGroup&&(f.trendFillPropertyGroup.parentNode.removeChild(f.trendFillPropertyGroup),f.trendFillPropertyGroup=null,f.fillTranslateGroup=null));(m||this.fill&&this.backFillPattern>v.getChromEnum("HmiFillPattern").Transparent)&&this.setStopElements()}this.currentTrendWindow}break;case y.BackColor:if(p=this.fillColor,d=v.getRGBAcolor(t),this.fillColor=d,this.fill)if(this.backFillPattern===v.getChromEnum("HmiFillPattern").Solid){for(this.fillURL=this.fillColor,n=[],l=this.thresholds.length,i=0;i<l;i++)if(this.thresholds[i].isNormal)if(this.trendStyle===D.Value){if(u=v.Features.Shape.SvgShape.GetElementsByClassName(b,i+"_dispValueRect_"+this.id,void 0))for(C(u,{fill:this.fillURL}),s=u.length,o=0;o<s;o++)n.push(u[o].nextSibling)}else f.trendFillPropertyGroup&&(u=v.Features.Shape.SvgShape.GetElementsByClassName(f.trendFillPropertyGroup,i+"_fillPolylineClass_"+this.id,void 0))&&C(u,{fill:this.fillURL});n.length&&C(n,{fill:v.Utilities.getContrastColor(this.fillColor)}),(u=b.getElementById("filltrendIndicator_"+this.id))&&u.setAttribute("fill",this.fillURL)}else if(this.setStopElements(),this.trendStyle===D.Value&&v.Utilities.getContrastColor(p)!==(d=v.Utilities.getContrastColor(this.fillColor))){for(n=[],l=this.thresholds.length,i=0;i<l;i++)if(this.thresholds[i].isNormal&&(u=v.Features.Shape.SvgShape.GetElementsByClassName(b,i+"_dispValueRect_"+this.id,void 0)))for(s=u.length,o=0;o<s;o++)n.push(u[o].nextSibling);n.length&&C(n,{fill:d})}this.currentTrendWindow;break;case y.AlternateBackColor:d=v.getRGBAcolor(t),this.alternateFillColor=d,this.backFillPattern>v.getChromEnum("HmiFillPattern").Transparent&&this.setStopElements();break;case y.QualityVisualizationVisible:this.qualityVisualizationVisible=t,this.trendStyle===D.Value||t?(this._trendLimitObj.createNewLinesCollection(),S.getDrawableTrendByName(this.name)&&this.drawTrend(!S.isOnline())):(f.qualityGroup&&f.qualityGroup.parentNode.removeChild(f.qualityGroup),f.qualityGroup=null);break;case y.UncertainQualityColor:d=v.getRGBAcolor(t),this.uncertainQualityColor=d,this.config.Visible&&this.updateColor(this.uncertainQualityMarkerId,this.thresholds.length,this.uncertainQualityColor);break;case y.BadQualityColor:d=v.getRGBAcolor(t),this.badQualityColor=d,this.config.Visible&&this.updateColor(this.badQualityMarkerId,this.thresholds.length+1,this.badQualityColor);break;case y.ThresholdBeginValue:case y.ThresholdEndValue:case y.ThresholdName:case y.ThresholdDisplayName:case y.ThresholdColor:case y.ThresholdMode:case y.ThresholdValue:break;default:this.updateProperty(e,t)}r=u=b=null},an.prototype.resetSVGGroup=function(){this.svgGroup={trendPropertyGroup:null,animationPathGroup:null,trendFillPropertyGroup:null,polyLineGroup:null,qualityGroup:null,translateGroup:null,dummyPolyLineGroup:null,dummyTranslateGroup:null,qualityPolyLineGroup:null,qualityTranslateGroup:null,qualityDummyPolyLineGroup:null,qualityDummyTranslateGroup:null,fillTranslateGroup:null,trendSvgContainer:null,trendPlaceHolder:null},this.tooltipFeature&&(this.tooltipFeature.dom=null)},an.prototype.clearPolylines=function(e){for(var t,i=e.length,r=0;r<i;r++)(t=e[r]).polyline&&(t.polyline.parentNode&&t.polyline.parentNode.removeChild(t.polyline),t.polyline=null),t.dummyPolyline&&(t.dummyPolyline.parentNode&&t.dummyPolyline.parentNode.removeChild(t.dummyPolyline),t.dummyPolyline=null),t.items=[],t=null},an.prototype.cleanUpChildObj=function(){this.svgGroup=this.templateTrendAttributes=this.templateMarkerAttributes=this.config=this.trendView=this.parentTrendWindow=this.currentTrendWindow=this.currentXAxis=this.currentYAxis=this.rulerControlData=this._trendLimitObj=this.thresholdParts=this.qualityVisualization=this.trendModeObj=this.thresholds=this.linesCollection=this.markerPositionsCollection=this.qualityLinesCollection=this.qualityMarkerPositionsCollection=this.pointsToAnimate=this.tagList=this.templateMarkerAttrCollection=this.templateTrendAttrCollection=this.tooltipFeature=null},t.TrendBase=an,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Data||(t.Data={}),nn.store=function(e,t){nn._storage[e]=t},nn.retrieve=function(e){var t=nn._storage[e];return nn.clear(e),t},nn.clear=function(e){nn._storage[e]&&(nn._storage[e]=null)},nn._storage={},t.TrendDataStore=nn,t.TrendData=function(e,t,i,r,a){this.linesCollection=[],this.qualityLinesCollection=[],this.boundingValue=null,this.markerPositionsCollection=[],this.qualityMarkerPositionsCollection=[],this.tagList=e,this.linesCollection=t,this.qualityLinesCollection=i,this.markerPositionsCollection=r,this.qualityMarkerPositionsCollection=a},t=(t=e=e||{}).Lib||(t.Lib={}),m=t.NVEs||(t.NVEs={}),k=m.ChartElements||(m.ChartElements={}),W=k.TrendBase,i(A,W),A.prototype.removeUnusedTimeValues=function(){var e,t,i,r,a,n=this.tagList,o=n.items,s=[],l=!1,u=!1,h=o.length;if(this.rangeType===this._rangeTypeEnum.PointCount){if(0<=(e=h-this.pointCount)){for(i=0;i<e&&(l||this.xminVal!==o[i].xTagValue&&this.xmaxVal!==o[i].xTagValue||(l=!0,!u))&&(u||this.ymaxVal!==o[i].yTagValue&&this.yminVal!==o[i].yTagValue||(u=!0,!l));i++);a=n.items[h-this.pointCount].timeStamp,n.removeItems(h-this.pointCount),t=!0}}else if(0!==o.length){if(a=(new Date).getTime()-this.axisTimeRange,0<(r=(s=this.tagList.removeBeforeTimeStamp(a)).length))for(this.tagList.items.length<1&&(a=(n=s[r-1]).timeStamp,this.tagList.addToBeginning(n),r--),i=0;i<r;i++)t=!0,l||this.xminVal!==s[i].xTagValue&&this.xmaxVal!==s[i].xTagValue||(l=!0),u||this.ymaxVal!==s[i].yTagValue&&this.yminVal!==s[i].yTagValue||(u=!0);s=[]}if(a&&t&&this.removePointsBeforeTimeStamp(a),(l||u)&&0<o.length)for(this.ymaxVal=this.yminVal=o[0].yTagValue,this.xmaxVal=this.xminVal=o[0].xTagValue,i=1;i<o.length;i++)this.yminVal>o[i].yTagValue&&(this.yminVal=o[i].yTagValue),this.ymaxVal<o[i].yTagValue&&(this.ymaxVal=o[i].yTagValue),this.xminVal>o[i].xTagValue&&(this.xminVal=o[i].xTagValue),this.xmaxVal<o[i].xTagValue&&(this.xmaxVal=o[i].xTagValue);return t},A.prototype.getXtagYtagPosition=function(e){null!==e.yTagValue&&(this.trendView.isLeftOrRight()?e.xTagPosition=this.getRoundedTagPosition(this._currentXAxis.getPositionFromValue(e.xTagValue)):e.yTagPosition=this.getRoundedTagPosition(this._currentXAxis.getPositionFromValue(e.xTagValue))),null!==e.xTagValue&&(this.trendView.isLeftOrRight()?e.yTagPosition=this.getRoundedTagPosition(this._currentYAxis.getPositionFromValue(e.yTagValue)):e.xTagPosition=this.getRoundedTagPosition(this._currentYAxis.getPositionFromValue(e.yTagValue)))},A.prototype._recalculateTagList=function(e){var t,i,r,a=e.items;for(this._clearNewPointsFromItems(a),i=a.length,t=0;t<i;++t)r=a[t],this.getXtagYtagPosition(r);this._recalculateNewTagList(a)},A.prototype._clearNewPointsFromItems=function(e){for(var t=e.length,i=0;i<t;++i)e[i].isNewConnectingPoint&&(e.splice(i,1),i--,t--)},A.prototype._recalculateNewTagList=function(e){for(var t,i,r=e.length,a=!1,n=!1,o=!1,s=0;s<r;++s)(t=e[s]).yTagPosition<-A.POLYLINE_LENGTH_LIMIT?(i=-A.POLYLINE_LENGTH_LIMIT,a=e[s+1]&&e[s+1].yTagPosition>i,n=e[s-1]&&e[s-1].yTagPosition>i,o=!0):t.yTagPosition>A.POLYLINE_LENGTH_LIMIT&&(i=A.POLYLINE_LENGTH_LIMIT,a=e[s+1]&&e[s+1].yTagPosition<i,n=e[s-1]&&e[s-1].yTagPosition<i,o=!0),o&&(s=this._calculateNewPoints(s,e,i,a,n,!1),r=e.length,o=!1);for(s=0;s<r;++s)(t=e[s]).xTagPosition<-A.POLYLINE_LENGTH_LIMIT?(i=-A.POLYLINE_LENGTH_LIMIT,a=e[s+1]&&e[s+1].xTagPosition>i,n=e[s-1]&&e[s-1].xTagPosition>i,o=!0):t.xTagPosition>A.POLYLINE_LENGTH_LIMIT&&(i=A.POLYLINE_LENGTH_LIMIT,a=e[s+1]&&e[s+1].xTagPosition<i,n=e[s-1]&&e[s-1].xTagPosition<i,o=!0),o&&(s=this._calculateNewPoints(s,e,i,a,n,!0),r=e.length,o=!1)},A.prototype._resetMinMaxValues=function(){var e,t,i=this.tagList.items.length;for(this.yminVal=null,this.xmaxVal=null,this.xminVal=null,this.ymaxVal=null,t=0;t<i;t++)e=this.tagList.items[t],this.setXYminMaxValue(e)},A.prototype.setXYminMaxValue=function(e){(e.yTagValue<this.yminVal||null===this.yminVal)&&(this.yminVal=e.yTagValue),(e.yTagValue>this.ymaxVal||null===this.ymaxVal)&&(this.ymaxVal=e.yTagValue),(e.xTagValue<this.xminVal||null===this.xminVal)&&(this.xminVal=e.xTagValue),(e.xTagValue>this.xmaxVal||null===this.xmaxVal)&&(this.xmaxVal=e.xTagValue)},A.prototype._calculateNewPoints=function(e,t,i,r,a,n){var o=null,s=null,l=t.length,u=t[e];return 1<l&&(0===e?r&&(s=this._getNewPointForXYTag(u,t[e+1],i,n)):0<e&&e+1<l?(a&&(o=this._getNewPointForXYTag(u,t[e-1],i,n)),r&&(s=this._getNewPointForXYTag(u,t[e+1],i,n))):a&&(o=this._getNewPointForXYTag(u,t[e-1],i,n)),null!==o&&null!==s?(t[e].xTagPosition=o.xTagPosition,t[e].yTagPosition=o.yTagPosition,t.splice(e+1,0,s),s.isNewConnectingPoint=!0,e++):null!==o?(t[e].xTagPosition=o.xTagPosition,t[e].yTagPosition=o.yTagPosition):null!==s&&(t[e].xTagPosition=s.xTagPosition,t[e].yTagPosition=s.yTagPosition)),s=o=null,e},A.prototype._getNewPointForXYTag=function(e,t,i,r){var a,n,o,s,l,u,h,d=new k.Point,c=!1,c=e.xTagPosition>t.xTagPosition?(n=e.xTagPosition,o=t.xTagPosition,e.yTagPosition>t.yTagPosition?(s=e.yTagPosition,l=t.yTagPosition,!0):(l=e.yTagPosition,s=t.yTagPosition,!1)):(o=e.xTagPosition,n=t.xTagPosition,e.yTagPosition>t.yTagPosition?(s=e.yTagPosition,l=t.yTagPosition,!1):(l=e.yTagPosition,s=t.yTagPosition,!0));return r?(a=i,h=l+(u=c?a-o:n-a)*(s-l)/(n-o)):(u=((h=i)-l)*(n-o)/(s-l),a=c?o+u:n-u),d.yTagValue=e.yTagValue,d.xTagValue=e.xTagValue,d.xTagPosition=a,d.yTagPosition=h,d.qualityCode=e.qualityCode,d.timeStamp=e.timeStamp,d},A.prototype.getPointWidth=function(){var e,t=m.getChromEnum("HmiMarkerType");switch(this.pointStyle){case t.Point:e=1;break;case t.None:e=0;break;case t.Square:case t.Circle:e=this.pointWidth}return e},A.prototype.getWidth=function(){return 0<this.lineWidth&&this.trendStyle!==this._trendMode.Points?this.lineWidth:this.getPointWidth()},A.prototype._isAnimationNeeded=function(){var e=this.pointsToAnimate[0],t=this.pointsToAnimate[1],i=!1;return 5<Math.abs(t.xTagPosition-e.xTagPosition)||5<Math.abs(t.yTagPosition-e.yTagPosition)?i=!0:(this.pointsToAnimate=[],this.linesCollection.length&&(this.trendModeObj.recalculateInterimPoints(),this.trendModeObj.updateTrend(!0))),i},A.prototype.clearTagList=function(e){e?(this.tagList.removeBeforeTimeStamp(this.clearTagListBeforeTimeStamp),this.removePointsBeforeTimeStamp(this.clearTagListBeforeTimeStamp),this.clearTagListBeforeTimeStamp=!1,this.xminVal=null,this.xmaxVal=0,this.yminVal=null,this.ymaxVal=0,this.yminValTemp=null,this.ymaxValTemp=null,this.xminValTemp=null,this.xmaxValTemp=null):(this.tagList.items=[],this.xminVal=null,this.xmaxVal=0,this.yminVal=null,this.ymaxVal=0,this.yminValTemp=null,this.ymaxValTemp=null,this.xminValTemp=null,this.xmaxValTemp=null,this.clearTagListBeforeTimeStamp=!1,this.clearTagListOnDataReceived=!1,this.clearPolylines(this.linesCollection),this.linesCollection=[],this.markerPositionsCollection=[],this.qualityLinesCollection=[],this.qualityMarkerPositionsCollection=[],this.pointsToAnimate=[],this._trendLimitObj.clearTagList(),this.trendView.removeFromUndrawnData(this.partId),this.trendView.trendControlAnimator.removeTrendAnimation(this.name)),this.lastTime=[]},A.prototype.tryFillDisplayName=function(){var e=!0;return""===this.displayName&&(""!==this.dataSourceX.Tag&&""!==this.dataSourceY.Tag?this.trendDisplayText=this.dataSourceX.TagDisplayName+","+this.dataSourceY.TagDisplayName:e=!1),e},A.prototype.requestHistoricalData=function(e){var t,i,r=[],a=[],n=[],o=0,s=0,l=0,u=[],h=[];this.dataSourceX.Tag&&this.dataSourceY.Tag&&(this.clearTagListOnDataReceived=!0,i=this.calculateTimeRange(),i=(t=this.trendView.online?(new Date).getTime():this.rangeType===m.getChromEnum("HmiTimeRangeType").FromBeginToEnd?this.axisEndValue:this.isStartTimeModified?this.axisBeginValue+i:this.axisEndValueOnPaused)-i,l=this.rangeType===m.getChromEnum("HmiTimeRangeType").PointCount?(o=this.pointCount,this.trendView.online?(s=0,(t+m.TrendViewBase.EPOCH_DIFFERENCE)*m.TrendViewBase.TICKS_PER_MILLISECOND):(s=(i+m.TrendViewBase.EPOCH_DIFFERENCE)*m.TrendViewBase.TICKS_PER_MILLISECOND,0)):(s=(i+m.TrendViewBase.EPOCH_DIFFERENCE)*m.TrendViewBase.TICKS_PER_MILLISECOND,(t+m.TrendViewBase.EPOCH_DIFFERENCE)*m.TrendViewBase.TICKS_PER_MILLISECOND),r.push(s),r.push(s),a.push(l),a.push(l),u.push(o),u.push(o),n.push(this.dataSourceX.Tag),n.push(this.dataSourceY.Tag),h.push(this.partId),h.push(this.partId)),n.length&&(e?this.trendView.dp.addRequest(r,a,u,n,h,m.Data.BoundingFlags.NoBounding,!0,!0,e):this.trendView.dp.addRequest(r,a,u,n,h,m.Data.BoundingFlags.NoBounding,!0,void 0,e))},A.prototype.getBeginTimeUTC=function(e){e=!this.loadDataImmediately&&this.bufferTime>e?(this.bufferTime+m.TrendViewBase.EPOCH_DIFFERENCE)*m.TrendViewBase.TICKS_PER_MILLISECOND:(e+m.TrendViewBase.EPOCH_DIFFERENCE)*m.TrendViewBase.TICKS_PER_MILLISECOND;return e},A.prototype.invalidate=function(){var e,t=this.tagList.items,i=t.length,r=t[i-1],a=this.tagList.findIndexByTimeStamp(r.timeStamp),n=this.currentTrendWindow.getRect().left+this._currentXAxis.getPositionFromValue(r.xTagValue);-1!==a&&null!==(e=t[a]).yTagValue&&(e.xTagPosition=n),r=t[i-1],a=this.tagList.findIndexByTimeStamp(r.timeStamp),n=this.currentTrendWindow.getRect().top+this._currentYAxis.getPositionFromValue(r.yTagValue),-1!==a&&null!==(e=t[a]).xTagValue&&(e.yTagPosition=n)},A.prototype.calculateRulerValue=function(e){var t,i,r,a,n,o,s,l=m.getChromEnum("HmiTrendCompanionMode");if(this.trendView.trendCompanionMode===l.Ruler&&e){for(t=this._currentXAxis.getValueFromPosition(e.rulerPos.xPos),i=this._currentYAxis.getValueFromPosition(e.rulerPos.yPos),l=(this.getPointWidth()||1)/2,o=this._currentXAxis.pixelRangeToValueRange(l),s=this._currentYAxis.pixelRangeToValueRange(l),n=(r=(this.trendView.online?this.tagList:this.oldTagList).items).length-1;0<=n;n--)if((a=r[n]).xTagValue>t-o&&a.xTagValue<t+o&&a.yTagValue>i-s&&a.yTagValue<i+s)return this.rulerControlData.interpolationFlag=!1,this.rulerControlData.xValue=a.xTagValue,void(this.rulerControlData.yValue=a.yTagValue);this.rulerControlData.interpolationFlag=!0,this.rulerControlData.xValue=t,this.rulerControlData.yValue=i}},A.prototype.onTagListChanged=function(e,t,i){var r,a,n,o,s=this.tagList.items,l={updateRequiredX:!1,updateRequiredY:!1},u=!1,h=!1,d=[],c=!1,p=0;if(t?0<s.length&&(p=s[s.length-1].timeStamp):(this.clearTagListOnDataReceived?(this.clearTagList(),this.clearTagListOnDataReceived=!1,s=this.tagList.items):this.clearTagListBeforeTimeStamp&&0<e.length&&(this.clearTagListBeforeTimeStamp=e[e.length-1].timeStamp+1,this.clearTagList(!0),this._resetMinMaxValues()),this.clearTagListBeforeTimeStamp=!1,0<s.length&&(p=s[s.length-1].timeStamp,c=e[0].timeStamp<s[0].timeStamp),!1===c&&this._trendLimitObj.setLimitBools()),!t&&c){for(o=s[0].timeStamp,this._trendLimitObj.setLimitBools(c),r=e.length-1;0<=r&&!(-1===this.tagList.findIndexByTimeStamp(e[r].timeStamp)&&e[r].timeStamp<o);--r);for(;0<=r;--r)(a=new k.Point).timeStamp=e[r].timeStamp,a.xTagValue=e[r].xTagValue,a.yTagValue=e[r].yTagValue,a.qualityCode=e[r].qualityCode,this.setXYminMaxValue(a),this.tagList.addToBeginning(a),this._trendLimitObj.addLimitValuePointsBegin(a,0),this.qualityVisualizationVisible&&this._trendLimitObj.addQualityVisualizationPointsBegin(a),a=null;(this.yminVal<this._currentYAxis.currentBeginValue||this.ymaxVal>this._currentYAxis.currentEndValue)&&(h=!0),(this.xminVal<this._currentXAxis.currentBeginValue||this.xmaxVal>this._currentXAxis.currentEndValue)&&(u=!0),this._trendLimitObj.setLimitBools()}else{for(r=0<s.length?0:((a=new k.Point).timeStamp=e[0].timeStamp,a.xTagValue=e[0].xTagValue,a.yTagValue=e[0].yTagValue,a.qualityCode=e[0].qualityCode,this.yminVal=this.ymaxVal=a.yTagValue,this.xminVal=this.xmaxVal=a.xTagValue,u=h=!0,this.tagList.add(a),d.push(a),this._trendLimitObj.addLimitValuePoints(a,void 0,!1),this.qualityVisualizationVisible&&this._trendLimitObj.addQualityVisualizationPoints(a),1);r<e.length;++r){if(e[r].timeStamp<=p&&i!==m.Data.FunctionTrendDataStatus.tagXYRecieved)for(n=s.length-1;0<=n;n--)if(e[r].timeStamp===s[n].timeStamp){a=s[n],i===m.Data.FunctionTrendDataStatus.tagXRecieved?a.xTagValue=e[r].xTagValue:i===m.Data.FunctionTrendDataStatus.tagYRecieved&&(a.yTagValue=e[r].yTagValue);break}(!a||e[r].timeStamp>p)&&(a=new k.Point,this.tagList.add(a),this._trendLimitObj.addLimitValuePoints(a,void 0,!1),this.qualityVisualizationVisible&&this._trendLimitObj.addQualityVisualizationPoints(a),a.timeStamp=e[r].timeStamp,a.xTagValue=e[r].xTagValue,a.yTagValue=e[r].yTagValue,a.qualityCode=e[r].qualityCode),a.yTagValue<this.yminVal&&(this.yminVal=a.yTagValue),a.yTagValue>this.ymaxVal&&(this.ymaxVal=a.yTagValue),a.xTagValue<this.xminVal&&(this.xminVal=a.xTagValue),a.xTagValue>this.xmaxVal&&(this.xmaxVal=a.xTagValue),t&&this.trendView.online&&(this.trendStyle===this._trendMode.Points?d.push(a):1<s.length&&(0===this.pointsToAnimate.length&&this.pointsToAnimate.push(s[s.length-2]),this.pointsToAnimate.push(a)))}(this.yminVal<this._currentYAxis.currentBeginValue||this.ymaxVal>this._currentYAxis.currentEndValue)&&(h=!0),(this.xminVal<this._currentXAxis.currentBeginValue||this.xmaxVal>this._currentXAxis.currentEndValue)&&(u=!0)}return 0<this.pointsToAnimate.length?this._isAnimationNeeded()&&(this._recalculateTagList({items:this.pointsToAnimate}),this.trendModeObj.animateTrend(this.createAnimTrendObject())):0<d.length&&(this._recalculateTagList({items:d}),this.linesCollection.length)&&(1<this.linesCollection.length&&this.trendModeObj.recalculateInterimPoints(),this.trendModeObj.updateTrend(!0)),l.updateRequiredX=u,l.updateRequiredY=h,a=d=null,l},A.prototype.draw=function(e,t){if(this.metaData=t,void 0===this.dom)this.dom=document.createElementNS("http://www.w3.org/2000/svg","g");else for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);return this.drawTrend(this.trendView.trendTagListsSaved),this.dom},A.prototype.redraw=function(e,t){this.draw(e,t)},A.prototype.clearNewPoints=function(){for(var e,t=this.linesCollection.length,i=0;i<t;i++)e=this.linesCollection[i].items,this._clearNewPointsFromItems(e)},A.prototype.recalculateNewPoints=function(){for(var e,t=this.linesCollection.length,i=0;i<t;i++)e=this.linesCollection[i].items,this._recalculateNewTagList(e)},A.prototype.createAnimTrendObject=function(){var e={id:"animated_polyline_"+this.id+Date.now(),animatedTrend:!0,trendStyle:this._trendMode.Interpolated,trendLimitObject:null,tagList:new m.Data.GenericList,linesCollection:[],markerPositionsCollection:[],lastTime:[],points:[],midMarkerURLsArray:[],color:this.color,pointStyle:m.getChromEnum("HmiMarkerType").None,_trendMode:this._trendMode,trendView:this.trendView,_isLeftOrRight:this.trendView.isLeftOrRight(),svgGroup:{trendPropertyGroup:null,animationPathGroup:null,trendFillPropertyGroup:null,polyLineGroup:null,qualityGroup:null,translateGroup:null,dummyPolyLineGroup:null,dummyTranslateGroup:null,qualityPolyLineGroup:null,qualityTranslateGroup:null,qualityDummyPolyLineGroup:null,qualityDummyTranslateGroup:null,fillTranslateGroup:null},thresholdParts:this.thresholdParts,thresholdFills:[""],currentTrendWindow:this.currentTrendWindow,recalculateTagList:function(e){for(var t=this.linesCollection.length,i=0;i<t;i++)e._recalculateTagList(this.linesCollection[i])},cleanUp:function(){for(var e,t=this.linesCollection.length,i=0;i<t;i++)(e=this.linesCollection[i]).polyline&&(e.polyline.parentNode&&e.polyline.parentNode.removeChild(e.polyline),e.polyline=null),e.dummyPolyline&&(e.dummyPolyline.parentNode&&e.dummyPolyline.parentNode.removeChild(e.dummyPolyline),e.dummyPolyline=null),e.items=[],e=null;this.tagList.clear(),this.tagList=this.linesCollection=this.lastTime=this.midMarkerURLsArray=this.currentTrendWindow=this.trendView=this.svgGroup.trendPropertyGroup=this.svgGroup.animationPathGroup=this.svgGroup.trendFillPropertyGroup=this.svgGroup.polyLineGroup=this.svgGroup.qualityGroup=this.svgGroup.translateGroup=this.svgGroup.dummyPolyLineGroup=this.svgGroup.dummyTranslateGroup=this.svgGroup.qualityPolyLineGroup=this.svgGroup.qualityTranslateGroup=this.svgGroup.qualityDummyPolyLineGroup=this.svgGroup.qualityDummyTranslateGroup=this.svgGroup.trendSvgContainer=this.svgGroup.trendPlaceHolder=this.svgGroup.fillTranslateGroup=this.svgGroup=this.markerPositionsCollection=this.thresholdFills=this.thresholdParts=this.trendLimitObject=null}};return e.trendLimitObject=new k.TrendLimits(e),e.trendLimitObject.initialize(),e.midMarkerURLsArray=new Array(e.midMarkerURLsArray.length+1).join(" none").split(" ").slice(1),e},A.prototype.createPointCollection=function(e){var t,i,r,a,n,o,s,l,u,h="",d="",c="",p="";for(this.numberOfPoints=0,this.numberOfDummyPoints=0,this.numberOfQualityPoints=0,this.numberOfQualityDummyPoints=0,e?u=(t=this.oldTagList.items)[t.length-1]:0<this.lastTime.length&&(o=this.lastTime[0]),s=this.linesCollection.length,l=0;l<s;l++){for(i=(t=(r=this.linesCollection[l]).items).length,a=0;a<i;++a){if(null===(n=t[a]).xTagPosition||null===n.yTagPosition)return;if(n.timeStamp>o)break;if(n.xTagPosition<-A.POLYLINE_LENGTH_LIMIT?n.xTagPosition=-A.POLYLINE_LENGTH_LIMIT:n.xTagPosition>A.POLYLINE_LENGTH_LIMIT&&(n.xTagPosition=A.POLYLINE_LENGTH_LIMIT),n.yTagPosition<-A.POLYLINE_LENGTH_LIMIT?n.yTagPosition=-A.POLYLINE_LENGTH_LIMIT:n.yTagPosition>A.POLYLINE_LENGTH_LIMIT&&(n.yTagPosition=A.POLYLINE_LENGTH_LIMIT),h+=n.xTagPosition+","+n.yTagPosition+" ",this.trendStyle===this._trendMode.Stepped&&(d+=n.xTagPosition+","+n.yTagPosition+" ",t[a+1])&&u!==n&&(d+=t[a+1].xTagPosition+","+n.yTagPosition+" "),u===n){l=s;break}}r.points=h,r.dummyPoints=d,this.numberOfPoints++,this.numberOfDummyPoints++,d=h=""}if(n&&!this.animatedTrend&&(this._lastPointAddedToPoints=n),this.qualityVisualizationVisible)for(s=this.qualityLinesCollection.length,l=0;l<s;l++){for(i=(t=(r=this.qualityLinesCollection[l]).items).length,a=0;a<i&&!((n=t[a]).timeStamp>o);++a)if(c+=n.xTagPosition+","+n.yTagPosition+" ",this.trendStyle===this._trendMode.Stepped&&(p+=n.xTagPosition+","+n.yTagPosition+" ",t[a+1])&&u&&u.timeStamp!==n.timeStamp&&(p+=t[a+1].xTagPosition+","+n.yTagPosition+" "),u&&u.timeStamp===n.timeStamp){l=s;break}r.points=c,r.dummyPoints=p,this.numberOfQualityPoints++,this.numberOfQualityDummyPoints++,p=c=""}},A.prototype.getValueAxisScaleType=function(){return this._currentXAxis.scalingType},A.prototype.recalculateX=function(e){var t,i,r,a,n,o,s;for(e&&(s=this.oldTagList.items[this.oldTagList.items.length-1]),i=this.linesCollection.length,a=0;a<i;a++)for(n=(t=this.linesCollection[a].items).length,o=0;o<n;++o)if(null!==(r=t[o]).yTagValue&&(this.trendView.isLeftOrRight()?r.xTagPosition=this.getRoundedTagPosition(this._currentXAxis.getPositionFromValue(r.xTagValue)):r.yTagPosition=this.getRoundedTagPosition(this._currentXAxis.getPositionFromValue(r.xTagValue))),s&&s===r)return void(r=s=null)},A.prototype.getXStartValue=function(){return!this.trendView.online&&this.xminValTemp||this.xminVal},A.prototype.getYStartValue=function(){return!this.trendView.online&&this.yminValTemp||this.yminVal},A.prototype.getYEndValue=function(){return!this.trendView.online&&this.ymaxValTemp||this.ymaxVal},A.prototype.getXEndValue=function(){return!this.trendView.online&&this.xmaxValTemp||this.xmaxVal},A.prototype.recalculateY=function(e){var t,i,r,a,n,o,s;for(e&&(a=this.oldTagList.items[this.oldTagList.items.length-1]),i=this.linesCollection.length,n=0;n<i;n++)for(o=(t=this.linesCollection[n].items).length,s=0;s<o;++s)if(null!==(r=t[s]).xTagValue&&(this.trendView.isLeftOrRight()?r.yTagPosition=this.getRoundedTagPosition(this._currentYAxis.getPositionFromValue(r.yTagValue)):r.xTagPosition=this.getRoundedTagPosition(this._currentYAxis.getPositionFromValue(r.yTagValue))),a&&a===r)return void(r=a=null)},A.prototype.saveTagList=function(){var e,t=this.tagList.items.length;if(this.trendView.online)this.yminValTemp=null,this.ymaxValTemp=null,this.xminValTemp=null,this.xmaxValTemp=null,this.oldTagList.clear();else for(this.xminValTemp=this.xminVal,this.xmaxValTemp=this.xmaxVal,this.yminValTemp=this.yminVal,this.ymaxValTemp=this.ymaxVal,e=0;e<t;e++)this.oldTagList.update(this.tagList.items[e],e)},A.prototype.updateProperty=function(e,t){var i,r,a=m.Data.TrendPropId;switch(e){case a.RangeType:this.rangeType=t,this.handleRangeType();break;case a.TrendMode:this.handleTrendMode(t);break;case a.XValueAxis:this.handleXValueAxis(!0,void 0,void 0,t);break;case a.YValueAxis:this.handleYValueAxis(!0,void 0,void 0,t);break;case a.PointCount:this.handlePointCount(t);break;case a.BeginTime:"string"==typeof t?(t=new Date(t).getTime(),i=window.DatePrecise(t).getHrTime()):(i=(r=window.DatePrecise(t)).getHrTime(),t=r.getTime()),this.isStartTimeModified=!0,this.trendView.beginTimePropertyChanged=!0,this.config.BeginTime=i,this.axisBeginValue=t,this.handleAxisTimeRange();break;case a.EndTime:"string"==typeof t?(t=new Date(t).getTime(),i=window.DatePrecise(t).getHrTime()):(i=(r=window.DatePrecise(t)).getHrTime(),t=r.getTime()),this.config.EndTime=i,this.axisEndValue=t,this.handleAxisTimeRange();break;case a.TimeRangeBase:this.handleTimeRangeBase(t);break;case a.TimeRangeFactor:this.handleTimeRangeFactor(t);break;case a.TagNameX:this.handleTagNameX(t);break;case a.TagNameY:this.handleTagNameY(t)}},A.prototype.handleTagNameY=function(e){(e=0!==e&&"*"!==e?e:"")!==this.dataSourceY.Tag&&(""!==this.bufferCpmPathY&&(this.cpmPathY=this.bufferCpmPathY,this.bufferCpmPathY=""),this.dataSourceY.Tag=this.dataSourceY.TagDisplayName=e,this.config.DataSourceY.Source=e,this.updateTrendDisplayText(),this.clearTagList(),this.trendView.getDrawableTrendByName(this.name))&&this.partId&&(""!==this.dataSourceX.Tag&&""!==this.dataSourceY.Tag&&(this.requestHistoricalData(!0),m.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),this.drawTrend(!this.trendView.online))},A.prototype.handleTagNameX=function(e){(e=0!==e&&"*"!==e?e:"")!==this.dataSourceX.Tag&&(""!==this.bufferCpmPathX&&(this.cpmPathX=this.bufferCpmPathX,this.bufferCpmPathX=""),this.dataSourceX.Tag=this.dataSourceX.TagDisplayName=e,this.config.DataSourceX.Source=e,this.updateTrendDisplayText(),this.clearTagList(),this.trendView.getDrawableTrendByName(this.name))&&this.partId&&(""!==this.dataSourceX.Tag&&""!==this.dataSourceY.Tag&&(this.requestHistoricalData(!0),m.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),this.drawTrend(!this.trendView.online))},A.prototype.handleTimeRangeFactor=function(e){this.config.TimeRangeFactor=parseInt(e,10),this.rangeType===this._rangeTypeEnum.TimeRange&&(this.axisTimeRange=this.calculateTimeRange(),this.requestHistoricalData(),m.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0)},A.prototype.handleTimeRangeBase=function(e){this.config.TimeRangeBase=e||m.Data.RangeBase.Minute,this.rangeType===this._rangeTypeEnum.TimeRange&&(this.axisTimeRange=this.calculateTimeRange(),this.requestHistoricalData(),m.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0)},A.prototype.handleAxisTimeRange=function(){this.trendView.online&&(this.trendView.dp.pauseControl(),this.trendView.online=!1,this.trendView.setStartStop()),this.rangeType===this._rangeType.FromBeginToEnd&&(this.axisTimeRange=this.axisEndValue-this.axisBeginValue),this.requestHistoricalData(),m.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0},A.prototype.handlePointCount=function(e){this.trendView.isOnline()&&1===this.config.PointCount&&(this.boundingValue=null),this.pointCount=parseInt(e,10),this.rangeType===this._rangeTypeEnum.PointCount&&(this.requestHistoricalData(),m.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0)},A.prototype.handleYValueAxis=function(e,t,i,r){t=!1,this.trendView.trendControlAnimator.removeTrendAnimation(this.name),"string"==typeof r?(this.yAxis=r,i=this.parentTrendWindow.getYAxisByName(r)):"number"==typeof r&&(this.yAxisPartId!==r?(this.yAxisPartId=r,i=this.trendView.getYAxisByPartId(r),this.yAxis=i?i.config.Name:""):e=!1),e&&(this._currentYAxis&&(t=!0,this.currentYAxis=this._currentYAxis=null),i?(this.currentYAxis=this._currentYAxis=i,t||this.trendView.setDrawableTrends(),i.invalidate(!1,!0)):t&&(this===this.trendWindow.selectedTrend&&this.parentTrendWindow.removeSelectedTrend(),this.trendView.removeFromUndrawnData(this.partId),this.trendView.setDrawableTrends(),!1===this.trendView.allAreasDrawn)&&this.parentTrendWindow.drawableTrends.length<4&&this.trendView.isLeftOrRight()&&(m.Data.PostPropertyUpdate.CreateDrawableCollection=!0),m.Data.PostPropertyUpdate.Redraw=!0)},A.prototype.handleXValueAxis=function(e,t,i,r){t=!1,this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.lastTime=[],"string"==typeof r?(i=this.parentTrendWindow.getXAxisByName(r),this.xAxis=r):"number"==typeof r&&(this.xAxisPartId!==r?(this.xAxisPartId=r,i=this.trendView.getXAxisByPartId(r),this.xAxis=i?i.config.Name:""):e=!1),e&&(this._currentXAxis&&(t=!0,this.currentXAxis=this._currentXAxis=null),i?(this.currentXAxis=this._currentXAxis=i,t||this.trendView.setDrawableTrends(),i.invalidate(!1,!0)):t&&(this===this.trendWindow.selectedTrend&&this.parentTrendWindow.removeSelectedTrend(),this.trendView.removeFromUndrawnData(this.partId),this.trendView.setDrawableTrends(),!1===this.trendView.allAreasDrawn)&&this.parentTrendWindow.drawableTrends.length<4&&this.trendView.isLeftOrRight()&&(m.Data.PostPropertyUpdate.CreateDrawableCollection=!0),m.Data.PostPropertyUpdate.Redraw=!0)},A.prototype.handleTrendMode=function(e){e>=this._trendMode.Bar&&(e=this._trendMode.Interpolated),this.config.TrendMode=e,void 0===this.templateTrendAttributes.interpolation&&(this.trendStyle=e,this.trendStyle===this._trendMode.Points&&(this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.lastTime=[]),this._trendLimitObj.createNewLinesCollection(),this.trendView.getDrawableTrendByName(this.name))&&this.drawTrend(!this.trendView.online)},A.prototype.handleRangeType=function(){switch(this.rangeType){case this._rangeType.TimeRange:this.axisTimeRange=this.calculateTimeRange();break;case this._rangeType.FromBeginToEnd:this.axisTimeRange=this.axisEndValue-this.axisBeginValue||m.Data.FileTime.Sec,this.trendView.online&&(this.trendView.dp.pauseControl(),this.trendView.online=!1,this.trendView.setStartStop())}this.requestHistoricalData(),m.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0},A.prototype.matchAxis=function(e){var t;return e.axisType===this.trendView.axisTypeEnum.xAxis?(t=this.config.XValueAxis,this._isDrawableXAxis(t,e)):(t=this.config.YValueAxis,this._isDrawableYAxis(t,e))},A.prototype._isDrawableXAxis=function(e,t){var i=!1;return this.currentXAxis||""===e||("string"==typeof e&&e===t.config.Name||"number"==typeof e&&e===t.config.ElementID)&&(this.xAxis=t.config.Name,this.currentXAxis=this._currentXAxis=t,this.visibility)&&this.currentYAxis&&(i=!0),i},A.prototype._isDrawableYAxis=function(e,t){var i=!1;return this.currentYAxis||""===e||("string"==typeof e&&e===t.config.Name||"number"==typeof e&&e===t.config.ElementID)&&(this.yAxis=t.config.Name,this.currentYAxis=this._currentYAxis=t,this.visibility)&&this.currentXAxis&&(i=!0),i},A.prototype.drawTrend=function(e){this.trendModeObj.renderTrend(e),0<this.tagList.items.length&&this.trendView.isStyleChange()&&(this._currentXAxis.invalidate(!1,!0),this._currentYAxis.invalidate(!1,!0))},A.prototype.calculateTimeRange=function(e){var t;if(!e&&this.rangeType===this._rangeType.FromBeginToEnd)return this.axisEndValue-this.axisBeginValue;switch(this.config.TimeRangeBase===m.Data.RangeBase.Undefined&&(this.config.TimeRangeBase=m.Data.RangeBase.Minute),this.config.TimeRangeBase){case 1:case"1":t=m.Data.FileTime.MS;break;case 2:case"2":t=m.Data.FileTime.Sec;break;case 3:case"3":t=m.Data.FileTime.Minute;break;case 4:case"4":t=m.Data.FileTime.Hour;break;case 5:case"5":t=m.Data.FileTime.Day;break;case 6:case"6":t=m.Data.FileTime.Month;break;case 7:case"7":t=m.Data.FileTime.Year}return t*this.config.TimeRangeFactor},A.prototype.initialize=function(e,t,i){this.baseInitialize(e,i,t),this.trendStyle>=m.getChromEnum("HmiTrendMode").Bar&&(this.trendStyle=m.getChromEnum("HmiTrendMode").Interpolated),this.trendModeObj=new k.LinearStepMode(this),this.viewBoxDim=parseInt(this.pointWidth,10)+1,this.dataSourceXProp=this.config.DataSourceX,this.dataSourceX.Tag=this.dataSourceXProp.Source,""===this.dataSourceX.Tag?this.dataSourceX.TagDisplayName="":this.dataSourceX.TagDisplayName="...",this.dataSourceYProp=this.config.DataSourceY,this.dataSourceY.Tag=this.dataSourceYProp.Source,""===this.dataSourceY.Tag?this.dataSourceY.TagDisplayName="":this.dataSourceY.TagDisplayName="...",this.xAxisPartId=null,this.yAxisPartId=null,this.cpmPathX="",this.cpmPathY="",this.bufferCpmPathX="",this.bufferCpmPathY="","string"==typeof(e=this.config.XValueAxis)?(this.xAxis=e,e=t.getXAxisByName(e)):"number"==typeof e&&(this.xAxisPartId=e,e=t.getXAxisByPartId(e),this.xAxis=e?e.config.Name:""),this.currentXAxis=this._currentXAxis=e,"string"==typeof(e=this.config.YValueAxis)?(this.yAxis=e,e=t.getYAxisByName(e)):"number"==typeof e&&(this.yAxis=e,e=t.getYAxisByPartId(e),this.yAxis=e?e.config.Name:""),this.currentYAxis=this._currentYAxis=e,this.rulerControlData={},this.rangeType=this.config.RangeType,this.config.TimeRangeBase===m.Data.RangeBase.Undefined&&(this.config.TimeRangeBase=m.Data.RangeBase.Minute),this.axisBeginValue=new window.DatePrecise(this.config.BeginTime).getTime(),this.axisEndValue=new window.DatePrecise(this.config.EndTime).getTime(),i=this.calculateTimeRange(!0),0===this.axisBeginValue?(this.axisEndValue=0===this.axisEndValue?(new Date).getTime():this.axisEndValue,this.axisBeginValue=this.axisEndValue-i):this.axisEndValue=0!==this.axisEndValue?this.axisEndValue:this.axisBeginValue+i,this.config.RangeType===m.getChromEnum("HmiTimeRangeType").TimeRange?this.axisTimeRange=this.calculateTimeRange():this.axisTimeRange=this.axisEndValue-this.axisBeginValue||m.Data.FileTime.Sec,this.trendView.online||(this.axisEndValueOnPaused=(new Date).getTime()),this.oldTagList=new m.Data.GenericList,this.pointCount=this.config.PointCount,this.loadDataImmediately=this.config.ShowLoggedDataImmediately,this.loadDataImmediately||(this.bufferTime=(new Date).getTime()),this.tagList=new m.Data.GenericList,this._trendLimitObj=new k.TrendLimits(this),this._trendLimitObj.initialize(),this.RetrieveCachedTrendData()},A.prototype.resetMinAndMaxValue=function(e){var t,i,r,a=this.getValueAxisScaleType(),n=this.tagList.items;if(e===this.trendView.axisTypeEnum.xAxis)for(this.xminVal=this.xmaxVal=null,t=n.length,i=0;i<t;i++)r=n[i],(a===this._scalingType.Linear||a===this._scalingType.Logarithmic&&0<r.xTagValue||a===this._scalingType.NegativeLogarithmic&&r.xTagValue<0)&&((r.xTagValue<this.xminVal||null===this.xminVal)&&(this.xminVal=r.xTagValue),r.xTagValue>this.xmaxVal||null===this.xmaxVal)&&(this.xmaxVal=r.xTagValue);else for(this.yminVal=this.ymaxVal=null,t=n.length,i=0;i<t;i++)r=n[i],(a===this._scalingType.Linear||a===this._scalingType.Logarithmic&&0<r.yTagValue||a===this._scalingType.NegativeLogarithmic&&r.yTagValue<0)&&((r.yTagValue<this.yminVal||null===this.yminVal)&&(this.yminVal=r.yTagValue),r.yTagValue>this.ymaxVal||null===this.ymaxVal)&&(this.ymaxVal=r.yTagValue)},A.prototype.retrieveCachedMinMax=function(e){this.xminVal=e.xMinVal,this.xmaxVal=e.xMaxVal,this.yminVal=e.yMinVal,this.ymaxVal=e.yMaxVal},A.prototype.getExportData=function(){var e,t,i=this.oldTagList.items,r=i.length,a=[];for(a.push({x:this.trendDisplayText,y:this.trendDisplayText}),t=0;t<r;t++)e=i[t],a.push({x:e.xTagValue,y:e.yTagValue});return a},A.prototype.handleFlashing=function(){this._trendLimitObj.handleFlashing()},A.prototype.getXAxis=function(){return this.xAxis},A.prototype.getYAxis=function(){return this.yAxis},A.prototype.setLastTrendPoint=function(e){this._lastTrendPointCalculated=e,this.endBoundingValue&&(this.endBoundingValue.yTagValue=this._lastTrendPointCalculated.yTagValue,this.endBoundingValue.yTagPosition=this._lastTrendPointCalculated.yTagPosition,this.endBoundingValue.qualityCode=this._lastTrendPointCalculated.qualityCode)},A.prototype.searchforposition=function(e,t,i,r,a,n){for(var o,s,l,u,h=0,h=0;h<e;h++)if(null!==(o=t.items[h]).qualityCode&&n.x>=o.xTagPosition+i-a&&n.x<=o.xTagPosition+i+a&&n.y>=o.yTagPosition+r-a&&n.y<=o.yTagPosition+r+a)return s=o.xTagPosition+i,l=o.yTagPosition+r,(u={}).trendPoint=o,u.markerX=s,u.markerY=l,u.isMarkerArea=!0,u;return!1},A.prototype.filledSVGCreation=function(){},A.POLYLINE_LENGTH_LIMIT=1e6,k.FunctionTrend=A,t=(t=e=e||{}).Lib||(t.Lib={}),g=t.NVEs||(t.NVEs={}),r.prototype.create=function(e){return this.RTPUItem=e,this.rtoid=this.RTPUItem.Store.rtoid,this.areaSpacing=this.chart.Attributes["area-spacing"],this.online=g.Utilities.convertToBool(this.chart.getAttribute("online")),this.shiftAxes=g.Utilities.convertToBool(this.chart.getAttribute("shift-axes")),this.showRuler=g.Utilities.convertToBool(this.chart.getAttribute("show-ruler")),this.currProjectVersion=g.Utilities.getProjectMajorVersion(this.RTPUItem),this.height=parseFloat(this.chart.getAttribute("height")),this.width=parseFloat(this.chart.getAttribute("width")),this._setDataProviderEvents(e),this.trendControlAnimator||(this.trendControlAnimator=new g.ChartElements.ChartAnimator(this.rtoid,this._rulerCalculatorWrapper.bind(this))),null===this.layoutBalancerId&&(this.layoutBalancerId=g.ChartBalancer.registerChart(this.rtoid,[this.redraw.bind(this),this.onUpdate.bind(this)])),this.enabled=this.RTPUItem.Store.props.Enabled,this.config=this.chart.Attributes.config,e.RootNode.setAttribute("id",this.config.Name),Array.isArray(this.config)?this.trendAreaConfigs=this.config:this.trendAreaConfigs.push(this.config),this.maxLabel=g.getTextByID("TBID_Trend_MaxLabel"),this.minLabel=g.getTextByID("TBID_Trend_MinLabel"),this.isLeftOrRight()?(this.alignmentEnum=g.Data.GraphAlignment=g.Data.GraphAlignmentForLeftAndRight,this.axisTypeEnum=g.Data.AxisTypeForLeftAndRight):(this.alignmentEnum=g.Data.GraphAlignment=g.Data.GraphAlignmentForTopAndBottom,this.axisTypeEnum=g.Data.AxisTypeForTopAndBottom),this.trendAreaConfigs.forEach(function(e){this._initGraphArea(e)},this),this.setTrendDisplayNames(),this._drawFeatures(),this.matchAxes(!0),this.initializeAxisFeatures(),this.initializeTimeAxis(),this.chart.dom||(this.chart.dom=g.Features.Shape.SvgShape.CreateSvgElement("svg"),this.SVGParent=this.chart.dom,this.createParentWindow()),this.layouter=new g.Features.Structure.ChartLayouter(this),0<this.height&&0<this.width&&this.updateLayout(),this.matchRuler(),this.matchGraphs(!0),this.getShowRuler()&&this.enableDisableRuler(),g.isAppModeRuntime()&&(0<this.getXAxes().length&&(this.layoutDrawn&&this.setAnimationFactors(),this.isOnline())&&this.startAxisTimer(),this.forceTimeAxisDrawn=!0,this.requestHistoricalData(),this.forceTimeAxisDrawn=!1,this._initHammer()),this.dp&&"function"==typeof this.dp.onChartCreated&&this.dp.isControlInitialized&&this.dp.onChartCreated(),this.chart.dom},r.prototype._drawFeatures=function(){for(var e,t=this.chart.Features.length,i=0;i<t;i++)(e=this.chart.Features[i])instanceof g.Features.Rulers?this.rulerFeature=e:e instanceof g.Features.Graphs&&(this.graphsFeature=e),e.draw(this.RTPUItem,this.data)},r.prototype._initGraphArea=function(e){var t=new g.ChartElements.GraphArea;t.init(e,this),this.trendAreas.push(t),e.Visible&&0!==e.SizeFactor&&(t.index=this._drawableTrendAreas.length,this._drawableTrendAreas.push(t)),t.initTrendsAndAxes(),this._trends=this._trends.concat(t.trends),this._drawableTrends=this._drawableTrends.concat(t.drawableTrends),this._validTrends=this._validTrends.concat(t.drawableTrends),this.setXAxes(this.getXAxes().concat(t.getXAxes())),this.setYAxes(this.getYAxes().concat(t.getYAxes()))},r.prototype._initHammer=function(){if(this.Hammer=window.Hammer,this.Hammer){var e,t,i=void 0,r=void 0,a=this._drawableTrendAreas.length;if(this.layoutDrawn&&this.enabled){for(r=0;r<a;++r)this._drawableTrendAreas[r].trendWindowDrawn&&this._drawableTrendAreas[r].initHammer();for(a=(e=this.getXAxes()).length,r=0;r<a;++r)(i=e[r]).parentTrendWindow.trendWindowDrawn&&i.config.Visible&&i.initHammer();for(a=(t=this.getYAxes()).length,r=0;r<a;++r)(i=t[r]).parentTrendWindow.trendWindowDrawn&&i.config.Visible&&i.initHammer()}}},r.prototype._unInitHammer=function(){if(this.Hammer){for(var e,t,i=void 0,r=this._drawableTrendAreas.length,i=0;i<r;++i)this._drawableTrendAreas[i].unInitHammer();for(r=(e=this.getXAxes()).length,i=0;i<r;++i)e[i].unInitHammer();for(r=(t=this.getYAxes()).length,i=0;i<r;++i)t[i].unInitHammer()}},r.prototype._setDataProviderBaseEvents=function(){var e=g.Data.ZoomMoveOperationVars;this.dp.register("onDataReceived",this.onDataReceived.bind(this)),this.dp.register("onHistoricalDataReceived",this.onHistoricalDataReceived.bind(this)),this.dp.register("setTagNames",this.setTagNames.bind(this)),this.dp.register("getDataForExport",this.getDataForExport.bind(this)),this.dp.register("getTrendDataForRuler",this._getRulerData.bind(this)),this.dp.register("setTrendCompanionship",this._setTrendCompanionship.bind(this)),this.dp.register("setTrendCompanionMode",this._setTrendCompanionMode.bind(this)),this.dp.register("onZoomAreaCommand",this.setZoomAndMove.bind(this,e.zoomArea)),this.dp.register("onZoomPlusMinusCommand",this.setZoomAndMove.bind(this,e.zoomInOut)),this.dp.register("onOriginalViewCommand",this.resetZoom.bind(this)),this.dp.register("onMoveAxesAreaCommand",this.setMoveAxes.bind(this)),this.dp.register("onMoveAreaCommand",this.setZoomAndMove.bind(this,e.moveTrendArea)),this.dp.register("getCurrentBeginAndEndTime",this._getEndTimeToCurr.bind(this)),this.dp.register("getCurrentBeginAndEndValue",this._getCurrStartEndValue.bind(this)),this.dp.register("moveTrendDown",this._moveTrendDown.bind(this)),this.dp.register("updateTrendProperties",this._updateTrendProperties.bind(this)),this.dp.register("addRemainingTagRequests",this._addRemainingTagRequests.bind(this)),this.dp.register("onLanguageChanged",this._handleLanguageChange.bind(this)),this.dp.register("clearAllTagList",this.clearAllTagList.bind(this)),this.dp.register("onEnabledChanged",this.onEnabledChanged.bind(this)),this.dp.register("setOriginalViewByCosideringAllCharts",this.setOriginalViewByCosideringAllCharts.bind(this))},r.prototype.getDataForExport=function(){for(var e=[],t=this.getDrawableTrend(),i=t.length,r=0;r<i;r++)e.push(t[r].getExportData());return e},r.prototype.onDataReceived=function(e){this.onRead(e)},r.prototype.onHistoricalDataReceived=function(e){this.onHistoricalRead(e)},r.prototype.createParentWindow=function(){var e,t=g.Features.Shape.SvgShape.CreateSvgElement("g",{class:"trendViewSvgClass",id:this.getControlName()}),i=this.getTrend(),r=i.length;for(this.trendControlAnimator&&this.trendControlAnimator.cleanAnimDOMClosures();this.chart.dom&&this.chart.dom.lastChild;)this.chart.dom.removeChild(this.chart.dom.lastChild);for(e=0;e<r;e++)i[e].resetSVGGroup();this.svgToolTipHighLighterGroup=null,this.svgTooltipGroup=null,this.removeScrollbars(),this.chart.dom||(this.chart.dom=g.Features.Shape.SvgShape.CreateSvgElement("svg"),this.SVGParent=this.chart.dom),this.chart.dom.appendChild(t)},r.prototype.matchAxes=function(e,t,i){var r,a=this.chart.Features.length,n=t||this.trendAreas;for(o=0;o<a;o++)(r=this.chart.Features[o])instanceof g.Features.Axes&&r.matchAxes(n,i);if(e)for(var a=n.length,o=0;o<a;o++)n[o].getXAxes().concat(n[o].getYAxes()).forEach(function(e){e.applyTemplateProperties()})},r.prototype.unmatchAxes=function(e,t){var i,r=this.chart.Features.length;for(n=0;n<r;n++)(i=this.chart.Features[n])instanceof g.Features.Axes&&i.unmatchAxes(t);if(e)for(var a=t||this.trendAreas,r=a.length,n=0;n<r;n++)a[n].getXAxes().concat(a[n].getYAxes()).forEach(function(e){e.applyTemplateProperties()})},r.prototype.matchGraphs=function(e,t){for(var i,r=this.chart.Features.length,a=t||this.trendAreas,n=0;n<r;n++)(i=this.chart.Features[n])instanceof g.Features.Graphs&&i.matchGraphs(a);if(e)for(r=a.length,n=0;n<r;n++)a[n].trends.forEach(function(e){e.applyTemplateProperties()})},r.prototype.unmatchGraphs=function(e,t){var i,r=this.chart.Features.length;for(n=0;n<r;n++)(i=this.chart.Features[n])instanceof g.Features.Graphs&&i.unmatchGraphs(t);if(e)for(var a=t||this.trendAreas,r=a.length,n=0;n<r;n++)a[n].trends.forEach(function(e){e.applyTemplateProperties()})},r.prototype.matchRuler=function(e){var t,i,r,a=e||this.trendAreas;if(this.rulerFeature)for(this.rulerFeature.templatePropertyCheck(a),r=this.rulerFeature.Features.length,i=0;i<r;i++)(t=this.rulerFeature.Features[i])instanceof g.Features.RulerIndicator&&t.matchRuler(a,this.RTPUItem,this.isLeftOrRight())},r.prototype.initializeAxisFeatures=function(){for(var e=this.trendAreas.length,t=0;t<e;t++)this.trendAreas[t].initializeAxisFeatures()},r.prototype._rulerCalculatorWrapper=function(){this.needsRulerDataCalc()&&this.calculateRulerData()},r.prototype.calculateRulerData=function(e,t){this.dp.takeRulerData([e,t]),this.secondaryRulerToolTip&&this.updateRulerToolTip()},r.prototype._getRulerData=function(e,t){var i,r,a,n,o,s,l,u=this._drawableTrendAreas.length,h=!1,d=!1,c=g.getChromEnum("HmiTrendInfoBlock"),p=g.Data.TagValueSuffix.Interpolated,m=[];if(t)(t=this.getDrawableTrendWindowByName(t))&&t.setRulerValue();else for(i=0;i<u;i++)this._drawableTrendAreas[i].trendWindowDrawn&&this._drawableTrendAreas[i].setRulerValue(e);if(this.trendCompanionConstUpdate){if(u=this._trends.length,!1===(n=this.dp.getRulerColumns()))return;for(o=n.length,i=0;i<u;i++)if((r=this._trends[i]).visibility&&r.parentTrendWindow.visible){for(a=this.getDrawableTrendByName(r.name)?r.rulerControlData:this.trendObjectType===g.Data.TrendObjectType.Function?{yValue:"",xValue:""}:{value:"",dateTime:"",lowerLimitValue:"",lowerLimitDateTime:"",upperLimitValue:"",upperLimitDateTime:"",minimum:"",minimumTimeStamp:"",maximum:"",maximumTimeStamp:"",average:"",standardDeviation:"",integral:"",weightedAverage:"",duration:"",numberOfValues:"",foreColor:"",backColor:"",exponentialnotaion:"",sum:""},l={},s=0;s<o;s++)switch(l[n[s].source]={},n[s].source){case c.Name:l[n[s].source].value=r.trendDisplayText;break;case c.Index:l[n[s].source].value=r.index+"";break;case c.Label:17<=this.currProjectVersion||""===this.currProjectVersion?l[n[s].source].value=r.config.DisplayName:l[n[s].source].value=r.displayName;break;case c.Show:l[n[s].source].value="X";break;case c.TagNameY:this.trendObjectType===g.Data.TrendObjectType.Function?l[n[s].source].value=r.dataSourceY.TagDisplayName:l[n[s].source].value=r.dataSource.TagDisplayName;break;case c.TagNameX:this.trendObjectType===g.Data.TrendObjectType.Function?l[n[s].source].value=r.dataSourceX.TagDisplayName:l[n[s].source].value="";break;case c.YValue:this.trendObjectType===g.Data.TrendObjectType.Function?(!0===a.interpolationFlag&&(l[n[s].source].interpolatedPt=" i."),l[n[s].source].value=a.yValue):("string"==typeof a.value?(""!==a.value&&(-1!==a.value.indexOf(p)&&(h=!0),d=a.value.split(" "),a.value=d.shift(),d=" "+d.join(" ")),l[n[s].source].value=a.value):"number"==typeof a.value?l[n[s].source].value=a.value:"object"==typeof a.value&&0<a.value.length&&(l[n[s].source].value=g.getTextByID("TBID_Trend_MinLabel")+":"+a.value[0]+","+g.getTextByID("TBID_Trend_MaxLabel")+":"+a.value[1]),d&&(l[n[s].source].interpolatedPt=d,d=!1));break;case c.XValueOrTimestamp:this.trendObjectType===g.Data.TrendObjectType.Function?(!0===a.interpolationFlag&&(l[n[s].source].interpolatedPt=" i."),l[n[s].source].value=a.xValue):((h="string"==typeof a.value&&""!==a.value&&-1!==a.value.indexOf(p)?!0:h)&&(h=!1,l[n[s].source].interpolatedPt=p),l[n[s].source].value=a.dateTime);break;case c.AreaName:l[n[s].source].value=r.parentTrendWindow.config.Name;break;case c.YValueLowerLimit:"string"==typeof a.lowerLimitValue?(""!==a.lowerLimitValue&&(-1!==a.lowerLimitValue.indexOf(p)&&(h=!0),d=a.lowerLimitValue.split(" "),a.lowerLimitValue=d.shift(),d=" "+d.join(" ")),l[n[s].source].value=a.lowerLimitValue):"number"==typeof a.lowerLimitValue?l[n[s].source].value=a.lowerLimitValue:"object"==typeof a.lowerLimitValue&&0<a.lowerLimitValue.length&&(l[n[s].source].value=g.getTextByID("TBID_Trend_MinLabel")+":"+a.lowerLimitValue[0]+","+g.getTextByID("TBID_Trend_MaxLabel")+":"+a.lowerLimitValue[1]),d&&(l[n[s].source].interpolatedPt=d,d=!1);break;case c.TimestampLowerLimit:(h="string"==typeof a.lowerLimitValue&&""!==a.lowerLimitValue&&-1!==a.lowerLimitValue.indexOf(p)?!0:h)&&(h=!1,l[n[s].source].interpolatedPt=p),l[n[s].source].value=a.lowerLimitDateTime;break;case c.YValueUpperLimit:"string"==typeof a.upperLimitValue?(""!==a.upperLimitValue&&(-1!==a.upperLimitValue.indexOf(p)&&(h=!0),d=a.upperLimitValue.split(" "),a.upperLimitValue=d.shift(),d=" "+d.join(" ")),l[n[s].source].value=a.upperLimitValue):"number"==typeof a.upperLimitValue?l[n[s].source].value=a.upperLimitValue:"object"==typeof a.upperLimitValue&&0<a.upperLimitValue.length&&(l[n[s].source].value=g.getTextByID("TBID_Trend_MinLabel")+":"+a.upperLimitValue[0]+","+g.getTextByID("TBID_Trend_MaxLabel")+":"+a.upperLimitValue[1]),d&&(l[n[s].source].interpolatedPt=d,d=!1);break;case c.TimestampUpperLimit:(h="string"==typeof a.upperLimitValue&&""!==a.upperLimitValue&&-1!==a.upperLimitValue.indexOf(p)?!0:h)&&(h=!1,l[n[s].source].interpolatedPt=p),l[n[s].source].value=a.upperLimitDateTime;break;case c.AreaNameLL:case c.AreaNameHL:l[n[s].source].value="";break;case c.Minimum:l[n[s].source].value=a.minimum;break;case c.MinimumTimestamp:l[n[s].source].value=a.minimumTimeStamp;break;case c.Maximum:l[n[s].source].value=a.maximum;break;case c.MaximumTimestamp:l[n[s].source].value=a.maximumTimeStamp;break;case c.Average:l[n[s].source].value=a.average;break;case c.Sum:l[n[s].source].value=a.sum;break;case c.StandardDeviation:l[n[s].source].value=a.standardDeviation;break;case c.Integral:l[n[s].source].value=a.integral;break;case c.WeightedAverageValue:l[n[s].source].value=a.weightedAverage;break;case c.Duration:l[n[s].source].value=a.duration;break;case c.NumberOfValues:l[n[s].source].value=a.numberOfValues}l.foreColor=r.color,l.backColor=r.parentTrendWindow.backColor,m.push(l)}}return m},r.prototype._setTrendCompanionship=function(e){var t=g.getChromEnum("HmiTrendCompanionMode");this.trendCompanion=e,this.trendCompanionConstUpdate=this.trendCompanion&&this.trendCompanionMode!==t.StatisticResult},r.prototype._setTrendCompanionMode=function(e){var t=g.getChromEnum("HmiTrendCompanionMode");this.trendCompanionMode=e,this.trendCompanionConstUpdate=this.trendCompanion&&e!==t.StatisticResult},r.prototype.setMoveAxes=function(){this.moveAxes=!this.moveAxes,this.moveAxes?this.enableAxesMove():this.disableAxesMove()},r.prototype.setZoomAndMove=function(e){e=g.Data.ZoomMoveOperationVars[e];e?(this[e]=!this[e],this[e]?this._enableZoomMoveEvents(e):(this.isMoveButtonClicked="moveTrendArea"===e,this.isZooming=!1,this.disableTrendAreaMove(!this.isOnline()))):this._disableZoomMoveEvents()},r.prototype._enableZoomMoveEvents=function(e){var t,i=!0,r=!0,a=g.Data.ZoomMoveOperationVars;for(t in a)this.hasOwnProperty(t)&&t!==e&&this[t]&&(this[t]=!1,this._disableZoomMoveOperation(a[t]),i=!1);i&&(this.isZooming=!0,this.isOnline()&&(r=!1,this.trendObjectType===g.Data.TrendObjectType.Online)&&(this.chart.Attributes.online=this.online=!1,this.setStartStop()),this.enableTrendAreaMove(r))},r.prototype._disableZoomMoveEvents=function(){var e,t=!1,i=g.Data.ZoomMoveOperationVars;for(e in i)this.hasOwnProperty(e)&&this[e]&&(this[e]=!1,this._disableZoomMoveOperation(i[e]),t=!0);t?(this.isZooming=!1,this.disableTrendAreaMove()):this.enableDisablePinchAndScroll(!1)},r.prototype._disableZoomMoveOperation=function(e){var t=g.Data.ZoomMoveOperationVars;switch(e){case t.moveTrendArea:this.dp.switchOffMoveTrendArea();break;case t.zoomArea:this.dp.switchOffZoomArea();break;case t.zoomInOut:this.dp.switchOffZoomPlusMinus();break;case t.zoomInOutX:this.trendObjectType===g.Data.TrendObjectType.Function?this.dp.switchOffZoomXAxisPlusMinus():this.dp.switchOffZoomTimeAxisPlusMinus();break;case t.zoomInOutY:this.trendObjectType===g.Data.TrendObjectType.Function?this.dp.switchOffZoomYAxisPlusMinus():this.dp.switchOffZoomValuesAxisPlusMinus()}},r.prototype.enableTrendAreaMove=function(e){for(var t=null,i=this._drawableTrendAreas.length,r=0;r<i;r++)(t=this._drawableTrendAreas[r]).trendWindowDrawn&&t.enableTrendAreaMove(e)},r.prototype.disableTrendAreaMove=function(e){for(var t=null,i=new g.Data.GenericList,r=new g.Data.GenericList,a=!this.isOnline()&&this.moveAxes,n=this._drawableTrendAreas.length,o=0;o<n;o++)(t=this._drawableTrendAreas[o]).trendWindowDrawn&&t.disableTrendAreaMove(a,e,i,r);this.trendObjectType===g.Data.TrendObjectType.Function&&this.getShowRuler()&&this.trendCompanionConstUpdate&&this.calculateRulerData(),i.clear(),i=null,r.clear(),r=null},r.prototype._moveTrendDown=function(e){var t,i=!1,r=this.getTrendWindowByPartId(e.TrendArea);return r&&(r=r.moveTrendDown(e.Trend))&&(i=!0,e=this._trends.indexOf(r),t=this._trends[e+1],this._trends[e]=t,this._trends[e+1]=r,t.index=e,r.index=e+1,-1<(e=this._drawableTrends.indexOf(r))&&t===this._drawableTrends[e+1]&&(this._drawableTrends[e]=this._drawableTrends[e+1],this._drawableTrends[e+1]=r),this.unmatchGraphs(!1,[r.parentTrendWindow]),this.matchGraphs(!0,[r.parentTrendWindow]),r.config.Visible)&&t.config.Visible&&this.needsRulerDataCalc()&&this.calculateRulerData(),i},r.prototype._updateTrendProperties=function(e,t,i){var r,e=this.getTrendByPartId(e);e&&(1===(t=t.split(".")).length?r=g.Data.TrendPropId[t[0]]:2===t.length&&g.Data[t[0]]&&(r=g.Data[t[0]][t[1]]),void 0!==r)&&(e.OnUpdate(r,i),g.Data.PostPropertyUpdate.CreateDrawableCollection?(this.createDrawableCollections(),g.Data.PostPropertyUpdate.CreateDrawableCollection=!1):g.Data.PostPropertyUpdate.Redraw?this.redraw():g.Data.PostPropertyUpdate.Update&&this.onUpdate(),g.Data.PostPropertyUpdate.SendHistoricalDataRequests&&g.isAppModeRuntime()&&this.dp.sendRequest(),g.Data.PostPropertyUpdate.Redraw=!1,g.Data.PostPropertyUpdate.Update=!1,g.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1)},r.prototype._offlineRead=function(e){if(!1===this.isOnline()){var t,i=void 0,r=void 0,a=void 0,n=void 0,o=void 0,s=void 0,i=new g.Data.GenericList;for(r in this._invalidateCheckArray)(a=this.getDrawableTrendByName(r))&&(n=this.getDrawableTrendWindowByName(a.trendWindow))&&n.trendWindowDrawn&&(a.invalidate(!0)||this._invalidateCheckArray[a.name].yAxisUpdateRequired)&&(i.tryAdd(a.currentYAxis.axisPbId),this._invalidateCheckArray[a.name].yAxisUpdateRequired=!1);for(t=i.items.length,s=0;s<t;s++)o=this.getYAxisByPbId(i.items[s]),this.moveAxes||this.moveTrendArea||0!==o.zoomInOutCount||o.invalidate(void 0,!0);e&&this.needsRulerDataCalc()&&this.trendControlAnimator.requestRulerDataCalculation(!0),i.clear(),o=i=null}},r.prototype._addRemainingTagRequests=function(e,t,i,r,a,n){var o,s,l={beginTime:[],endTime:[],chromIds:[],points:[],clientHandles:[],aggMode:[]};if(l.beginTime=e,l.endTime=t,l.points=r,l.clientHandles=a,l.aggMode=n,g.isAppModeRuntime())for(o=0;o<this._drawableTrendAreas.length;o++)(s=this._drawableTrendAreas[o]).trendWindowDrawn&&s.requestHistoricalData(l,i)},r.prototype._arrangeResubscriptionForPixels=function(){this.isOnline()?this.requestHistoricalData(!1,void 0,void 0,!0,!0,!0):this.requestHistoricalData(!1,void 0,void 0,!0,void 0,!0),!1===g.Data.PostPropertyUpdate.SendHistoricalDataRequests&&(g.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this._resubTimeoutID=setTimeout(this._sendRequests.bind(this),0)),this.zoomAxis&&(this.zoomAxis=!1)},r.prototype._sendRequests=function(){this._resubTimeoutID=null,g.Data.PostPropertyUpdate.SendHistoricalDataRequests&&(g.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1,this.dp.sendRequest())},r.prototype._handleLanguageChange=function(){for(var e,t=this._drawableTrendAreas.length,i=0;i<t;i++)(e=this._drawableTrendAreas[i]).trendWindowDrawn&&e.handleLanguageChange()},r.prototype.setRequestsForRemaningTags=function(){this.dp.addRequest([],[],[],[],[],void 0,void 0,void 0,!0)},r.prototype.removeFromUndrawnData=function(e){this._undrawnTrendData[e]&&delete this._undrawnTrendData[e]},r.prototype.removeFromDisconnectedSources=function(e){delete this._disconnectedDataSources[e]},r.prototype.getControlName=function(){return this.rtoid},r.prototype.getLineWidth=function(){return 0},r.prototype.getLineColor=function(){return"rgba(0,0,0,1)"},r.prototype.isOnline=function(){return this.online},r.prototype.isLeftOrRight=function(){return!this.shiftAxes},r.prototype.getShowRuler=function(){return this.showRuler},r.prototype.isEnabled=function(){return this.RTPUItem.Store.props.Enabled},r.prototype.getDrawableTrendWindow=function(e){return void 0===e?this._drawableTrendAreas:this._drawableTrendAreas[e]},r.prototype.getDrawableTrendWindowCount=function(){return this._drawableTrendAreas.length},r.prototype.getTrendWindowByName=function(e){for(var t=null,i=0;i<this.trendAreas.length;i++)if(this.trendAreas[i].config.Name===e){t=this.trendAreas[i];break}return t},r.prototype.getTrendWindow=function(e){return void 0===e?this.trendAreas:this.trendAreas[e]},r.prototype.getTrend=function(e){return void 0!==e?this._trends[e]:this._trends},r.prototype.getDrawableTrend=function(e){return void 0!==e?this._drawableTrends[e]:this._drawableTrends},r.prototype.setTrendsCollection=function(e){this._trends=e},r.prototype.setDrawableTrendsCollection=function(e){this._drawableTrends=e,this._validTrends=e},r.prototype.redraw=function(){var e=this.pixelsInTrendAreas;g.Data.GraphAlignment=this.alignmentEnum,this.createParentWindow(),this.layouter&&(this.drawLayout(),this.drawTrends(),!1!==g.Data.PostPropertyUpdate.DoNotRequestData||e===this.pixelsInTrendAreas&&!this.zoomAxis||this._arrangeResubscriptionForPixels())},r.prototype.onUpdate=function(){var e=this.pixelsInTrendAreas,t=this.chart.dom.parentNode;g.Data.GraphAlignment=this.alignmentEnum,this.layouter&&(t&&t.removeChild(this.chart.dom),this.updateLayout()?(this.drawTrends(),t&&t.appendChild(this.chart.dom)):(t&&t.appendChild(this.chart.dom),this.createDrawableCollections()),!1!==g.Data.PostPropertyUpdate.DoNotRequestData||e===this.pixelsInTrendAreas&&!this.zoomAxis||this._arrangeResubscriptionForPixels())},r.prototype.updateLayout=function(){return this.updateLayout=function(){var e=this.layouter.updateLayout();return e&&this._balanceXAxisWidths(),g.ChartBalancer.balanceCharts(this.rtoid,this.layoutBalancerId,1),e},this.initLayoutAndTrends()},r.prototype.initLayoutAndTrends=function(){var e,t,i=this.drawLayout(),r=this._drawableTrendAreas.length;for(this._drawableTrends=[],e=0;e<r;e++)(t=this._drawableTrendAreas[e]).trendWindowDrawn?(this._drawableTrends=this._drawableTrends.concat(t.drawableTrends),this.initializeRunningTimeAxes(t)):t.clearDrawableTrends();return this.requestHistoricalData(void 0,void 0,void 0,!0,!0,!0),g.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,i},r.prototype._balanceXAxisWidths=function(){for(var e,t,i=this._drawableTrendAreas.length,r=this.isLeftOrRight(),a=0;a<i;a++)if(this._drawableTrendAreas[a].trendWindowDrawn){for(e=r?"width":"height",this.pixelsInTrendAreas=this._drawableTrendAreas[a].getRect()[e],i=(t=this.getXAxes()).length,a=0;a<i;a++)t[a].innerRect[e]=this.pixelsInTrendAreas;break}},r.prototype.drawTrends=function(){for(var e=this._drawableTrendAreas.length,t=0;t<e;t++)this._drawableTrendAreas[t].drawTrends()},r.prototype.getXAxisByPbId=function(e){for(var t,i=null,r=this.getXAxes(),a=r.length,n=0;n<a;n++)if((t=r[n]).axisPbId===e){i=t;break}return i},r.prototype.getYAxisByPbId=function(e){for(var t=null,i=this.getYAxes(),r=i.length,a=0;a<r;a++)if(i[a].axisPbId===e){t=i[a];break}return t},r.prototype.getTrendByPartId=function(e){for(var t=null,i=this._trends.length,r=0;r<i;r++)if(this._trends[r].partId===e){t=this._trends[r];break}return t},r.prototype.getDrawableTrendByName=function(e){for(var t=null,i=this._drawableTrends.length,r=0;r<i;r++)if(this._drawableTrends[r].name===e){t=this._drawableTrends[r];break}return t},r.prototype.getDrawableTrendByPartId=function(e){var t;return t=0<this._drawableTrendAreas.length?this._drawableTrendAreas[0].idToDrawableTrendMap[e]:t},r.prototype.getDrawableTrendWindowByName=function(e){for(var t=null,i=this._drawableTrendAreas.length,r=0;r<i;r++)if(this._drawableTrendAreas[r].config.Name===e){t=this._drawableTrendAreas[r];break}return t},r.prototype.getTrendWindowByPartId=function(e){for(var t=null,i=this.trendAreas.length,r=0;r<i;r++)if(this.trendAreas[r].config.ElementID===e){t=this.trendAreas[r];break}return t},r.prototype.getXAxisByPartId=function(e){for(var t=null,i=this.getXAxes(),r=i.length,a=0;a<r;a++)if(i[a].config.ElementID===e){t=i[a];break}return t},r.prototype.getYAxisByPartId=function(e){for(var t=null,i=this.getYAxes(),r=i.length,a=0;a<r;a++)if(i[a].config.ElementID===e){t=i[a];break}return t},r.prototype.updateRulerToolTipPosition=function(){for(var e=this.getDrawableTrendWindow(),t=0;t<e.length;t++)e[t].updateRulerToolTipPosition()},r.prototype.updateRulerToolTip=function(){for(var e=this.getDrawableTrendWindow(),t=0;t<e.length;t++)e[t].updateRulerToolTip()},r.prototype.setDrawableTrends=function(e){var t,i,r,a,n=[],o=[],s=this.getTrendWindow(),l=s.length;if(e){for(n=e,t=0;t<l;t++)s[t].initTrendColl();for(i=0;i<n.length;i++)(r=n[i]).index=r.parentTrendWindow.trends.length,r.parentTrendWindow.trends.push(r),r.parentTrendWindow.trendWindowDrawn&&r.visibility&&r.currentXAxis&&r.currentYAxis&&(o.push(r),r.parentTrendWindow.drawableTrends.push(r))}else for(t=0;t<l;t++)(a=s[t]).createDrawableTrendsCollection(),n=n.concat(a.trends),a.trendWindowDrawn?o=o.concat(a.drawableTrends):a.clearDrawableTrends();this.setTrendsCollection(n),this.setDrawableTrendsCollection(o),this.needsRulerDataCalc()&&this.calculateRulerData()},r.prototype.updateOrientationProperties=function(){var e,t,i,r=0;for(this.isLeftOrRight()?(this.alignmentEnum=g.Data.GraphAlignmentForLeftAndRight,this.axisTypeEnum=g.Data.AxisTypeForLeftAndRight):(this.alignmentEnum=g.Data.GraphAlignmentForTopAndBottom,this.axisTypeEnum=g.Data.AxisTypeForTopAndBottom),t=this.trendAreas.length,r=0;r<t;r++)this.trendAreas[r].setIsLeftOrRight(this.isLeftOrRight());for(i=this.axisTypeEnum,t=(e=this.getXAxes()).length,r=0;r<t;r++)e[r].axisType=i.xAxis,e[r].onShiftAxesChange();for(t=(e=this.getYAxes()).length,r=0;r<t;r++)e[r].axisType=i.yAxis,e[r].align=e[r].align===g.Data.GraphAlignmentForLeftAndRight.Left?g.Data.GraphAlignmentForLeftAndRight.Right:g.Data.GraphAlignmentForLeftAndRight.Left,e[r].onShiftAxesChange()},r.prototype.resetRulerIndicators=function(){for(var e,t=0,i=this.trendAreas.length,t=0;t<i;t++)this.trendAreas[t].resetRulerPosition();if(this.trendObjectType===g.Data.TrendObjectType.Online)for(i=(e=this.getTrend()).length,t=0;t<i;t++)e[t].resetSecondaryTooltip()},r.prototype.updateRulerOrientation=function(){for(var e=0,t=this.trendAreas.length,e=0;e<t;e++)this.trendAreas[e].updateRulerOrientation(this.isLeftOrRight())},r.prototype.saveTrendWindowIndex=function(e){this.newlyDrawnTrendWindowIndex=e},r.prototype.resize=function(){this.trendObjectType===g.Data.TrendObjectType.Function&&!this.shiftAxes&&this.dp&&this.dp.reArrangeTrendAreas&&this.dp.reArrangeTrendAreas(this.trendAreas[0].config.ElementID,!1),g.isAppModeRuntime()?(g.Data.PostPropertyUpdate.DoNotRequestData=!0,this.onUpdate(),g.Data.PostPropertyUpdate.DoNotRequestData=!1):this.createDrawableCollections(),g.Data.PostPropertyUpdate.SendHistoricalDataRequests&&g.isAppModeRuntime()&&(this.dp.sendRequest(),g.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1),this.trendObjectType===g.Data.TrendObjectType.Online&&this.layoutDrawn&&0<this.getDrawableTrendWindowCount()&&this.setAnimationFactors()},r.prototype.update=function(){var e,t;if(this.propertyUpdateInProgress=!0,t=this.isLeftOrRight(),this.resizeControl&&0<this.trendAreaConfigs.length&&(this.resize(),this.secondaryRulerToolTip&&this.trendObjectType===g.Data.TrendObjectType.Online&&this.updateRulerToolTipPosition(),this.resizeControl=!1),0<this.dirtyList.length){for(e=0;e<this.dirtyList.length;e++)this.handleChartAttributeChange(this.dirtyList[e]);this.dirtyList=[]}if(0<this.modifiedProperty.length){for(e=0;e<this.modifiedProperty.length;e++)this.handlePropertyChange(this.modifiedProperty[e]);this.modifiedProperty=[]}g.Data.PostPropertyUpdate.CreateDrawableCollection?(this.createDrawableCollections(),g.Data.PostPropertyUpdate.CreateDrawableCollection=!1):g.Data.PostPropertyUpdate.Redraw?this.redraw():g.Data.PostPropertyUpdate.Update&&this.onUpdate(),g.Data.PostPropertyUpdate.SendHistoricalDataRequests&&g.isAppModeRuntime()&&(this.trendObjectType===g.Data.TrendObjectType.Function&&this.beginTimePropertyChanged&&(this.resetIsStartTimeModifiedProperty(),this.beginTimePropertyChanged=!1),this.dp.sendRequest()),t!==this.isLeftOrRight()&&this.secondaryRulerToolTip&&this.updateRulerToolTip(),this.propertyUpdateInProgress=!1,g.Data.PostPropertyUpdate.Redraw=!1,g.Data.PostPropertyUpdate.Update=!1,g.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1},r.prototype.setSecondaryRulerToolTip=function(e){(this.secondaryRulerToolTip=e)&&this.secondaryRulerIndicatorFeature&&!this.secondaryRulerIndicatorFeature.myTemplate&&this.secondaryRulerIndicatorFeature.loadSecondaryToolTip(this.RTPUItem,this.trendAreas,this)},r.prototype.enableDisableRuler=function(){var e,t,i,r=!1;for(this.getShowRuler()?(!this.isOnline()&&g.isAppModeRuntime()&&this.trendObjectType===g.Data.TrendObjectType.Online?this.setSecondaryRulerToolTip(!0):this.setSecondaryRulerToolTip(!1),e="showRuler",r=this.trendCompanionConstUpdate||this.secondaryRulerToolTip):(this.getShowStatisticRuler()&&(r=this.trendCompanionConstUpdate),this.setSecondaryRulerToolTip(!1),e="hideRuler"),i=this._drawableTrendAreas.length,t=0;t<i;t++)this._drawableTrendAreas[t].trendWindowDrawn&&this._drawableTrendAreas[t][e]();r&&this.calculateRulerData()},r.prototype.propertyChanged=function(e){var t,i=g.Data.ChartTemplateAttributes;switch(e){case i.TimeZone:case i.ShowStatisticRulers:case i.ShowRuler:case i.AreaSpacing:case i.Online:case i.ShiftAxes:this.dirtyList.push({propertyName:e,updatedValue:this.chart.Attributes[e]});break;case i.ActualHeight:t=parseFloat(this.chart.Attributes.height),this.height!==t&&(this.height=t,this.resizeControl=!0);break;case i.ActualWidth:t=parseFloat(this.chart.Attributes.width),this.width!==t&&(this.width=t,this.resizeControl=!0);break;case i.Config:this.findAndUpdateModifiedProp(this.chart.Attributes[e],this.config,e)}},r.prototype.createNewTrendArea=function(e){var t,i,r;if(this.trendAreaConfigs.push(e),this._initGraphArea(e),i=this.trendAreas.length-1,e=this.trendAreas[i],this.matchAxes(!0,this.trendAreas,i),e.initializeAxisFeatures(),this.trendObjectType===g.Data.TrendObjectType.Online)for(r=(t=e.getXAxes()).length,i=0;i<r;i++)t[i].initializeBeginEndTimes();this.matchGraphs(!0,[e]),this.matchRuler([e])},r.prototype.removeTrendArea=function(e){for(var t,i=this.trendAreas.length,r=!1,a=0;a<i;a++)if(this.trendAreas[a].config.ElementID===e){this.unmatchGraphs(!1),this.unmatchAxes(!1),t=this.trendAreas[a],this.trendAreas.splice(a,1),-1<(a=this._drawableTrendAreas.indexOf(t))&&this._drawableTrendAreas.splice(a,1),-1<(a=this.trendAreaConfigs.indexOf(t.config))&&this.trendAreaConfigs.splice(a,1),t.cleanUp(),r=!0;break}if(r){for(this._trends=[],this._drawableTrends=[],this._validTrends=[],this.setXAxes([]),this.setYAxes([]),i=this.trendAreas.length,a=0;a<i;a++)t=this.trendAreas[a],this._trends=this._trends.concat(t.trends),this._drawableTrends=this._drawableTrends.concat(t.drawableTrends),this._validTrends=this._validTrends.concat(t.drawableTrends),this.setXAxes(this.getXAxes().concat(t.getXAxes())),this.setYAxes(this.getYAxes().concat(t.getYAxes()));this.matchGraphs(!0),this.matchAxes(!0),this.initializeAxisFeatures(),this.needsRulerDataCalc()&&this.calculateRulerData(),this.allAreasDrawn?g.Data.PostPropertyUpdate.Redraw=!0:g.Data.PostPropertyUpdate.CreateDrawableCollection=!0}},r.prototype.removeTrendFromCollections=function(e){var t=this._trends.indexOf(e);-1<t&&this._trends.splice(t,1),-1<(t=this._drawableTrends.indexOf(e))&&(this._drawableTrends.splice(t,1),-1<(t=this._validTrends.indexOf(e)))&&this._validTrends.splice(t,1)},r.prototype.removeVAFromCollections=function(e,t){t=e.indexOf(t);-1<t&&e.splice(t,1)},r.prototype.removeTAFromCollections=function(e,t){t=e.indexOf(t);-1<t&&e.splice(t,1),g.isAppModeRuntime()&&(this.layoutDrawn&&this.setAnimationFactors(),this.isOnline())&&0===e.length&&this.removeAxisTimer()},r.prototype.addVAToCollections=function(e,t){-1===e.indexOf(t)&&e.push(t)},r.prototype.createOrBufferTrendArea=function(e){var t;return void 0!==e.Name&&""!==e.Name&&(this.createNewTrendArea(e),t=g.Data.PostPropertyUpdate.CreateDrawableCollection=!0),t},r.prototype.createOrBufferPart=function(e,t,i){var r,a=!1;switch(e.Type){case"TrendAreaPart":case"FunctionTrendAreaPart":this.createOrBufferTrendArea(e);break;case"TrendPart":case"FunctionTrendPart":(r=this.getTrendWindowByPartId(i))&&(r.addNewTrend(e),g.Data.PostPropertyUpdate.Redraw=!0);break;case"YValueAxisPart":(r=this.getTrendWindowByPartId(i))&&void 0!==e.Name&&""!==e.Name&&(this.addVAToCollections(this.getYAxes(),r.addNewAxis(e,t)),g.Data.PostPropertyUpdate.Redraw=!0);break;case"XValueAxisPart":(r=this.getTrendWindowByPartId(i))&&void 0!==e.Name&&""!==e.Name&&(this.addVAToCollections(this.getXAxes(),r.addNewAxis(e,t)),g.Data.PostPropertyUpdate.Redraw=!0);break;case"TimeAxisPart":(r=this.getTrendWindowByPartId(i))&&void 0!==e.Name&&""!==e.Name&&(this.addTAToCollections(r.addNewAxis(e,t)),g.Data.PostPropertyUpdate.Redraw=!0);break;default:a=!0}return a},r.prototype.removePart=function(e,t,i){var r,a,n=!1;switch(e.Type){case"TrendAreaPart":case"FunctionTrendAreaPart":this.removeTrendArea(e.ElementID);break;case"TrendPart":case"FunctionTrendPart":(r=this.getTrendWindowByPartId(i))&&((a=r.removeTrend(e.ElementID))&&this.removeTrendFromCollections(a),g.Data.PostPropertyUpdate.Redraw=!0);break;case"YValueAxisPart":(r=this.getTrendWindowByPartId(i))&&(a=r.removeAxis(e.ElementID,t))&&(this.removeVAFromCollections(this.getYAxes(),a),g.Data.PostPropertyUpdate.Redraw=!0);break;case"XValueAxisPart":(r=this.getTrendWindowByPartId(i))&&(a=r.removeAxis(e.ElementID,t))&&(this.removeVAFromCollections(this.getXAxes(),a),g.Data.PostPropertyUpdate.Redraw=!0);break;case"TimeAxisPart":(r=this.getTrendWindowByPartId(i))&&(a=r.removeAxis(e.ElementID,t))&&(this.removeTAFromCollections(this.getXAxes(),a),this.allAreasDrawn?g.Data.PostPropertyUpdate.Redraw=!0:g.Data.PostPropertyUpdate.CreateDrawableCollection=!0);break;default:n=!0}return n},r.prototype.updateArrayPart=function(t,i,e,r){var a,n;if(t.length>i.length)for(a=t.length,n=0;n<a;n++)0===i.filter(function(e){return e.ElementID===t[n].ElementID}).length&&this.createOrBufferPart(t[n],e,r)&&i.push(t[n]);else for(n=i.length-1;0<=n;n--)0===t.filter(function(e){return e.ElementID===i[n].ElementID}).length&&this.removePart(i[n],e,r)&&i.splice(n,1)},r.prototype.findAndUpdateModifiedProp=function(e,t,i,r){if(Array.isArray(e)&&e.length!==t.length)this.updateArrayPart(e,t,i.split(".").pop(),r);else for(var a in e)"object"==typeof e[a]?this.updateObjInObj(e,t,a,i):e[a]!==t[a]&&this.modifiedProperty.push({propertyName:a,updatedValue:e[a],path:i})},r.prototype.updateObjInObj=function(e,t,i,r){"EndTime"===i||"BeginTime"===i?e[i][0]===t[i][0]&&e[i][1]===t[i][1]||this.modifiedProperty.push({propertyName:i,updatedValue:e[i],path:r}):(void 0===t[i]&&(Array.isArray(e)?t[i]=[]:t[i]={}),this.findAndUpdateModifiedProp(e[i],t[i],r+"."+i,e.ElementID))},r.prototype.setObjectToUpdate=function(e,t,i){var r,a,n=g.Data.TrendViewPartType;switch(e){case n.Trends:case n.FunctionTrends:r=this.trendAreas[i].trends,a="trendToUpdate";break;case n.Config:r=this.trendAreas,a="trendWindowToUpdate";break;case n.BottomTimeAxes:case n.BottomValueAxes:r=this.trendAreas[i].bottomAxes,a="xAxisToUpdate";break;case n.TopTimeAxes:case n.TopValueAxes:r=this.trendAreas[i].topAxes,a="xAxisToUpdate";break;case n.LeftValueAxes:r=this.trendAreas[i].leftAxes,a="yAxisToUpdate";break;case n.RightValueAxes:r=this.trendAreas[i].rightAxes,a="yAxisToUpdate";break;default:return}r[t]&&(this[a]=r[t])},r.prototype.updateProperty=function(e,t,i){var r,a=g.Data.ElementId;switch(e){case a.Trend:(r=this.trendToUpdate)&&(r.OnUpdate(t,i),this.calculateRulerData());break;case a.XAxis:(r=this.xAxisToUpdate)&&r.OnUpdate(t,i);break;case a.YAxis:(r=this.yAxisToUpdate)&&r.OnUpdate(t,i);break;case a.TrendWindow:(r=this.trendWindowToUpdate)&&r.OnUpdate(t,i)}},r.prototype.handleChartAttributeChange=function(e){var t,i=g.Data.ChartTemplateAttributes;switch(e.propertyName){case i.AreaSpacing:t=parseInt(e.updatedValue,10),this.areaSpacing!==t&&(this.allAreasDrawn?g.Data.PostPropertyUpdate.Redraw=!0:t<this.areaSpacing&&(g.Data.PostPropertyUpdate.CreateDrawableCollection=!0),this.areaSpacing=t);break;case i.Online:t=g.Utilities.convertToBool(this.chart.getAttribute("online")),this.online!==t&&(this.online=t,this.setStartStop());break;case i.ShiftAxes:t=g.Utilities.convertToBool(this.chart.getAttribute("shift-axes")),this.shiftAxes!==t&&(this.shiftAxes=t,this.updateOrientationProperties(),this.trendObjectType===g.Data.TrendObjectType.Function&&this.updateRulerOrientation(),this.resetRulerIndicators(),this.allAreasDrawn?g.Data.PostPropertyUpdate.Redraw=!0:g.Data.PostPropertyUpdate.CreateDrawableCollection=!0);break;case i.ShowRuler:t=g.Utilities.convertToBool(this.chart.getAttribute("show-ruler")),this.showRuler!==t&&(this.showRuler=t,this.enableDisableRuler())}},r.prototype.handlePropertyChange=function(e){var t,i,r=e.path;r&&(t=(i=r.split("."))[0])===g.Data.TrendViewPartType.Config&&(isNaN(i[1])&&i.splice(1,0,"0"),2===i.length||"Ruler"===(t=i[2])||"StatisticRulers"===t?this._updateConfigPart(e,i,t):this._findAndUpdateObject(e,i)),this.updatePropInConfig(e.propertyName,e.updatedValue,r)},r.prototype._updateConfigPart=function(e,t,i){var r=parseInt(t[1],10);this.setObjectToUpdate(g.Data.TrendViewPartType.Config,r,null),r=2<t.length?g.Data[i]:g.Data.TrendWindowPropId,t=e.propertyName,i=e.updatedValue,(e=r[t])&&this.updateProperty(g.Data.ElementId.TrendWindow,e,i)},r.prototype._findAndUpdateObject=function(e,t){var i,r,a,n,o=g.Data.TrendViewPartType,s=t[2],l=parseInt(t[3],10);switch(this.setObjectToUpdate(s,l,parseInt(t[1],10)),s){case o.Trends:case o.FunctionTrends:i=5===t.length?g.Data[t[4]]:g.Data.TrendPropId,a=e.propertyName,n=e.updatedValue,(r=i[a])&&this.updateProperty(g.Data.ElementId.Trend,r,n);break;case o.BottomTimeAxes:case o.TopTimeAxes:case o.BottomValueAxes:case o.TopValueAxes:i=5===t.length?g.Data[t[4]]:g.Data.AxisPropId,a=e.propertyName,n=e.updatedValue,(r=i[a])&&this.updateProperty(g.Data.ElementId.XAxis,r,n);break;case o.LeftValueAxes:case o.RightValueAxes:i=5===t.length?g.Data[t[4]]:g.Data.AxisPropId,a=e.propertyName,n=e.updatedValue,(r=i[a])&&this.updateProperty(g.Data.ElementId.YAxis,r,n)}},r.prototype.updatePropInConfig=function(e,t,i){var r,a,n=[];if("config"===i)this.config[e]=t;else{for(r=this.config,n=i.split("."),a=1;a<n.length;a++)r=r[n[a]];r[e]=t}return n},r.prototype.setTrendDisplayNames=function(e){for(var t,i,r,a,n=this.getTrend(),o=[],s=n.length,l=0;l<s;l++)o.push(n[l].trendDisplayText);if(i=g.getTextByID("TBID_TrendPB_Trend_NewTrendName"),e){for(t=e,r=0;r<s;++r)if(-1===o.indexOf(a=i+(r+1))){t.trendDisplayText=a;break}}else for(l=0;l<s;++l)if(!1===(t=n[l]).tryFillDisplayName())for(r=0;r<s;++r)if(-1===o.indexOf(a=i+(r+1))){t.trendDisplayText=a,o[l]=a;break}},r.prototype.enableDisablePinchAndScroll=function(e){for(var t=this.getDrawableTrendWindow(),i=t.length,r=0;r<i;r++)t[r].trendWindowDrawn&&t[r].enableDisablePinchAndScroll(e)},r.prototype.enableDisableOriginalView=function(){var e=-1!=this.dp.callFunction("setOriginalViewByCosideringAllCharts").indexOf(!0);this.dp.enableDisableOriginalView(e)},r.prototype.setOriginalViewByCosideringAllCharts=function(){for(var e,t=!1,i=this.getYAxes(),r=i.length,a=0;a<r;a++)if(0<i[a].zoomInOutCount){t=!0;break}if(!t)for(r=(e=this.getXAxes()).length,a=0;a<r;a++)if(0<e[a].zoomInOutCount){t=!0;break}return t&&!this.oneToOneView?this.oneToOneView=!0:!t&&this.oneToOneView&&(this.oneToOneView=!1),this.oneToOneView},r.prototype.hasVerticalScrollbar=function(){var e,t,i,r,a=this._drawableTrendAreas.length;for(this.yAxesScrollbar=!1,e=0;e<a;e++)for(r=(i=this._drawableTrendAreas[e].getYAxes()).length,t=0;t<r;t++)if(0<i[t].zoomInOutCount){this.yAxesScrollbar=!0;break}},r.prototype.removeScrollbars=function(){for(var e,t=0;t<this._drawableTrendAreas.length;t++)(e=this._drawableTrendAreas[t]).trendWindowDrawn&&e.removeScrollbars()},r.prototype.resetTrendsCollection=function(){for(var e=this.trendAreas.length,t=[],i=[],r=0;r<e;r++)t=t.concat(this.trendAreas[r].trends),i=i.concat(this.trendAreas[r].drawableTrends);this.setTrendsCollection(t),this.setDrawableTrendsCollection(i)},r.prototype.graphsSelectionChanged=function(){for(var e=this.trendAreas.length,t=0;t<e;t++)this.trendAreas[t].graphsSelectionChanged()},r.prototype.updateDrawableTrends=function(e){for(var t,i,r=null,a=this.trendAreas.length,n=0;n<a;n++){if((r=this.trendAreas[n]).config.Visible&&0!==r.config.SizeFactor)r.trendWindowDrawn||e.push(r.config.Name),r.index=this._drawableTrendAreas.length,this._drawableTrendAreas.push(r),r.createDrawableTrendsCollection();else for(r.setLayoutSuccess(!1),r.clearDrawableTrends(),i=r.trends.length,t=0;t<i;t++)r.trends[t].currentTrendWindow=null;this._drawableTrends=this._drawableTrends.concat(r.drawableTrends)}},r.prototype.isStyleChange=function(){var e=!1;return e=this.dp&&"function"==typeof this.dp.isStyleChange?this.dp.isStyleChange():e},r.prototype.initializeTimeAxis=function(){this.trendObjectType===g.Data.TrendObjectType.Online&&this.getXAxes().forEach(function(e){e.initializeBeginEndTimes()})},r.prototype.initializeRunningTimeAxes=function(e){this.trendObjectType===g.Data.TrendObjectType.Online&&e.getXAxes().forEach(function(e){this._runningTimeAxesList.tryAdd(e.axisPbId)},this)},r.prototype.remove=function(){this.layouter.cleanUp(),this.dp&&(this.dp.unRegister&&!this.isStyleChange()&&this.dp.unRegister(),this.dp=null),g.ChartBalancer.unregister(this.rtoid,this.layoutBalancerId),this._resubTimeoutID&&(clearTimeout(this._resubTimeoutID),this._resubTimeoutID=null),Array.isArray(this.config)?this.trendAreaConfigs=this.config=[]:(this.trendAreaConfigs=[],this.config={}),this.trendAreas=[],this._drawableTrendAreas=[],this._drawableTrends=[],this._trends=[],this._validTrends=[],this.modifiedProperty=[],this.dirtyList=[],this._undrawnTrendData={},this._invalidateCheckArray={},this._disconnectedDataSources={},this.layoutDrawn=this.layoutBalancerId=this.SVGParent=this.rulerFeature=this.graphsFeature=this.featureList=this.Hammer=this.trendControlAnimator=this.layouter=this.svgToolTipHighLighterGroup=this.svgTooltipGroup=this.toolTipHighlighterCircle=this.toolTipHighlighterRect=this.data=null},r.prototype.clearDrawableTrendAreas=function(){this._drawableTrendAreas.length=0},r.prototype.clearAllTagList=function(){for(var e,t,i=0;i<this._drawableTrendAreas.length;i++)for(e=this._drawableTrendAreas[i],t=0;t<e.drawableTrends.length;t++)e.drawableTrends[t].clearTagList()},r.prototype.onEnabledChanged=function(){this.enabled=this.RTPUItem.Store.props.Enabled,this.enabled?this._initHammer():this._unInitHammer()},r.prototype.onModified=function(){},r.prototype.resetIsStartTimeModifiedProperty=function(){},r.EPOCH_DIFFERENCE=116444736e5,r.TICKS_PER_MILLISECOND=1e4,r.EXPO_POSITION_LIMIT=1e6,g.TrendViewBase=r,t=(t=e=e||{}).Lib||(t.Lib={}),G=t.NVEs||(t.NVEs={}),U=G.TrendViewBase,i(on,U),on.prototype.addToUndrawnData=function(e,t){this._undrawnTrendData[e]?this._undrawnTrendData[e].tagValues=this._undrawnTrendData[e].tagValues.concat(t):this._undrawnTrendData[e]={tagValues:t}},on.prototype._onRedraw=function(){for(var e,t,i,r,a,n,o=new G.Data.GenericList,s=new G.Data.GenericList,l=0;l<this._drawableTrendAreas.length;l++){for(e=(r=this._drawableTrendAreas[l]).drawableTrends.length,a=n=!1,t=0;t<e;t++)i=r.drawableTrends[t],this.online&&(this._updateObject[i.name]&&this._updateObject[i.name].updateRequiredY&&(this.moveAxes||this.moveTrendArea||-1!==s.tryAdd(i.yAxis)||i.currentYAxis.invalidate(0<i.currentYAxis.zoomInOutCount,!0)&&(n=!0)),this._updateObject[i.name])&&this._updateObject[i.name].updateRequiredX&&(this.moveAxes||this.moveTrendArea||-1!==o.tryAdd(i.xAxis)||i.currentXAxis.invalidate(0<i.currentXAxis.zoomInOutCount,!0)&&(a=!0));s.clear(),o.clear(),0<e&&(a||n)&&r.resetTrendWindow(a,n)}this.showRuler&&this.trendCompanionConstUpdate&&this.online&&this.trendControlAnimator.requestRulerDataCalculation(!0),this._updateObject={},o=null},on.prototype.startAxisTimer=function(){this._leastTimeAxisAnimInterval=1e3,this.trendControlAnimator.startAxisTimer(this._boundAxisAnim,this._leastTimeAxisAnimInterval)},on.prototype.removeAxisTimer=function(){this.trendControlAnimator.removeAxisTimer(this._boundAxisAnim)},on.prototype.addTAToCollections=function(){},on.prototype.setTagNames=function(e){var t,i,r,a=this._trends.length;if(null!==e.TagNameData)for(t=0;t<a;t++)r=!1,(i=e.TagNameData[this._trends[t].dataSourceX.Tag])&&(this._trends[t].dataSourceX.TagDisplayName=i[0],null===i[1]?this._trends[t].cpmPathX="":this._trends[t].cpmPathX=i[1],r=!0),(i=e.TagNameData[this._trends[t].dataSourceY.Tag])&&(this._trends[t].dataSourceY.TagDisplayName=i[0],null===i[1]?this._trends[t].cpmPathY="":this._trends[t].cpmPathY=i[1],r=!0),r&&this._trends[t].updateTrendDisplayText()},on.prototype._getEndTimeToCurr=function(e){for(var t,i,r,a=(new Date).getTime(),n=this._trends.length,o=[],s=0;s<n;s++)i=(t=this._trends[s]).axisBeginValue,r=t.axisEndValue,e||t.rangeType!==t._rangeType.TimeRange||(i=a-t.calculateTimeRange(),r=a),o.push({elementID:t.config.ElementID,currentBeginTime:i,currentEndTime:r});return o},on.prototype._getCurrStartEndValue=function(){for(var e,t,i,r,a=this._xAxes.length,n=this._yAxes.length,o=[],s=0;s<a;s++)i=(e=this._xAxes[s]).currentBeginValue,r=e.currentEndValue,o.push({elementID:e.config.ElementID,currentBeginValue:i,currentEndValue:r});for(s=0;s<n;s++)i=(t=this._yAxes[s]).currentBeginValue,r=t.currentEndValue,o.push({elementID:t.config.ElementID,currentBeginValue:i,currentEndValue:r});return o},on.prototype._setDataProviderEvents=function(e){this.dp||(this.dp=e.Store.control.handler.getDataProvider(e.Store),this.dp&&this.dp.register&&(U.prototype._setDataProviderBaseEvents.call(this),e=G.Data.ZoomMoveOperationVars,this.dp.register("onZoomXAxisPlusMinusCommand",this.setZoomAndMove.bind(this,e.zoomInOutX)),this.dp.register("onZoomYAxisPlusMinusCommand",this.setZoomAndMove.bind(this,e.zoomInOutY)),this.dp.register("onRedraw",this._onRedraw.bind(this))))},on.prototype.onRead=function(e){for(var t,i,r,a,n,o,s,l,u,h,d,c,p,m,g,T=e.length,f=[],y=0;y<T;y++)if(m=[],0<this._drawableTrendAreas.length&&(t=this._drawableTrendAreas[0].idToDrawableTrendMap[Object.keys(e[y])[0]])&&e[y][t.partId]){for(s=(i=e[y][t.partId]).value,n=i.timeStamp,o=i.quality,h=!1,l=(a=i.tag).length,d=0;d<l;d++)if(a[d]===t.dataSourceY.Tag&&-1===m.indexOf(d)){for(m.push(d),g=G.Data.FunctionTrendDataStatus.tagYRecieved,(u=new G.ChartElements.Point).yTagValue=s[d],u.timeStamp=n[d],t.previousYTagQualityTemp=u.qualityCode=this._getQualityCode(o[d]),t.previousYTagValueTemp=u.yTagValue,r=a.length,c=0;c<r;c++)if(a[c]===t.dataSourceX.Tag&&-1===m.indexOf(c)){m.push(c),g=G.Data.FunctionTrendDataStatus.tagXYRecieved,t.previousXTagValueTemp=s[c],t.previousXTagQualityTemp=this._getQualityCode(o[c]),n[c]>u.timeStamp&&(u.timeStamp=n[c]);break}u.xTagValue=t.previousXTagValueTemp,u.qualityCode>t.previousXTagQualityTemp&&(u.qualityCode=t.previousXTagQualityTemp),null!==u.xTagValue&&null!==u.yTagValue&&f.push(u),h=!(u=null)}if(!h)for(r=a.length,d=0;d<r;d++)if(a[d]===t.dataSourceX.Tag&&-1===m.indexOf(d)){m.push(d),g=G.Data.FunctionTrendDataStatus.tagXRecieved,t.previousXTagValueTemp=s[d],t.previousXTagQualityTemp=this._getQualityCode(o[d]),(u=new G.ChartElements.Point).xTagValue=t.previousXTagValueTemp,u.yTagValue=t.previousYTagValueTemp,u.timeStamp=n[d],t.previousYTagQualityTemp&&t.previousYTagQualityTemp>t.previousXTagQualityTemp?u.qualityCode=t.previousXTagQualityTemp:u.qualityCode=t.previousYTagQualityTemp,null!==u.xTagValue&&null!==u.yTagValue&&f.push(u),u=null;break}f.length&&(!1===t.parentTrendWindow.trendWindowDrawn?this.addToUndrawnData(t.partId,f):(i=t.onTagListChanged(f,!0,g),this._updateObject[t.name]?(!1===this._updateObject[t.name].updateRequiredY&&(this._updateObject[t.name].updateRequiredY=i.updateRequiredY),!1===this._updateObject[t.name].updateRequiredX&&(this._updateObject[t.name].updateRequiredX=i.updateRequiredX)):this._updateObject[t.name]=i,(i.updateRequiredY||i.updateRequiredX)&&(p=!0))),f=[]}p&&this._onRedraw()},on.prototype.onHistoricalRead=function(e){var t,i,r,a,n,o,s,l,u,h,d,c,p,m,g,T,f,y,D,S=[],b=[],C=[],v=[],_=new G.Data.GenericList,P=new G.Data.GenericList,A=new G.Data.GenericList,w=[],V=[],x=[],E={};for(m in e)if(0<this._drawableTrendAreas.length&&(g=this._drawableTrendAreas[0].idToDrawableTrendMap[m])&&e[g.partId])for(D in e[g.partId]){if(x=e[g.partId][D],void 0===E[g.partId]&&(E[g.partId]={tagValueArrY:null,tagValueArrX:null}),x.tagArray,r=x.yvalue,f=x.xvalue,y=x.quality,Array.isArray(r)){for(c=r.length,i=0;i<c;i++)p=new G.ChartElements.Point,"tagValueArrY"===D?p.yTagValue=r[i]:p.xTagValue=r[i],p.timeStamp=f[i],p.qualityCode=this._getQualityCode(y[i]),C.push(p);p&&"tagValueArrY"===D?g.previousYTagValueTemp=p.yTagValue:p&&"tagValueArrX"===D&&(g.previousXTagValueTemp=p.xTagValue)}if(E[g.partId][D]=C,E[g.partId].tagValueArrY&&E[g.partId].tagValueArrX){if(S=E[g.partId].tagValueArrY,0<(b=E[g.partId].tagValueArrX).length&&0<S.length)for(a=u=n=T=null,length=b.length,c=S.length,t=i=0;t<length||i<c;)(o=b[t]?b[t].timeStamp:null)===(s=S[i]?S[i].timeStamp:null)?(S[i].xTagValue=b[t].xTagValue,T=S[i].qualityCode,n=b[t].qualityCode,S[i].qualityCode>b[t].qualityCode&&(S[i].qualityCode=b[t].qualityCode),v.push(S[i]),a=S[i].xTagValue,u=S[i].yTagValue,t++,i++):null===s||null!==o&&o<s?(n=b[t].qualityCode,null!==u&&(b[t].yTagValue=u,b[t].qualityCode>T&&(b[t].qualityCode=T),v.push(b[t])),a=b[t].xTagValue,t++):(T=S[i].qualityCode,null!==a&&(S[i].xTagValue=a,S[i].qualityCode>n&&(S[i].qualityCode=n),v.push(S[i])),u=S[i].yTagValue,i++);E[g.partId].tagValueArrX=null,E[g.partId].tagValueArrY=null,E[g.partId]=null,delete E[g.partId]}v.length&&(l=g.onTagListChanged(v,!1),(h=g.currentTrendWindow)&&h.trendWindowDrawn&&(A.tryAdd(g.trendWindow),!l.updateRequiredY||this.moveAxes||this.moveTrendArea||_.tryAdd(g.currentYAxis.axisPbId)),!l.updateRequiredX||this.moveAxes||this.moveTrendArea||P.tryAdd(g.currentXAxis.axisPbId),v=[]),C=[],S=[],b=[]}for(c=P.items.length,t=0;t<c;t++)(d=this.getXAxisByPbId(P.items[t])).invalidate(0<d.zoomInOutCount)&&-1!==(i=A.findIndexByName(d.trendWindow))&&(w[i]=!0);for(c=_.items.length,t=0;t<c;t++)(d=this.getYAxisByPbId(_.items[t])).invalidate(0<d.zoomInOutCount)&&-1!==(i=A.findIndexByName(d.trendWindow))&&(V[i]=!0);for(c=A.items.length,t=0;t<c;t++)(h=this.getDrawableTrendWindowByName(A.items[t]))&&h.resetTrendWindow(w[t],V[t]);P.clear(),_.clear(),A.clear(),w=[],V=[],A=_=P=null},on.prototype.resetZoom=function(e){var t,i,r=new G.Data.GenericList,a=!1;for(this.oneToOneView=!1,this.dp&&this.dp.enableDisableOriginalView(!1),t=this._yAxes.length,i=0;i<t;i++)this._yAxes[i].resetZoom(r);for(t=this._xAxes.length,i=0;i<t;i++)this._xAxes[i].resetZoom(r);for(i=0;i<r.items.length;i++)this.getTrendWindowByName(r.items[i]).resetZoomCount(),a=!0;a&&this.redraw(),this.needsRulerDataCalc()&&this.calculateRulerData(),r.clear()},on.prototype.create=function(e){return this.trendObjectType=G.Data.TrendObjectType.Function,this._boundAxisAnim=this.handleTimeChange.bind(this),U.prototype.create.call(this,e)},on.prototype.setAnimationFactors=function(){},on.prototype.needsRulerDataCalc=function(){return this.getShowRuler()},on.prototype.handleTimeChange=function(){for(var e=this._drawableTrends.length,t=!1,i=0;i<e;i++)this._drawableTrends[i].removeUnusedTimeValues()&&(t=!0);return!!t&&(this._invalidateAllAxes(),this.drawTrends(),!0)},on.prototype.addToDisconnectedSources=function(){},on.prototype.createDrawableCollections=function(e){for(var t,i,r,a,n=null,o=!1,s=(this._drawableTrendAreas=[],this._drawableTrends=[],this._validTrends=[],this.updateDrawableTrends(a=[]),e&&(e.yAxis&&this.getYAxisByPbId(e.yAxis).invalidate(),e.xAxis)&&this.getXAxisByPbId(e.xAxis).invalidate(),this.createParentWindow(),this.drawLayout(),this._drawableTrends=[],this._drawableTrendAreas.length),l=0;l<s;l++)(n=this._drawableTrendAreas[l]).trendWindowDrawn?(this._drawableTrends=this._drawableTrends.concat(n.drawableTrends),this._validTrends=this._validTrends.concat(n.drawableTrends),-1<a.indexOf(n.name)&&(this.requestHistoricalData(n.name),G.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0)):(n.clearDrawableTrends(),n.stopValueAxisAnimation());for(t in null!==this.newlyDrawnTrendWindowIndex&&(this.requestHistoricalData(this._drawableTrendAreas[this.newlyDrawnTrendWindowIndex].config.Name),G.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.newlyDrawnTrendWindowIndex=null),this.drawTrends(),this._undrawnTrendData)this._undrawnTrendData.hasOwnProperty(t)&&(i=this.getDrawableTrendByPartId(parseInt(t,10)))&&(r=this._undrawnTrendData[t],delete this._undrawnTrendData[t],r=i.onTagListChanged(r.tagValues,!0),o=!0,this._updateObject[i.name]?(!1===this._updateObject[i.name].updateRequiredY&&(this._updateObject[i.name].updateRequiredY=r.updateRequiredY),!1===this._updateObject[i.name].updateRequiredX&&(this._updateObject[i.name].updateRequiredX=r.updateRequiredX)):this._updateObject[i.name]=r,0);o&&this._onRedraw()},on.prototype.createDrawableTrendsCollection=function(){var e,t=this._drawableTrendAreas.length;for(this._drawableTrends=[],e=0;e<t;e++)this._drawableTrendAreas[e].trendWindowDrawn&&(this._drawableTrends=this._drawableTrends.concat(this._drawableTrendAreas[e].drawableTrends))},on.prototype.setStartStop=function(){var e=G.isAppModeRuntime();this.isOnline()?(this.isZooming||this.enableDisablePinchAndScroll(!1),this.saveTrendTagLists(),this.handleTimeChange()||(this._invalidateAllAxes(),this.drawTrends()),e&&this.startAxisTimer()):(!this.isZooming&&e&&this.enableDisablePinchAndScroll(!0),this.saveTrendTagLists(),this.removeAxisTimer())},on.prototype.saveTrendTagLists=function(){var e,t,i=this._drawableTrends.length;for(this.trendTagListsSaved=!this.online,e=0;e<i;e++)(t=this._drawableTrends[e]).saveTagList(),this.isOnline()||(t.axisEndValueOnPaused=(new Date).getTime())},on.prototype._invalidateAllAxes=function(){for(var e,t=this.getXAxes(),i=t.length,r=0;r<i;r++)(e=t[r]).invalidate(0<e.zoomInOutCount);for(i=(t=this.getYAxes()).length,r=0;r<i;r++)(e=t[r]).invalidate(0<e.zoomInOutCount)},on.prototype.getShowStatisticRuler=function(){return!1},on.prototype.disableAxesMove=function(){for(var e,t,i=null,r=null,a=new G.Data.GenericList,n=this._yAxes.length,o=0;o<n;o++)i=this._yAxes[o],this.getDrawableTrendWindowByName(i.trendWindow)&&i.config.Visible&&i.disableAxesMove(!this.enabled||this.moveTrendArea,a);for(a.clear(),n=this._xAxes.length,o=0;o<n;o++)i=this._xAxes[o],this.getDrawableTrendWindowByName(i.trendWindow)&&i.config.Visible&&i.disableAxesMove(this.moveTrendArea,a);if(a.clear(),!this.moveTrendArea){for(t=this._drawableTrendAreas.length,e=0;e<t;e++)(r=this._drawableTrendAreas[e]).trendWindowDrawn&&r.resetTrendWindow();this.needsRulerDataCalc()&&this.calculateRulerData()}i=r=null},on.prototype.enableAxesMove=function(){for(var e=null,t=this._xAxes.length,i=0;i<t;i++)e=this._xAxes[i],this.getDrawableTrendWindowByName(e.trendWindow)&&e.config.Visible&&e.enableAxesMove();for(t=this._yAxes.length,i=0;i<t;i++)e=this._yAxes[i],this.getDrawableTrendWindowByName(e.trendWindow)&&e.config.Visible&&e.enableAxesMove()},on.prototype.getXAxes=function(){return this._xAxes},on.prototype.getYAxes=function(){return this._yAxes},on.prototype.setXAxes=function(e){this._xAxes=e},on.prototype.setYAxes=function(e){this._yAxes=e},on.prototype.remove=function(){for(var e=this.trendAreas.length,t=0;t<e;t++)this.trendAreas[t].cleanUp(),this.trendAreas[t]=null;this.trendControlAnimator.cleanUp(),this._xAxes=[],this._yAxes=[],U.prototype.remove.call(this)},on.prototype.requestHistoricalData=function(e){var t,i,r=this._drawableTrendAreas.length,a=[],n={beginTime:[],endTime:[],points:[],clientHandles:[]};if(G.isAppModeRuntime()){for(t=0;t<r;t++)i=this._drawableTrendAreas[t],e&&i.config.Name!==e||i.trendWindowDrawn&&i.requestHistoricalData(n,a);a.length&&this.dp&&this.dp.requestData(n.beginTime,n.endTime,n.points,a,n.clientHandles,G.Data.MoveToType.MoveToSpecifiedTime)}},on.prototype.drawLayout=function(){var e=this.layouter.drawLayout(this.chart.dom);return(this.layoutDrawn=e)&&this._balanceXAxisWidths(),G.ChartBalancer.balanceCharts(this.rtoid,this.layoutBalancerId,0),e},on.prototype.resetIsStartTimeModifiedProperty=function(){for(var e,t,i,r=0;r<this._drawableTrendAreas.length;r++)for(i=(t=this._drawableTrendAreas[r]).drawableTrends.length,e=0;e<i;e++)t.drawableTrends[e].isStartTimeModified=!1},G.FunctionTrendView=on,t=(t=e=e||{}).Lib||(t.Lib={}),T=t.NVEs||(t.NVEs={}),z=T.ChartElements||(T.ChartElements={}),w.prototype._createAxes=function(){var e,t,i,r,a,n=0,o=this._trendView.axisTypeEnum,s=this.getIsLeftOrRight();for(this.bottomAxes=[],(e=this.config["Bottom"+this._xAxisElementType])&&(n=e.length),a=s?this._trendView.alignmentEnum.Bottom:this._trendView.alignmentEnum.Left,t=0;t<n;t++)void 0===(i=e[t]).LabelFont&&(i.LabelFont=this._trendView.RTPUItem.Store.props.Font),(r=new z[this._xAxisElementClass]).align=a,r.init(i,this._trendView,this,o.xAxis),this.bottomAxes.push(r);for(this.topAxes=[],n=0,(e=this.config["Top"+this._xAxisElementType])&&(n=e.length),a=s?this._trendView.alignmentEnum.Top:this._trendView.alignmentEnum.Right,t=0;t<n;t++)void 0===(i=e[t]).LabelFont&&(i.LabelFont=this._trendView.RTPUItem.Store.props.Font),(r=new z[this._xAxisElementClass]).align=a,r.init(i,this._trendView,this,o.xAxis),this.topAxes.push(r);for(this.leftAxes=[],n=0,(e=this.config.LeftValueAxes)&&(n=e.length),a=s?this._trendView.alignmentEnum.Left:this._trendView.alignmentEnum.Top,t=0;t<n;++t)void 0===(i=e[t]).LabelFont&&(i.LabelFont=this._trendView.RTPUItem.Store.props.Font),(r=new z.ValueAxis).align=a,r.init(i,this._trendView,this,o.yAxis),this.leftAxes.push(r);for(this.rightAxes=[],n=0,(e=this.config.RightValueAxes)&&(n=e.length),a=s?this._trendView.alignmentEnum.Right:this._trendView.alignmentEnum.Bottom,t=0;t<n;++t)void 0===(i=e[t]).LabelFont&&(i.LabelFont=this._trendView.RTPUItem.Store.props.Font),(r=new z.ValueAxis).align=a,r.init(i,this._trendView,this,o.yAxis),this.rightAxes.push(r)},w.prototype._createTrends=function(){var e,t,i,r,a=0,n=0;for(this.initTrendColl(),a=0,(e=this.config[this._trendElementName])&&(a=e.length),t=0;t<a;++t)i=e[t],(r=new z[this._trendElementClass]).initialize(i,this,this._trendView),r.index=t,this.trends.push(r),this.idToTrendMap[r.partId]=r,!this.visible||r.currentXAxis&&r.currentYAxis&&!r.tagInvalid||(this._trendView.trendObjectType===T.Data.TrendObjectType.Online?this._trendView.addToDisconnectedSources(r.name,r.dataSource.Tag):this._trendView.addToDisconnectedSources(r.name,r.dataSourceY.Tag,r.dataSourceX.Tag)),r.trendStyle===T.getChromEnum("HmiTrendMode").Value&&(this._displayValueRectFlag=!0),this.visible&&0!==this.config.SizeFactor&&r.config.Visible&&r.currentXAxis&&r.currentYAxis&&(this.addToDrawableTrends(r),this._trendView.trendObjectType===T.Data.TrendObjectType.Function?this.config.SelectedFunctionTrend===r.config.ElementID&&(this.selectedTrend=r,this._ruler.setMinMaxRulerTrend()):this.config.SelectedTrend===r.config.ElementID&&(this.selectedTrend=r,this._ruler.setMinMaxRulerTrend())),r.config.Visible&&n++;this.config.VisibleTrendCount=n,this._trendView.RTPUItem.setHmiProps(n,"HmiProps.VisibleTrendCount")},w.prototype._zoomInOut=function(e){var t=this._zoomInOutXAxis(e,!1),e=this._zoomInOutYAxis(e,!1);(e||t)&&(this._trendView.redrawForScrollbars?(T.Data.PostPropertyUpdate.DoNotRequestData=!0,this._trendView.onUpdate(),this._trendView.redrawForScrollbars=!1,T.Data.PostPropertyUpdate.DoNotRequestData=!1):this.resetTrendWindow(t,e),this._afterZoomFunc(t))},w.prototype._zoomInOutXAxis=function(e,t){for(var i=!1,r=this._isLeftOrRight?this._currentDragPoint.x:this._currentDragPoint.y,a=(this.config.Name,this.getXAxes()),n=a.length,o=0;o<n;o++)a[o].zoomInOut(r,e)&&(i=!0);return i&&((e===w.LEFT_CLICK&&1==++this._zoomXCount||e===w.RIGHT_CLICK&&0==--this._zoomXCount)&&(this._trendView.redrawForScrollbars=!0),t?(this._trendView.redrawForScrollbars?(T.Data.PostPropertyUpdate.DoNotRequestData=!0,this._trendView.onUpdate(),this._trendView.redrawForScrollbars=!1,T.Data.PostPropertyUpdate.DoNotRequestData=!1):this.resetTrendWindow(i),this._afterZoomFunc(!0)):this._trendView.needsRulerDataCalc()&&this._trendView.calculateRulerData()),i},w.prototype._zoomInOutYAxis=function(e,t){for(var i=!0,r=!1,a=this.getYAxes(),n=a.length,o=this._isLeftOrRight?this._currentDragPoint.y:this._currentDragPoint.x,s=0;s<n;s++)a[s].zoomInOut(o,e)&&(r=!0);return r&&this._trendView.trendObjectType===T.Data.TrendObjectType.Online&&(i=!1),r&&((e===w.LEFT_CLICK&&1==++this._zoomYCount||e===w.RIGHT_CLICK&&0==--this._zoomYCount)&&(this._trendView.redrawForScrollbars=!0),t&&(this._trendView.redrawForScrollbars?(T.Data.PostPropertyUpdate.DoNotRequestData=!0,this._trendView.onUpdate(),this._trendView.redrawForScrollbars=!1,T.Data.PostPropertyUpdate.DoNotRequestData=!1):this.resetTrendWindow(null,r)),this._trendView.needsRulerDataCalc())&&i&&this._trendView.calculateRulerData(),r},w.prototype._initZoomRect=function(e){var e=e?.2:.5,t=this._zoomRectStartPt.x,i=this._zoomRectStartPt.y;this._zoomRect=T.Features.Shape.SvgShape.CreateSvgElement("rect",{fill:this._invertColor(this.backColor),"fill-opacity":e,"stroke-width":0,x:t,y:i,width:0,height:0}),this._eventFocusElements.appendChild(this._zoomRect)},w.prototype._updateZoomRect=function(e,t){var i=this._innerRect.left,r=this._innerRect.left+this._innerRect.width,a=this._innerRect.top,n=this._innerRect.top+this._innerRect.height;this._currentDragPoint.x<i?this._currentDragPoint.x=i:this._currentDragPoint.x>r&&(this._currentDragPoint.x=r),this._currentDragPoint.y<a?this._currentDragPoint.y=a:this._currentDragPoint.y>n&&(this._currentDragPoint.y=n),i=this._currentDragPoint.y-this._zoomRectStartPt.y,r=this._currentDragPoint.x-this._zoomRectStartPt.x,this._trendView.zoomInOutX||t?this._isLeftOrRight?i=this._innerRect.height:r=this._innerRect.width:(this._trendView.zoomInOutY||e)&&(this._isLeftOrRight?r=this._innerRect.width:i=this._innerRect.height),r<0?(this._zoomRect.setAttributeNS(null,"x",this._currentDragPoint.x),r=Math.abs(r)):this._zoomRect.setAttributeNS(null,"x",this._zoomRectStartPt.x),i<0?(this._zoomRect.setAttributeNS(null,"y",this._currentDragPoint.y),i=Math.abs(i)):this._zoomRect.setAttributeNS(null,"y",this._zoomRectStartPt.y),this._zoomRect.setAttributeNS(null,"height",i),this._zoomRect.setAttributeNS(null,"width",r)},w.prototype._setAxesZoomed=function(){var e,t,i=this.getXAxes(),r=i.length;for(this._zoomXCount=0,t=this._zoomYCount=0;t<r;t++)this._zoomXCount=(e=i[t].zoomInOutCount)>this._zoomXCount?e:this._zoomXCount;for(r=(i=this.getYAxes()).length,t=0;t<r;t++)this._zoomYCount=(e=i[t].zoomInOutCount)>this._zoomYCount?e:this._zoomYCount},w.prototype._getPos=function(e){var t={x:0,y:0};return t.x=e.pointers[0].clientX,t.y=e.pointers[0].clientY,t},w.prototype.getRulerView=function(){return this._ruler},w.prototype.moveToPerc=function(e,t,i,r,a,n){for(var o,s,l=T.Data.TextOrientation,u=t===this._trendView.axisTypeEnum.yAxis?this.getYAxes():this.getXAxes(),h=u.length,d=0;d<h;d++)0<(o=u[d]).zoomInOutCount&&(o.moveToPerc(e),i)&&(s=o.textOrientation===l.FromRight||o.textOrientation===l.FromBottom?r:!r,o.requestHistoricalData(s,a,n,!0))},w.prototype.zoomArea=function(){var e,t,i,r,a,n,o=!1,s=!1,l=Number(this._zoomRect.getAttribute("x")),u=l+Number(this._zoomRect.getAttribute("width")),h=Number(this._zoomRect.getAttribute("y")),d=h+Number(this._zoomRect.getAttribute("height")),c=this._trendView.isLeftOrRight()?(e=l,t=u,i=d,h):(e=h,t=d,i=l,u);if(this._currentDragPoint={x:0,y:0},this._zoomRectStartPt=null,this._eventFocusElements.removeChild(this._zoomRect),this._zoomRect=null,!this._trendView.zoomInOutY)for(n=(a=this.getXAxes()).length,r=0;r<n;r++)a[r].zoomArea(e,t)&&(o=!0);if(!this._trendView.zoomInOutX)for(n=(a=this.getYAxes()).length,r=0;r<n;r++)a[r].zoomArea(i,c)&&(s=!0);(o||s)&&(this._zoomXCount&&this._zoomYCount||(this._trendView.redrawForScrollbars=!0),this._setAxesZoomed(),this._trendView.redrawForScrollbars||this.resetTrendWindow(o,s),this._afterZoomFunc(o))},w.prototype.pinchScrollZoom=function(e,t){var i,r,a,n,o,s,l=!1,u=!1,h=t/this._zoomScale,d=!this._zoomXCount||!this._zoomYCount;if(this._zoomScale=t,this._currentDragPoint.x=e.x*this._innerRect.width+this._innerRect.left,this._currentDragPoint.y=e.y*this._innerRect.height+this._innerRect.top,t<1){if(s=w.RIGHT_CLICK,!this._zoomXCount&&!this._zoomYCount)return}else{if(!(1<t))return;s=w.LEFT_CLICK}for(this._isLeftOrRight?(i=this._currentDragPoint.x-this._innerRect.left,r=this._currentDragPoint.y-this._innerRect.top):(r=this._currentDragPoint.x-this._innerRect.left,i=this._currentDragPoint.y-this._innerRect.top),o=(n=this.getXAxes()).length,a=0;a<o;a++)n[a].zoomByScale(i,h)&&(l=!0);for(o=(n=this.getYAxes()).length,a=0;a<o;a++)n[a].zoomByScale(r,h)&&(u=!0);(l||u)&&(this._setAxesZoomed(),(s===w.LEFT_CLICK&&d||!(s!==w.RIGHT_CLICK||this._zoomXCount&&this._zoomYCount))&&(this._trendView.redrawForScrollbars=!0),this._trendView.redrawForScrollbars||this.resetTrendWindow(l,u),this._afterZoomFunc(l))},w.prototype._afterZoomFunc=function(e){var t=!0;this._trendView.trendObjectType===T.Data.TrendObjectType.Online&&(e?(this._trendView.forceTimeAxisDrawn=!0,this._trendView.requestHistoricalData(!0,this.config.Name),this._trendView.forceTimeAxisDrawn=!1):t=!1),this._trendView.needsRulerDataCalc()&&t&&this._trendView.calculateRulerData()},w.prototype.onPinchScrollEnd=function(){this._zoomScale=1},w.prototype.doPinchScrollZoom=function(e,t){var i={x:0,y:0};this._currentDragPoint=e,this._eventManager.translateCoordinates(this._currentDragPoint),i.x=(this._currentDragPoint.x-this._innerRect.left)/this._innerRect.width,i.y=(this._currentDragPoint.y-this._innerRect.top)/this._innerRect.height,this.pinchScrollZoom(i,t),this._trendView.redrawForScrollbars&&(T.Data.PostPropertyUpdate.DoNotRequestData=!0,this._trendView.onUpdate(),this._trendView.redrawForScrollbars=!1,T.Data.PostPropertyUpdate.DoNotRequestData=!1)},w.prototype.endPinchScrollZoom=function(){this.onPinchScrollEnd()},w.prototype.onSingleTap=function(e){var t=w.LEFT_CLICK,i=e.pointers[0];"mouse"===e.pointerType&&i.which===w.LEFT_CLICK&&(i.altKey||i.shiftKey)&&(t=w.RIGHT_CLICK),this._currentDragPoint=this._getPos(e),this._eventManager.translateCoordinates(this._currentDragPoint),this._trendView.zoomInOut?this._zoomInOut(t):this._trendView.zoomInOutX?this._zoomInOutXAxis(t,!0):this._trendView.zoomInOutY&&this._zoomInOutYAxis(t,!0)},w.prototype.twoFingerSingleTap=function(e,t){this._currentDragPoint=t?e:this._getPos(e),this._eventManager.translateCoordinates(this._currentDragPoint),this._trendView.zoomInOut?this._zoomInOut(w.RIGHT_CLICK):this._trendView.zoomInOutX?this._zoomInOutXAxis(w.RIGHT_CLICK,!0):this._trendView.zoomInOutY&&this._zoomInOutYAxis(w.RIGHT_CLICK,!0)},w.prototype.onPan=function(e){var t,i,r;if(e.preventDefault(),this._trendView.moveTrendArea)if(e.eventType===this.Hammer.INPUT_MOVE)this._panMoveForMoveArea(e);else{if(this._trendView.trendObjectType===T.Data.TrendObjectType.Online)for(this._trendView.dp.sendRequest(),r=(t=this.getXAxes()).length,i=0;i<r;i++)t[i].switchOffPanDials();this._deltaX=0,this._deltaY=0}else(this._trendView.zoomArea||this._trendView.zoomInOutX||this._trendView.zoomInOutY)&&(e.eventType===this.Hammer.INPUT_MOVE?this._panMoveForZooming(e):e.eventType===this.Hammer.INPUT_END&&(this.zoomArea(),this._trendView.redrawForScrollbars)&&(T.Data.PostPropertyUpdate.DoNotRequestData=!0,this._trendView.onUpdate(),this._trendView.secondaryRulerToolTip&&this._trendView.calculateRulerData(),this._trendView.redrawForScrollbars=!1,T.Data.PostPropertyUpdate.DoNotRequestData=!1))},w.prototype._panMoveForMoveArea=function(e){var t,i,r,a,n,o=null,s=null,l=!1,u=1,h={beginTime:[],endTime:[],chromIds:[],points:[],clientHandles:[],aggMode:[]},d=[0];if(u<1&&-1===navigator.appName.indexOf("Microsoft")||(u=1),i=this._getPos(e),this._deltaX=e.deltaX-this._deltaX,this._deltaY=e.deltaY-this._deltaY,this._currentDragPoint.x=i.x-this._deltaX/u,this._currentDragPoint.y=i.y-this._deltaY/u,this._deltaX=e.deltaX,this._deltaY=e.deltaY,this._isLeftOrRight?this._deltaX:this._deltaY){for(l=!0,n=(r=this.getXAxes()).length,p=0;p<n;p++)o=r[p],t=this._isLeftOrRight?o.calculateAxisMoveEndValues(i.x,this._currentDragPoint.x):o.calculateAxisMoveEndValues(i.y,this._currentDragPoint.y),this._trendView.trendObjectType===T.Data.TrendObjectType.Online?o.requestHistoricalData(t,h,d):o.calculateAndUpdate();h.chromIds.length&&this._trendView.dp.addRequest(h.beginTime,h.endTime,h.points,h.chromIds,h.clientHandles,d[0],h.aggMode,!0)}if(this._isLeftOrRight?this._deltaY:this._deltaX)for(this._trendView.trendObjectType===T.Data.TrendObjectType.Function&&(l=!0),n=(a=this.getYAxes()).length,p=0;p<n;p++)s=a[p],this._isLeftOrRight?s.calculateAxisMoveEndValues(i.y,this._currentDragPoint.y):s.calculateAxisMoveEndValues(i.x,this._currentDragPoint.x),s.invalidated=!0,s.calculateAndUpdate();if(this._trendView.trendObjectType===T.Data.TrendObjectType.Function)this.resetTrendWindow();else for(var c=void 0,p=this.drawableTrends.length-1;0<=p;p--)(c=this.drawableTrends[p]).recalculateWithTranslate(),c.trendModeObj.updateTrend();this._trendView.needsRulerDataCalc()&&l&&this._trendView.calculateRulerData(),h.endTime=[],h.beginTime=[],h.chromIds=[],h.points=[],h.clientHandles=[],h.aggMode=[]},w.prototype._panMoveForZooming=function(e){this._currentDragPoint=this._getPos(e),this._eventManager.translateCoordinates(this._currentDragPoint),this._zoomRect||(this._zoomRectStartPt=this._currentDragPoint,this._zoomRectStartPt.x-=e.deltaX,this._zoomRectStartPt.y-=e.deltaY,this._trendView.zoomInOutX?this._isLeftOrRight?this._zoomRectStartPt.y=this._innerRect.top:this._zoomRectStartPt.x=this._innerRect.left:this._trendView.zoomInOutY&&(this._isLeftOrRight?this._zoomRectStartPt.x=this._innerRect.left:this._zoomRectStartPt.y=this._innerRect.top),this._initZoomRect()),this._updateZoomRect()},w.prototype.setIsLeftOrRight=function(e){this._isLeftOrRight=e,this._eventManager.setIsLeftOrRight(e)},w.prototype.getMinMaxRulerWidth=function(){var e,t=0;return t=this._ruler.isMinMaxRulerEnabled()&&this.selectedTrend&&(e=this.selectedTrend.currentYAxis)?this._isLeftOrRight?this._ruler.minMaxTextBBox.width+e.MajorTickSize+e.LabelToMajorTickSpace+this._trendView.getLineWidth()+e.LabelToBorderSpace:2*this._ruler.minMaxTextBBox.height+e.MajorTickSize+e.LabelToMajorTickSpace+this._trendView.getLineWidth()+e.LabelToBorderSpace:t},w.prototype.getRulerHandleWidthHeight=function(){var e=this._ruler.getRulerHandleWidthHeight();return e.xAxesCount=this.topAxes.length+this.bottomAxes.length,e.yAxesCount=this.leftAxes.length+this.rightAxes.length,e},w.prototype.minMaxRulerEnabled=function(){return this._ruler.isMinMaxRulerEnabled()},w.prototype.init=function(e,t){var i;e&&(i=T.getChromEnum("HmiGridLine"),this._trendView=t,this._trendView.trendObjectType===T.Data.TrendObjectType.Online?(this._parentCollectionName="TrendAreas",this._elementName="TrendAreaPart",this._trendElementName="Trends",this._trendElementClass="OnlineTrend",this._xAxisElementType="TimeAxes",this._xAxisElementClass="TimeAxis"):(this._parentCollectionName="FunctionTrendAreas",this._elementName="FunctionTrendAreaPart",this._trendElementName="FunctionTrends",this._trendElementClass="FunctionTrend",this._xAxisElementType="ValueAxes",this._xAxisElementClass="ValueAxis"),void 0===e[this._trendElementName]&&(e[this._trendElementName]=[]),void 0===e.LeftValueAxes&&(e.LeftValueAxes=[]),void 0===e.RightValueAxes&&(e.RightValueAxes=[]),void 0===e["Bottom"+this._xAxisElementType]&&(e["Bottom"+this._xAxisElementType]=[]),void 0===e["Top"+this._xAxisElementType]&&(e["Top"+this._xAxisElementType]=[]),this.config=e,this.verticalMajorGrid=(i.VerticalMajor&this.config.GridLines)===i.VerticalMajor,this.horizontalMajorGrid=(i.HorizontalMajor&this.config.GridLines)===i.HorizontalMajor,this.horizontalMinorGrid=(i.HorizontalMinor&this.config.GridLines)===i.HorizontalMinor,this.verticalMinorGrid=(i.VerticalMinor&this.config.GridLines)===i.VerticalMinor,this.coarseGridColor=T.getRGBAcolor(this.config.MajorGridLinesColor),this.fineGridColor=T.getRGBAcolor(this.config.MinorGridLinesColor),this.backColor=T.getRGBAcolor(this.config.BackColor),this.visible=this.config.Visible,this.spacePortion=this.config.SizeFactor,this._isLeftOrRight=t.isLeftOrRight(),this._lineWidth=this._trendView.getLineWidth(),this.ruler=this.config.Ruler,this.rulerColor=T.getRGBAcolor(this.ruler.Color),this.rulerColor2=T.getRGBAcolor(T.getDarkercolor(this.ruler.Color,w.COLOR_SHADE_CONST)),this._trendView.trendObjectType===T.Data.TrendObjectType.Online&&(this.statisticRulers=this.config.StatisticRulers,this.statisticRulerColor=T.getRGBAcolor(this.statisticRulers.Color),this.statisticRulerColor2=T.getRGBAcolor(T.getDarkercolor(this.statisticRulers.Color,w.COLOR_SHADE_CONST))),this._id=(this._trendView.getControlName()+"_"+this.config.Name).replace(/\s+/g,"_sp_").replace(/\(/g,"_ob_").replace(/\)/g,"_cb_").replace(/\\/g,"_bs_").replace(/\'/g,"_sq_").replace(/\"/g,"_dq_"),this._clipPathId=this._id+"_clipPath",this._verticalRulerClipPathId=this._id+"_verticalRuler_clipPath",this._trendView.trendObjectType===T.Data.TrendObjectType.Function&&(this._horizontalRulerClipPathId=this._id+"_horizontalRuler_clipPath"),this._eventRectId=this._id+"_eventRect",this._ruler=new T.ChartElements.RulerView(this._trendView,this,this._id),this._eventManager=new T.ChartElements.TrendWindowEventManager(this._trendView,this,this._id,this._ruler),this._eventManager.init()),this.vertGridTranslate=0,this.horizGridTranslate=0,this.topAxes=[],this.bottomAxes=[],this.leftAxes=[],this.rightAxes=[],this.initTrendColl()},w.prototype.initTrendsAndAxes=function(){this._createAxes(),this._createTrends(),!this.selectedTrend&&0<this.drawableTrends.length&&(this.selectedTrend=this.drawableTrends[0],this._trendView.trendObjectType===T.Data.TrendObjectType.Function?this.config.SelectedFunctionTrend=this.selectedTrend.config.ElementID:this.config.SelectedTrend=this.selectedTrend.config.ElementID,this._ruler.setMinMaxRulerTrend()),this._ruler.updateAssociatedAxes(),this._ruler.setRulerHandleDim()},w.prototype.initializeAxisFeatures=function(){for(var e=this.leftAxes,t=e.length,i=0;i<t;i++)e[i].initScaleFeatures();for(t=(e=this.rightAxes).length,i=0;i<t;i++)e[i].initScaleFeatures();for(t=(e=this.topAxes).length,i=0;i<t;i++)e[i].initScaleFeatures();for(t=(e=this.bottomAxes).length,i=0;i<t;i++)e[i].initScaleFeatures()},w.prototype.graphsSelectionChanged=function(){var e=this._trendView.graphsFeature;this.selectedTrend&&(e.bringOnTop&&!1===e.keepSelection&&this.selectedTrend!==this.trends[0]&&(e=this.config[this._trendElementName].indexOf(this.selectedTrend.config),this.config[this._trendElementName].splice(e,1),this.config[this._trendElementName].unshift(this.selectedTrend.config),e=this.drawableTrends.indexOf(this.selectedTrend),this.drawableTrends.splice(e,1),this.drawableTrends.unshift(this.selectedTrend),e=this.trends.indexOf(this.selectedTrend),this.trends.splice(e,1),this.trends.unshift(this.selectedTrend)),this.selectedTrend.trendStyle===T.getChromEnum("HmiTrendMode").Value?this.setTrendDisplayValuePositions():this.cleanTrendsForReorder(),this.drawTrends())},w.prototype.setSelectedTrend=function(e){var t,i,r=this._trendView.trendObjectType===T.Data.TrendObjectType.Online,a=this._trendView.trendObjectType===T.Data.TrendObjectType.Function,n=!1,o=!1,s=!1,l=!1,u=!1;(i=this.drawableTrends[e])&&i!==this.selectedTrend&&(this.selectedTrend&&(void 0===(t=this.selectedTrend.getMinMaxThresholds()).maximumValue&&void 0===t.minimumValue||(n=!0),this.selectedTrend.trendStyle===T.getChromEnum("HmiTrendMode").Value?u=!0:l=!0),this.selectedTrend=i,void 0===(t=this.selectedTrend.getMinMaxThresholds()).maximumValue&&void 0===t.minimumValue||(o=!0),this._trendView.graphsFeature&&this._trendView.graphsFeature.bringOnTop&&!(s=!0)===this._trendView.graphsFeature.keepSelection&&(u=l=!1,i=this.config[this._trendElementName].indexOf(this.selectedTrend.config),this.config[this._trendElementName].splice(i,1),this.config[this._trendElementName].unshift(this.selectedTrend.config),this.drawableTrends.splice(e,1),this.drawableTrends.unshift(this.selectedTrend),i=this.trends.indexOf(this.selectedTrend),this.trends.splice(i,1),this.trends.unshift(this.selectedTrend),this._trendView.dp.moveTrendTopMost(this.selectedTrend.config.ElementID),this._trendView.resetTrendsCollection(),this._trendView.unmatchGraphs(!1,[this]),this._trendView.matchGraphs(!0,[this])),this.selectedTrend.trendStyle===T.getChromEnum("HmiTrendMode").Value?u=!0:l=!0),this.resetGridLines(),this._ruler.setMinMaxRulerTrend(),n!==o?s?T.Data.PostPropertyUpdate.Redraw=!0:T.Data.PostPropertyUpdate.Update=!0:s&&(l&&this.cleanTrendsForReorder(),u&&this.setTrendDisplayValuePositions(),this.drawTrends()),this._ruler.updateMinMaxRulers(),(r&&(17<=this._trendView.currProjectVersion||""===this._trendView.currProjectVersion)||a)&&(this._ruler.updateAssociatedAxes(),this._ruler.updateVerticalRulerLabels()),a&&this._ruler._rulerHoriz.updateRuler()},w.prototype.resetGridLines=function(){for(var e="selected",t=this.getYAxes(),i=t.length,r=0;r<i;r++)t[r].gridlineFeature&&t[r].gridlineFeature.Attributes.show===e&&(t[r].resetGridlineAttributes(),t[r].calculateAndUpdate());for(i=(t=this.getXAxes()).length,r=0;r<i;r++)t[r].gridlineFeature&&t[r].gridlineFeature.Attributes.show===e&&(t[r].resetGridlineAttributes(),t[r].calculateAndUpdate())},w.prototype.cleanTrendsForReorder=function(){for(var e,t=this.drawableTrends.length,i=0;i<t;i++)(e=this.drawableTrends[i].svgGroup.trendPlaceHolder)&&this._eventFocusElements.contains(e)&&this._eventFocusElements.removeChild(e)},w.prototype.createDrawableTrendsCollection=function(){var e,t,i=this.trends.length;for(this.clearDrawableTrends(),e=0;e<i;++e)t=this.trends[e],this.config.Visible&&0!==this.config.SizeFactor?t.currentTrendWindow=this:t.currentTrendWindow=null,t.config.Visible&&t.currentXAxis&&t.currentYAxis&&this.addToDrawableTrends(t);null===this.selectedTrend&&0<this.drawableTrends.length&&(this.selectedTrend=this.drawableTrends[0],this._ruler.setMinMaxRulerTrend())},w.prototype.drawTrends=function(){for(var e,t,i=this._trendView.graphsFeature,r=i&&i.bringOnTop&&i.keepSelection,a=this.drawableTrends.length-1;0<=a;a--)e=this.drawableTrends[a],r&&e===this.selectedTrend?t=e:this._trendView.trendObjectType===T.Data.TrendObjectType.Function?(e.clearNewPoints(),e.recalculateX(this._trendView.trendTagListsSaved),e.recalculateY(this._trendView.trendTagListsSaved),e.recalculateNewPoints(),e.draw(this._trendView.trendTagListsSaved)):(e.recalculate(),e.draw(!1));t&&(this._trendView.trendObjectType===T.Data.TrendObjectType.Function?(t.clearNewPoints(),t.recalculateX(this._trendView.trendTagListsSaved),t.recalculateY(this._trendView.trendTagListsSaved),t.recalculateNewPoints(),t.draw(this._trendView.trendTagListsSaved)):(t.recalculate(),t.draw(!1)))},w.prototype.stopValueAxisAnimation=function(){for(var e=this.leftAxes.length,t=0;t<e;t++)this._trendView.trendControlAnimator.removeValueAxisAnimation(this.leftAxes[t].axisPbId);for(e=this.rightAxes.length,t=0;t<e;t++)this._trendView.trendControlAnimator.removeValueAxisAnimation(this.rightAxes[t].axisPbId);if(this._trendView.trendObjectType===T.Data.TrendObjectType.Function){for(e=this.bottomAxes.length,t=0;t<e;t++)this._trendView.trendControlAnimator.removeValueAxisAnimation(this.bottomAxes[t].axisPbId);for(e=this.topAxes.length,t=0;t<e;t++)this._trendView.trendControlAnimator.removeValueAxisAnimation(this.topAxes[t].axisPbId)}},w.prototype.getXAxisByName=function(e){for(var t=this.bottomAxes.concat(this.topAxes),i=t.length,r=0;r<i;r++)if(t[r].config.Name===e)return t[r];return null},w.prototype.getYAxisByName=function(e){for(var t=this.rightAxes.concat(this.leftAxes),i=t.length,r=0;r<i;r++)if(t[r].config.Name===e)return t[r];return null},w.prototype.getXAxisByPartId=function(e){for(var t=this.bottomAxes.concat(this.topAxes),i=t.length,r=0;r<i;r++)if(t[r].config.ElementID===e)return t[r];return null},w.prototype.getYAxisByPartId=function(e){for(var t=this.rightAxes.concat(this.leftAxes),i=t.length,r=0;r<i;r++)if(t[r].config.ElementID===e)return t[r];return null},w.prototype.moveTrendDown=function(e){var t=0,i=!0,r=!0,a=this._trendView.graphsFeature,n=a&&a.bringOnTop,o=this._trendView.trendObjectType===T.Data.TrendObjectType.Function?this.config.SelectedFunctionTrend:this.config.SelectedTrend,s=this.trends.length,l=this.idToTrendMap[e];return(t=l?this.trends.indexOf(l):t)<s-1&&(e===o?n&&(a.keepSelection?r=!1:i=!1):this.trends[t+1].config.ElementID===this.config.SelectedTrend&&n&&(r=!1),i)&&(l=this.config[this._trendElementName][t],this.config[this._trendElementName][t]=this.config[this._trendElementName][t+1],this.config[this._trendElementName][t+1]=l,l=this.trends[t],this.trends[t]=this.trends[t+1],this.trends[t+1]=l,-1<(t=this.drawableTrends.indexOf(l)))&&t<this.drawableTrends.length-1&&(this.drawableTrends[t]=this.drawableTrends[t+1],this.drawableTrends[t+1]=l,r)&&l.trendModeObj.swapWithNextTrend(this.drawableTrends[t]),l},w.prototype.updateTrendsInConfig=function(e){e=this.config[this._trendElementName].splice(e).concat(this.config[this._trendElementName]);this.config[this._trendElementName]=e},w.prototype.getBackColor=function(){return this.backColor},w.prototype.setTrendDisplayValuePositions=function(e){var t,i,r,a,n,o,s,l,u,h=e||this.drawableTrends,d=h.length;if(0<d)for((e=this._trendView.graphsFeature)&&e.bringOnTop&&e.keepSelection&&this.selectedTrend&&0<(t=h.indexOf(this.selectedTrend))&&((h=h.slice(0)).splice(t,1),h.unshift(this.selectedTrend)),u=h[0].currentYAxis.bBoxText.height,this._isLeftOrRight?(o=(n=this._innerRect.top)+this._innerRect.height,r=n+u,a=2.5*u):(r=(o=(n=this._innerRect.left)+this._innerRect.width)-u,a=-1*u,s=1.5*u/2),t=0;t<d;++t)(i=h[t]).trendStyle===T.getChromEnum("HmiTrendMode").Value&&(l=i.getDisplayValueWidth(),this._isLeftOrRight?s=1.5*l/2:r-=1.5*l,i.displayValueAttr={start:n,end:o,position:r,positionToBoxCoord:s,height:1.5*u,width:1.5*l},r+=a)},w.prototype.onValueTrendModePositionChange=function(e){var t,i,r,a,n,o=0,s=0,l=[],u=this._trendView.graphsFeature;for(u&&u.bringOnTop&&u.keepSelection&&this.selectedTrend&&0<(i=this.drawableTrends.indexOf(this.selectedTrend))?((t=this.drawableTrends.slice(0)).splice(i,1),t.unshift(this.selectedTrend)):t=this.drawableTrends,a=n=t.length,i=0;i<n;i++)(r=t[i]).name===e&&(a=i,s=l.length),r.trendStyle===T.getChromEnum("HmiTrendMode").Value&&(l.push(r),o=i);return l=0<l.length&&a<=o?(this.setTrendDisplayValuePositions(l),l.slice(s)):[]},w.prototype.getXAxes=function(){return this.topAxes?this.topAxes.concat(this.bottomAxes):this.bottomAxes},w.prototype.getYAxes=function(){return this.leftAxes?this.leftAxes.concat(this.rightAxes):this.rightAxes},w.prototype.getAxesZoomed=function(){return{xZoomed:this._zoomXCount,yZoomed:this._trendView.yAxesScrollbar}},w.prototype.setXZoomCount=function(e){this._zoomXCount+=e},w.prototype.resetZoomCount=function(){0<this._zoomXCount&&this._eventManager.removeHScroll(),0<this._zoomYCount&&this._eventManager.removeVScroll(),this._zoomXCount=0,this._zoomYCount=0,this._zoomScale=1},w.prototype.removeScrollbars=function(){this._eventManager.removeHScroll(),this._eventManager.removeVScroll(),this.scrollBarGroup=null},w.prototype.createDisplayValueRectParentGroup=function(){this._displayValueRectParentGroup=T.Features.Shape.SvgShape.CreateSvgElement("g",{id:"DisplayValueRectParentGroup_"+this._id,"text-anchor":"middle"}),this._eventFocusElements.appendChild(this._displayValueRectParentGroup)},w.prototype.draw=function(e,t){var i=T.Features.Shape.SvgShape.CreateSvgElement,r=(this._trendView.getLineColor(),this._lineWidth,i("defs",{appendTo:this._svgParent}));return this._clipPath=i("clipPath",{id:this._clipPathId,appendTo:r}),this._verticalRulerClipPath=i("clipPath",{id:this._verticalRulerClipPathId,appendTo:r}),this._horizontalRulerClipPath=i("clipPath",{id:this._horizontalRulerClipPathId,appendTo:r}),this._trendWindowElements=i("g",{id:this._id+"_trendWindowElements","clip-path":"url(#"+this._clipPathId+")",appendTo:this._svgParent}),this._eventFocusElements=i("g",{id:this._id+"_eventFocusElements","clip-path":"url(#"+this._clipPathId+")",appendTo:this._svgParent}),this._horizontalElementsGroup=i("g",{id:this._id+"_HorizontalElements",transform:"translate(0,0)",appendTo:this._trendWindowElements}),this.horizMatrix=this._horizontalElementsGroup.transform.baseVal.getItem(0).matrix,this._verticalElementsGroup=i("g",{id:this._id+"_VerticalElements",transform:"translate(0,0)",appendTo:this._trendWindowElements}),this.vertMatrix=this._verticalElementsGroup.transform.baseVal.getItem(0).matrix,this._eventRect=i("rect",{id:this._eventRectId,"data-tif-id":this._eventRectId,stroke:"none","fill-opacity":0}),this._trendView.Hammer&&T.isAppModeRuntime()&&this._trendView.isEnabled()&&this.initHammer(),this._eventFocusElements.appendChild(this._eventRect),this._trendView.trendObjectType===T.Data.TrendObjectType.Online&&this._displayValueRectFlag&&this.createDisplayValueRectParentGroup(),T.isAppModeRuntime()?this._eventManager.drawRuler():this._ruler.draw(),this._trendView.getShowRuler()?this._ruler.showRuler():this._ruler.hideRuler(),this._trendView.trendObjectType===T.Data.TrendObjectType.Online&&(this._trendView.getShowStatisticRuler()?this.showStatisticRuler():this._ruler.hideStatisticRuler()),this.update(),this._svgParent},w.prototype.initHammer=function(){this.Hammer=this._trendView.Hammer,this._eventManager.initHammer(),this._trendView.isZooming?this.enableTrendAreaMove():this._trendView.isOnline()||this.enableDisablePinchAndScroll(!0)},w.prototype.unInitHammer=function(){this._eventManager.unInitHammer()},w.prototype.setLayoutSuccess=function(e){var t,i;if(this.trendWindowDrawn!==e){for(this.trendWindowDrawn=e,i=this.leftAxes.length,t=0;t<i;t++)this.leftAxes[t].trendWindowDrawable=e;for(i=this.rightAxes.length,t=0;t<i;t++)this.rightAxes[t].trendWindowDrawable=e;for(i=this.bottomAxes.length,t=0;t<i;t++)this.bottomAxes[t].trendWindowDrawable=e;for(i=this.topAxes.length,t=0;t<i;t++)this.topAxes[t].trendWindowDrawable=e}},w.prototype.update=function(){var e=T.Features.Shape.SvgShape.SetAttributes;this._clipPath.lastChild&&this._clipPath.removeChild(this._clipPath.lastChild),this._trendDrawableAreaRect=T.Features.Shape.SvgShape.CreateSvgElement("rect",{rect:this._innerRect,appendTo:this._clipPath}),this._updateClipRects(),e(this._eventRect,{rect:this._innerRect}),this._ruler.setRulerHandleDim(),this._ruler.update(),this._trendView.trendObjectType===T.Data.TrendObjectType.Online&&this.setTrendDisplayValuePositions(),this.trendWindowDrawn},w.prototype.updateMarkerGraphic=function(e){},w.prototype.drawScrollbars=function(){this._eventManager.drawScrollbars(this._zoomXCount,this._zoomYCount)},w.prototype.updateScrollbars=function(){this._eventManager.updateScrollbars(this._zoomXCount,this._zoomYCount)},w.prototype.drawHorizScrollbar=function(e){return this._eventManager.drawHorizScrollbar(e,this._zoomXCount,this.scrollBarGroup)},w.prototype.drawVertScrollbar=function(){return this._eventManager.drawVertScrollbar(this._zoomYCount,this.scrollBarGroup)},w.prototype.updateHorizScrollbar=function(){return this._eventManager.updateHorizScrollbar(this._zoomXCount)},w.prototype.updateVertScrollbar=function(){return this._eventManager.updateVertScrollbar(this._zoomYCount)},w.prototype.setScrollbarRef=function(e,t){e&&(this._horizontalScrollbar=e),t&&(this._verticalScrollbar=t)},w.prototype.setRect=function(e,t){this._rect=e,this._innerRect=t},w.prototype.getClipPathId=function(){return this._clipPathId},w.prototype.getHorizontalRulerClipPathId=function(){return this._horizontalRulerClipPathId},w.prototype.getVerticalRulerClipPathId=function(){return this._verticalRulerClipPathId},w.prototype.getEventRectId=function(){return this._eventRectId},w.prototype.getRect=function(){return this._innerRect},w.prototype.getDisplayValueRectParentGroup=function(){return this._displayValueRectParentGroup},w.prototype.setSVG=function(e,t){this._svgParent=e,this._svgParent.setAttribute("id",this._id),this._trendWindowRect=t,this._trendWindowRect.setAttribute("id",this._id+"_rect")},w.prototype.getSVG=function(){return this._svgParent},w.prototype.getEventSVG=function(){return this._eventFocusElements},w.prototype.getElement=function(){return this._trendWindowElements},w.prototype.getDrawableAreaRect=function(){return this._trendDrawableAreaRect},w.prototype.getEventRect=function(){return this._eventRect},w.prototype.getTrendViewLineColor=function(){return this._trendView.getLineColor()},w.prototype.getRedrawForScrollbars=function(){return this._trendView.redrawForScrollbars},w.prototype.getTrendViewLineWidth=function(){return this._trendView.getLineWidth()},w.prototype.isOnlineTrendControl=function(){return this._trendView.trendObjectType===T.Data.TrendObjectType.Online},w.prototype.disableTrendAreaMove=function(e,t,i,r){var a,n,o,s;if(this._eventManager.disableTrendAreaMove(t),!1===e&&0<this.drawableTrends.length){for(s=(a=this.getYAxes()).length,o=0;o<s;o++)0===(n=a[o]).zoomInOutCount&&(this._trendView.isMoveButtonClicked||this._trendView.isOnline())&&-1===i.tryAdd(n.config.Name)&&n.invalidate(),n.endValueBuffer2&&(n.endValueBuffer=n.endValueBuffer2,n.startValueBuffer=n.startValueBuffer2,n.endValueBuffer2=null,n.startValueBuffer2=null);if(this._trendView.trendObjectType===T.Data.TrendObjectType.Function)for(s=(a=this.getXAxes()).length,o=0;o<s;o++)0===(n=a[o]).zoomInOutCount&&-1===r.tryAdd(n.config.Name)&&n.invalidate();this.resetTrendWindow()}},w.prototype._reDrawFTC=function(e,t){var i,r,a,n;if(this.trendWindowDrawn)for(this._lineWidth=this._trendView.getLineWidth(),a=this.drawableTrends.length,i=0;i<a;i++)r=this.drawableTrends[i],n=!1,this._trendView.trendTagListsSaved&&r.oldTagList&&(n=!0),r.clearNewPoints(),e&&r.getXAxis()===e&&r.recalculateX(n),t&&r.getYAxis()===t&&r.recalculateY(n),r.recalculateNewPoints(),r.trendModeObj.updateTrend(n)},w.prototype._reDrawOTC=function(e,t){var i,r,a,n;if(this.trendWindowDrawn)for(this._lineWidth=this._trendView.getLineWidth(),a=this.drawableTrends.length,i=0;i<a;i++)r=this.drawableTrends[i],n=void 0,this._trendView.isOnline()?(n=!0,e&&r.getXAxis()===e&&(r.recalculateX(),n=void 0),t&&r.getYAxis()===t&&(r.recalculateY(),n=void 0)):e&&r.getXAxis()===e||t&&r.getYAxis()===t?r.recalculate():n=!0,r.trendModeObj.updateTrend(n)},w.prototype.reDraw=function(e,t){this._trendView.trendObjectType===T.Data.TrendObjectType.Online?this._reDrawOTC(e,t):this._reDrawFTC(e,t)},w.prototype.resetTrendWindow=function(e,t,i){var r,a,n,o;if(this._trendView.trendObjectType===T.Data.TrendObjectType.Function){if(e)for(this._zoomXCount=0,o=(n=this.getXAxes()).length,r=0;r<o;r++)(a=n[r]).zoomInOutCount>this._zoomXCount&&(this._zoomXCount=a.zoomInOutCount);if(t)for(this._zoomYCount=0,o=(n=this.getYAxes()).length,r=0;r<o;r++)(a=n[r]).zoomInOutCount>this._zoomYCount&&(this._zoomYCount=a.zoomInOutCount);i=this.drawableTrends}else i=i||this.drawableTrends;this._recalculateXY(i,e,t)},w.prototype._recalculateXY=function(e,t,i){for(var r,a,n=e.length-1;0<=n;n--)r=e[n],this._trendView.trendObjectType===T.Data.TrendObjectType.Function?(a=!1,this._trendView.trendTagListsSaved&&r.oldTagList&&(a=!0),r.clearNewPoints(),r.recalculateX(a),r.recalculateY(a),r.recalculateNewPoints()):r.recalculate(a),r.trendModeObj.updateTrend(a);t&&this.drawHorizScrollbar(),i&&this.drawVertScrollbar()},w.prototype.rollTrendWindowWithTime=function(e){for(var t,i=this.drawableTrends.length-1;0<=i;i--)t=this.drawableTrends[i],-1<e.indexOf(t.currentXAxis.axisPbId)&&(t.recalculateWithRollingTime(),t.trendModeObj.updateTrend(!1))},w.prototype.setRulerValue=function(e){var t,i,r=T.getChromEnum("HmiTrendCompanionMode");!1===e?t=!1:(t={rulerPos:"",statRulerPos:""},this._trendView.trendObjectType===T.Data.TrendObjectType.Function?(e=this._ruler.getVertRulerPos(),i=this._ruler.getHorizRulerPos(),t.rulerPos={xPos:e,yPos:i}):(this._trendView.trendCompanionMode!==r.Ruler&&!this._trendView.secondaryRulerToolTip||(t.rulerPos=this._ruler.getVertRulerPos()),this._trendView.trendCompanionMode!==r.StatisticArea&&this._trendView.trendCompanionMode!==r.StatisticResult||(t.statRulerPos=this._ruler.getStatisticRulerPos()))),this._calculateRulerValue(t)},w.prototype._calculateRulerValue=function(e){var t,i=this.drawableTrends.length;if(!e||e.rulerPos||e.statRulerPos)for(t=0;t<i;t++)this.drawableTrends[t].calculateRulerValue(e)},w.prototype.hideRuler=function(){var e;for(this._ruler.hideRuler(),e=0;e<this.trendCount;e++)this.hideRulerToolTip(this.trends[e]);this._trendView.getShowStatisticRuler()||this._eventManager.disableRulerEvents()},w.prototype.showRuler=function(){this._ruler.showRuler(),this._trendView.getShowStatisticRuler()||this._eventManager.enableRulerEvents()},w.prototype.hideStatisticRuler=function(){this._ruler.hideStatisticRuler(),this._trendView.getShowRuler()||this._eventManager.disableRulerEvents()},w.prototype.showStatisticRuler=function(){this._rulerIndicatorFeature&&this._rulerIndicatorFeature.loadStatisticRulerIndicator(this,this._trendView),this._ruler.showStatisticRuler(),this._trendView.getShowRuler()||this._eventManager.enableRulerEvents()},w.prototype.setRulerIndicatorFeature=function(e){this._rulerIndicatorFeature=e},w.prototype.updateRulerLabel=function(e){var t=this._trendView.trendObjectType===T.Data.TrendObjectType.Online,i=this._trendView.trendObjectType===T.Data.TrendObjectType.Function;t&&(17<=this._trendView.currProjectVersion||""===this._trendView.currProjectVersion)||i?e.axisType===this._trendView.axisTypeEnum.xAxis?this.selectedTrend&&e===this.selectedTrend.currentXAxis&&this._ruler.updateVerticalRulerLabels():this.selectedTrend&&e===this.selectedTrend.currentYAxis&&this._ruler.updateHorizontalRulerLabels():e.axisType===this._trendView.axisTypeEnum.xAxis?e===this.getXAxes()[0]&&this._ruler.updateVerticalRulerLabels():e===this.getYAxes()[0]&&this._ruler.updateHorizontalRulerLabels()},w.prototype.updateRulerOrientation=function(e){this._ruler.updateRulerOrientation(e)},w.prototype.removeSelectedTrend=function(){this.selectedTrend=null,this._ruler.setMinMaxRulerTrend()},w.prototype.updateRelatedTrends=function(e,t){this._trendView.setDrawableTrends()},w.prototype.updateRulerExtent=function(){this._trendView.getDrawableTrendWindowByName(this.config.Name)&&this.trendWindowDrawn&&(this._updateClipRects(),this._ruler.updateExtent())},w.prototype._updateClipRects=function(){var e,t={left:0,top:0,width:0,height:0},i={left:0,top:0,width:0,height:0},r=this.getMinMaxRulerWidth(),a=T.Features.Shape.SvgShape.CreateSvgElement;e=this._trendView.rulerFeature?(e=void 0,e=this._trendView.rulerFeature.Attributes,this.getRulerBounds(parseInt(e["high-extension"],10),parseInt(e["low-extension"],10))):this.getRulerBounds(0,0),this._isLeftOrRight?(t.left=this._innerRect.left,t.width=this._innerRect.width,t.top=e.top,t.height=e.height,i.top=this._innerRect.top,i.height=this._innerRect.height,i.left=e.left,i.width=r?this.getMinMaxRulerExtent()-e.left+r:e.width):(t.left=e.left,t.width=e.width,t.top=this._innerRect.top,t.height=this._innerRect.height,i.left=this._innerRect.left,i.width=this._innerRect.width,r?(i.top=this.getMinMaxRulerExtent()-r,i.height=e.bottom-i.top):(i.top=e.top,i.height=e.height)),this._verticalRulerClipPath.lastChild&&this._verticalRulerClipPath.removeChild(this._verticalRulerClipPath.lastChild),a("rect",{rect:t,appendTo:this._verticalRulerClipPath}),this._horizontalRulerClipPath.lastChild&&this._horizontalRulerClipPath.removeChild(this._horizontalRulerClipPath.lastChild),a("rect",{rect:i,appendTo:this._horizontalRulerClipPath})},w.prototype.updateScrollBarAndRulerColor=function(){},w.prototype.addNewTrend=function(e){var t=new z[this._trendElementClass];t.initialize(e,this,this._trendView),this.trends.push(t),void 0===this.config[this._trendElementName]&&(this.config[this._trendElementName]=[]),this.config[this._trendElementName].push(e),this._trendView.matchGraphs(!0,[this]),this.visible&&(t.currentXAxis&&t.currentYAxis&&!t.tagInvalid||(this._trendView.trendObjectType===T.Data.TrendObjectType.Online?this._trendView.addToDisconnectedSources(t.name,t.dataSource.Tag):this._trendView.addToDisconnectedSources(t.name,t.dataSourceY.Tag,t.dataSourceX.Tag)),0!==this.spacePortion)&&t.visibility&&t.currentXAxis&&t.currentYAxis&&this.addToDrawableTrends(t),this._trendView.setDrawableTrends(),void 0===e.DisplayName&&this._trendView.setTrendDisplayNames()},w.prototype.removeTrend=function(e){var t,i=this.idToTrendMap[e];return i&&(t=this.trends.indexOf(i),this._trendView.unmatchGraphs(!1,[this]),this.trends.splice(t,1),this.config[this._trendElementName].splice(t,1),delete this.idToTrendMap[e],-1<(t=this.drawableTrends.indexOf(i))&&(this.drawableTrends.splice(t,1),this.selectedTrend===i&&(this.selectedTrend=null,0<this.drawableTrends.length&&this.setSelectedTrend(0),this._ruler.setMinMaxRulerTrend()),delete this.idToDrawableTrendMap[e]),i.cleanUp(),this._trendView.trendCompanionConstUpdate&&(this._trendView.getShowRuler()||this._trendView.getShowStatisticRuler())&&this._trendView.calculateRulerData(),this.updateRulerToolTip(i),this._trendView.matchGraphs(!0,[this])),i},w.prototype.addNewAxis=function(e,t){var i,r,a,n=!1,o=this._trendView.axisTypeEnum,s=this.getIsLeftOrRight();for(t==="Bottom"+this._xAxisElementType?(i=new z[this._xAxisElementClass],e.Position=1,this._updateBottomAxis(s,i,e,o)):t==="Top"+this._xAxisElementType?(i=new z[this._xAxisElementClass],e.Position=0,this._updateTopAxis(s,i,e,o)):"LeftValueAxes"===t?(i=new z.ValueAxis,e.Position=0,this._updateLeftAxis(s,i,e,o)):(i=new z.ValueAxis,e.Position=1,this._updateRightAxis(s,i,e,o)),void 0===this.config[t]&&(this.config[t]=[]),this.config[t].push(e),this._trendView.matchAxes(!0,this._trendView.trendAreas,this._trendView.trendAreas.indexOf(this)),i.initScaleFeatures(),this._trendView.trendObjectType===T.Data.TrendObjectType.Online&&i.axisType===o.xAxis&&i.initializeBeginEndTimes(),r=this.trends.length,a=0;a<r;a++)n=this.trends[a].matchAxis(i)||n;return n&&this._trendView.setDrawableTrends(),i},w.prototype._updateRightAxis=function(e,t,i,r){t.align=e?this._trendView.alignmentEnum.Right:this._trendView.alignmentEnum.Bottom,t.init(i,this._trendView,this,r.yAxis),this.rightAxes.push(t)},w.prototype._updateLeftAxis=function(e,t,i,r){t.align=e?this._trendView.alignmentEnum.Left:this._trendView.alignmentEnum.Top,t.init(i,this._trendView,this,r.yAxis),this.leftAxes.push(t)},w.prototype._updateTopAxis=function(e,t,i,r){t.align=e?this._trendView.alignmentEnum.Top:this._trendView.alignmentEnum.Right,t.init(i,this._trendView,this,r.xAxis),this.topAxes.push(t),this._ruler.setRulerHandleDim(),this._ruler.updateAssociatedAxes()},w.prototype._updateBottomAxis=function(e,t,i,r){t.align=e?this._trendView.alignmentEnum.Bottom:this._trendView.alignmentEnum.Left,t.init(i,this._trendView,this,r.xAxis),this.bottomAxes.push(t),this._ruler.setRulerHandleDim(),this._ruler.updateAssociatedAxes()},w.prototype.removeAxis=function(e,t){for(var i,r,a=t==="Bottom"+this._xAxisElementType?(i=this.bottomAxes,"Bottom"+this._xAxisElementType):t==="Top"+this._xAxisElementType?(i=this.topAxes,"Top"+this._xAxisElementType):"LeftValueAxes"===t?(i=this.leftAxes,"LeftValueAxes"):(i=this.rightAxes,"RightValueAxes"),n=i.length,o=0;o<n;o++)if(i[o].config.ElementID===e){this._trendView.unmatchAxes(!1,[this]),r=i[o],i.splice(o,1),this.config[a].splice(o,1),this._ruler.setRulerHandleDim(),this._ruler.updateAssociatedAxes(),this.updateRelatedTrends(r.axisType,r.config.Name),r.cleanUp(),this._trendView.matchAxes(!0,this._trendView.trendAreas,this._trendView.trendAreas.indexOf(this)),this.initializeAxisFeatures();break}return r},w.prototype._setGridLinesProp=function(e){var t=T.getChromEnum("HmiGridLine"),i=t.None;this.verticalMajorGrid&&(i+=t.VerticalMajor),this.horizontalMajorGrid&&(i+=t.HorizontalMajor),this.verticalMinorGrid&&(i+=t.VerticalMinor),this.horizontalMinorGrid&&(i+=t.HorizontalMinor),this.config.GridLines=i},w.prototype.requestHistoricalData=function(e,t,i,r){for(var a,n,o,s,l,u=Math.floor(this._trendView.pixelsInTrendAreas),h=this.drawableTrends.length,d=0;d<h;d++)l=(n=this.drawableTrends[d]).currentXAxis,r&&l.axisPbId!==r||(-1===e.clientHandles.indexOf(n.partId)&&(this._trendView.trendObjectType===T.Data.TrendObjectType.Online?""!==n.dataSource.Tag&&void 0!==n.dataSource.Tag&&(n.clearTagListBeforeTimeStamp=!0,l.config.RangeType!==T.getChromEnum("HmiTimeRangeType").PointCount||0!==l.zoomInOutCount||i?(a=u,n.updateBeginTime(e.beginTime),e.endTime.push((l.currentEndValue+T.TrendViewBase.EPOCH_DIFFERENCE)*T.TrendViewBase.TICKS_PER_MILLISECOND)):(a=l.config.PointCount,this._trendView.isOnline()&&l.alwaysShowRecent?(n.loadDataImmediately?e.beginTime.push(0):e.beginTime.push((n.bufferTime+T.TrendViewBase.EPOCH_DIFFERENCE)*T.TrendViewBase.TICKS_PER_MILLISECOND),e.endTime.push((l.currentEndValue+T.TrendViewBase.EPOCH_DIFFERENCE)*T.TrendViewBase.TICKS_PER_MILLISECOND)):(n.updateBeginTime(e.beginTime),e.endTime.push(0)),l.timeAxisDrawn=this._trendView.forceTimeAxisDrawn),e.points.push(a),t.push(n.dataSource.Tag),e.clientHandles.push(n.partId),void 0!==n.aggregationMode&&e.aggMode.push(n.aggregationMode),n.historicalDataRequested=!0):void(a=0)!==n.dataSourceX.Tag&&void 0!==n.dataSourceY.Tag&&""!==n.dataSourceX.Tag&&""!==n.dataSourceY.Tag&&(n.clearTagListBeforeTimeStamp=!0,l=n.calculateTimeRange(),l=(s=this._trendView.online?(new Date).getTime():n.axisEndValueOnPaused)-l,l=n.rangeType===T.getChromEnum("HmiTimeRangeType").PointCount?(a=n.pointCount,this._trendView.online?(o=n.loadDataImmediately?0:(n.bufferTime+T.TrendViewBase.EPOCH_DIFFERENCE)*T.TrendViewBase.TICKS_PER_MILLISECOND,(s+T.TrendViewBase.EPOCH_DIFFERENCE)*T.TrendViewBase.TICKS_PER_MILLISECOND):(o=n.getBeginTimeUTC(l),0)):(o=n.getBeginTimeUTC(l),(s+T.TrendViewBase.EPOCH_DIFFERENCE)*T.TrendViewBase.TICKS_PER_MILLISECOND),e.beginTime.push(o),e.beginTime.push(o),e.endTime.push(l),e.endTime.push(l),e.points.push(a),e.points.push(a),t.push(n.dataSourceX.Tag),t.push(n.dataSourceY.Tag),e.clientHandles.push(n.partId),e.clientHandles.push(n.partId))),n.loadDataImmediately=!0);this._trendView.moveToType=T.Data.MoveToType.NoMove},w.prototype.OnUpdate=function(e,t){var i,r,a,n,o,s,l,u=!1,h=T.Data.TrendWindowPropId,d=T.getChromEnum("HmiGridLine");switch(e){case h.Name:return this._trendView.getTrendWindowByName(t);case h.Visible:if(this.config.Visible=t?1:0,this.visible=t)this._trendView.trendObjectType===T.Data.TrendObjectType.Online&&(0<this._zoomXCount&&(u=!0),setTimeout(function(){this._trendView.forceTimeAxisDrawn=!0,this._trendView.requestHistoricalData(u,this.config.Name,null,!0,!0,!0),this._trendView.forceTimeAxisDrawn=!1,this._trendView.dp.sendRequest()}.bind(this),0));else for(s=this.drawableTrends.length,o=0;o<s;o++)this._trendView.trendObjectType===T.Data.TrendObjectType.Online&&(this._trendView.removeFromInvalidateCheckArray(this.drawableTrends[o].name),this._trendView.removeFromUndrawnData(this.drawableTrends[o].partId)),this._trendView.trendControlAnimator.removeTrendAnimation(this.drawableTrends[o].name);T.Data.PostPropertyUpdate.CreateDrawableCollection=!0,this._trendView.calculateRulerData();break;case h.RulerColor:r=T.getRGBAcolor(t),a=t,this.rulerColor=r,this.rulerColor2=T.getDarkercolor(t,w.COLOR_SHADE_CONST),this.ruler.Color=a,this._ruler.onUpdate(e);break;case h.RulerWidth:this.ruler.Width=parseInt(t,10),this._ruler.onUpdate(e);break;case h.StatisticRulerColor:r=T.getRGBAcolor(t),a=t,this.statisticRulerColor=r,this.statisticRulerColor2=T.getDarkercolor(a,w.COLOR_SHADE_CONST),this.statisticRulers.Color=a,this._ruler.onUpdate(e);break;case h.StatisticRulerWidth:this.statisticRulers.Width=parseInt(t,10),this._ruler.onUpdate(e);break;case h.MajorGridLinesColor:for(r=T.getRGBAcolor(t),this.config.MajorGridLinesColor=a=t,this.coarseGridColor=r,s=(n=this.getXAxes().concat(this.getYAxes())).length,o=0;o<s;o++)(l=n[o]).gridlineFeature&&!l.gridlineFeature.Attributes.hasOwnProperty("stroke")&&(l.gridlineAttributes.stroke=r,this.config.Visible)&&l.gridlines.forEach(function(e){e.draw(e.webRTPUItem,e.metaData)});break;case h.MinorGridLinesColor:for(r=T.getRGBAcolor(t),this.config.MinorGridLinesColor=t,s=(n=this.getXAxes().concat(this.getYAxes())).length,o=0;o<s;o++)0<(l=n[o]).minorGridLines.length&&this.config.Visible&&l.minorGridLines.forEach(function(e){e.Attributes.stroke=r,e.draw(e.webRTPUItem,e.metaData)});break;case h.BackColor:r=T.getRGBAcolor(t),this.config.BackColor=a=t,this.backColor=r,this.config.Visible&&this.trendWindowDrawn&&this._trendWindowRect.setAttribute("fill",r);break;case h.SizeFactor:this.config.SizeFactor=this.spacePortion=parseInt(t,10),T.Data.PostPropertyUpdate.CreateDrawableCollection=!0;break;case h.GridLines:for(this.config.GridLines=t,this.verticalMajorGrid=(d.VerticalMajor&t)===d.VerticalMajor,this.horizontalMajorGrid=(d.HorizontalMajor&t)===d.HorizontalMajor,this.verticalMinorGrid=(d.VerticalMinor&t)===d.VerticalMinor,this.horizontalMinorGrid=(d.HorizontalMinor&t)===d.HorizontalMinor,s=(n=this.getXAxes()).length,o=0;o<s;o++)n[o].gridlineFeature&&(n[o].setGridlinesVisibility(),n[o].setMinorGridLinesVisibility(),this.config.Visible)&&(n[o].updateGridlineVisibility(),n[o].updateMinorGridLineVisibility());for(s=(n=this.getYAxes()).length,o=0;o<s;o++)n[o].gridlineFeature&&(n[o].setGridlinesVisibility(),n[o].setMinorGridLinesVisibility(),this.config.Visible)&&(n[o].updateGridlineVisibility(),n[o].updateMinorGridLineVisibility());break;case h.SelectedTrend:this.config.SelectedTrend!==t&&(i=this.idToDrawableTrendMap[t])&&(this.config.SelectedTrend=t,this.setSelectedTrend(this.drawableTrends.indexOf(i)));break;case h.SelectedFunctionTrend:this.config.SelectedFunctionTrend!==t&&(i=this.idToDrawableTrendMap[t])&&(this.config.SelectedFunctionTrend=t,this.setSelectedTrend(this.drawableTrends.indexOf(i)))}},w.prototype.updateTimeAxesToCurrentTime=function(){for(var e,t,i=this.getXAxes(),r=i.length,a=(new Date).getTime(),n=0;n<r;n++)(e=i[n]).alwaysShowRecent&&(t=e.calculateTimeRange(),e.currentEndValue=a,e.currentBeginValue=e.currentEndValue-t)},w.prototype.handleLanguageChange=function(){for(var e,t=this.getYAxes(),i=t.length,r=0;r<i;r++)t[r].calculateAndUpdate();for(i=(t=this.getXAxes()).length,r=0;r<i;r++)t[r].calculateAndUpdate();for(i=(t=this.drawableTrends).length,r=0;r<i;r++)e=t[r],this._trendView.trendObjectType===T.Data.TrendObjectType.Function?(e.recalculateX(),e.recalculateY(),e.trendModeObj.updateTrend(this._trendView.trendTagListsSaved&&e.oldTagList)):(e.recalculate(),e.trendModeObj.updateTrend())},w.prototype.getIsLeftOrRight=function(){return this._trendView.isLeftOrRight()},w.prototype.updateRulerToolTipPosition=function(){for(var e=0;e<this.trendCount;e++)this.trends[e].trendStyle!==T.getChromEnum("HmiTrendMode").Value&&this.trends[e].updateRulerToolTipPosition()},w.prototype.updateRulerToolTip=function(e){var t;if(e)e.trendStyle===T.getChromEnum("HmiTrendMode").Value||this._trendView.isOnline()?this.hideRulerToolTip(e):this.showRulerToolTip(e);else for(t=0;t<this.trendCount;t++)this.trends[t].trendStyle===T.getChromEnum("HmiTrendMode").Value||this._trendView.isOnline()?this.hideRulerToolTip(this.trends[t]):this.showRulerToolTip(this.trends[t])},w.prototype.showRulerToolTip=function(e){var t,i,r,a,n,o,s=e.rulerControlData?e.rulerControlData.toolTipValue:"",l=this._ruler.getRulerType().regularvertical.getRulerPos();if(s&&"object"==typeof s)for(i=s.length,t=0;t<i;t++)r=s[t]+"",e&&e.secondaryRulerToolTipTemplate&&e.secondaryRulerToolTipTemplate[t]&&(0===t?e.secondaryRulerToolTipTemplate[t].RootNode.parentNode.setAttribute("id",e.id+"_min_secondaryIndicator"):e.secondaryRulerToolTipTemplate[t].RootNode.parentNode.setAttribute("id",e.id+"_max_secondaryIndicator")),e.useOldStyle?this.updateSecToolTip(e,r,t,!1,l):this.updateSecToolTipNew(e,r,t,!1,l);else if(s&&"object"!=typeof s)s+="",e&&e.secondaryRulerToolTipTemplate&&e.secondaryRulerToolTipTemplate[0]&&e.secondaryRulerToolTipTemplate[0].RootNode.parentNode.setAttribute("id",e.id+"_regular_secondaryIndicator"),e.useOldStyle?this.updateSecToolTip(e,s,0,!0,l):this.updateSecToolTipNew(e,s,0,!0,l);else{if(e.secondaryRulerToolTipTemplate)for(t=0;t<e.secondaryRulerToolTipTemplate.length;t++)e.secondaryRulerToolTipTemplate[t]&&e.hideToolTip[t]&&(e.secondaryRulerToolTipTemplate[t].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[t]=!1);e.useOldStyle&&(a=e.rulerContentWidth,n=l-e.rulerContentWidth/2,o=l+e.rulerContentWidth/2,this._trendView.isLeftOrRight()?n<=this._innerRect.left?e.setRulerPosition(l,a,this._innerRect.left,!0):o>=this._innerRect.left+this._innerRect.width?e.setRulerPosition(l,a,this._innerRect.left+this._innerRect.width,!1):e.rulerPosition=0:n<=this._innerRect.top?e.setRulerPosition(l,a,this._innerRect.top,!0):o>=this._innerRect.top+this._innerRect.height?e.setRulerPosition(l,a,this._innerRect.top+this._innerRect.height,!1):e.rulerPosition=0)}e.prevPos=l},w.prototype.updateSecToolTip=function(e,t,i,r,a){var n,o,s,l,u=e._currentValueAxis.config.LabelFont,h=e._currentValueAxis.measurementUnit,d=-1<t.indexOf(".")?Number(t.split("i")[0]).toFixed(3):t.split("i")[0],d=d.trim()+" "+h;if(d.length<=5?(o=T.getTextWidth("123456",u),s=T.getTextHeight("123456",u)):(o=T.getTextWidth(d+" ",u),s=T.getTextHeight(d+"  ",u),o+=5),h=e._currentValueAxis.getPositionFromValue(t.split("i")[0].trim()),e.secondaryRulerToolTipTemplate&&e.secondaryRulerToolTipTemplate[i]&&e.config.Visible)e.secondaryRulerToolTipTemplate[i].setDataContent({Text1:d}),e.hideToolTip[i]||(e.secondaryRulerToolTipTemplate[i].RootNode.parentNode.setAttribute("display","inherit"),e.hideToolTip[i]=!0),e.secondaryRulerToolTipTemplate[i].setHmiProps(o,"HmiProps.Width"),e.secondaryRulerToolTipTemplate[i].setHmiProps(s,"HmiProps.Height"),e.secondaryRulerToolTipTemplate[i].setHmiProps(u,"HmiProps.Font"),e.secondaryRulerToolTipTemplate[i].update(),this._trendView.isLeftOrRight()?(l="translate("+a+","+h+")",e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("width",2*o)):(l="translate("+h+","+a+")",e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("width",2.25*o)),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("height",10*s),this._ruler.flipRulerSecondaryText(e.secondaryRulerToolTipTemplate[i],l,e,a,o,s),this._trendView.isLeftOrRight()?(e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("x",0),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("y",.75*-s)):(e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("x",-2*s),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("y",-s/2)),r&&e.secondaryRulerToolTipTemplate[1]&&(e.secondaryRulerToolTipTemplate[1].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[1]=!1);else if(r&&e.secondaryRulerToolTipTemplate)for(n=0;n<e.secondaryRulerToolTipTemplate.length;n++)e.secondaryRulerToolTipTemplate[n]&&e.hideToolTip[n]&&(e.secondaryRulerToolTipTemplate[n].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[n]=!1);else e.secondaryRulerToolTipTemplate&&e.secondaryRulerToolTipTemplate[i]&&e.hideToolTip[i]&&(e.secondaryRulerToolTipTemplate[i].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[i]=!1)},w.prototype.updateSecToolTipNew=function(e,t,i,r,a){var n,o,s,l=e._currentValueAxis.config.LabelFont,u=e._currentValueAxis.measurementUnit,h=t.split(/[iub]/i)[0].trim(),t=-1<h.indexOf(".")||-1<t.indexOf("i")||-1<t.indexOf("u")?Number(h).toFixed(3):h,t=t.trim()+" "+u,u=e._currentValueAxis.getPositionFromValue(h);if(e.secondaryRulerToolTipTemplate&&e.secondaryRulerToolTipTemplate[i]&&e.config.Visible)e.secondaryRulerToolTipTemplate[i].setDataContent({Text1:t}),e.hideToolTip[i]||(e.secondaryRulerToolTipTemplate[i].RootNode.parentNode.setAttribute("display","inherit"),e.hideToolTip[i]=!0),this._trendView.isLeftOrRight()?(o=e.rulerContentWidth,e.rulerContentWidth>this._innerRect.width?(o=this._innerRect.width,e.secondaryRulerToolTipTemplate[i].setHmiProps(o,"HmiProps.Width"),e.contentWidthModified=!0):e.contentWidthModified&&(e.secondaryRulerToolTipTemplate[i].setHmiProps(o,"HmiProps.Width"),e.contentWidthModified=!1),s=a+o/2,a-o/2<this._innerRect.left?(0===i&&e.setRulerPosition(a,o,this._innerRect.left,!0),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("x",this._innerRect.left)):s>this._innerRect.left+this._innerRect.width?(0===i&&e.setRulerPosition(a,o,this._innerRect.left+this._innerRect.width,!1),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("x",this._innerRect.left+this._innerRect.width-o)):(e.rulerPosition=0,e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("x",a-o/2)),e.secondaryRulerToolTipTemplate[i].setHmiProps(e.rulerPosition,"HmiProps.RulerPosition"),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("y",u-e.rulerContentHeight/2)):(o=e.rulerContentHeight,e.rulerContentHeight>this._innerRect.height?(o=this._innerRect.height,e.secondaryRulerToolTipTemplate[i].setHmiProps(o,"HmiProps.Height"),e.contentHeightModified=!0):e.contentHeightModified&&(e.secondaryRulerToolTipTemplate[i].setHmiProps(o,"HmiProps.Height"),e.contentHeightModified=!1),s=a+o/2,a-o/2<this._innerRect.top?(0===i&&e.setRulerPosition(a,o,this._innerRect.top,!0),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("y",this._innerRect.top)):s>this._innerRect.top+this._innerRect.height?(0===i&&e.setRulerPosition(a,o,this._innerRect.top+this._innerRect.height,!1),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("y",this._innerRect.top+this._innerRect.height-o)):(e.rulerPosition=0,e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("y",a-o/2)),e.secondaryRulerToolTipTemplate[i].setHmiProps(e.rulerPosition,"HmiProps.RulerPosition"),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("x",u-e.rulerContentHeight/2)),e.secondaryRulerToolTipTemplate[i].setHmiProps(l,"HmiProps.Font"),e.secondaryRulerToolTipTemplate[i].update(),r&&e.secondaryRulerToolTipTemplate[1]&&(e.secondaryRulerToolTipTemplate[1].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[1]=!1);else if(r&&e.secondaryRulerToolTipTemplate)for(n=0;n<e.secondaryRulerToolTipTemplate.length;n++)e.secondaryRulerToolTipTemplate[n]&&e.hideToolTip[n]&&(e.secondaryRulerToolTipTemplate[n].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[n]=!1);else e.secondaryRulerToolTipTemplate&&e.secondaryRulerToolTipTemplate[i]&&e.hideToolTip[i]&&(e.secondaryRulerToolTipTemplate[i].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[i]=!1)},w.prototype.hideRulerToolTip=function(e){var t,i;if(e.secondaryRulerToolTipTemplate)for(i=e.secondaryRulerToolTipTemplate.length,t=0;t<i;t++)e.secondaryRulerToolTipTemplate[t]&&(e.secondaryRulerToolTipTemplate[t].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[t]=!1)},w.prototype.getTrendView=function(){return this._trendView},w.prototype.resetRulerPosition=function(){this._ruler.resetRulerPosition()},w.prototype.setSecondaryIndicatorData=function(e){this.getRulerView().getRulerType().regularvertical._rulerElementsGroup.appendChild(e)},w.prototype.initTrendColl=function(){this.trends=[],this.idToTrendMap={},this.drawableTrends=[],this.idToDrawableTrendMap={}},w.prototype.clearDrawableTrends=function(){this.drawableTrends.length=0,this.idToDrawableTrendMap=null,this.idToDrawableTrendMap={}},w.prototype.addToDrawableTrends=function(e){this.drawableTrends.push(e),this.idToDrawableTrendMap[e.config.ElementID]=e},w.prototype.cleanUp=function(){for(var e,t=this.topAxes.length,i=0;i<t;i++)this.topAxes[i].cleanUp(),this.topAxes[i]=null;for(t=this.bottomAxes.length,i=0;i<t;i++)this.bottomAxes[i].cleanUp(),this.bottomAxes[i]=null;for(t=this.leftAxes.length,i=0;i<t;i++)this.leftAxes[i].cleanUp(),this.leftAxes[i]=null;for(t=this.rightAxes.length,i=0;i<t;i++)this.rightAxes[i].cleanUp(),this.rightAxes[i]=null;for(t=this.trends.length,i=0;i<t;i++)this.trends[i].cleanUp(),this.trends[i]=null;for(e in this.idToTrendMap)delete this.idToTrendMap[e];for(e in this.idToDrawableTrendMap)delete this.idToDrawableTrendMap[e];this._ruler.cleanUp(),this._ruler=null,this.metaData=this.config=this.getMinMaxRulerExtent=this.getRulerBounds=this.drawableTrends=this.trends=this.selectedTrend=this.bottomAxes=this.topAxes=this.rightAxes=this.leftAxes=this.ruler=this.statisticRulers=this.horizMatrix=this.vertMatrix=this.idToTrendMap=this.Hammer=this._invertColor=this._xAxisCollection=this._yAxisCollection=this._trendsCollection=this._trendWindowElements=this._horizontalElementsGroup=this._verticalElementsGroup=this._eventFocusElements=this._displayValueRectParentGroup=this._currentDragPoint=this.scrollBarGroup=this._verticalScrollbar=this.idToDrawableTrendMap=this._horizontalScrollbar=null,this._eventManager.cleanUp(),this._eventManager=null,this.selectedTrend=null,this._svgParent=this._rect=this._innerRect=this._eventRect=this._trendWindowRect=this._trendDrawableAreaRect=this._clipPath=this._horizontalRulerClipPath=this._verticalRulerClipPath=this._trendView=null},w.LEFT_CLICK=1,w.RIGHT_CLICK=3,w.COLOR_SHADE_CONST=.7,z.GraphArea=w,t=(t=e=e||{}).Lib||(t.Lib={}),j=t.NVEs||(t.NVEs={}),Y=j.ChartElements||(j.ChartElements={}),sn.prototype.renderTrend=function(e){var t,i,r,a,n,o,s,l,u,h,d,c,p,m=0,g=0,T=0,f=0,y=this.trendObj.svgGroup.trendSvgContainer,D=this.trendObj.svgGroup.trendPlaceHolder,S=j.getChromEnum("HmiTrendMode"),b=j.Data.TrendPolylineGroup,C=j.Features.Shape.SvgShape.CreateSvgElement,v=this.trendObj.svgGroup;for(D||(this.trendObj.svgGroup.trendPlaceHolder=D=C("g",{id:"trendSVGPlaceHolder_"+this.trendObj.id})),y||(this.trendObj.svgGroup.trendSvgContainer=y=C("g",{id:"trendSVGGroup_"+this.trendObj.id,appendTo:D})),this.trendObj.trendView.trendControlAnimator&&this.trendObj.trendView.trendControlAnimator.recalculateAnimPaths(this.trendObj.name),this.trendObj.createPointCollection(e),(e=this.trendObj.currentTrendWindow.getEventSVG())&&!e.contains(D)&&e.appendChild(D),s=this.trendObj.lineWidth,o=this.trendObj.getLineStyle(),v.trendPropertyGroup&&(v.trendPropertyGroup.parentNode.removeChild(v.trendPropertyGroup),v.trendPropertyGroup=null),v.trendPropertyGroup=C("g",{id:"TrendPropertyGroup"+this.trendObj.id,"stroke-dasharray":o}),v.animationPathGroup||(v.animationPathGroup=C("g",{id:"AnimationPathGroup"+this.trendObj.id,"stroke-dasharray":"inherit","stroke-width":s})),v.translateGroup&&(v.translateGroup.parentNode.removeChild(v.translateGroup),v.translateGroup=null),v.polyLineGroup&&(v.polyLineGroup.parentNode.removeChild(v.polyLineGroup),v.polyLineGroup=null),v.fillTranslateGroup&&(v.fillTranslateGroup.parentNode.removeChild(v.fillTranslateGroup),v.fillTranslateGroup=null),v.trendFillPropertyGroup&&(v.trendFillPropertyGroup.parentNode.removeChild(v.trendFillPropertyGroup),v.trendFillPropertyGroup=null),v.dummyTranslateGroup&&(v.dummyTranslateGroup.parentNode.removeChild(v.dummyTranslateGroup),v.dummyTranslateGroup=null),v.dummyPolyLineGroup&&(v.dummyPolyLineGroup.parentNode.removeChild(v.dummyPolyLineGroup),v.dummyPolyLineGroup=null),this.trendObj.qualityVisualizationVisible&&(v.qualityGroup&&(v.qualityGroup.parentNode.removeChild(v.qualityGroup),v.qualityGroup=null),v.qualityGroup=C("g",{id:"QualityGroup"+this.trendObj.id,"stroke-dasharray":o,visibility:"visible"})),e=C("defs",{id:"defs_"+this.trendObj.id,appendTo:v.trendPropertyGroup}),h={id:"",viewBox:"0 0 "+this.trendObj.viewBoxDim+" "+this.trendObj.viewBoxDim,refX:this.trendObj.viewBoxDim/2,refY:this.trendObj.viewBoxDim/2,markerWidth:this.trendObj.viewBoxDim,markerHeight:this.trendObj.viewBoxDim,orient:"0",markerUnits:"userSpaceOnUse",appendTo:e},e.appendChild(this.trendObj.createLinearGrad()),r=this.trendObj.thresholds?this.trendObj.thresholds.length:0,t=0;t<r;t++)h.id=this.trendObj.thresholds[t].markerId,p=C("marker",h),this.trendObj.thresholds[t].isNormal?this.trendObj.getPointElement(p,this.trendObj.pointColor):this.trendObj.getPointElement(p,this.trendObj.thresholds[t].color);switch(this.trendObj.qualityVisualizationVisible&&(h.id=this.trendObj.uncertainQualityMarkerId,D=C("marker",h),this.trendObj.getPointElement(D,this.trendObj.uncertainQualityColor),h.id=this.trendObj.badQualityMarkerId,D=C("marker",h),this.trendObj.getPointElement(D,this.trendObj.badQualityColor)),this.trendObj.trendView.isLeftOrRight()?(m=this.trendObj.translateX,T=this.trendObj.qualityTranslate):(g=this.trendObj.translateX,f=this.trendObj.qualityTranslate),this.trendObj.trendStyle){case S.Stepped:case S.Points:case S.Interpolated:if(this.trendObj.trendStyle===S.Stepped){for(v.dummyPolyLineGroup=C("g",{id:"DummyPolyLineGroup"+this.trendObj.id,"stroke-width":s,"stroke-dasharray":"inherit",appendTo:v.trendPropertyGroup}),v.dummyTranslateGroup=C("g",{id:"DummyTranslateGroup"+this.trendObj.id,"stroke-width":"inherit","stroke-dasharray":"inherit",transform:"translate("+m+","+g+")",appendTo:v.dummyPolyLineGroup}),this.trendObj.dummyMatrix=v.dummyTranslateGroup.transform.baseVal.getItem(0).matrix,r=this.trendObj.numberOfDummyPoints,t=0;t<r;t++)d=this.trendObj.linesCollection[t].listType,l=(this.trendObj.thresholds[d].isNormal?this.trendObj:this.trendObj.thresholds[d]).color,this.trendObj.linesCollection[t].translate?(n=v.dummyTranslateGroup,this.trendObj.linesCollection[t].dummyParentGroupType=b.TranslateGroup):(n=v.dummyPolyLineGroup,this.trendObj.linesCollection[t].dummyParentGroupType=b.NormalGroup),this.trendObj.linesCollection[t].dummyPolyline=C("polyline",{points:this.trendObj.linesCollection[t].dummyPoints,"stroke-dasharray":"inherit",id:d+"_polyline_"+this.trendObj.id+"_dummy_"+t,class:d+"_polylineClass_"+this.trendObj.id+"_dummy",fill:"none",stroke:l,"stroke-width":"inherit",appendTo:n});if(this.trendObj.qualityVisualizationVisible)for(v.qualityDummyTranslateGroup&&(v.qualityDummyTranslateGroup.parentNode.removeChild(v.qualityDummyTranslateGroup),v.qualityDummyTranslateGroup=null),v.qualityDummyPolyLineGroup&&(v.qualityDummyPolyLineGroup.parentNode.removeChild(v.qualityDummyPolyLineGroup),v.qualityDummyPolyLineGroup=null),v.qualityDummyPolyLineGroup=C("g",{id:"QualityDummyPolyLineGroup"+this.trendObj.id,"stroke-width":s+.8,"stroke-dasharray":"inherit",visibility:"inherit",appendTo:v.qualityGroup}),v.qualityDummyTranslateGroup=C("g",{id:"QualityDummyTranslateGroup"+this.trendObj.id,"stroke-width":"inherit","stroke-dasharray":"inherit",transform:"translate("+T+","+f+")",visibility:"inherit",appendTo:v.qualityDummyPolyLineGroup}),this.trendObj.qualityDummyMatrix=v.qualityDummyTranslateGroup.transform.baseVal.getItem(0).matrix,r=this.trendObj.numberOfQualityDummyPoints,t=0;t<r;t++)(d=this.trendObj.qualityLinesCollection[t].listType)===(a=this.trendObj.thresholds.length)+1?l=this.trendObj.badQualityColor:d===a&&(l=this.trendObj.uncertainQualityColor),this.trendObj.qualityLinesCollection[t].translate?(n=v.qualityDummyTranslateGroup,this.trendObj.qualityLinesCollection[t].dummyParentGroupType=b.TranslateGroup):(n=v.qualityDummyPolyLineGroup,this.trendObj.qualityLinesCollection[t].dummyParentGroupType=b.NormalGroup),this.trendObj.qualityLinesCollection[t].dummyPolyline=C("polyline",{points:this.trendObj.qualityLinesCollection[t].dummyPoints,"stroke-dasharray":"inherit",id:d+"_polyline_"+this.trendObj.id+"_dummy_"+t,class:d+"_polylineClass_"+this.trendObj.id+"_dummy",fill:"none",stroke:l,"stroke-width":"inherit",appendTo:n})}for(this.trendObj.trendStyle!==S.Stepped&&this.trendObj.trendStyle!==S.Points||(s=0),v.polyLineGroup=C("g",{id:"PolyLineGroup"+this.trendObj.id,"stroke-dasharray":"inherit","stroke-width":s,appendTo:v.trendPropertyGroup}),v.translateGroup=C("g",{id:"TranslateGroup"+this.trendObj.id,"stroke-width":"inherit","stroke-dasharray":"inherit",transform:"translate("+m+","+g+")",appendTo:v.polyLineGroup}),this.trendObj.matrix=v.translateGroup.transform.baseVal.getItem(0).matrix,r=this.trendObj.numberOfPoints,t=0;t<r;t++)d=this.trendObj.linesCollection[t].listType,l=(this.trendObj.thresholds[d].isNormal?this.trendObj:this.trendObj.thresholds[d]).color,this.trendObj.linesCollection[t].translate?(n=v.translateGroup,this.trendObj.linesCollection[t].parentGroupType=b.TranslateGroup):(n=v.polyLineGroup,this.trendObj.linesCollection[t].parentGroupType=b.NormalGroup),c=this.trendObj.midMarkerURLsArray[d],i=this.trendObj.linesCollection[t].points,this.trendObj.linesCollection[t].polyline=C("polyline",{points:i,"stroke-dasharray":"inherit",id:d+"_polyline_"+this.trendObj.id+"_"+t,class:d+"_polylineClass_"+this.trendObj.id,fill:"none",stroke:l,"stroke-width":"inherit","marker-start":this.trendObj.markerPositionsCollection[t].markerStart,"marker-mid":c,"marker-end":this.trendObj.markerPositionsCollection[t].markerEnd,appendTo:n});if(this.trendObj.qualityVisualizationVisible)for(0!==s&&(s+=.8),v.qualityTranslateGroup&&(v.qualityTranslateGroup.parentNode.removeChild(v.qualityTranslateGroup),v.qualityTranslateGroup=null),v.qualityPolyLineGroup&&(v.qualityPolyLineGroup.parentNode.removeChild(v.qualityPolyLineGroup),v.qualityPolyLineGroup=null),v.qualityPolyLineGroup=C("g",{id:"QualityPolyLineGroup"+this.trendObj.id,"stroke-dasharray":"inherit","stroke-width":s,visibility:"inherit",appendTo:v.qualityGroup}),v.qualityTranslateGroup=C("g",{id:"QualityTranslateGroup"+this.trendObj.id,"stroke-width":"inherit","stroke-dasharray":"inherit",transform:"translate("+T+","+f+")",visibility:"inherit",appendTo:v.qualityPolyLineGroup}),this.trendObj.qualityMatrix=v.qualityTranslateGroup.transform.baseVal.getItem(0).matrix,r=this.trendObj.numberOfQualityPoints,t=0;t<r;t++)(d=this.trendObj.qualityLinesCollection[t].listType)===(a=this.trendObj.thresholds.length)+1?l=this.trendObj.badQualityColor:d===a&&(l=this.trendObj.uncertainQualityColor),this.trendObj.qualityLinesCollection[t].translate?(n=v.qualityTranslateGroup,this.trendObj.qualityLinesCollection[t].parentGroupType=b.TranslateGroup):(n=v.qualityPolyLineGroup,this.trendObj.qualityLinesCollection[t].parentGroupType=b.NormalGroup),c=this.trendObj.midMarkerURLsArray[d],i=this.trendObj.qualityLinesCollection[t].points,this.trendObj.qualityLinesCollection[t].polyline=C("polyline",{points:i,"stroke-dasharray":"inherit",id:d+"_polyline_"+this.trendObj.id+"_"+t,class:d+"_polylineClass_"+this.trendObj.id,fill:"none",stroke:l,"stroke-width":"inherit","marker-start":this.trendObj.qualityMarkerPositionsCollection[t].markerStart,"marker-mid":c,"marker-end":this.trendObj.qualityMarkerPositionsCollection[t].markerEnd,appendTo:n});this.trendObj.fill&&(v.trendFillPropertyGroup=this.trendObj.trendModeObj.createFillGroup())}if(this.trendObj.currentYAxis.config&&this.trendObj.currentYAxis.config.Visible)switch(s=this.trendObj.lineWidth,this.trendObj.trendStyle){case S.Points:case S.Stepped:case S.Interpolated:this.trendObj.trendStyle===S.Points&&(s=0),(u=this.trendObj.currentYAxis.trendIndicatorRectClippathIds[this.trendObj.currentXAxis.id])&&(this.trendObj.fill&&""!==this.trendObj.dummyTrendIndicatorFill&&C("polyline",{points:this.trendObj.dummyTrendIndicatorFill,id:"filltrendIndicator_"+this.trendObj.id,fill:this.trendObj.fillURL,stroke:"none","clip-path":u,appendTo:this.trendObj.currentYAxis.trendIndicatorGroup}),C("polyline",{points:this.trendObj.trendIndicatorPoints,id:"trendIndicator_"+this.trendObj.id,fill:this.trendObj.fillURL,stroke:this.trendObj.color,"stroke-dasharray":o,"stroke-width":s,"marker-start":"none","marker-mid":"url(#thresholdMarker_"+j.getChromEnum("HmiThresholdMode").Normal+"_"+this.trendObj.id+")","marker-end":"none","clip-path":u,appendTo:this.trendObj.currentYAxis.trendIndicatorGroup}))}y.appendChild(v.trendPropertyGroup),v.trendPropertyGroup.appendChild(v.animationPathGroup),this.trendObj.qualityVisualizationVisible&&y.appendChild(v.qualityGroup),v.trendFillPropertyGroup&&y.insertBefore(v.trendFillPropertyGroup,v.trendPropertyGroup)},sn.prototype.createFillGroup=function(e){var t,i,e=e||this.trendObj,r=j.Features.Shape.SvgShape.CreateSvgElement,a=e.svgGroup;return e.trendView.isLeftOrRight()?(t=e.translateX,i=e.translateY):(i=e.translateX,t=e.translateY),a.fillTranslateGroup&&(a.fillTranslateGroup.parentNode.removeChild(a.fillTranslateGroup),a.fillTranslateGroup=null),a.trendFillPropertyGroup&&(a.trendFillPropertyGroup.parentNode.removeChild(a.trendFillPropertyGroup),a.trendFillPropertyGroup=null),a.trendFillPropertyGroup=r("g",{id:"TrendFillPropertyGroup"+e.id}),a.fillTranslateGroup=r("g",{id:"FillTranslateGroup"+e.id,"stroke-dasharray":"inherit","stroke-width":0,transform:"translate("+t+","+i+")",appendTo:a.trendFillPropertyGroup}),e.matrix&&(e.fillMatrix=a.fillTranslateGroup.transform.baseVal.getItem(0).matrix),this._createThresholdFillGroup(e),a.trendFillPropertyGroup},sn.prototype._createThresholdFillGroup=function(e){for(var t,i,r=j.Features.Shape.SvgShape.CreateSvgElement,a=e.svgGroup,n=e.thresholds.length,o=0;o<n;o++)e.thresholdFills[o]&&(t=e.thresholds[o].type,i=e.thresholds[o].isNormal?e.fillURL:e.thresholds[o].fill,""!==e.thresholdFills[o].fill&&r("polyline",{points:e.thresholdFills[o].fill,id:t+"_fillPolyline_"+e.id,class:t+"_fillPolylineClass_"+e.id,stroke:"none",fill:i,ignoreEvent:!0,appendTo:a.trendFillPropertyGroup}),""!==e.thresholdFills[o].translateFill)&&r("polyline",{points:e.thresholdFills[o].translateFill,id:t+"_translateFillPolyline_"+e.id,class:t+"_translateFillPolyline_"+e.id,stroke:"none",fill:i,ignoreEvent:!0,appendTo:a.fillTranslateGroup})},sn.prototype.recalculateInterimPoints=function(){for(var e,t,i,r,a=1e6,n=this.trendObj.linesCollection.length,o=0;o<n;o++)if(!this.trendObj.linesCollection[o].translate)for(r=[0,(t=this.trendObj.linesCollection[o].items).length-1],e=0;e<2;++e)null===(i=t[r[e]]).xTagPosition&&(i.xTagPosition=this.trendObj.currentXAxis.getPositionFromValue(i.xTagValue),i.xTagPosition<-a?i.xTagPosition=-a:i.xTagPosition>a&&(i.xTagPosition=a)),null===i.yTagPosition&&(i.yTagPosition=this.trendObj.currentYAxis.getPositionFromValue(i.yTagValue),i.yTagPosition<-a?i.yTagPosition=-a:i.yTagPosition>a&&(i.yTagPosition=a))},sn.prototype.animateTrend=function(e,t,i){for(var r,a,n,o,s,l,u,h,d,c,p,m,g,T,f,y=1,D=[],S=null,b=i,C=this.trendObj.trendView.trendObjectType===j.Data.TrendObjectType.Online&&this.trendObj.trendView.isOnline(),v=this.trendObj,_=0;_<this.trendObj.pointsToAnimate.length;_++)u=new Y.Point,T=this.trendObj.pointsToAnimate[_],u.timeStamp=T.timeStamp,u.xTagValue=T.xTagValue,u.yTagValue=T.yTagValue,u.xTagPosition=T.xTagPosition,u.yTagPosition=T.yTagPosition,u.qualityCode=2,D.push(u);u=D[0],(T=new Y.Point).qualityCode=2,(_=10/(D.length-1))<2?_=2:_%2==1&&_--,a=_/2,this.trendObj.pointsToAnimate=[],u=D[0],T.yTagValue=u.yTagValue,(g=e).tagList.items.push(u),g.trendLimitObject.addLimitValuePoints(u,void 0,!1),e=null,this.trendObj.fill&&(d=this.trendObj.trendModeObj.createFillGroup(g),this.trendObj.svgGroup.animationPathGroup.appendChild(d)),h=j.Features.Shape.SvgShape.CreateSvgElement("g",{id:"AnimationPathGroup"+g.id,"stroke-dasharray":"inherit","stroke-width":"inherit",appendTo:this.trendObj.svgGroup.animationPathGroup}),(m=!t)&&(S=D[0].timeStamp,this.trendObj.lastTime.push(S)),c=function(){h&&0<r&&(g.recalculateTagList(v),v.createPointCollection.call(g),v.trendModeObj.updatePolylines(h,!1,g),g.fill)&&v.trendModeObj.updateFillPolyLines(g)},p=function(e){h&&v.svgGroup.animationPathGroup.removeChild(h),d&&d.parentNode&&d.parentNode.removeChild(d),null!=S&&(S===v.lastTime[0]?v.lastTime.shift():-1<(S=v.lastTime.indexOf(S))&&v.lastTime.splice(0,S+1),S=null),b&&(b(),b=null),e&&1<=v.trendModeObj.trendObj.tagList.items.length&&null!==(e=v.trendModeObj.trendObj.tagList.items[v.trendModeObj.trendObj.tagList.items.length-1]).xTagPosition&&null!==e.yTagPosition&&(v.trendModeObj.trendObj.setLastTrendPoint(e),v.trendModeObj.updateTrend(!1===v.trendView.isOnline())),g.cleanUp(),p=c=r=u=D=d=h=T=g=null},y=1,u=D[r=0],(n=D[y].xTagValue-u.xTagValue)===1/0?n=1797e305:n===-1/0&&(n=-1797e305),(o=D[y].yTagValue-u.yTagValue)===1/0?o=1797e305:o===-1/0&&(o=-1797e305),l=C||v.trendStyle===j.getChromEnum("HmiTrendMode").Interpolated?(s=n/_,o/_):(s=n/a,o/a),C&&(T.xTagValue=D[y].xTagValue,v.trendStyle===j.getChromEnum("HmiTrendMode").Stepped)&&((f=new Y.Point).xTagValue=T.xTagValue,f.yTagValue=u.yTagValue,f.qualityCode=2,g.tagList.items.push(f),g.trendLimitObject.addLimitValuePoints(f,void 0,!1)),g.tagList.items.push(T),g.trendLimitObject.addLimitValuePoints(T,void 0,!1),this.trendObj.trendView.trendControlAnimator.addTrendAnimation(this.trendObj.name,function(){if(++r%_==0){if(r=0,u=D[y],y++,T.xTagValue=u.xTagValue,T.yTagValue=u.yTagValue,T.yTagPosition=null,T.xTagPosition=null,g.tagList.items.pop(),g.tagList.items.push(u),g.tagList.items.push(T),!(y<D.length))return v.svgGroup.animationPathGroup.removeChild(h),h=null,d&&d.parentNode&&d.parentNode.removeChild(d),d=null,m&&(S===v.lastTime[0]?v.lastTime.shift():-1<(S=v.lastTime.indexOf(S))&&v.lastTime.splice(0,S+1),S=null),v.trendView.isOnline()||v.trendView.trendObjectType!==j.Data.TrendObjectType.Online?v.recalculateInterimPoints():(v.fill&&v.setLastPointRecalculated(u),v.endBoundingValue&&(v.endBoundingValue.yTagValue=u.yTagValue,v.endBoundingValue.yTagPosition=u.yTagPosition),v.recalculate()),b&&(b(),b=null),!1;C=!1,(n=D[y].xTagValue-u.xTagValue)===1/0?n=1797e305:n===-1/0&&(n=-1797e305),(o=D[y].yTagValue-u.yTagValue)===1/0?o=1797e305:o===-1/0&&(o=-1797e305),l=v.trendStyle===j.getChromEnum("HmiTrendMode").Interpolated?(s=n/_,o/_):(s=n/a,o/a),g.trendLimitObject.createNewLinesCollection()}else v.trendStyle===j.getChromEnum("HmiTrendMode").Interpolated||C?(C||(T.xTagValue=u.xTagValue+r*s),T.yTagValue=u.yTagValue+r*l,T.yTagPosition=null,T.xTagPosition=null,g.trendLimitObject.removeLastPoint()):r===a?(g.tagList.items.pop(),(f=new Y.Point).xTagValue=D[y].xTagValue,f.yTagValue=u.yTagValue,f.qualityCode=2,g.tagList.items.push(f),g.trendLimitObject.removeLastPoint(),g.trendLimitObject.addLimitValuePoints(f,void 0,!1),f=null,T.xTagValue=D[y].xTagValue,T.yTagValue=u.yTagValue,T.yTagPosition=null,T.xTagPosition=null,g.tagList.items.push(T)):(r<a?(T.xTagValue=u.xTagValue+r*s,T.yTagValue=u.yTagValue):(T.xTagValue=D[y].xTagValue,T.yTagValue=u.yTagValue+(r-a)*l),T.yTagPosition=null,T.xTagPosition=null,g.trendLimitObject.removeLastPoint()),g.trendLimitObject.addLimitValuePoints(T,void 0,!1);g.recalculateTagList(v),v.createPointCollection.call(g),v.trendModeObj.updatePolylines(h,!1,g),g.fill&&v.trendModeObj.updateFillPolyLines(g)},c,p)},sn.prototype.updateTrend=function(e){var t=this.trendObj.svgGroup;this.trendObj.trendView.trendControlAnimator&&this.trendObj.trendView.trendControlAnimator.recalculateAnimPaths(this.trendObj.name),this.trendObj.createPointCollection(e),this.updatePolylines(t.polyLineGroup,!0),this.trendObj.fill&&this.trendObj.trendModeObj.updateFillPolyLines(),t.trendPropertyGroup&&t.animationPathGroup&&t.animationPathGroup.parentNode!==t.trendPropertyGroup&&t.trendPropertyGroup.appendChild(t.animationPathGroup),window.navigator.msSaveBlob&&(t.trendPlaceHolder.removeChild(t.trendSvgContainer),t.trendPlaceHolder.appendChild(t.trendSvgContainer))},sn.prototype.updatePolylines=function(e,t,i){var r,a,n,o,s,l,u,h,d,c,p,m,g,T,f,y=!1,D=j.getChromEnum("HmiTrendMode"),S=j.Data.TrendPolylineGroup,b=i||this.trendObj,C=j.Features.Shape.SvgShape.CreateSvgElement,v=b.svgGroup;if(b.trendView.isLeftOrRight()?(p=b.translateX,m=b.translateY,g=b.qualityTranslate,T=0):(m=b.translateX,p=b.translateY,T=b.qualityTranslate,g=0),y=b.pointStyle!==j.getChromEnum("HmiMarkerType").None,b.trendStyle===D.Stepped){for(b.dummyMatrix&&(b.dummyMatrix.e=p,b.dummyMatrix.f=m),a=b.numberOfDummyPoints,r=0;r<a;r++)(h=(l=b.linesCollection[r]).dummyPolyline)?l.translate?l.dummyParentGroupType===S.NormalGroup?(h.parentNode.removeChild(h),v.dummyTranslateGroup.appendChild(h),l.dummyParentGroupType=S.TranslateGroup,h.setAttribute("points",l.dummyPoints)):l.setPoints&&h.setAttribute("points",l.dummyPoints):(l.dummyParentGroupType===S.TranslateGroup&&(0<b.translateX||0<b.translateY)&&(h.parentNode.removeChild(h),v.dummyPolyLineGroup.appendChild(h),l.dummyParentGroupType=S.NormalGroup),h.setAttribute("points",l.dummyPoints)):(l.translate?(f=v.dummyTranslateGroup,l.dummyParentGroupType=S.TranslateGroup):(f=v.dummyPolyLineGroup,l.dummyParentGroupType=S.NormalGroup),s=(o=b.thresholds[b.linesCollection[r].listType]).type,u=(o.isNormal?b:o).color,l.dummyPolyline=C("polyline",{points:l.dummyPoints,"stroke-dasharray":"inherit",id:s+"_polyline_"+b.id+"_dummy_"+r,class:s+"_polylineClass_"+b.id+"_dummy",fill:"none",stroke:u,"stroke-width":"inherit",appendTo:f}));if(v.trendPropertyGroup.removeChild(v.dummyPolyLineGroup),v.trendPropertyGroup.appendChild(v.dummyPolyLineGroup),v.trendPropertyGroup.removeChild(v.polyLineGroup),v.trendPropertyGroup.appendChild(v.polyLineGroup),b.qualityVisualizationVisible){for(b.qualityDummyMatrix&&(b.qualityDummyMatrix.e=g,b.qualityDummyMatrix.f=T),a=b.numberOfQualityDummyPoints,r=0;r<a;r++)(h=(l=b.qualityLinesCollection[r]).dummyPolyline)?l.translate?l.dummyParentGroupType===S.NormalGroup?(h.parentNode.removeChild(h),v.qualityDummyTranslateGroup.appendChild(h),l.dummyParentGroupType=S.TranslateGroup,h.setAttribute("points",l.dummyPoints)):l.setPoints&&h.setAttribute("points",l.dummyPoints):(l.dummyParentGroupType===S.TranslateGroup&&0<b.qualityTranslate&&(h.parentNode.removeChild(h),v.qualityDummyPolyLineGroup.appendChild(h),l.dummyParentGroupType=S.NormalGroup),h.setAttribute("points",l.dummyPoints)):(l.translate?(f=v.qualityDummyTranslateGroup,l.dummyParentGroupType=S.TranslateGroup):(f=v.qualityDummyPolyLineGroup,l.dummyParentGroupType=S.NormalGroup),(s=l.listType)===(n=b.thresholds.length)+1?u=b.badQualityColor:s===n&&(u=b.uncertainQualityColor),l.dummyPolyline=C("polyline",{points:l.dummyPoints,"stroke-dasharray":"inherit",id:s+"_polyline_"+b.id+"_dummy_"+r,class:s+"_polylineClass_"+b.id+"_dummy",fill:"none",stroke:u,"stroke-width":"inherit",appendTo:f}));v.qualityGroup.removeChild(v.qualityDummyPolyLineGroup),v.qualityGroup.appendChild(v.qualityDummyPolyLineGroup),v.qualityGroup.removeChild(v.qualityPolyLineGroup),v.qualityGroup.appendChild(v.qualityPolyLineGroup)}}for(b.matrix&&(b.matrix.e!==p&&(b.matrix.e=p),b.matrix.f!==m)&&(b.matrix.f=m),b.svgGroup.polyLineGroup&&(b.svgGroup.polyLineGroup.style.display="none"),a=b.numberOfPoints,r=0;r<a;r++)b.midMarkerURLsArray&&b.linesCollection&&b.linesCollection[r]&&(d=b.midMarkerURLsArray[b.linesCollection[r].listType]),(c=(l=b.linesCollection[r]).polyline)?l.translate?l.parentGroupType===S.NormalGroup?(c.parentNode.removeChild(c),v.translateGroup.appendChild(c),l.parentGroupType=S.TranslateGroup,c.setAttribute("points",l.points),l.setPoints=!l.pointsComplete,y&&c.setAttribute("marker-end",b.markerPositionsCollection[r].markerEnd)):l.setPoints&&(c.setAttribute("points",l.points),l.setPoints=!l.pointsComplete,y)&&c.setAttribute("marker-end",b.markerPositionsCollection[r].markerEnd):(l.parentGroupType===S.TranslateGroup&&(0<b.translateX||0<b.translateY)&&(c.parentNode.removeChild(c),e.appendChild(c),l.parentGroupType=S.NormalGroup),c.setAttribute("points",l.points),l.setPoints=!l.pointsComplete,y&&c.setAttribute("marker-end",b.markerPositionsCollection[r].markerEnd)):(l.translate?(f=v.translateGroup,l.parentGroupType=S.TranslateGroup):(f=e,l.parentGroupType=S.NormalGroup),s=(o=b.thresholds[l.listType]).type,u=(o.isNormal?b:o).color,l.polyline=C("polyline",{points:l.points,"stroke-dasharray":"inherit",id:s+"_polyline_"+b.id+"_"+r,class:s+"_polylineClass_"+b.id,fill:"none",stroke:u,"stroke-width":"inherit",appendTo:f}),y&&(l.polyline.setAttribute("marker-start",b.markerPositionsCollection[r].markerStart),l.polyline.setAttribute("marker-mid",d),l.polyline.setAttribute("marker-end",b.markerPositionsCollection[r].markerEnd)),l.setPoints=!l.pointsComplete);if(b.svgGroup.polyLineGroup&&(b.svgGroup.polyLineGroup.style.display="block"),b.qualityVisualizationVisible)for(b.qualityMatrix&&(b.qualityMatrix.e!==g&&(b.qualityMatrix.e=g),b.qualityMatrix.f!==T)&&(b.qualityMatrix.f=T),a=b.numberOfQualityPoints,r=0;r<a;r++)(c=(l=b.qualityLinesCollection[r]).polyline)?l.translate?l.parentGroupType===S.NormalGroup?(c.parentNode.removeChild(c),v.qualityTranslateGroup.appendChild(c),l.parentGroupType=S.TranslateGroup,c.setAttribute("points",l.points),l.setPoints=!l.pointsComplete,y&&c.setAttribute("marker-end",b.qualityMarkerPositionsCollection[r].markerEnd)):l.setPoints&&(c.setAttribute("points",l.points),l.setPoints=!l.pointsComplete,y)&&c.setAttribute("marker-end",b.qualityMarkerPositionsCollection[r].markerEnd):(l.parentGroupType===S.TranslateGroup&&0<b.qualityTranslate&&(c.parentNode.removeChild(c),v.qualityPolyLineGroup.appendChild(c),l.parentGroupType=S.NormalGroup),c.setAttribute("points",l.points),l.setPoints=!l.pointsComplete,y&&c.setAttribute("marker-end",b.qualityMarkerPositionsCollection[r].markerEnd)):(l.translate?(f=v.qualityTranslateGroup,l.parentGroupType=S.TranslateGroup):(f=v.qualityPolyLineGroup,l.parentGroupType=S.NormalGroup),s=l.listType,d=b.midMarkerURLsArray[s],s===(n=b.thresholds.length)+1?u=b.badQualityColor:s===n&&(u=b.uncertainQualityColor),l.polyline=C("polyline",{points:l.points,"stroke-dasharray":"inherit",id:s+"_polyline_"+b.id+"_"+r,class:s+"_polylineClass_"+b.id,fill:"none",stroke:u,"stroke-width":"inherit",appendTo:f}),y&&(l.polyline.setAttribute("marker-start",b.qualityMarkerPositionsCollection[r].markerStart),l.polyline.setAttribute("marker-mid",d),l.polyline.setAttribute("marker-end",b.qualityMarkerPositionsCollection[r].markerEnd)),l.setPoints=!l.pointsComplete);l=null},sn.prototype.updateFillPolyLines=function(e){var t,i,r,a,n,o=e||this.trendObj,s=j.Features.Shape.SvgShape.CreateSvgElement;for(o.fillMatrix&&(o.fillMatrix.e=o.matrix.e,o.fillMatrix.f=o.matrix.f),r=o.thresholds.length,i=0;i<r;i++)a=o.thresholds[i].type,n=o.thresholds[i].isNormal?o.fillURL:o.thresholds[i].fill,(t=o.trendView.SVGParent.getElementById(a+"_fillPolyline_"+o.id)||j.Features.Shape.SvgShape.getElementByIDSafariHack(o.trendView.SVGParent,"polyline",a+"_fillPolyline_"+o.id))?(t.setAttribute("points",o.thresholdFills[i].fill),t.setAttribute("fill",n)):o.thresholdFills[i]&&""!==o.thresholdFills[i].fill&&s("polyline",{points:o.thresholdFills[i].fill,id:a+"_fillPolyline_"+o.id,class:a+"_fillPolylineClass_"+o.id,fill:n,stroke:"none",ignoreEvent:!0,appendTo:o.svgGroup.trendFillPropertyGroup}),(t=o.trendView.SVGParent.getElementById(a+"_translateFillPolyline_"+o.id)||j.Features.Shape.SvgShape.getElementByIDSafariHack(o.trendView.SVGParent,"polyline",a+"_translateFillPolyline_"+o.id))?(t.setAttribute("points",o.thresholdFills[i].translateFill),t.setAttribute("fill",n)):o.thresholdFills[i]&&""!==o.thresholdFills[i].translateFill&&s("polyline",{points:o.thresholdFills[i].translateFill,id:a+"_translateFillPolyline_"+o.id,class:a+"_translateFillPolyline_"+o.id,fill:n,stroke:"none",ignoreEvent:!0,appendTo:o.svgGroup.fillTranslateGroup})},sn.prototype.swapWithNextTrend=function(e){var t=this.trendObj.currentTrendWindow.getEventSVG(),i=this.trendObj.svgGroup.trendPlaceHolder,e=e.svgGroup.trendPlaceHolder;i&&e&&t.insertBefore(i,e)},sn.prototype.cleanup=function(){this.trendObj=null},Y.LinearStepMode=sn,t=(t=e=e||{}).Lib||(t.Lib={}),C=t.NVEs||(t.NVEs={}),X=C.ChartElements||(C.ChartElements={}),q=X.TrendBase,i(a,q),a.prototype.commonUpdateForSecToolTipTemplate=function(e,t,i,r,a,n,o){var s,l=this.trendView.isLeftOrRight()?(s="x","y"):(s="y","x");e.pos1<t?(0===i&&this.setRulerPosition(r,a,t,!0),this.secondaryRulerToolTipTemplate[i].RootNode.setAttribute(s,t)):e.pos2>n?(0===i&&this.setRulerPosition(r,a,n,!1),this.secondaryRulerToolTipTemplate[i].RootNode.setAttribute(s,n-a)):(this.rulerPosition=0,this.secondaryRulerToolTipTemplate[i].RootNode.setAttribute(s,r-a/2)),this.secondaryRulerToolTipTemplate[i].setHmiProps(this.rulerPosition,"HmiProps.RulerPosition"),this.secondaryRulerToolTipTemplate[i].RootNode.setAttribute(l,o-this.rulerContentHeight/2)},a.prototype.draw=function(e,t){if(this.metaData=t,void 0===this.dom)this.dom=document.createElementNS("http://www.w3.org/2000/svg","g");else for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);return this.drawTrend(!1),this.dom},a.prototype.redraw=function(e,t){this.draw(e,t)},a.prototype.calculateRulerValue=function(e){var t=!1;this.boundingValue&&(0===this.tagList.items.length||this.boundingValue.timeStamp<this.tagList.items[0].timeStamp)&&(this.tagList.addToBeginning(this.boundingValue),t=!0),this.createPointsWithEndBound&&this.tagList.add(this.endBoundingValue),this._updateRulerControlData(e),this._updateStaticRulerControlData(e),t&&this.tagList.items.shift(),this.createPointsWithEndBound&&this.tagList.items.pop()},a.prototype._updateRulerControlData=function(e){var t=C.getChromEnum("HmiTrendCompanionMode");this.trendView.trendCompanionMode!==t.Ruler&&!this.trendView.secondaryRulerToolTip||(!1===e||""===this.dataSource.Tag?this.rulerControlData={value:"",dateTime:"",toolTipValue:""}:(t=this._currentTimeAxis.pixelRangeToValueRange(1),e=e.rulerPos,e=this._currentTimeAxis.getValueFromPosition(e),t=this.tagList.getValueFromTimeStamp(e,e-t,e+t,this.trendStyle),this.trendStyle===C.getChromEnum("HmiTrendMode").Points&&"string"==typeof t&&""!==t&&-1!==t.indexOf("i")?this.rulerControlData.toolTipValue="":this.rulerControlData.toolTipValue=t,this.rulerControlData.value=t,this.rulerControlData.dateTime=e))},a.prototype._updateStaticRulerControlData=function(e){var t,i,r,a,n=C.getChromEnum("HmiTrendCompanionMode");this.trendView.trendCompanionMode===n.StatisticArea?!1===e||""===this.dataSource.Tag?this.rulerControlData={lowerLimitValue:"",lowerLimitDateTime:"",upperLimitValue:"",upperLimitDateTime:""}:(a=this._currentTimeAxis.pixelRangeToValueRange(1),r=e.statRulerPos.lowerLimit,t=this._currentTimeAxis.getValueFromPosition(r),i=this.tagList.getValueFromTimeStamp(t,t-a,t+a,this.trendStyle),this.rulerControlData.lowerLimitValue=i,this.rulerControlData.lowerLimitDateTime=t,r=e.statRulerPos.upperLimit,t=this._currentTimeAxis.getValueFromPosition(r),i=this.tagList.getValueFromTimeStamp(t,t-a,t+a,this.trendStyle),this.rulerControlData.upperLimitValue=i,this.rulerControlData.upperLimitDateTime=t):this.trendView.trendCompanionMode===n.StatisticResult&&(!1===e||""===this.dataSource.Tag?this.rulerControlData={lowerLimitDateTime:"",upperLimitDateTime:"",minimum:"",minimumTimeStamp:"",maximum:"",maximumTimeStamp:"",average:"",standardDeviation:"",integral:"",weightedAverage:"",duration:"",numberOfValues:"",sum:""}:this.trendView.calculateStatistics&&(t=this._currentTimeAxis.getValueFromPosition(e.statRulerPos.lowerLimit),r=this._currentTimeAxis.getValueFromPosition(e.statRulerPos.upperLimit),this.rulerControlData=r<t?this.tagList.getStatistics(r,t):this.tagList.getStatistics(t,r),this.rulerControlData.duration=Math.abs(t-r)/1e3,(a=this.rulerControlData).lowerLimitDateTime=t,a.upperLimitDateTime=r))},a.prototype.clearTagList=function(e){e?(this.tagList.removeBeforeTimeStamp(this.clearTagListBeforeTimeStamp),this.removePointsBeforeTimeStamp(this.clearTagListBeforeTimeStamp,null),this.minVal=null,this.maxVal=null,this.boundingValue=null,this.endBoundingValue&&this.endBoundingValue.timeStamp<this.clearTagListBeforeTimeStamp&&(this.endBoundingValue=null,this.createPointsWithEndBound=!1),this.lastTime=[],this.clearTagListBeforeTimeStamp=!1):(this.tagList.items=[],this.minVal=null,this.maxVal=null,this.boundingValue=null,this.endBoundingValue=null,this.createPointsWithEndBound=!1,this.clearTagListBeforeTimeStamp=!1,this.clearTagListOnDataReceived=!1,this.clearPolylines(this.linesCollection),this.linesCollection=[],this.markerPositionsCollection=[],this.clearPolylines(this.qualityLinesCollection),this.qualityLinesCollection=[],this.qualityMarkerPositionsCollection=[],this._trendLimitObj.clearAllThresholdFills(),this._trendLimitObj.clearTagList(),this.trendView.removeFromInvalidateCheckArray(this.name),this.trendView.removeFromUndrawnData(this.partId),this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.trendView.removeFromDisconnectedSources(this.name),this.lastTime=[])},a.prototype.getExportData=function(){var e,t,i,r=this.tagList.items,a=r.length,n=[],o=0<this._currentTimeAxis.zoomInOutCount?(e=this._currentTimeAxis.startValueBuffer,this._currentTimeAxis.endValueBuffer):(e=this._currentTimeAxis.currentBeginValue,this._currentTimeAxis.currentEndValue);for(n.push({x:this.trendDisplayText,y:this.trendDisplayText,outputFormat:this._currentTimeAxis.outputFormat}),i=0;i<a&&!((t=r[i]).timeStamp>o);i++)t.timeStamp>=e&&n.push({x:t.timeStamp,y:t.yTagValue});return n},a.prototype.initialize=function(e,t,i){this.baseInitialize(e,i,t),this.trendStyle<C.getChromEnum("HmiTrendMode").Bar?this.trendModeObj=new X.LinearStepMode(this):(this.trendStyle=C.getChromEnum("HmiTrendMode").Value,this.trendModeObj=new X.ValueTrendMode(this)),this.config.AggregationMode&&(this.aggregationMode=this.config.AggregationMode),this.viewBoxDim=parseInt(this.pointWidth,10)+1,this.dataSourceProp=this.config.DataSourceY,this.dataSource.Tag=this.dataSourceProp.Source,""===this.dataSource.Tag?this.dataSource.TagDisplayName="":this.dataSource.TagDisplayName="...",this.cpmPath="",this.timeAxisPartId=null,this.valueAxisPartId=null,this.cpmPath="",this.bufferCpmPath="","string"==typeof(e=this.config.TimeAxis)?(this.timeAxis=e,e=t.getXAxisByName(e)):"number"==typeof e&&(this.timeAxisPartId=e,e=t.getXAxisByPartId(e),this.timeAxis=e?e.config.Name:""),this.currentXAxis=this._currentTimeAxis=e,"string"==typeof(e=this.config.YValueAxis)?(this.valueAxis=e,e=t.getYAxisByName(e)):"number"==typeof e&&(this.valueAxisPartId=e,e=t.getYAxisByPartId(e),this.valueAxis=e?e.config.Name:""),this.currentYAxis=this._currentValueAxis=e,this.loadDataImmediately=this.config.ShowLoggedDataImmediately,this.loadDataImmediately||(this.bufferTime=(new Date).getTime()),this.rulerControlData={},this.tagList=new C.Data.GenericList,this._trendLimitObj=new X.TrendLimits(this),this._trendLimitObj.initialize(),this.RetrieveCachedTrendData()},a.prototype.matchAxis=function(e){var t;return e.axisType===this.trendView.axisTypeEnum.xAxis?(t=this.config.TimeAxis,this._isDrawableXAxis(t,e)):(t=this.config.YValueAxis,this._isDrawableYAxis(t,e))},a.prototype._isDrawableXAxis=function(e,t){var i=!1;return this.currentXAxis||""===e||("string"==typeof e&&e===t.config.Name||"number"==typeof e&&e===t.config.ElementID)&&(this.timeAxis=t.config.Name,this.currentXAxis=this._currentTimeAxis=t,this.visibility)&&this.currentYAxis&&(i=!0),i},a.prototype._isDrawableYAxis=function(e,t){var i=!1;return this.currentYAxis||""===e||("string"==typeof e&&e===t.config.Name||"number"==typeof e&&e===t.config.ElementID)&&(this.valueAxis=t.config.Name,this.currentYAxis=this._currentValueAxis=t,this.visibility)&&this.currentXAxis&&(i=!0),i},a.prototype._removeUnusedTimeValues=function(){var e,t,i,r,a,n,o=this.tagList,s=o.items,l=0,u=this.boundingValue,h=[],d=!1;if(this._currentTimeAxis){if(this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount){for(e=0,l=s.length-1;0<=l;l--)if(s[l].timeStamp<=this._currentTimeAxis.currentEndValue){e=l+1;break}if(0<(r=e-this._currentTimeAxis.config.PointCount)){for(l=0;l<r;l++)if(t=s[l].yTagValue,d||this.minVal===t||this.maxVal===t){d=!0;break}this._currentTimeAxis.isPointCountForceAnim=!0,this.trendView.trendControlAnimator.removeValueAxisAnimation(this._currentTimeAxis.axisPbId),this.boundingValue=s[r-1],a=this.boundingValue.timeStamp,o.removeItems(r),this.removePointsBeforeTimeStamp(a,!1),s[s.length-1].timeStamp-this.boundingValue.timeStamp<X.TimeAxis.MIN_AXIS_RANGE&&(this.boundingValue.xTagValue=this.boundingValue.timeStamp=0),this._currentTimeAxis.currentBeginValue<this.boundingValue.timeStamp&&(this._currentTimeAxis.isPointCountForceAnim=!0),this._currentTimeAxis.alignToCurrentTime(Date.now())}}else if((this.trendStyle===this._trendMode.Value||1<this.linesCollection.length&&this.linesCollection[1].items[0].timeStamp<this._currentTimeAxis.currentBeginValue||1===this.linesCollection.length)&&(h=o.removeBeforeTimeStamp(this._currentTimeAxis.currentBeginValue))[(n=h.length)-1]){if(u=this.boundingValue,this.boundingValue=h[n-1],a=this.boundingValue.timeStamp,!u||u.yTagValue!==this.minVal&&u.yTagValue!==this.maxVal){for(l=0;l<n;l++)if((t=h[l].yTagValue)===this.minVal||t===this.maxVal){d=!0;break}}else d=!0;this.removePointsBeforeTimeStamp(a,!1)}if(d)switch(e=s.length,this.maxVal=this.minVal=null,this._currentValueAxis.config.ScalingType){case this._scalingType.Linear:for(this.boundingValue?(this.maxVal=this.minVal=this.boundingValue.yTagValue,l=0):0<e&&(this.maxVal=this.minVal=s[0].yTagValue,l=1);l<e;l++)t=s[l].yTagValue,this.minVal>t&&(this.minVal=t),this.maxVal<t&&(this.maxVal=t);break;case this._scalingType.Logarithmic:for(this.boundingValue&&0<this.boundingValue.yTagValue&&(this.maxVal=this.minVal=this.boundingValue.yTagValue),l=0;l<e;l++)i=s[l].yTagValue,(this.minVal>i||null===this.minVal)&&0<i&&(this.minVal=i),(this.maxVal<i||null===this.maxVal)&&0<i&&(this.maxVal=i);break;case this._scalingType.NegativeLogarithmic:for(this.boundingValue&&this.boundingValue.yTagValue<0&&(this.maxVal=this.minVal=this.boundingValue.yTagValue),l=0;l<e;l++)i=s[l].yTagValue,(this.minVal>i||null===this.minVal)&&i<0&&(this.minVal=i),(this.maxVal<i||null===this.maxVal)&&i<0&&(this.maxVal=i)}return u=s=o=h=null,d&&0<this.linesCollection.length}},a.prototype._removePointsAfterTimeStamp=function(e){var t,i,r,a=this.linesCollection.length;if(this.trendStyle===this._trendMode.Value){for(t=0;t<a;t++)if(e<this.linesCollection[t].timeStamp){this.linesCollection.splice(t);break}}else{for(t=a-1;0<=t;t--){if(i=(r=this.linesCollection[t]).removeAfterTimeStamp(e),0!==r.items.length){0<i.length&&(this.markerPositionsCollection[t].markerEnd=this.midMarkerURLsArray[r.listType],r.setPoints=!0);break}r.polyline&&r.polyline.parentNode&&r.polyline.parentNode.removeChild(r.polyline),r.dummyPolyline&&r.dummyPolyline.parentNode&&r.dummyPolyline.parentNode.removeChild(r.dummyPolyline),this.linesCollection.splice(t,1),this.markerPositionsCollection.splice(t,1)}for(t=(a=this.qualityLinesCollection.length)-1;0<=t;t--){if(i=(r=this.qualityLinesCollection[t]).removeAfterTimeStamp(e),0!==r.items.length){0<i.length&&(this.qualityMarkerPositionsCollection[t].markerEnd=this.midMarkerURLsArray[r.listType],r.setPoints=!0);break}r.polyline&&r.polyline.parentNode&&r.polyline.parentNode.removeChild(r.polyline),r.dummyPolyline&&r.dummyPolyline.parentNode&&r.dummyPolyline.parentNode.removeChild(r.dummyPolyline),this.qualityLinesCollection.splice(t,1),this.qualityMarkerPositionsCollection.splice(t,1)}r=null}},a.prototype._recalculate=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0);for(var r,a,n=(r=e.items).length,o=this._currentValueAxis.invalidated,s=0;s<n;++s)a=r[s],this._recalculatePointXPos(a,t),!o&&null!==a.yTagPosition||this._recalculatePointYPos(a,i)},a.prototype._recalculatePointXPos=function(e,t){void 0===t&&(t=0);var i=this._currentTimeAxis.getPositionFromValue(e.xTagValue);e.xTagPosition=this.getRoundedTagPosition(i-t),e.xTagPosition<-this.EXPO_POSITION_LIMIT?e.xTagPosition=-this.EXPO_POSITION_LIMIT:e.xTagPosition>this.EXPO_POSITION_LIMIT&&(e.xTagPosition=this.EXPO_POSITION_LIMIT)},a.prototype._recalculatePointYPos=function(e,t){void 0===t&&(t=0);var i=this._currentValueAxis.getPositionFromValue(e.yTagValue);e.yTagPosition=this.getRoundedTagPosition(i-t),e.yTagPosition<-this.EXPO_POSITION_LIMIT?e.yTagPosition=-this.EXPO_POSITION_LIMIT:e.yTagPosition>this.EXPO_POSITION_LIMIT&&(e.yTagPosition=this.EXPO_POSITION_LIMIT)},a.prototype._isAnimationNeeded=function(){var e=!1,t=this.pointsToAnimate[0],i=this.pointsToAnimate[1];return 5<Math.abs(i.xTagPosition-t.xTagPosition)||5<Math.abs(i.yTagPosition-t.yTagPosition)?e=!0:(this.pointsToAnimate=[],this.linesCollection.length&&(this.trendModeObj.recalculateInterimPoints(),!1===this.trendView.isOnline()&&this.endBoundingValue&&(i=this.linesCollection.currentTagList.items[this.linesCollection.currentTagList.items.length-1])&&(this.endBoundingValue.yTagValue=i.yTagValue,this.endBoundingValue.yTagPosition=i.yTagPosition,this.endBoundingValue.qualityCode=i.qualityCode),this.trendModeObj.updateTrend(!0))),e},a.prototype._recreateDisplayValues=function(){var e,t,i,r,a,n,o,s,l,u,h,d,c,p,m,g="",T=1,f=0,y=!1,D="",S=this.trendView.isLeftOrRight(),b=[];if(this._currentTimeAxis&&0<this._currentTimeAxis.ticksFeatures.length)for(e=0;e<this._currentTimeAxis.ticksFeatures.length;e++)for(l=(s=this._currentTimeAxis.ticksFeatures[e]).Parent.getPoles(),s.applyFilters(l),t=0;t<l.length;t++)l[t].isVisible&&b.push(l[t]);if(0<b.length){for(o=b.length,this.linesCollection=[],this.boundingValue&&(0<this.tagList.items.length&&this.boundingValue.timeStamp<this.tagList.items[0].timeStamp||0===this.tagList.items.length)&&(this.tagList.items.unshift(this.boundingValue),y=!0),d=this.displayValueAttr.positionToBoxCoord,e=0;e<o;e++)if(s=b[e])if("object"!=typeof(i=this.tagList.getValueFromTimeStamp(s.value,void 0,void 0,this.trendStyle))&&""!==i)i=(i=i.toString()).split(" "),r=Number(i[0]),i[0]=this._currentValueAxis.getDisplayValue(i[0]),(i=i.join(" ")).length>g.length&&(g=i),p=S?(m=C.Utilities.preprocessCoordinateForSVG(s.x)+this._currentTimeAxis.translate)+","+this.displayValueAttr.start+" "+m+","+this.displayValueAttr.end+" ":(m=C.Utilities.preprocessCoordinateForSVG(s.y)+this._currentTimeAxis.translate,this.displayValueAttr.start+","+m+" "+this.displayValueAttr.end+","+m+" "),c=m-d,this.linesCollection.push({displayValue:i,value:r,lineType:this._getLineLimitTypeFromDisplayValue(i,r),timeStamp:s.value,positionFromTick:c,trendLinePoints:p});else if("object"==typeof i){for(u=i.length,D="",t=0;t<u;t++)i[t]=i[t].toString(),h=i[t].split(" "),r=Number(h[0]),h[0]=this._currentValueAxis.getDisplayValue(h[0]),h=h.join(" "),(D+=0==t?C.getTextByID("TBID_Trend_MinLabel")+":"+h:", "+C.getTextByID("TBID_Trend_MaxLabel")+":"+h).length>g.length&&(g=D);p=S?(m=C.Utilities.preprocessCoordinateForSVG(s.x)+this._currentTimeAxis.translate)+","+this.displayValueAttr.start+" "+m+","+this.displayValueAttr.end+" ":(m=C.Utilities.preprocessCoordinateForSVG(s.y)+this._currentTimeAxis.translate,this.displayValueAttr.start+","+m+" "+this.displayValueAttr.end+","+m+" "),c=m-d,this.linesCollection.push({displayValue:D,value:r,lineType:this._getLineLimitTypeFromDisplayValue(h,r),timeStamp:s.value,positionFromTick:c,trendLinePoints:p})}if(S){if(g.length!==this._maxDispVal.length&&(this._maxDispVal=g,this.displayValueAttr.width=1.5*this.getDisplayValueWidth(),this.displayValueAttr.positionToBoxCoord=this.displayValueAttr.width/2),1<this.linesCollection.length){for(a=Math.abs(this.linesCollection[1].positionFromTick-this.linesCollection[0].positionFromTick);a*T<this.displayValueAttr.width;)T++;f=T-1}for(e=0;e<this.linesCollection.length;e++)++f===T?(f=0,this.linesCollection[e].positionFromTick+=d-this.displayValueAttr.positionToBoxCoord):(this.linesCollection.splice(e,1),e--)}else if(g.length!==this._maxDispVal.length)if(this._maxDispVal=g,(n=this.currentTrendWindow.onValueTrendModePositionChange(this.name)).length)for(e=n.length-1;1<=e;e--)n[e].draw(!this.trendView.isOnline());else this.displayValueAttr.width=1.5*this.getDisplayValueWidth();y&&this.tagList.items.shift()}},a.prototype._getLineLimitTypeFromDisplayValue=function(e,t){var i=C.Data.TagValueSuffix,e=this.qualityVisualizationVisible&&-1!==e.indexOf(i.Bad)?this.thresholds.length+1:this.qualityVisualizationVisible&&-1!==e.indexOf(i.Uncertain)?this.thresholds.length:this._trendLimitObj.getThresholdType(t);return e},a.prototype.getValueAxisScaleType=function(){return this._currentValueAxis.config.ScalingType},a.prototype.recalculateX=function(){var e,t,i,r,a,n=this.tagList.items;for(this.translateX=0,e=this.linesCollection.length,a=0;a<e;a++)this.linesCollection[a].setPoints=!0;for(e=n.length,a=0;a<e;++a)(r=n[a]).xTagPosition=this.getRoundedTagPosition(this._currentTimeAxis.getPositionFromValue(r.xTagValue)),this.tagList.update(r,a);if(this.qualityVisualization)for(this.qualityTranslate=0,e=this.qualityLinesCollection.length,a=0;a<e;a++)for(this.qualityLinesCollection[a].setPoints=!0,t=(n=this.qualityLinesCollection[a].items).length,i=0;i<t;++i)(r=n[i]).xTagPosition=this.getRoundedTagPosition(this._currentTimeAxis.getPositionFromValue(r.xTagValue));r=null,this.boundingValue&&(this.boundingValue.xTagPosition=this._currentTimeAxis.getPositionFromValue(this.boundingValue.xTagValue)),this.endBoundingValue&&(this.endBoundingValue.xTagValue=this.endBoundingValue.timeStamp=this._currentTimeAxis.currentEndValue,this.endBoundingValue.xTagPosition=this._currentTimeAxis.getPositionFromValue(this.endBoundingValue.xTagValue))},a.prototype.recalculateWithRollingTime=function(){var e,t,i,r;if(this.trendStyle===this._trendMode.Value)(0<this.tagList.items.length||this.boundingValue)&&this._recreateDisplayValues();else if(0<(i=this.linesCollection.length)){if(this._recalculate(this.linesCollection.currentTagList),this.linesCollection.currentTagList.translate=!1,0<this.tagList.items.length&&(this._lastTrendPointCalculated=this.tagList.items[this.tagList.items.length-1]),1<i)if(this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount)for(i-=1,e=this.translateX=0;e<i;e++)t=this.linesCollection[e],this._recalculate(t),t.addToTranslate=!1,t.setPoints=!0,t.translate=!1,t=null;else if(r=this.linesCollection[0].items[0],this.translateX=this._currentTimeAxis.getPositionFromValue(r.xTagValue)-r.xTagPosition,i-=1,65536<Math.abs(this.translateX))for(e=this.translateX=0;e<i;e++)t=this.linesCollection[e],this._recalculate(t),t.addToTranslate=!1,t.setPoints=!0,t.translate=!0,t=null;else for(e=0;e<i;e++)(t=this.linesCollection[e]).addToTranslate&&(this._recalculate(t,this.translateX),t.addToTranslate=!1,t.setPoints=!0),t.translate=!0,t=null;if(this._setBoundinValuePosition(),this.qualityVisualization&&0<(i=this.qualityLinesCollection.length)){if(r=this.qualityLinesCollection[0].items[0],1<i)if(this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount)for(e=this.qualityTranslate=0;e<i;e++)t=this.qualityLinesCollection[e],this._recalculate(t),t.addToTranslate=!1,t.setPoints=!0,t.translate=!1,t=null;else{if(this.qualityTranslate=this._currentTimeAxis.getPositionFromValue(r.xTagValue)-r.xTagPosition,i-=1,65536<Math.abs(this.qualityTranslate)){for(e=this.qualityTranslate=0;e<i;e++)t=this.qualityLinesCollection[e],this._recalculate(t),t.addToTranslate=!1,t.setPoints=!0,t.translate=!0;t=this.qualityLinesCollection[i],this._recalculate(t),t.addToTranslate=!1,t.setPoints=!0}else{for(e=0;e<i;e++)(t=this.qualityLinesCollection[e]).addToTranslate&&(this._recalculate(t,this.qualityTranslate),t.addToTranslate=!1,t.setPoints=!0),t.translate=!0;(t=this.qualityLinesCollection[i]).translate?t.addToTranslate&&(this._recalculate(t,this.qualityTranslate),t.addToTranslate=!1,t.setPoints=!0):(this._recalculate(t),t.setPoints=!0)}t=null}else this.qualityLinesCollection[0].translate?(this.qualityTranslate=this._currentTimeAxis.getPositionFromValue(r.xTagValue)-r.xTagPosition,65536<Math.abs(this.qualityTranslate)?(this.qualityTranslate=0,t=this.qualityLinesCollection[0],this._recalculate(t),t.addToTranslate=!0,t.setPoints=!0,t.translate=!0):this.qualityLinesCollection[0].addToTranslate&&(this.qualityLinesCollection[0].setPoints=!0)):this._recalculate(this.qualityLinesCollection[0]);r&&(r.xTagPosition<-this.EXPO_POSITION_LIMIT?r.xTagPosition=-this.EXPO_POSITION_LIMIT:r.xTagPosition>this.EXPO_POSITION_LIMIT&&(r.xTagPosition=this.EXPO_POSITION_LIMIT))}this._setEndBoundingValuePosition()}},a.prototype.onTagListChangedX=function(e,t,i,r){var a,n,o,s,l,u,h,d=-1,c=!1,p=!1,m=this.tagList.items,g=!1,T=!1,f=[];if(this._currentTimeAxis){if(r)0<m.length?d=m[m.length-1].timeStamp:this.boundingValue&&null!==this.boundingValue.timeStamp&&(d=this.boundingValue.timeStamp);else{if(h=t[t.length-1],0<this.clearTagListAfterTimeStamp&&h>this.clearTagListAfterTimeStamp)for(a=e.length-1;0<=a;a--)if(t[a]<=this.clearTagListAfterTimeStamp){a+=1,e.splice(a,e.length),t.splice(a,t.length),i.splice(a,i.length);break}this.historicalDataRequested=!1,this.clearTagListOnDataReceived?(this.clearTagList(!1),this.clearTagListOnDataReceived=!1,m=this.tagList.items):(this.clearTagListBeforeTimeStamp&&0<e.length&&(this.clearTagListBeforeTimeStamp=t[t.length-1]+1,this.clearTagList(!0)),this.clearTagListBeforeTimeStamp=!1),0<m.length&&(d=m[m.length-1].timeStamp,g=t[0]<m[0].timeStamp,T=t[0]<d),!1===g&&this._trendLimitObj.setLimitBools(!1,void 0)}if(!r&&g){for(o=m[0].timeStamp,this.boundingValue&&(this.removePointsBeforeTimeStamp(o,!0),this.boundingValue=null),this._trendLimitObj.setLimitBools(g,void 0),a=e.length-1;0<=a&&!(t[a]<o&&-1===this.tagList.findIndexByTimeStamp(t[a]));--a);for(;0<=a;--a)(n=new X.Point).xTagValue=n.timeStamp=t[a],n.yTagValue=e[a],n.qualityCode=this._getQualityOfValue(i[a]),(this._currentValueAxis.config.ScalingType===this._scalingType.Linear||this._currentValueAxis.config.ScalingType===this._scalingType.Logarithmic&&0<n.yTagValue||this._currentValueAxis.config.ScalingType===this._scalingType.NegativeLogarithmic&&n.yTagValue<0)&&((n.yTagValue<this.minVal||null===this.minVal)&&(this.minVal=n.yTagValue),n.yTagValue>this.maxVal||null===this.maxVal)&&(this.maxVal=n.yTagValue),this.tagList.addToBeginning(n),this.trendStyle!==this._trendMode.Value&&(this._trendLimitObj.addLimitValuePointsBegin(n,0),this.qualityVisualizationVisible)&&this._trendLimitObj.addQualityVisualizationPointsBegin(n),n=null;this._trendLimitObj.setLimitBools(!1,void 0)}else if(!r&&T){for(o=t[0],l=m.length,s=1;s<l;s++)if(o<m[s].timeStamp){if((o=t[t.length-1])>=(m=m.splice(s))[m.length-1].timeStamp)m=[];else for(u=m.length,s=0;s<u;s++)if(o<m[s].timeStamp){m=m.splice(s);break}break}for(this._removePointsAfterTimeStamp(this.tagList.items[this.tagList.items.length-1].timeStamp),this._trendLimitObj.setLimitBools(!1,void 0),l=e.length,a=0;a<l;++a)(n=new X.Point).xTagValue=n.timeStamp=t[a],n.yTagValue=e[a],n.qualityCode=this._getQualityOfValue(i[a]),this.tagList.add(n),(this._currentValueAxis.config.ScalingType===this._scalingType.Linear||this._currentValueAxis.config.ScalingType===this._scalingType.Logarithmic&&0<n.yTagValue||this._currentValueAxis.config.ScalingType===this._scalingType.NegativeLogarithmic&&n.yTagValue<0)&&((n.yTagValue<this.minVal||null===this.minVal)&&(this.minVal=n.yTagValue),n.yTagValue>this.maxVal||null===this.maxVal)&&(this.maxVal=n.yTagValue),this.trendStyle!==this._trendMode.Value&&(this._trendLimitObj.addLimitValuePoints(n,void 0,!1),this.qualityVisualizationVisible)&&this._trendLimitObj.addQualityVisualizationPoints(n),n=null;for(u=m.length,a=0;a<u;a++)this.tagList.add(m[a]),this.trendStyle!==this._trendMode.Value&&(this._trendLimitObj.addLimitValuePoints(m[a],void 0,!1),this.qualityVisualizationVisible)&&this._trendLimitObj.addQualityVisualizationPoints(m[a])}else for(l=e.length,a=0;a<l;++a)d<=(o=t[a])&&((n=new X.Point).xTagValue=n.timeStamp=o,n.yTagValue=e[a],n.qualityCode=this._getQualityOfValue(i[a]),(0===m.length||m[m.length-1].timeStamp<this._currentTimeAxis.currentEndValue||this.trendView.isOnline()&&this._currentTimeAxis.alwaysShowRecent)&&(p=!0),this.tagList.add(n),(this._currentValueAxis.config.ScalingType===this._scalingType.Linear||this._currentValueAxis.config.ScalingType===this._scalingType.Logarithmic&&0<n.yTagValue||this._currentValueAxis.config.ScalingType===this._scalingType.NegativeLogarithmic&&n.yTagValue<0)&&((n.yTagValue<this.minVal||null===this.minVal)&&(this.minVal=n.yTagValue,n.timeStamp<this._currentTimeAxis.currentEndValue||this.trendView.isOnline()&&this._currentTimeAxis.alwaysShowRecent)&&(c=!0),n.yTagValue>this.maxVal||null===this.maxVal)&&(this.maxVal=n.yTagValue,n.timeStamp<this._currentTimeAxis.currentEndValue||this.trendView.isOnline()&&this._currentTimeAxis.alwaysShowRecent)&&(c=!0),this.trendStyle!==this._trendMode.Value)&&(this._trendLimitObj.addLimitValuePoints(n,void 0,!1),this.qualityVisualizationVisible&&this._trendLimitObj.addQualityVisualizationPoints(n),r)&&(this.trendStyle===this._trendMode.Points?p&&f.push(n):1<m.length&&m[m.length-2].timeStamp<this._currentTimeAxis.currentEndValue&&(0===this.pointsToAnimate.length&&this.pointsToAnimate.push(m[m.length-2]),this.pointsToAnimate.push(n))),n=null;0<this.pointsToAnimate.length?(this._recalculate({items:this.pointsToAnimate}),this._isAnimationNeeded()&&this.trendModeObj.animateTrend(this.createAnimTrendObject())):0<f.length&&(this._recalculate({items:f}),this.linesCollection.length)&&(1<this.linesCollection.length&&this.trendModeObj.recalculateInterimPoints(),!1===this.trendView.isOnline()&&this.endBoundingValue&&(n=this.linesCollection.currentTagList.items[this.linesCollection.currentTagList.items.length-1])&&(this.endBoundingValue.yTagValue=n.yTagValue,this.endBoundingValue.yTagPosition=n.yTagPosition,this.endBoundingValue.qualityCode=n.qualityCode),this.trendModeObj.updateTrend(!0)),m=f=null}return{trendDrawRequired:p,yAxisUpdateRequired:c}},a.prototype.createPointCollection=function(e){var t,i,r,a,n,o,s,l,u,h=this.trendLimitObject||this._trendLimitObj,d="",c="",p="",m="",g="xTagPosition",T="yTagPosition",f=!1,y=this.trendView.isLeftOrRight();if(this.numberOfPoints=0,this.numberOfDummyPoints=0,this.numberOfQualityPoints=0,this.numberOfQualityDummyPoints=0,this.createPointsWithEndBound=!1,h.clearAllThresholdFills(),y||(g="yTagPosition",T="xTagPosition"),0<this.lastTime.length&&(this.trendView.isOnline()||this.lastTime[0]<this._currentTimeAxis.currentEndValue)&&(o=this.lastTime[0]),this.trendStyle!==this._trendMode.Value){for(0<(a=this.linesCollection.length)&&(i=(t=this.linesCollection.currentTagList.items).length),this.endBoundingValue&&0<a&&0<i&&t[i-1].timeStamp<this.endBoundingValue.timeStamp&&(this.createPointsWithEndBound=!0,t.push(this.endBoundingValue)),r=0;r<a;r++)if((s=this.linesCollection[r]).translate&&!s.setPoints)this.numberOfPoints++,this.numberOfDummyPoints++;else{for(s.points="",s.dummyPoints="",i=(t=s.items).length,n=0;n<i&&(l=t[n],u=t[n+1],!(o&&l.timeStamp>o));n++)null!==l[g]&&null!==l[T]&&(d=d+l[g]+","+l[T]+" ",this.trendStyle===this._trendMode.Stepped)&&(c=c+l[g]+","+l[T]+" ",u)&&(y?null!==u[g]&&(c=c+u[g]+","+l[T]+" "):null!==u[T]&&(c=c+l[g]+","+u[T]+" "));if(s.pointsComplete=n===i,e&&-1!==d.indexOf("null")){""!==(d=d.split(null)[0])&&(s.points=d,this.numberOfPoints++),""!==(c=c.split(null)[0])&&(s.dummyPoints=c,this.numberOfDummyPoints++);break}s.points=d,this.numberOfPoints++,s.dummyPoints=c,this.numberOfDummyPoints++,c=d=""}if(this.qualityVisualizationVisible){for(!this.createPointsWithEndBound||this.endBoundingValue.qualityCode!==C.Data.QualityCode.Uncertain&&this.endBoundingValue.qualityCode!==C.Data.QualityCode.Bad||(this.qualityLinesCollection[this.qualityLinesCollection.length-1].add(this.endBoundingValue),f=!0),a=this.qualityLinesCollection.length,r=0;r<a;r++)if((s=this.qualityLinesCollection[r]).translate&&!s.setPoints)this.numberOfQualityPoints++,this.numberOfQualityDummyPoints++;else{for(i=(t=this.qualityLinesCollection[r].items).length,n=0;n<i&&(l=t[n],u=t[n+1],!(o&&l.timeStamp>o));++n)null!==l[g]&&null!==l[T]&&(p=p+l[g]+","+l[T]+" ",this.trendStyle===this._trendMode.Stepped)&&(m=m+l[g]+","+l[T]+" ",u)&&(y?null!==u[g]&&(m=m+u[g]+","+l[T]+" "):null!==u[T]&&(m=m+l[g]+","+u[T]+" "));if(e&&-1!==p.indexOf("null")){""!==(p=p.split(null)[0])&&(s.qualityPoints=p,this.numberOfQualityPoints++),""!==(m=m.split(null)[0])&&(s.dummyQualityPoints=m,this.numberOfQualityDummyPoints++);break}s.points=p,this.numberOfQualityPoints++,s.dummyPoints=m,this.numberOfQualityDummyPoints++,m=p=""}f&&this.qualityLinesCollection[a-1].items.pop()}s=null,t=this.tagList.items,0<this.linesCollection.length&&this.fill&&this.trendStyle!==this._trendMode.Points&&(1<t.length&&o>t[0].timeStamp&&this._lastTrendPointCalculated&&o<this._lastTrendPointCalculated.timeStamp?(l=t[l=this.tagList.findIndexByTimeStamp(o)],h.createDifferentFillLines(y,l)):this.createPointsWithEndBound?h.createDifferentFillLines(y,this.endBoundingValue):this._lastTrendPointCalculated&&h.createDifferentFillLines(y,this._lastTrendPointCalculated)),this.createPointsWithEndBound&&this.linesCollection.currentTagList.items.pop()}},a.prototype.createAnimTrendObject=function(){var e={id:"animated_polyline_"+this.id+Date.now(),trendStyle:this._trendMode.Interpolated,tagList:new C.Data.GenericList,trendLimitObject:null,linesCollection:[],markerPositionsCollection:[],points:[],lastTime:[],midMarkerURLsArray:[],color:this.color,pointStyle:C.getChromEnum("HmiMarkerType").None,_trendMode:this._trendMode,trendView:this.trendView,_isLeftOrRight:this.parentTrendWindow.getIsLeftOrRight(),svgGroup:{trendPropertyGroup:null,animationPathGroup:null,trendFillPropertyGroup:null,polyLineGroup:null,qualityGroup:null,translateGroup:null,dummyPolyLineGroup:null,dummyTranslateGroup:null,qualityPolyLineGroup:null,qualityTranslateGroup:null,qualityDummyPolyLineGroup:null,qualityDummyTranslateGroup:null,fillTranslateGroup:null},translateX:0,translateY:0,fill:this.fill,fillURL:this.getFillForAnimation(),thresholdParts:this.thresholdParts,thresholdFills:[],currentTrendWindow:this.currentTrendWindow,currentYAxis:this.currentYAxis,recalculateTagList:function(e){for(var t=this.linesCollection.length,i=0;i<t;i++)e._recalculate(this.linesCollection[i]);this.linesCollection.currentTagList&&0<(t=this.linesCollection.currentTagList.items.length)&&(this._lastTrendPointCalculated=this.linesCollection.currentTagList.items[t-1])},cleanUp:function(){this.tagList.clear();for(var e,t=this.linesCollection.length,i=0;i<t;i++)(e=this.linesCollection[i]).polyline&&(e.polyline.parentNode&&e.polyline.parentNode.removeChild(e.polyline),e.polyline=null),e.dummyPolyline&&(e.dummyPolyline.parentNode&&e.dummyPolyline.parentNode.removeChild(e.dummyPolyline),e.dummyPolyline=null),e.items=[],e=null;this.linesCollection=[],this.tagList=this.matrix=this.fillMatrix=this.dummyMatrix=this.qualityMatrix=this.linesCollection=this.lastTime=this.midMarkerURLsArray=this.currentTrendWindow=this.trendView=this.svgGroup.trendPropertyGroup=this.svgGroup.animationPathGroup=this.svgGroup.trendFillPropertyGroup=this.svgGroup.polyLineGroup=this.svgGroup.qualityGroup=this.svgGroup.translateGroup=this.svgGroup.dummyPolyLineGroup=this.svgGroup.dummyTranslateGroup=this.svgGroup.qualityPolyLineGroup=this.svgGroup.qualityTranslateGroup=this.svgGroup.qualityDummyPolyLineGroup=this.svgGroup.qualityDummyTranslateGroup=this.svgGroup.trendSvgContainer=this.svgGroup.trendPlaceHolder=this.svgGroup.fillTranslateGroup=this.svgGroup=this.currentYAxis=this.markerPositionsCollection=this.thresholdFills=this.thresholdParts=this.trendLimitObject=null}};return e.trendLimitObject=new X.TrendLimits(e),e.trendLimitObject.initialize(e),e.midMarkerURLsArray=new Array(e.midMarkerURLsArray.length+1).join(" none").split(" ").slice(1),e},a.prototype.getFillForAnimation=function(){var e=this.fillURL,t=C.getChromEnum("HmiFillPattern");return this.backFillPattern>t.Transparent&&(this.trendView.isLeftOrRight()?this.backFillPattern===t.GradientHorizontal?e=this.currentXAxis.textOrientation===C.Data.TextOrientation.FromRight?this.alternateFillColor:this.fillColor:this.backFillPattern===t.GradientHorizontalTricolor&&(e=this.fillColor):this.backFillPattern===t.GradientVertical?e=this.currentXAxis.textOrientation===C.Data.TextOrientation.FromBottom?this.alternateFillColor:this.fillColor:this.backFillPattern===t.GradientVerticalTricolor&&(e=this.fillColor)),e},a.prototype.invalidate=function(e){var t=C.getChromEnum("HmiTimeRangeType");if(this.currentTrendWindow.trendWindowDrawn&&this.linesCollection.length)return this.trendView.isOnline()&&(t.TimeRange===this._currentTimeAxis.config.RangeType||t.FromBeginToEnd===this._currentTimeAxis.config.RangeType||t.PointCount===this._currentTimeAxis.config.RangeType&&this._currentTimeAxis.alwaysShowRecent)?this._removeUnusedTimeValues():void 0;setTimeout(function(){this.trendView&&this.trendView.removeFromInvalidateCheckArray(this.name)},0)},a.prototype.drawTrend=function(e){this.trendModeObj.renderTrend(e),0<this.tagList.items.length&&this.trendView.isStyleChange()&&this._currentValueAxis.invalidate(!1,!0)},a.prototype.getYAxis=function(){return this.valueAxis},a.prototype.getXAxis=function(){return this.timeAxis},a.prototype.recalculate=function(){var e,t=this.tagList.items.length;if(this._lastTrendPointCalculated=this.tagList.items[t-1],this.trendStyle===this._trendMode.Value)this._recalculate(this.tagList),this._recreateDisplayValues();else{for(this.translateX=0,this.translateY=0,t=this.linesCollection.length,e=0;e<t;e++)this._recalculate(this.linesCollection[e]),this.linesCollection[e].translate=!1;this._setBoundinValuePosition(),this._reCalculateQualityLineCollection(),this._setEndBoundingValuePosition()}},a.prototype._reCalculateQualityLineCollection=function(){var e,t,i;if(this.qualityVisualization&&(this.qualityTranslate=0)<(e=this.qualityLinesCollection.length)){for(t=0;t<e;t++)this._recalculate(this.qualityLinesCollection[t]),this.qualityLinesCollection[t].translate=!1;(i=this.qualityLinesCollection[0].items[0])&&(i.xTagPosition<-this.EXPO_POSITION_LIMIT?i.xTagPosition=-this.EXPO_POSITION_LIMIT:i.xTagPosition>this.EXPO_POSITION_LIMIT&&(i.xTagPosition=this.EXPO_POSITION_LIMIT))}},a.prototype.recalculateWithTranslate=function(){var e,t,i,r;if(this.trendStyle===this._trendMode.Value)(0<this.tagList.items.length||this.boundingValue)&&(this._recalculate(this.tagList),this._recreateDisplayValues());else{if(0<(t=this.linesCollection.length)&&(this._recalculate(this.linesCollection.currentTagList),this.linesCollection.currentTagList.translate=!1,0<this.tagList.items.length&&(this._lastTrendPointCalculated=this.tagList.items[this.tagList.items.length-1]),1<t))if(this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount)for(this.translateX=0,t-=1,e=this.translateY=0;e<t;e++)i=this.linesCollection[e],this._recalculate(i),i.addToTranslate=!1,i.setPoints=!0,i.translate=!1,i=null;else if(r=this.linesCollection[0].items[0],this.translateX=this._currentTimeAxis.getPositionFromValue(r.xTagValue)-r.xTagPosition,this.translateY=this._currentValueAxis.getPositionFromValue(r.yTagValue)-r.yTagPosition,t-=1,65536<Math.abs(this.translateX)||65536<Math.abs(this.translateY))for(this.translateX=0,e=this.translateY=0;e<t;e++)i=this.linesCollection[e],this._recalculate(i),i.addToTranslate=!1,i.setPoints=!0,i.translate=!0,i=null;else for(e=0;e<t;e++)(i=this.linesCollection[e]).addToTranslate&&(this._recalculate(i,this.translateX,this.translateY),i.addToTranslate=!1,i.setPoints=!0),i.translate=!0,i=null;if(this._setBoundinValuePosition(),this.qualityVisualization&&(this.qualityTranslate=0)<(t=this.qualityLinesCollection.length)){for(e=0;e<t;e++)this._recalculate(this.qualityLinesCollection[e]),this.qualityLinesCollection[e].translate=!1;(r=this.qualityLinesCollection[0].items[0])&&(r.xTagPosition<-this.EXPO_POSITION_LIMIT?r.xTagPosition=-this.EXPO_POSITION_LIMIT:r.xTagPosition>this.EXPO_POSITION_LIMIT&&(r.xTagPosition=this.EXPO_POSITION_LIMIT))}this._setEndBoundingValuePosition()}},a.prototype._setBoundinValuePosition=function(){var e;0<this.linesCollection.length&&(e=this.linesCollection[0].items[0]),this.boundingValue?this.boundingValue.xTagPosition<-this.EXPO_POSITION_LIMIT?this.boundingValue.xTagPosition=-this.EXPO_POSITION_LIMIT:this.boundingValue.xTagPosition>this.EXPO_POSITION_LIMIT&&(this.boundingValue.xTagPosition=this.EXPO_POSITION_LIMIT):e&&(e.xTagPosition<-this.EXPO_POSITION_LIMIT?e.xTagPosition=-this.EXPO_POSITION_LIMIT:e.xTagPosition>this.EXPO_POSITION_LIMIT&&(e.xTagPosition=this.EXPO_POSITION_LIMIT))},a.prototype._setEndBoundingValuePosition=function(){this._lastTrendPointCalculated?(this.endBoundingValue||(this.endBoundingValue=new X.Point),this.endBoundingValue.xTagValue=this.endBoundingValue.timeStamp=this._currentTimeAxis.currentEndValue,this.endBoundingValue.xTagPosition=this._currentTimeAxis.getPositionFromValue(this.endBoundingValue.xTagValue),this.endBoundingValue.yTagValue=this._lastTrendPointCalculated.yTagValue,this.endBoundingValue.yTagPosition=this._lastTrendPointCalculated.yTagPosition,this.endBoundingValue.qualityCode=this._lastTrendPointCalculated.qualityCode):this.boundingValue&&(this.endBoundingValue||(this.endBoundingValue=new X.Point),this.endBoundingValue.xTagValue=this.endBoundingValue.timeStamp=this._currentTimeAxis.currentEndValue,this.endBoundingValue.xTagPosition=this._currentTimeAxis.getPositionFromValue(this.endBoundingValue.xTagValue),this.endBoundingValue.yTagValue=this.boundingValue.yTagValue,this.endBoundingValue.yTagPosition=this.boundingValue.yTagPosition,this.endBoundingValue.qualityCode=this.boundingValue.qualityCode)},a.prototype.updateRulerToolTipPosition=function(){var e,t,i=this.rulerControlData.toolTipValue,r=this.currentTrendWindow.getRulerView().getRulerType().regularvertical.getRulerPos();if(i)if("object"!=typeof i)this.useOldStyle?this.updateSecToolTip(i,0,r):this.updateSecToolTipRulerPosition(i,0,r);else if("object"==typeof i&&(t=i.length)===this.secondaryRulerToolTipTemplate.length)for(e=0;e<t;e++)this.useOldStyle?this.updateSecToolTip(i[e],e,r):this.updateSecToolTipRulerPosition(i[e],e,r);this.prevPos=r},a.prototype.updateSecToolTip=function(e,t,i){var r,a=this.secondaryRulerToolTipTemplate[t].getProps("HmiProps.Width"),e=this._currentValueAxis.getPositionFromValue(e.toString().split("i")[0].trim());this.trendView.isLeftOrRight()?(r="translate("+i+","+e+")",i+a>=this._currentTimeAxis.rect.width+this._currentTimeAxis.rect.left?r+=" scale(-1,-1)":r+=" scale(1,1)"):(r="translate("+e+","+i+")",i+a>=this._currentTimeAxis.rect.height+this._currentTimeAxis.rect.top?r+=" scale(-1,-1)":r+=" scale(1,1)"),this.secondaryRulerToolTipTemplate[t].RootNode.parentNode.setAttribute("transform",r)},a.prototype.updateSecToolTipRulerPosition=function(e,t,i){var r,a,e=this._currentValueAxis.getPositionFromValue(e.toString().split("i")[0].trim()),n=this.trendView.isLeftOrRight()?(r=this.rulerContentWidth,this.rulerContentWidth>this._currentTimeAxis.rect.width?(r=this._currentTimeAxis.rect.width,this.secondaryRulerToolTipTemplate[t].setHmiProps(r,"HmiProps.Width"),this.contentWidthModified=!0):this.contentWidthModified&&(this.secondaryRulerToolTipTemplate[t].setHmiProps(r,"HmiProps.Width"),this.contentWidthModified=!1),(a=this._currentTimeAxis.rect.left)+this._currentTimeAxis.rect.width):(r=this.rulerContentHeight,this.rulerContentHeight>this._currentTimeAxis.rect.height?(r=this._currentTimeAxis.rect.height,this.secondaryRulerToolTipTemplate[t].setHmiProps(r,"HmiProps.Height"),this.contentHeightModified=!0):this.contentHeightModified&&(this.secondaryRulerToolTipTemplate[t].setHmiProps(r,"HmiProps.Height"),this.contentHeightModified=!1),(a=this._currentTimeAxis.rect.top)+this._currentTimeAxis.rect.height);this.commonUpdateForSecToolTipTemplate({pos1:i-r/2,pos2:i+r/2},a,t,i,r,n,e),this.secondaryRulerToolTipTemplate[t].update()},a.prototype.setRulerData=function(e){this.rulerContentWidth=e.contentWidth,this.rulerContentHeight=e.contentHeight,this.rulerPosition=e.rulerPosition,this.useOldStyle=e.useOldStyle},a.prototype.setRulerPosition=function(e,t,i,r){this.rulerPosition=r?2*(e-i)/t-1:1-2*(i-e)/t,this.rulerPosition<-1?this.rulerPosition=-1:1<this.rulerPosition&&(this.rulerPosition=1)},a.prototype.resetSecondaryTooltip=function(){var e;if(this.secondaryRulerToolTipTemplate)for(e=0;e<this.secondaryRulerToolTipTemplate.length;e++)this.secondaryRulerToolTipTemplate[e].setHmiProps(this.rulerContentWidth,"HmiProps.Width"),this.secondaryRulerToolTipTemplate[e].setHmiProps(this.rulerContentHeight,"HmiProps.Height"),this.secondaryRulerToolTipTemplate[e].update()},a.prototype.getYStartValue=function(){return null===this.minVal&&this.trendView.isOnline()&&this._currentTimeAxis.alwaysShowRecent&&this.boundingValue?this.boundingValue.yTagValue:this.minVal},a.prototype.getXStartValue=function(){var e,t=0,i=this.tagList.items,r=i.length;if(0<r){if(this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount){for(r=0,t=i.length-1;0<=t;t--)if(i[t].timeStamp<=this._currentTimeAxis.currentEndValue){r=t+1;break}t=r>this._currentTimeAxis.config.PointCount?r-this._currentTimeAxis.config.PointCount:0}e=i[t].xTagValue}return e},a.prototype.recalculateY=function(){var e,t,i;this.translateY=0,this.trendStyle!==this._trendMode.Value&&(this._recalculateYTagLists(this.linesCollection),0<(i=this.linesCollection.length)&&(e=(t=this.linesCollection[i-1].items)[t.length-1]),this.endBoundingValue&&e&&(this.endBoundingValue.yTagValue=e.yTagValue,this.endBoundingValue.yTagPosition=e.yTagPosition,this.endBoundingValue.qualityCode=e.qualityCode),t=e=null,this.qualityVisualizationVisible)&&this._recalculateYTagLists(this.qualityLinesCollection)},a.prototype._recalculateYTagLists=function(e){for(var t,i,r,a,n=e.length,o=0;o<n;o++)for(!0===(t=e[o]).translate&&(t.setPoints=!0),i=t.items,length=i.length,r=0;r<length;++r)a=i[r],this._recalculatePointYPos(a)},a.prototype.getXEndValue=function(){var e=this.tagList.items.length;if(0<e)return this.tagList.items[e-1].xTagValue},a.prototype.getYEndValue=function(){return null===this.maxVal&&this.trendView.isOnline()&&this._currentTimeAxis.alwaysShowRecent&&this.boundingValue?this.boundingValue.yTagValue:this.maxVal},a.prototype.historicalInvalidate=function(){var e,t,i=this.tagList.items.length,r=0<this._currentTimeAxis.zoomInOutCount?(e=this._currentTimeAxis.startValueBuffer,this._currentTimeAxis.endValueBuffer):(e=this._currentTimeAxis.currentBeginValue,this._currentTimeAxis.currentEndValue);0<i&&(this.tagList.items[0].timeStamp<e&&(t=this.tagList.removeBeforeTimeStamp(e),this.trendView.moveToType===C.Data.MoveToType.MoveToLast&&0<this.tagList.items.length&&(this.tagList.items.unshift(t[t.length-1]),e=t[t.length-1].timeStamp),this.removePointsBeforeTimeStamp(e,!1)),this.tagList.items[this.tagList.items.length-1].timeStamp>r&&(t=this.tagList.removeAfterTimeStamp(r),this.trendView.moveToType===C.Data.MoveToType.MoveToFirst&&0<this.tagList.items.length&&(this.tagList.items.push(t[0]),r=t[0].timeStamp),this._removePointsAfterTimeStamp(r),this._trendLimitObj.setLimitBools(!1,void 0)),i>this.tagList.items.length)&&this.resetMinAndMaxValue()},a.prototype.tryFillDisplayName=function(){var e=!0;return""===this.displayName&&(""!==this.dataSource.Tag?this.trendDisplayText=this.dataSource.TagDisplayName:e=!1),e},a.prototype.filledSVGCreation=function(){var e,t,i,r,a,n,o=this.trendView.SVGParent,s=C.Features.Shape.SvgShape.CreateSvgElement,l=this.getLineStyle(),u=this.svgGroup;if(this.currentTrendWindow&&this.currentTrendWindow.trendWindowDrawn){if(o.getElementById("filltrendIndicator_"+this.id)||C.Features.Shape.SvgShape.getElementByIDSafariHack(o,"polyline","filltrendIndicator_"+this.id),o=this.svgGroup.trendSvgContainer,this.trendView.isLeftOrRight()?(e=this.translateX,t=this.translateY):(t=this.translateX,e=this.translateY),u.trendFillPropertyGroup||(u.trendFillPropertyGroup=s("g",{id:"TrendFillPropertyGroup"+this.id,"clip-path":"url(#"+this.currentTrendWindow.getClipPathId()+")"})),u.fillTranslateGroup||(u.fillTranslateGroup=s("g",{id:"FillTranslateGroup"+this.id,"stroke-dasharray":"inherit","stroke-width":0,transform:"translate("+e+","+t+")",appendTo:u.trendFillPropertyGroup}),this.matrix&&(this.fillMatrix=u.fillTranslateGroup.transform.baseVal.getItem(0).matrix)),0<this.tagList.items.length){for(this._trendLimitObj.createDifferentFillLines(this.trendView.isLeftOrRight(),this._lastTrendPointCalculated),i=this.thresholds.length,r=0;r<i;r++)a=this.thresholds[r].type,n=this.thresholds[r].isNormal?this.fillURL:this.thresholds[r].color,""!==this.thresholdFills[r].fill&&s("polyline",{points:this.thresholdFills[r].fill,id:a+"_fillPolyline_"+this.id,class:a+"_fillPolylineClass_"+this.id,fill:n,stroke:"none","stroke-width":0,ignoreEvent:!0,appendTo:u.trendFillPropertyGroup}),""!==this.thresholdFills[r].translateFill&&s("polyline",{points:this.thresholdFills[r].translateFill,id:a+"_translateFillPolyline_"+this.id,class:a+"_translateFillPolyline_"+this.id,fill:n,stroke:"none","stroke-width":0,ignoreEvent:!0,appendTo:u.fillTranslateGroup});u.trendFillPropertyGroup.setAttribute("stroke-width",0),u.trendFillPropertyGroup.setAttribute("stroke-dasharray",l)}u.trendPropertyGroup&&u.trendFillPropertyGroup&&o.insertBefore(u.trendFillPropertyGroup,u.trendPropertyGroup)}},a.prototype.requestHistoricalData=function(e,t){var i=[],r=[],a=[],n=0,o=[],s=[],l=[];this.currentTrendWindow&&-1!==this.parentTrendWindow.drawableTrends.indexOf(this)&&(n=Math.floor(this.trendView.pixelsInTrendAreas),this.clearTagListBeforeTimeStamp=!0,this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount?(n=this._currentTimeAxis.config.PointCount,this.trendView.isOnline()?(i.push(0),r.push((this._currentTimeAxis.currentEndValue+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND)):(i.push((this._currentTimeAxis.currentBeginValue+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND),r.push(0)),this._currentTimeAxis.timeAxisDrawn=!1):(i.push((this._currentTimeAxis.currentBeginValue+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND),r.push((this._currentTimeAxis.currentEndValue+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND),this._currentTimeAxis.timeAxisDrawn=!0),o.push(n),void 0!==this.aggregationMode&&s.push(this.aggregationMode),a.push(this.dataSource.Tag),l.push(this.partId),this.historicalDataRequested=!0,a.length&&(e?t?this.trendView.dp.addRequest(i,r,o,a,l,C.Data.BoundingFlags.LeftBounding,s,!0,!0,t):this.trendView.dp.addRequest(i,r,o,a,l,C.Data.BoundingFlags.LeftBounding,s,!0,!1,t):(this.trendView.dp.requestData(i,r,o,a,l,C.Data.MoveToType.MoveToSpecifiedTime,C.Data.BoundingFlags.LeftBounding,s),C.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1)),i=r=o=a=l=s=null),this.trendView.moveToType=C.Data.MoveToType.NoMove},a.prototype.updateBeginTime=function(e){!this.loadDataImmediately&&this.bufferTime>this._currentTimeAxis.currentBeginValue?e.push((this.bufferTime+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND):e.push((this._currentTimeAxis.currentBeginValue+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND)},a.prototype.updateProperty=function(e,t){var i,r=C.Data.TrendPropId,a=this._trendMode;switch(e){case r.TagName:case r.TagNameY:this.handleTagName(t);break;case r.TrendMode:this.handleTrendMode(t,void 0,a,i);break;case r.TimeAxis:this.handleTimeAxis(void 0,t,i);break;case r.YValueAxis:this.handleYValueAxis(void 0,t,i);break;case r.AggregationMode:this.handleAggregationMode(t)}},a.prototype.handleTrendMode=function(e,t,i,r){if((e=e===C.getChromEnum("HmiTrendMode").Bar?i.Value:e)!==i.Value||this.currentTrendWindow.getDisplayValueRectParentGroup()||this.currentTrendWindow.createDisplayValueRectParentGroup(),this.config.TrendMode=e,void 0===this.templateTrendAttributes.interpolation){if(r=this.trendStyle,(this.trendStyle=e)===i.Value||r===i.Value){if(r=[],this.trendView.getDrawableTrendByName(this.name)&&(r=this.currentTrendWindow.onValueTrendModePositionChange(this.name)),this.trendStyle===i.Value?(this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.lastTime=[],this.trendModeObj=new X.ValueTrendMode(this),this.currentTrendWindow&&this.currentTrendWindow.trendWindowDrawn&&this._recreateDisplayValues(),this.parentTrendWindow.updateRulerToolTip(this)):(this.trendModeObj.cleanTrend(),this.trendModeObj=new X.LinearStepMode(this),this._trendLimitObj.createNewLinesCollection()),r&&r.length){for(t=r.length-1;0<=t;t--)r[t].draw(!this.trendView.isOnline());if(this.trendStyle===i.Value)return}}else this._trendLimitObj.createNewLinesCollection();this.trendStyle===i.Points&&(this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.lastTime=[]),this.trendView.getDrawableTrendByName(this.name)&&this.drawTrend(!this.trendView.isOnline())}this.parentTrendWindow.updateRulerToolTip(this),this.trendView.calculateRulerData()},a.prototype.handleTimeAxis=function(e,t,i){e=!1,this.trendView.removeFromInvalidateCheckArray(this.name),this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.lastTime=[],"string"==typeof t?(i=this.parentTrendWindow.getXAxisByName(t),this.timeAxis=t):"number"==typeof t&&(this.timeAxisPartId=t,i=this.trendView.getXAxisByPartId(t),this.timeAxis=i?i.config.Name:""),this._currentTimeAxis&&(e=!0),this.currentXAxis=this._currentTimeAxis=i,this._afterAxisChange(e,i),C.Data.PostPropertyUpdate.Redraw=!0},a.prototype.handleYValueAxis=function(e,t,i){e=!1,this.trendView.removeFromInvalidateCheckArray(this.name),this.trendView.trendControlAnimator.removeTrendAnimation(this.name),"string"==typeof t?(this.valueAxis=t,i=this.parentTrendWindow.getYAxisByName(t)):"number"==typeof t&&(this.valueAxisPartId=t,i=this.trendView.getYAxisByPartId(t),this.valueAxis=i?i.config.Name:""),this._currentValueAxis&&(e=!0),this.currentYAxis=this._currentValueAxis=i,this._afterAxisChange(e,i),C.Data.PostPropertyUpdate.Redraw=!0},a.prototype.handleAggregationMode=function(e){this.aggregationMode=e,this.config.AggregationMode=e,this.trendView.getDrawableTrendByName(this.name)&&this.partId&&(this.requestHistoricalData(!0,!0),this.clearTagList(),C.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.drawTrend(!this.trendView.isOnline()))},a.prototype.handleTagName=function(e){(e=0!==e&&"*"!==e?e:"")!==this.dataSource.Tag&&(""!==this.bufferCpmPath&&(this.cpmPath=this.bufferCpmPath,this.bufferCpmPath=""),this.dataSource.Tag=this.dataSource.TagDisplayName=e,this.config.DataSourceY.Source=e,this.updateTrendDisplayText(),this.historicalDataReceived=!1,this.clearTagList(),this.trendView.getDrawableTrendByName(this.name))&&this.partId&&(this.requestHistoricalData(!0,!0),C.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.drawTrend(!this.trendView.isOnline()))},a.prototype._afterAxisChange=function(e,t){t?(e||this.trendView.setDrawableTrends(),t.invalidate(!1,!0)):e&&(this===this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.removeSelectedTrend(),this.trendView.removeFromUndrawnData(this.partId),this.trendView.setDrawableTrends(),!1===this.trendView.allAreasDrawn)&&this.parentTrendWindow.drawableTrends.length<=3&&this.trendView.isLeftOrRight()&&(C.Data.PostPropertyUpdate.CreateDrawableCollection=!0)},a.prototype.getDisplayValueWidth=function(){return""===this._maxDispVal&&(this._maxDispVal=this._currentValueAxis.getDisplayValue("10"+(this.maxVal||0))),C.getTextWidth(this._maxDispVal,this.currentYAxis.config.LabelFont)},a.prototype.setRequestedTime=function(){var e=Date.now();this.trendView.online||(this.clearTagListAfterTimeStamp=e)},a.prototype.setLastTrendPoint=function(e){this._lastTrendPointCalculated=e,this.endBoundingValue&&(this.endBoundingValue.yTagValue=this._lastTrendPointCalculated.yTagValue,this.endBoundingValue.yTagPosition=this._lastTrendPointCalculated.yTagPosition,this.endBoundingValue.qualityCode=this._lastTrendPointCalculated.qualityCode)},a.prototype.resetMinAndMaxValue=function(){for(var e,t=this.getValueAxisScaleType(),i=this.boundingValue?[this.boundingValue].concat(this.tagList.items):this.tagList.items,r=(this.minVal=this.maxVal=null,i.length),a=0;a<r;a++)e=i[a],(t===this._scalingType.Linear||t===this._scalingType.Logarithmic&&0<e.yTagValue||t===this._scalingType.NegativeLogarithmic&&e.yTagValue<0)&&((e.yTagValue<this.minVal||null===this.minVal)&&(this.minVal=e.yTagValue),e.yTagValue>this.maxVal||null===this.maxVal)&&(this.maxVal=e.yTagValue)},a.prototype.retrieveCachedMinMax=function(e){this.minVal=e.minVal,this.maxVal=e.maxVal},a.prototype.searchforposition=function(e,t,i,r,a,n,o,s){for(var l,u,h,d,c,p=0,m=e-1;p<=m;){if(c=parseInt((p+m)/2),l=t.items[c],s.x>=l[i]+a-o&&s.x<=l[i]+a+o&&s.y>=l[r]+n-o&&s.y<=l[r]+n+o)return h=l[i]+a,d=l[r]+n,(u={}).markerX=h,u.markerY=d,u.trendPoint=l,u.isMarkerArea=!0,u;this.parentTrendWindow.getIsLeftOrRight()&&s.x<l.xTagPosition+a||!this.parentTrendWindow.getIsLeftOrRight()&&s.y<l.xTagPosition+n?m=c-1:p=c+1}return l=null,!1},a.prototype.searchforTagListIndex=function(e){for(var t=e.items.length,i=t-1,r=0;r<t;r++)if(e.items[r].timeStamp>this._currentTimeAxis.currentEndValue){i=r-1;break}return i=-1===i?0:i},a.prototype.cleanUp=function(){var e;if(this.trendView.isStyleChange()?((e=new C.Data.TrendData(this.tagList,this.linesCollection,this.qualityLinesCollection,this.markerPositionsCollection,this.qualityMarkerPositionsCollection)).minVal=this.minVal,e.maxVal=this.maxVal,e.boundingValue=this.boundingValue,C.Data.TrendDataStore.store(this.partId,e)):this.clearTagList(),this._trendLimitObj.cleanup(),this.trendModeObj.cleanup(),this.thresholds.forEach(function(e){e.cleanUp()}),this.secondaryRulerToolTipTemplate)for(var t=0;t<this.secondaryRulerToolTipTemplate.length;t++)this.secondaryRulerToolTipTemplate[t].remove();this.dom=this.svgParent=this.metaData=this.Attributes=this._currentTimeAxis=this._currentValueAxis=this._lastTrendPointCalculated=this.thresholdFills=this.midMarkerURLsArray=this.boundingValue=this.currentTagList=this._getQualityOfValue=this.dataSourceProp=this.matrix=this.dummyMatrix=this.fillMatrix=this.qualityMatrix=this.qualityDummyMatrix=this.dataSource=this.secondaryRulerToolTipTemplate=null,this.cleanUpChildObj()},X.OnlineTrend=a,t=(t=e=e||{}).Lib||(t.Lib={}),f=t.NVEs||(t.NVEs={}),K=f.TrendViewBase,i(n,K),n.prototype.create=function(e){return this.showStatisticRulers=f.Utilities.convertToBool(this.chart.getAttribute("show-selector-rulers")),this.timeZone=Number(this.chart.getAttribute("timezone")),this.trendObjectType=f.Data.TrendObjectType.Online,this._runningTimeAxesList||(this._runningTimeAxesList=new f.Data.GenericList),this._boundAxisAnim=this._animateAxis.bind(this),K.prototype.create.call(this,e),this._trendWindowList||(this._trendWindowList=new f.Data.GenericList),this.getShowStatisticRuler()&&this.enableDisableStatisticRuler(),this.chart.dom},n.prototype._animateAxis=function(){var e,t,i,r,a,n=!1,o=new f.Data.GenericList;for(this._axisAnimCounter++,this._alignRunningTimeAxes(),this._axisAnimCounter===this._resetAnimationCounterOn&&(this._axisAnimCounter=0),this._updateTrendWindowList(o),t=o.items.length,e=0;e<t;e++)i=this.getYAxisByPbId(o.items[e]),this.moveAxes||this.moveTrendArea||0!==i.zoomInOutCount||(n=n||i.invalidate(void 0,!0));for(n?r="resetTrendWindow":(r="rollTrendWindowWithTime",a=this._runningTimeAxesList.items),t=this._trendWindowList.items.length,e=0;e<t;e++)this.getDrawableTrendWindowByName(this._trendWindowList.items[e])[r](a);this.needsRulerDataCalc()&&this.trendControlAnimator.requestRulerDataCalculation(!0),this._trendWindowList.clear(),o.clear(),a=o=null},n.prototype._updateTrendWindowList=function(e){var t,i,r;for(t in this._invalidateCheckArray)(i=this.getDrawableTrendByName(t))&&(r=this.getDrawableTrendWindowByName(i.trendWindow))&&r.trendWindowDrawn&&((i.invalidate(!0)||this._invalidateCheckArray[t].yAxisUpdateRequired)&&(e.tryAdd(i.currentYAxis.axisPbId),this._invalidateCheckArray[t].yAxisUpdateRequired=!1),this._invalidateCheckArray[t].trendDrawRequired)&&this._trendWindowList.tryAdd(i.trendWindow)},n.prototype._alignRunningTimeAxes=function(){for(var e,t=Date.now(),i=this._runningTimeAxesList.items.length,r=0;r<i;r++)e=this.getXAxisByPbId(this._runningTimeAxesList.items[r]),this.isOnline()&&e.alwaysShowRecent&&this._axisAnimCounter%e.animationFactor==0&&(e.alignToCurrentTime(t),this._trendWindowList.tryAdd(e.trendWindow))},n.prototype.setAnimationFactors=function(){for(var e,t,i,r=this._timeAxes.length,a=[1],n=this._axisAnimCounter=0;n<r;n++)(e=this._timeAxes[n]).trendWindowDrawable&&e.alwaysShowRecent&&((i=this._getIntervalTime(e.calculateTimeRange()))<16.7&&(i=16.7),e.animationTimeInterval=i,void 0===t||e.animationTimeInterval<t)&&(t=e.animationTimeInterval);for(n=0;n<r;n++)(e=this._timeAxes[n]).trendWindowDrawable&&e.alwaysShowRecent&&(e.animationFactor=Math.floor(e.animationTimeInterval/t),a.push(e.animationFactor));1<a.length&&(this._resetAnimationCounterOn=f.Calculations.Helper.getLCMOfNums(a),this.trendControlAnimator.setAxisAnimInterval(t,this._boundAxisAnim),this._leastTimeAxisAnimInterval=t)},n.prototype.startAxisTimer=function(){this.trendControlAnimator.startAxisTimer(this._boundAxisAnim,this._leastTimeAxisAnimInterval)},n.prototype.removeAxisTimer=function(){this.trendControlAnimator.removeAxisTimer(this._boundAxisAnim)},n.prototype._getIntervalTime=function(e){var t;return t=0<this._drawableTrendAreas.length?e/(this.isLeftOrRight()?this._drawableTrendAreas[0].getRect().width:this._drawableTrendAreas[0].getRect().height):t},n.prototype.setTagNames=function(e){var t,i,r=this._trends.length;if(null!==e.TagNameData)for(t=0;t<r;t++)(i=e.TagNameData[this._trends[t].dataSource.Tag])&&(this._trends[t].dataSource.TagDisplayName=i[0],null===i[1]?this._trends[t].cpmPath="":this._trends[t].cpmPath=i[1],this._trends[t].updateTrendDisplayText())},n.prototype.needsRulerDataCalc=function(){return(this.getShowRuler()||this.getShowStatisticRuler())&&(this.trendCompanionConstUpdate||this.secondaryRulerToolTip)},n.prototype.addToDisconnectedSources=function(e,t,i){for(var r=this._validTrends.length,a=0;a<r;a++)if(this._validTrends[a].name===e){this._disconnectedDataSources[e]=t;break}},n.prototype.createDrawableCollections=function(e){for(var t,i=null,r=0,a=[],n=(this._drawableTrendAreas=[],this._drawableTrends=[],this._runningTimeAxesList.clear(),this.updateDrawableTrends(a),e&&this.getYAxisByPbId(e).invalidate(),this.isOnline()&&null!==this.newlyDrawnTrendWindowIndex&&this.trendObjectType===f.Data.TrendObjectType.Online&&this._drawableTrendAreas[this.newlyDrawnTrendWindowIndex].updateTimeAxesToCurrentTime(),this.createParentWindow(),this.drawLayout(),this._drawableTrends=[],this._drawableTrendAreas.length),o=0;o<n;o++)if((i=this._drawableTrendAreas[o]).trendWindowDrawn){for(this._drawableTrends=this._drawableTrends.concat(i.drawableTrends),t=i.getXAxes(),r=0;r<t.length;r++)this._runningTimeAxesList.tryAdd(t[r].axisPbId);this.propertyUpdateInProgress&&-1<a.indexOf(i.name)&&(this._drawableTrendAreas[o].updateTimeAxesToCurrentTime(),this.requestHistoricalData(!1,i.name,void 0,!0),f.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0)}else i.clearDrawableTrends(),i.stopValueAxisAnimation();null!==this.newlyDrawnTrendWindowIndex&&(this.requestHistoricalData(!1,this._drawableTrendAreas[this.newlyDrawnTrendWindowIndex].config.Name,void 0,!0),f.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.newlyDrawnTrendWindowIndex=null),this.setAnimationFactors(),this.drawTrends(),this._offlineRead(this._drawUndrawnData())},n.prototype.onRead=function(e){for(var t,i,r,a,n=!1,o=e.length,s=0;s<o;s++)0<this._drawableTrendAreas.length?(t=this._drawableTrendAreas[0].idToDrawableTrendMap[Object.keys(e[s])[0]])&&(a=(r=e[s][t.partId]).yvalue,i=r.xvalue,r=r.quality,a=t.onTagListChangedX(a,i,r,!0),n=n||a.trendDrawRequired,this._invalidateCheckArray[t.name]?(!1===this._invalidateCheckArray[t.name].trendDrawRequired&&(this._invalidateCheckArray[t.name].trendDrawRequired=a.trendDrawRequired),!1===this._invalidateCheckArray[t.name].yAxisUpdateRequired&&(this._invalidateCheckArray[t.name].yAxisUpdateRequired=a.yAxisUpdateRequired)):this._invalidateCheckArray[t.name]=a,0):this._handleUndrawableData(e[s]);this._offlineRead(n),t=null},n.prototype.onHistoricalRead=function(e){var t,i,r,a,n,o,s,l,u,h=new f.Data.GenericList,d=!1,c=!1,p=[],m=[],g=!1;if(0<this._drawableTrendAreas.length)for(p.push(this._drawableTrendAreas[0].selectedTrend),i=0;i<e.length;i++)(u=this._drawableTrendAreas[0].idToDrawableTrendMap[Object.keys(e[i])[0]])&&(r=e[i][u.partId].yvalue,a=e[i][u.partId].xvalue,n=e[i][u.partId].quality,u.onTagListChangedX(r,a,n,!(g=!0)),u.historicalDataReceived=!0,h.tryAdd(u.currentYAxis.axisPbId),p.indexOf(u)<0&&p.push(u),-1===m.indexOf(u.getXAxis())&&m.push(u.getXAxis()),0);if(g){for(s=this.getXAxes(),i=0;i<s.length;i++)0!=(l=s[i]).zoomInOutCount||-1===m.indexOf(l.config.Name)||l.timeAxisDrawn&&this.moveToType!==f.Data.MoveToType.MoveToFirst&&this.moveToType!==f.Data.MoveToType.MoveToLast&&l.config.RangeType!==f.getChromEnum("HmiTimeRangeType").PointCount?l.config.RangeType===f.getChromEnum("HmiTimeRangeType").FromBeginToEnd&&(c=!0):(l.historicalInvalidate(p),c=l.timeAxisDrawn=!0);if(!this.moveAxes&&!this.moveTrendArea)for(t=0;t<h.items.length;t++)0===(l=this.getYAxisByPbId(h.items[t])).zoomInOutCount&&null===l.endValueBuffer2&&(d=d||void 0===l.invalidate(void 0));for(i=0;i<this._drawableTrendAreas.length;i++)(o=this._drawableTrendAreas[i]).trendWindowDrawn&&(d||c?o.resetTrendWindow():o.resetTrendWindow(!1,!1,p));this.needsRulerDataCalc()&&this.calculateRulerData(),h.clear()}p=u=l=o=e=h=null},n.prototype._handleUndrawableData=function(e){for(var t,i=this._trends.length,r=0;r<i;r++)if(e[(t=this._trends[r]).partId]){-1<this._drawableTrendAreas.indexOf(t.parentTrendWindow)&&!1===t.parentTrendWindow.trendWindowDrawn&&t.config.Visible&&t.currentXAxis&&t.currentYAxis&&this._addToUndrawnData(t,e[t.partId]);break}},n.prototype._addToUndrawnData=function(e,t){var i,r,a=!1,n=e.currentXAxis.alwaysShowRecent&&this.isOnline()?(a=!0,Date.now()):e.currentXAxis.currentEndValue;if((i=this._undrawnTrendData[e.partId])?(i.dataArray=i.dataArray.concat(t.yvalue),i.timeStampArray=i.timeStampArray.concat(t.xvalue),i.qualitiesArray=i.qualitiesArray.concat(t.quality)):(this._undrawnTrendData[e.partId]={dataArray:t.yvalue,timeStampArray:t.xvalue,qualitiesArray:t.quality},i=this._undrawnTrendData[e.partId]),a){var o,s=void 0,l=i.timeStampArray.length;if(e.currentXAxis.config.RangeType===f.getChromEnum("HmiTimeRangeType").PointCount)s=l-e.currentXAxis.config.PointCount;else for(o=n-e.currentXAxis.calculateTimeRange(),r=0;r<l;r++)if(i.timeStampArray[r]>=o){s=r-1;break}0<s&&(i.dataArray.splice(0,s),i.timeStampArray.splice(0,s),i.qualitiesArray.splice(0,s))}},n.prototype._drawUndrawnData=function(){var e,t,i,r;for(e in this._undrawnTrendData)(t=this.getDrawableTrendByPartId(parseInt(e,10)))&&(i=t.onTagListChangedX(this._undrawnTrendData[e].dataArray,this._undrawnTrendData[e].timeStampArray,this._undrawnTrendData[e].qualitiesArray,!0),r=r||i.trendDrawRequired,this._invalidateCheckArray[t.name]?(!1===this._invalidateCheckArray[t.name].trendDrawRequired&&(this._invalidateCheckArray[t.name].trendDrawRequired=i.trendDrawRequired),!1===this._invalidateCheckArray[t.name].yAxisUpdateRequired&&(this._invalidateCheckArray[t.name].yAxisUpdateRequired=i.yAxisUpdateRequired)):this._invalidateCheckArray[t.name]=i,delete this._undrawnTrendData[e]);return r},n.prototype.createDrawableTrendsCollection=function(){var e,t,i,r,a,n=this._drawableTrendAreas.length;for(this._drawableTrends=[],this._runningTimeAxesList.clear(),e=0;e<n;e++)if((r=this._drawableTrendAreas[e]).trendWindowDrawn)for(this._drawableTrends=this._drawableTrends.concat(r.drawableTrends),a=(t=r.getXAxes()).length,i=0;i<t.length;i++)this._runningTimeAxesList.tryAdd(t[i].axisPbId);else if(0<r.drawableTrends.length)for(a=r.drawableTrends.length,i=0;i<a;i++)this.removeFromInvalidateCheckArray(r.drawableTrends[i].name)},n.prototype.updateRunningTimeAxesList=function(e,t){t?this._runningTimeAxesList.tryAdd(e):this._runningTimeAxesList.tryRemove(e)},n.prototype.remove=function(){for(var e=this.trendAreas.length,t=0;t<e;t++)this.trendAreas[t].cleanUp(),this.trendAreas[t]=null;this.trendControlAnimator.cleanUp(),this._trendWindowList.clear(),this._runningTimeAxesList.clear(),this._boundAxisAnim=this._axisAnimCounter=this._resetAnimationCounterOn=this._runningTimeAxesList=this._trendWindowList=null,this._timeAxes=[],this._valueAxes=[],K.prototype.remove.call(this)},n.prototype.addTAToCollections=function(e){-1===this._timeAxes.indexOf(e)&&this._timeAxes.push(e),f.isAppModeRuntime()&&-1<this._drawableTrendAreas.indexOf(e.parentTrendWindow)&&e.parentTrendWindow.trendWindowDrawn&&(this._runningTimeAxesList.tryAdd(e.axisPbId),this.layoutDrawn&&this.setAnimationFactors(),this.isOnline())&&1===this._timeAxes.length&&this.startAxisTimer()},n.prototype._getEndTimeToCurr=function(e){for(var t,i,r,a=[],n=this._timeAxes.length,o=0;o<n;o++)r=0<(t=this._timeAxes[o]).zoomInOutCount?t.endValueBuffer:t.currentEndValue,r=e?(i=t.axisBeginValue,t.axisEndValue):(i=r-t.calculateTimeRange(),r),t.textOrientation===f.Data.TextOrientation.FromRight||t.textOrientation===f.Data.TextOrientation.FromBottom?a.push({elementID:t.config.ElementID,currentBeginTime:i,currentEndTime:r}):a.push({elementID:t.config.ElementID,currentBeginTime:r,currentEndTime:i});return a},n.prototype._getCurrStartEndValue=function(){for(var e,t,i,r=[],a=this._valueAxes.length,n=0;n<a;n++)t=(e=this._valueAxes[n]).currentBeginValue,i=e.currentEndValue,r.push({elementID:e.config.ElementID,currentBeginValue:t,currentEndValue:i});return r},n.prototype.removeFromInvalidateCheckArray=function(e){this._invalidateCheckArray[e]&&delete this._invalidateCheckArray[e]},n.prototype.getValueAxisDisplayName=function(e){return e.dataSource.TagDisplayName},n.prototype._setDataProviderEvents=function(e){this.dp||(this.dp=e.Store.control.handler.getDataProvider(e.Store),this.dp&&this.dp.register&&(K.prototype._setDataProviderBaseEvents.call(this),e=f.Data.ZoomMoveOperationVars,this.dp.register("onZoomTimeAxisPlusMinusCommand",this.setZoomAndMove.bind(this,e.zoomInOutX)),this.dp.register("onZoomValuesAxisPlusMinusCommand",this.setZoomAndMove.bind(this,e.zoomInOutY)),this.dp.register("onFirstRecordCommand",this.MoveToFirst.bind(this)),this.dp.register("onLastRecordCommand",this.MoveToLast.bind(this)),this.dp.register("onNextRecordCommand",this.MoveToNext.bind(this)),this.dp.register("onPreviousRecordCommand",this.MoveToPrevious.bind(this)),this.dp.register("getStatisticData",this._calculateStatisticData.bind(this)),this.dp.register("getStatisticResultData",this._calculateStatisticResultData.bind(this)),this.dp.register("setTimesForContext",this._setTimesForContext.bind(this)),this.dp.register("addRequestedTimeToTrend",this._addRequestedTimeToTrend.bind(this))))},n.prototype.MoveToPrevious=function(e,t,i,r,a,n){var o,s,l,u,h,d,c,p,m,g=0;if(this._drawableTrendAreas.length){for(o=Date.now(),h=this._timeAxes.length,c=Math.floor(this.pixelsInTrendAreas),s=0;s<h;s++)(u=this._timeAxes[s]).setPreviousRange(),u.config.RangeType===f.getChromEnum("HmiTimeRangeType").PointCount?(g=u.config.PointCount,p=0,u.timeAxisDrawn=!1):(g=c,p=(u.currentBeginValue+f.TrendViewBase.EPOCH_DIFFERENCE)*f.TrendViewBase.TICKS_PER_MILLISECOND,u.timeAxisDrawn=!0),m=(u.currentEndValue+f.TrendViewBase.EPOCH_DIFFERENCE)*f.TrendViewBase.TICKS_PER_MILLISECOND,d=o>=u.currentBeginValue&&o<=u.currentEndValue?"clearTagListBeforeTimeStamp":"clearTagListOnDataReceived",(l=u.parentTrendWindow).visible&&l.trendWindowDrawn&&"0"!==l.spacePortion&&this._updateRequestDataForMoveToPrevious(e,t,i,r,a,n,{timeAxis:u,beginFileTime:p,endFileTime:m,pointCount:g,tagListClearType:d});this.onUpdate()}this.needsRulerDataCalc()&&this.calculateRulerData()},n.prototype._updateRequestDataForMoveToPrevious=function(e,t,i,r,a,n,o){for(var s,l=o.timeAxis.parentTrendWindow,u=o.timeAxis,h=o.beginFileTime,d=o.endFileTime,c=o.pointCount,p=o.tagListClearType,m=(o=null,l.drawableTrends.length),g=0;g<m;g++)(s=l.drawableTrends[g]).timeAxis===u.config.Name&&void 0!==s.dataSource.Tag&&""!==s.dataSource.Tag&&(r.push(s.dataSource.Tag),e.push(h),t.push(d),i.push(c),a.push(s.partId),void 0!==s.aggregationMode&&n.push(s.aggregationMode),s[p]=!0,u.config.RangeType===f.getChromEnum("HmiTimeRangeType").PointCount&&(s.historicalDataReceived=!1),this.moveToType=f.Data.MoveToType.MoveToPrevious)},n.prototype.MoveToNext=function(e,t,i,r,a,n){var o,s,l,u,h,d,c,p,m,g=0;if(this._drawableTrendAreas.length){for(o=Date.now(),u=this._timeAxes.length,c=Math.floor(this.pixelsInTrendAreas),s=0;s<u;s++)(l=this._timeAxes[s]).setNextRange(),l.config.RangeType===f.getChromEnum("HmiTimeRangeType").PointCount?(g=l.config.PointCount,m=0,l.timeAxisDrawn=!1):(g=c,m=(l.currentEndValue+f.TrendViewBase.EPOCH_DIFFERENCE)*f.TrendViewBase.TICKS_PER_MILLISECOND,l.timeAxisDrawn=!0),p=(l.currentBeginValue+f.TrendViewBase.EPOCH_DIFFERENCE)*f.TrendViewBase.TICKS_PER_MILLISECOND,d=o>=l.currentBeginValue&&o<=l.currentEndValue?"clearTagListBeforeTimeStamp":"clearTagListOnDataReceived",(h=l.parentTrendWindow).visible&&h.trendWindowDrawn&&"0"!==h.spacePortion&&this._updateRequestDataForMoveToNext(e,t,i,r,a,n,{timeAxis:l,beginFileTime:p,endFileTime:m,pointCount:g,tagListClearType:d});this.onUpdate()}this.needsRulerDataCalc()&&this.calculateRulerData()},n.prototype._updateRequestDataForMoveToNext=function(e,t,i,r,a,n,o){for(var s,l=o.timeAxis.parentTrendWindow,u=o.timeAxis,h=o.beginFileTime,d=o.endFileTime,c=o.pointCount,p=o.tagListClearType,m=(o=null,l.drawableTrends.length),g=0;g<m;g++)(s=l.drawableTrends[g]).timeAxis===u.config.Name&&void 0!==s.dataSource.Tag&&""!==s.dataSource.Tag&&(r.push(s.dataSource.Tag),e.push(h),t.push(d),i.push(c),a.push(s.partId),void 0!==s.aggregationMode&&n.push(s.aggregationMode),s[p]=!0,u.config.RangeType===f.getChromEnum("HmiTimeRangeType").PointCount&&(s.historicalDataReceived=!1),this.moveToType=f.Data.MoveToType.MoveToNext)},n.prototype.MoveToFirst=function(e,t,i,r,a,n){var o,s,l,u,h,d;if(this._drawableTrendAreas.length)for(u=this._timeAxes.length,d=Math.floor(this.pixelsInTrendAreas),s=0;s<u;s++)o=(l=this._timeAxes[s]).calculateTimeRange(),(h=l.parentTrendWindow).visible&&h.trendWindowDrawn&&"0"!==h.spacePortion&&this._updateRequestDataForMoveToFirst(e,t,i,r,a,n,{timeAxis:l,timeRange:o,pixelCount:d}),l.timeAxisDrawn=!1},n.prototype._updateRequestDataForMoveToFirst=function(e,t,i,r,a,n,o){for(var s,l=o.timeAxis.parentTrendWindow,u=o.timeAxis,h=o.timeRange,d=o.pixelCount,c=l.drawableTrends.length,p=0;p<c;p++)(s=l.drawableTrends[p]).timeAxis===u.config.Name&&void 0!==s.dataSource.Tag&&""!==s.dataSource.Tag&&(r.push(s.dataSource.Tag),u.config.RangeType===f.getChromEnum("HmiTimeRangeType").PointCount?(t.push(0),i.push(u.config.PointCount)):(t.push(h*f.TrendViewBase.TICKS_PER_MILLISECOND),i.push(d)),e.push(0),a.push(s.partId),void 0!==s.aggregationMode&&n.push(s.aggregationMode),s.clearTagListOnDataReceived=!0,s.historicalDataReceived=!1,this.moveToType=f.Data.MoveToType.MoveToFirst)},n.prototype.MoveToLast=function(e,t,i,r,a,n){var o,s,l,u,h,d;if(this._drawableTrendAreas.length)for(l=this._timeAxes.length,d=Math.floor(this.pixelsInTrendAreas),o=0;o<l;o++)h=(s=this._timeAxes[o]).calculateTimeRange(),(u=s.parentTrendWindow).visible&&u.trendWindowDrawn&&"0"!==u.spacePortion&&this._updateRequestDataForMoveToLast(e,t,i,r,a,n,{timeAxis:s,range:h,pixelCount:d}),s.timeAxisDrawn=!1},n.prototype._updateRequestDataForMoveToLast=function(e,t,i,r,a,n,o){for(var s,l=o.timeAxis.parentTrendWindow,u=o.timeAxis,h=o.range,d=o.pixelCount,c=l.drawableTrends.length,p=0;p<c;p++)(s=l.drawableTrends[p]).timeAxis===u.config.Name&&void 0!==s.dataSource.Tag&&""!==s.dataSource.Tag&&(r.push(s.dataSource.Tag),u.config.RangeType===f.getChromEnum("HmiTimeRangeType").PointCount?(t.push(0),i.push(u.config.PointCount)):(t.push(h*f.TrendViewBase.TICKS_PER_MILLISECOND),i.push(d)),e.push(0),a.push(s.partId),void 0!==s.aggregationMode&&n.push(s.aggregationMode),s.clearTagListOnDataReceived=!0,s.historicalDataReceived=!1,this.moveToType=f.Data.MoveToType.MoveToLast)},n.prototype._calculateStatisticData=function(){this.calculateStatistics=!0,this.trendCompanionConstUpdate=!0;var e=this._getRulerData();return this.calculateStatistics=!1,this.trendCompanionConstUpdate=!1,e},n.prototype._calculateStatisticResultData=function(){this.trendCompanionConstUpdate=!0;var e=this._getRulerData();return this.trendCompanionConstUpdate=!1,e},n.prototype._setTimesForContext=function(e){for(var t,i=this._timeAxes.length,r=0;r<i;r++)if((t=this._timeAxes[r]).config.ElementID===e){t.setTimesForContext();break}f.Data.PostPropertyUpdate.SendHistoricalDataRequests&&(this.dp.sendRequest(),f.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1),f.Data.PostPropertyUpdate.Update&&(this.onUpdate(),f.Data.PostPropertyUpdate.Update=!1)},n.prototype.setTimeAxesToCurrentTime=function(){for(var e,t,i=(new Date).getTime(),r=this._timeAxes.length,a=0;a<r;a++)t=(e=this._timeAxes[a]).calculateTimeRange(),e.currentEndValue=i,e.currentBeginValue=e.currentEndValue-t},n.prototype.setStartStop=function(){var e=f.isAppModeRuntime();this.isOnline()?(this.getShowStatisticRuler()&&(this.chart.Attributes["show-selector-rulers"]=this.showStatisticRulers=!1,this.setShowStatisticRuler()),this.setZoomAndMove(),this.resetZoom(!0),e&&this.startAxisTimer(),this.moveAxes&&this.disableTimeAxesMove&&this.disableTimeAxesMove(),this.dp.setOnlinePropChangeCount(),this._invalidateAllAxes(),this.drawTrends(),this.getShowRuler()&&e&&(this.setSecondaryRulerToolTip(!1),this.updateRulerToolTip())):(this.removeAxisTimer(),this.moveAxes&&this.enableTimeAxesMove(),this._setTimesOfHiddenDrawableAreas(),!this.isZooming&&e&&this.enableDisablePinchAndScroll(!0),this.getShowRuler()&&e&&this.setSecondaryRulerToolTip(!0)),this.calculateRulerData()},n.prototype.handleChartAttributeChange=function(e){var t,i=f.Data.ChartTemplateAttributes;if(e.propertyName===i.TimeZone){if(t=Number(this.chart.getAttribute("timezone")),this.timeZone!==t){this.timeZone=t;for(var r=void 0,a=this._timeAxes.length,r=0;r<a;r++)this._timeAxes[r].updateLabelsWithTimeZone(e.updatedValue)}}else e.propertyName===i.ShowStatisticRulers?(t=f.Utilities.convertToBool(this.chart.getAttribute("show-selector-rulers")),this.showStatisticRulers!==t&&(this.showStatisticRulers=t,this.setShowStatisticRuler())):K.prototype.handleChartAttributeChange.call(this,e)},n.prototype.getTimeZone=function(){return this.timeZone},n.prototype.getShowStatisticRuler=function(){return this.showStatisticRulers},n.prototype._addRequestedTimeToTrend=function(e){for(var t,i=this._drawableTrendAreas.length,r=0;r<i;r++)t=this._drawableTrendAreas[r],e.forEach(function(e){t.idToTrendMap[e]&&t.idToTrendMap[e].setRequestedTime()})},n.prototype.setShowStatisticRuler=function(){this.getShowStatisticRuler()&&this.isOnline()&&(this.chart.Attributes.online=!1,this.online=!1,this.setStartStop()),this.enableDisableStatisticRuler()},n.prototype.enableDisableStatisticRuler=function(){for(var e,t=!1,i=(this.getShowStatisticRuler()?(e="showStatisticRuler",t=this.trendCompanionConstUpdate):(this.getShowRuler()&&(t=this.trendCompanionConstUpdate),e="hideStatisticRuler"),this._drawableTrendAreas.length),r=0;r<i;r++)this._drawableTrendAreas[r].trendWindowDrawn&&this._drawableTrendAreas[r][e]();t&&this.calculateRulerData()},n.prototype.disableAxesMove=function(){for(var e,t=null,i=this._valueAxes.length,r=null,a=new f.Data.GenericList,n=this._drawableTrendAreas.length,o=0;o<i;o++)t=this._valueAxes[o],this.getDrawableTrendWindowByName(t.trendWindow)&&t.config.Visible&&t.disableAxesMove(!this.enabled||this.moveTrendArea,a);if(a.clear(),!this.enabled||!this.moveAxes)for(i=this._timeAxes.length,o=0;o<i;o++)t=this._timeAxes[o],this.getDrawableTrendWindowByName(t.trendWindow)&&t.config.Visible&&t.disableAxesMove();if(!this.moveTrendArea){for(e=0;e<n;e++)(r=this._drawableTrendAreas[e]).trendWindowDrawn&&r.resetTrendWindow();this.needsRulerDataCalc()&&this.calculateRulerData()}t=r=null},n.prototype.enableAxesMove=function(){for(var e=null,t=this._valueAxes.length,i=0;i<t;i++)e=this._valueAxes[i],this.getDrawableTrendWindowByName(e.trendWindow)&&e.config.Visible&&e.enableAxesMove();this.enableTimeAxesMove()},n.prototype.enableTimeAxesMove=function(){for(var e=null,t=this._timeAxes.length,i=0;i<t;i++)e=this._timeAxes[i],!this.getDrawableTrendWindowByName(e.trendWindow)||!e.config.Visible||this.isOnline()&&e.alwaysShowRecent||e.enableAxesMove()},n.prototype.disableTimeAxesMove=function(){for(var e=null,t=this._timeAxes.length,i=0;i<t;i++)e=this._timeAxes[i],this.getDrawableTrendWindowByName(e.trendWindow)&&e.config.Visible&&e.alwaysShowRecent&&e.disableAxesMove()},n.prototype.getXAxes=function(){return this._timeAxes},n.prototype.getYAxes=function(){return this._valueAxes},n.prototype.setXAxes=function(e){this._timeAxes=e},n.prototype.setYAxes=function(e){this._valueAxes=e},n.prototype.resetZoom=function(e){var t,i,r=new f.Data.GenericList,a=!1;for(this.oneToOneView=!1,this.dp.enableDisableOriginalView(!1),t=this._valueAxes.length,i=0;i<t;i++)this._valueAxes[i].resetZoom(r);for(t=this._timeAxes.length,i=0;i<t;i++)this._timeAxes[i].resetZoom(r);for(i=0;i<r.items.length;i++)this.getTrendWindowByName(r.items[i]).resetZoomCount(),a=!0;a&&(e&&(f.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),this.redraw()),e||this.needsRulerDataCalc()&&this.calculateRulerData(),r.clear()},n.prototype._invalidateAllAxes=function(){var e,t,i;for(this.setTimeAxesToCurrentTime(),t=(e=this.getXAxes()).length,i=0;i<t;i++)e[i].calculateAndUpdate();for(this.forceTimeAxisDrawn=!0,this.propertyUpdateInProgress?(this.requestHistoricalData(!1,void 0,void 0,!0,!0,!0),f.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0):this.requestHistoricalData(),this.forceTimeAxisDrawn=!1,t=(e=this.getYAxes()).length,i=0;i<t;i++)e[i].invalidate()},n.prototype.requestHistoricalData=function(e,t,i,r,a,n){var o,s,l={beginTime:[],endTime:[],points:[],clientHandles:[],aggMode:[]},u=[];if(f.isAppModeRuntime()){for(o=0;o<this._drawableTrendAreas.length;o++)s=this._drawableTrendAreas[o],t&&s.config.Name!==t||s.trendWindowDrawn&&s.requestHistoricalData(l,u,e,i);u.length&&(r?this.dp.addRequest(l.beginTime,l.endTime,l.points,u,l.clientHandles,f.Data.BoundingFlags.LeftBounding,l.aggMode,!0,a,n):this.dp&&this.dp.requestData(l.beginTime,l.endTime,l.points,u,l.clientHandles,5,f.Data.BoundingFlags.LeftBounding,l.aggMode,a))}},n.prototype.drawLayout=function(){var e=this.layouter.drawLayout(this.chart.dom);return this.layoutDrawn!==e&&(e?f.isAppModeRuntime()&&this.startAxisTimer():(this._invalidateCheckArray={},f.isAppModeRuntime()&&this.removeAxisTimer())),(this.layoutDrawn=e)&&this._balanceXAxisWidths(),f.ChartBalancer.balanceCharts(this.rtoid,this.layoutBalancerId,0),e},n.prototype._setTimesOfHiddenDrawableAreas=function(){for(var t,i=Date.now(),e=this._drawableTrendAreas.length,r=0;r<e;r++)!1===this._drawableTrendAreas[r].trendWindowDrawn&&this._drawableTrendAreas[r].getXAxes().forEach(function(e){e.alwaysShowRecent&&(t=e.calculateTimeRange(),e.currentEndValue=i,e.currentBeginValue=e.currentEndValue-t)})},f.OnlineTrendView=n,((t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).ChartElements||(t.ChartElements={})).Point=function(){this.timeStamp=null,this.xTagPosition=null,this.yTagPosition=null,this.xTagValue=null,this.yTagValue=null,this.qualityCode=null},t=(t=e=e||{}).Lib||(t.Lib={}),t=(Z=t.NVEs||(t.NVEs={})).ChartElements||(Z.ChartElements={}),ln.prototype._getPosFromPerc=function(){this._isLeftOrRight?this._direction===this._rulerDirEnum.Vertical?this._rulerAttr.pos=this._bounds.left+this._bounds.width*this._rulerAttr.percOfPos:this._rulerAttr.pos=this._bounds.top+this._bounds.height*this._rulerAttr.percOfPos:this._direction===this._rulerDirEnum.Vertical?this._rulerAttr.pos=this._bounds.top+this._bounds.height*this._rulerAttr.percOfPos:this._rulerAttr.pos=this._bounds.left+this._bounds.width*this._rulerAttr.percOfPos},ln.prototype._calculateDim=function(e,t){this._bounds=e,t&&(e=t),this._isLeftOrRight?this._direction===this._rulerDirEnum.Vertical?(this._rulerAttr.start=e.top,this._rulerAttr.end=e.bottom):(this._rulerAttr.start=e.left,this._rulerAttr.end=e.right):this._direction===this._rulerDirEnum.Vertical?(this._rulerAttr.start=e.left,this._rulerAttr.end=e.right):(this._rulerAttr.start=e.top,this._rulerAttr.end=e.bottom),this._getPosFromPerc()},ln.prototype.setDims=function(e,t,i){this._isLeftOrRight=e,this._calculateDim(t,i)},ln.prototype.getRulerPos=function(){return this._rulerAttr.pos},ln.prototype.init=function(e,t,i,r,a,n){var o,s=r.rulerId,l=Z.Features.Shape.SvgShape.CreateSvgElement,u=this._defaultRulerProps.rulerBackColor,h=this._defaultRulerProps.circleStrokeGap,d=this._defaultRulerProps.circleStroke,c=this._defaultRulerProps.circleRadiusDiff,h=h+c,e=(this.rulerColorIds=r.rulerColorIds,this._rulerViewSVGGroup=e,this._direction=r.direction,this._rulerType=r.rulerType,this._rulerAttr.id=s,this._rulerAttr.percOfPos=r.percOfPos,this._bounds=t,this._isLeftOrRight=i,this.CURRENT_PROJ_VER=a,this._isProjVer17OrAbove=17<=this.CURRENT_PROJ_VER||""===this.CURRENT_PROJ_VER,this._isProjVer17OrAbove?this.rulerColorIds[2]:"url(#"+this.rulerColorIds[0]+")"),t=this.rulerColorIds[1];this._rulerWidth=r.rulerWidth,this.stroke=i=this.rulerColorIds[2],this._handleHeight=r.handleHeight||this._defaultRulerProps.circleRadius,this._handleWidth=r.handleWidth||this._defaultRulerProps.circleRadius,this._handleCornerRad=this._handleHeight/2,this._drawCircleHandle=r.drawCircleHandle,this.isProjVer16AndNotFunctionTrend=!0!==this._isProjVer17OrAbove&&n===Z.Data.TrendObjectType.Online,this._rulerElementsGroup=l("g",{id:s+"_rulerGroup",stroke:"inherit","stroke-width":"inherit","clip-path":r.rulerClipPath}),this._rulerType===this._rulerTypeEnum.Time||this._rulerType===this._rulerTypeEnum.Value?(this._rulerBckGrndLine=l("line",{id:s+"_rect_bckGrnd",stroke:u,"stroke-width":this._isProjVer17OrAbove?0:this._rulerWidth+this.RULER_BACK_LINE_WIDTH,appendTo:this._rulerElementsGroup}),this._rulerRect=l("rect",{id:s+"_rect",fill:e,"stroke-width":0,stroke:e,"stroke-opacity":this.STROKE_OPACITY,appendTo:this._rulerElementsGroup})):(this._minMaxLabel=r.minMaxLabel,this._handleArrowBckGrnd=l("path",{id:s+"_handleArrowBckGrnd",stroke:u,"stroke-width":1,fill:u,appendTo:this._rulerElementsGroup}),this._rulerBckGrndLine=l("line",{id:s+"_rect_bckGrnd",stroke:u,"stroke-width":this.RULER_BACK_LINE_WIDTH,appendTo:this._rulerElementsGroup}),o=this._rulerType===this._rulerTypeEnum.RulerMin?this._defaultRulerProps.rulerMinColor:this._defaultRulerProps.rulerMaxColor,this._rulerLine=l("line",{id:s+"_line",stroke:o,"stroke-width":1,appendTo:this._rulerElementsGroup})),this._rulerDummyLine=l("line",{id:s+"_dummy",stroke:"inherit",opacity:0,"stroke-width":r.dummyRulerWidth,appendTo:this._rulerElementsGroup}),!0===this.isProjVer16AndNotFunctionTrend&&(a=this._rulerType===this._rulerTypeEnum.Time||this._rulerType===this._rulerTypeEnum.Value?this._defaultRulerProps.handleColor:o,this._handleArrow=l("path",{id:s+"_handleArrow","stroke-width":0,fill:a,appendTo:this._rulerElementsGroup})),this._rulerType===this._rulerTypeEnum.Time||this._rulerType===this._rulerTypeEnum.Value?(this._handleRect=l("rect",{id:s+"_handle_Circle",fill:"url(#"+t+")","stroke-width":d,stroke:i,"stroke-miterlimit":10,rx:this._handleCornerRad,display:r.drawCircleHandle?"inherit":"none",appendTo:this._rulerElementsGroup}),this._handleInnerRect=l("rect",{id:s+"_handle_InCircle",fill:this._defaultRulerProps.handleFillColor,stroke:this._defaultRulerProps.handleColor2,"stroke-width":0,"stroke-miterlimit":10,rx:this._handleCornerRad-h/2,idx:c,display:r.drawCircleHandle?"inherit":"none",appendTo:this._rulerElementsGroup})):(this._rulerText=l("text",{id:s+"_rulerDisp_Text","stroke-width":0,fill:this._defaultRulerProps.fontFill,"text-anchor":"middle",appendTo:this._rulerElementsGroup}),this.fontFeature=r.fontFeature,this.fontFeature.addFontAttributesToDomNode(this.fontFeature.webRTPUItem,this.fontFeature.metaData,this._rulerText)),r.showRuler?this.showRuler():this.hideRuler()},ln.prototype.toggleHandleCircle=function(e){this._drawCircleHandle=e,this._handleRect&&this._handleRect.setAttribute("display",e?"inherit":"none"),this._handleInnerRect&&this._handleInnerRect.setAttribute("display",e?"inherit":"none")},ln.prototype.updateLabelFont=function(){this.associatedAxis&&this._rulerTemplate&&(this._rulerTemplate.setHmiProps(this.associatedAxis.config.LabelFont,"HmiProps.Font"),this._rulerTemplate.update())},ln.prototype.updateRulerLabel=function(){var e,t=this.getRulerPos();if(void 0!==t)this._rulerDispDetails.positionOnAxis=t,this._rulerDispDetails.rulerPosition=this._rulerAttr.pos;else if(void 0===this._rulerDispDetails.positionOnAxis)return;this.associatedAxis&&this.associatedAxis.config&&(e=t=Math.round(100*this.associatedAxis.getValueFromPosition(this._rulerDispDetails.positionOnAxis).toString())/100,this._rulerType===this._rulerTypeEnum.Value?this._updateRulerWhenValueType(e,t):this._rulerType===this._rulerTypeEnum.Time?this._updateRulerWhenTimeType(e,t):this._updateRulerWhenMinMaxType(),this._rulerType!==this._rulerTypeEnum.Value&&this._rulerType!==this._rulerTypeEnum.Time||!this._rulerTemplate||(this.associatedAxis&&this.useOldStyle&&(this._isLeftOrRight^Number(this._direction===this._rulerDirEnum.Horizontal)?this.updateRulerPosHelper(!0):this.updateRulerPosHelper(!1)),this._rulerTemplate.update()))},ln.prototype._updateRulerWhenValueType=function(e,t){var i,r,a,n,o,s,l=!1,u=this._defaultRulerProps.circleStrokeGap,h=this._defaultRulerProps.circleRadiusDiff,d=u+h;t=this.associatedAxis.getDisplayValue(t),i=this._singleCharWidth*t.toString().length,this.associatedAxis.bBoxText.height,this._oldValueAxisValue=t,this._rulerTemplate&&(s=this.associatedAxis.config.LabelFont,this.rootNodeWidth=Z.getTextWidth(t,s)+this.paddingX,this.rootNodeHeight=this._topBottomPaddingFactor*Z.getTextHeight(t,s)+this.paddingY,this.useOldStyle?this._rulerTemplate.setDataContent({Text1:t.trim()}):(s=this.associatedAxis.outputFormat,this._rulerTemplate.setHmiProps(s,"HmiProps.OutputFormat"),this._rulerTemplate.setDataContent({Text1:e}))),i!=this._handleWidth-d-2*this._handleCornerRad&&(this._handleWidth=i+d+this._handleCornerRad,this._handleWidth<this._handleHeight&&(this._handleWidth=this._handleHeight),l=!0),this.useOldStyle&&(this._isLeftOrRight^Number(this._direction===this._rulerDirEnum.Horizontal)?l&&(this.rootNodeWidth=this._handleWidth,!this.associatedAxis&&this._handleRect&&(this._setAttributes(this._handleRect,{x:this._rulerAttr.pos-this._handleWidth/2,width:this._handleWidth}),this._setAttributes(this._handleInnerRect,{x:this._rulerAttr.pos-this._handleWidth/2+d/2,width:this._handleWidth-d})),this.associatedAxis)&&(a=(r=this._rulerAttr.pos-(this._handleWidth+h)/2)+this._handleWidth+h/2,o=(n=this.associatedAxis.rect.left)+this.associatedAxis.rect.width,r<n||this._handleWidth>=this.associatedAxis.rect.width?this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("x",n+u/2):o<a&&this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("x",o-this._handleWidth-u/2)):l&&(this.associatedAxis||(this._setAttributes(this._handleInnerRect,{y:this._rulerAttr.pos-this._handleWidth/2+d/2,height:this._handleWidth-d}),this._setAttributes(this._handleInnerRect,{y:this._rulerAttr.pos-this._handleWidth/2+d/2,height:this._handleWidth-d})),this.associatedAxis)&&(this.rootNodeWidth=this._handleWidth,a=(r=this._rulerAttr.pos-(this._handleWidth+h)/2)+this._handleWidth+h/2,o=(n=this.associatedAxis.rect.top)+this.associatedAxis.rect.height,r<n||this._handleWidth>=this.associatedAxis.rect.height?this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("y",n+u/2):o<a&&this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("y",o-this._handleWidth-u/2)))},ln.prototype._updateRulerWhenTimeType=function(e,t){var i,r,a;e=t,t=this.associatedAxis.getDisplayValue(t,!0),this.associatedAxis.bBoxText.width,this.associatedAxis.bBoxText.height,this._isLeftOrRight?this._rulerTemplate&&(i=this.associatedAxis.config.LabelFont,this.rootNodeWidth=Z.getTextWidth(t[0],i)+this.paddingX,this.rootNodeHeight=this._topBottomPaddingFactor*Z.getTextHeight(t[0],i)+this.paddingY,this.useOldStyle?this._rulerTemplate.setDataContent({Text1:t[0].trim()}):(r=this.associatedAxis.outputFormat,this._rulerTemplate.setHmiProps(r,"HmiProps.OutputFormat"),this._rulerTemplate.setDataContent({Text1:e}))):this._rulerTemplate&&(i=this.associatedAxis.config.LabelFont,a=Z.getTextWidth(t[0],i),this.rootNodeWidth=a+this.paddingX,a=this._topBottomPaddingFactor*Z.getTextHeight(t[0],i)+this.paddingY,this.rootNodeHeight=a,this.useOldStyle?this._rulerTemplate.setDataContent({Text1:t[0].trim()}):(r=this.associatedAxis.outputFormat,this._rulerTemplate.setHmiProps(r,"HmiProps.OutputFormat"),this._rulerTemplate.setDataContent({Text1:e})))},ln.prototype._updateRulerWhenMinMaxType=function(){var e,t=0;this._rulerType===this._rulerTypeEnum.RulerMax&&(t=this.labelHeight),this._rulerText.textContent=this._minMaxLabelValue,e=this.labelHeight/2,this._isLeftOrRight?(this._rulerText.setAttribute("x",this._rulerAttr.end+this.labelWidth/2+4),this._rulerText.setAttribute("y",this._rulerAttr.pos+.75*e)):(this._rulerText.setAttribute("y",this._rulerAttr.start-.25*this.labelHeight-t-4),this._rulerText.setAttribute("x",this._rulerAttr.pos)),this._rulerText.setAttribute("transform","")},ln.prototype._updateRulerPosition=function(){var e,t=this._defaultRulerProps.smallArrowHeight,i=this._defaultRulerProps.smallArrowWidth,r=this._defaultRulerProps.circleStrokeGap+this._defaultRulerProps.circleRadiusDiff;this._rulerType===this._rulerTypeEnum.Time?(e=this._handleWidth/2,this._isLeftOrRight^Number(this._direction===this._rulerDirEnum.Horizontal)?(this._setAttributes(this._rulerBckGrndLine,{x1:this._rulerAttr.pos,x2:this._rulerAttr.pos}),this._setAttributes(this._rulerRect,{x:this._rulerAttr.pos-this._rulerWidth/2}),this._setAttributes(this._rulerDummyLine,{x1:this._rulerAttr.pos,x2:this._rulerAttr.pos}),!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+(this._rulerAttr.pos-i/2)+" "+(this._rulerAttr.start+this._handleHeight+this.height2ndRow)+" l "+i/2+" +"+t+" l "+i/2+" -"+t+" Z"}),this.associatedAxis?(this.useOldStyle?this.updateRulerPosHelper(!0):this.updateRulerPosNewVersion(!0),this.updateRulerLabel()):this._handleRect&&(this._setAttributes(this._handleRect,{x:this._rulerAttr.pos-e}),this._setAttributes(this._handleInnerRect,{x:this._rulerAttr.pos-e+r/2}))):(this._setAttributes(this._rulerBckGrndLine,{y1:this._rulerAttr.pos,y2:this._rulerAttr.pos}),this._setAttributes(this._rulerRect,{y:this._rulerAttr.pos-this._rulerWidth/2}),this._setAttributes(this._rulerDummyLine,{y1:this._rulerAttr.pos,y2:this._rulerAttr.pos}),!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+(this._rulerAttr.end-this._handleHeight-t-this.height2ndRow)+" "+this._rulerAttr.pos+" l +"+t+" +"+i/2+" l +0 -"+i+" Z"}),this.associatedAxis?(this.useOldStyle?this.updateRulerPosHelper(!1):this.updateRulerPosNewVersion(!1),this.updateRulerLabel()):this._handleRect&&(this._setAttributes(this._handleRect,{y:this._rulerAttr.pos-e}),this._setAttributes(this._handleInnerRect,{y:this._rulerAttr.pos-e+r/2})))):this.updateRuler()},ln.prototype.updateRuler=function(e,t,i,r){var a=null,n=0,o=0,s=this._defaultRulerProps.minMaxRulerArrowHeight,l=this._defaultRulerProps.minMaxRulerArrowWidth,u=this._defaultRulerProps.circleStrokeGap,h=this._defaultRulerProps.circleRadiusDiff,d=this._defaultRulerProps.smallArrowHeight,c=this._defaultRulerProps.smallArrowWidth,u=u+h;this._defaultRulerProps.circleRadius;void 0!==e&&(this._isLeftOrRight=e),t&&(this._cursorType=t),i&&this._calculateDim(i,r),this.associatedAxis&&this.associatedAxis.config?(this._rulerType===this._rulerTypeEnum.Value&&(0<this._singleCharWidth?(a=Math.round(100*this.associatedAxis.getValueFromPosition(this._rulerDispDetails.positionOnAxis).toString())/100,n=this._singleCharWidth*a.toString().length,this._handleWidth=n+u):(n=this.associatedAxis.bBoxText.width,this._singleCharWidth=(this._handleWidth-u)/2),this._handleWidth<this._handleHeight)&&(this._handleWidth=this._handleHeight),this._rulerTemplate&&(h=this.associatedAxis.config.LabelFont,this._rulerTemplate.setHmiProps(h,"HmiProps.Font"),this._rulerTemplate.RootNode.setAttribute("display","inherit")),this._handleRect&&this._setAttributes(this._handleRect,{display:"none"}),this._handleInnerRect&&this._setAttributes(this._handleInnerRect,{display:"none"})):(this._handleHeight,this._handleWidth=this._handleHeight,this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("display","none"),this._handleRect&&this._setAttributes(this._handleRect,{display:"inherit"}),this._handleInnerRect&&this._setAttributes(this._handleInnerRect,{display:"inherit"})),this._rulerType===this._rulerTypeEnum.Time||this._rulerType===this._rulerTypeEnum.Value?(e=this._handleHeight/2,t=this._handleWidth/2,this._isLeftOrRight^Number(this._direction===this._rulerDirEnum.Horizontal)?(this._attr1="pos",this._attr2="pos",this._attr3="start",this._attr4="end",this._setAttributes(this._rulerBckGrndLine,{x1:this._rulerAttr.pos,x2:this._rulerAttr.pos,y1:this._rulerAttr.start+e,y2:this._rulerAttr.end,cursor:this._cursorType}),o=this._rulerAttr.end-this._rulerAttr.start-e,this._setAttributes(this._rulerRect,{x:this._rulerAttr.pos-this._rulerWidth/2,y:this._rulerAttr.start+e,width:this._rulerWidth,height:o=o<0?0:o}),this._setAttributes(this._rulerDummyLine,{x1:this._rulerAttr.pos,x2:this._rulerAttr.pos,y1:this._rulerAttr.start+e,y2:this._rulerAttr.end,cursor:this._cursorType}),!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+(this._rulerAttr.pos-c/2)+" "+(this._rulerAttr.start+this._handleHeight+this.height2ndRow)+" l "+c/2+" +"+d+" l "+c/2+" -"+d+" Z",cursor:this._cursorType}),this.associatedAxis&&this.associatedAxis.config?this.useOldStyle||this.updateRulerPosNewVersion(!0):(this._handleRect&&(this._setAttributes(this._handleRect,{x:this._rulerAttr.pos-t,y:this._rulerAttr.start,width:this._handleWidth,height:this._handleHeight+this.height2ndRow,rx:this._handleCornerRad,cursor:this._cursorType}),this._setAttributes(this._handleInnerRect,{x:this._rulerAttr.pos-t+u/2,y:this._rulerAttr.start+u/2,width:this._handleWidth-u,height:this._handleHeight-u+this.height2ndRow,rx:this._handleCornerRad-u/2,cursor:this._cursorType})),this._rulerTemplate&&(this._rulerTemplate.RootNode.setAttribute("stroke",this.stroke),this._rulerTemplate.RootNode.setAttribute("cursor",this._cursorType)))):(this._attr1="start",this._attr2="end",this._attr3="pos",this._attr4="pos",this._setAttributes(this._rulerBckGrndLine,{x1:this._rulerAttr.start,x2:this._rulerAttr.end-e,y1:this._rulerAttr.pos,y2:this._rulerAttr.pos,cursor:this._cursorType}),o=this._rulerAttr.end-this._rulerAttr.start-e,this._setAttributes(this._rulerRect,{x:this._rulerAttr.start,y:this._rulerAttr.pos-this._rulerWidth/2,height:this._rulerWidth,width:o=o<0?0:o}),this._setAttributes(this._rulerDummyLine,{x1:this._rulerAttr.start,x2:this._rulerAttr.end-e,y1:this._rulerAttr.pos,y2:this._rulerAttr.pos,cursor:this._cursorType}),!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+(this._rulerAttr.end-this._handleHeight-d-this.height2ndRow)+" "+this._rulerAttr.pos+" l +"+d+" +"+c/2+" l +0 -"+c+" Z",cursor:this._cursorType}),this.associatedAxis&&this.associatedAxis.config?this.useOldStyle||this.updateRulerPosNewVersion(!1):(this._handleRect&&(this._setAttributes(this._handleRect,{y:this._rulerAttr.pos-t,x:this._rulerAttr.end-this._handleHeight-this.height2ndRow,height:this._handleWidth,width:this._handleHeight+this.height2ndRow,rx:this._handleCornerRad,cursor:this._cursorType}),this._setAttributes(this._handleInnerRect,{y:this._rulerAttr.pos-t+u/2,x:this._rulerAttr.end-this._handleHeight+u/2-this.height2ndRow,height:this._handleWidth-u,width:this._handleHeight-u,rx:this._handleCornerRad-u/2,cursor:this._cursorType})),this._rulerTemplate&&(this._rulerTemplate.RootNode.setAttribute("stroke",this.stroke),this._rulerTemplate.RootNode.setAttribute("cursor",this._cursorType))))):(this._isLeftOrRight?(this._attr1="pos",this._attr2="pos",this._attr3="start",this._attr4="end",!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+(this._rulerAttr.end+2)+" "+(this._rulerAttr.pos-s/2)+" l -"+l+" +"+s/2+" L "+(this._rulerAttr.end+2)+" "+(this._rulerAttr.pos+s/2)+" Z",cursor:this._cursorType}),this._setAttributes(this._handleArrowBckGrnd,{d:"M "+(this._rulerAttr.end+2)+" "+(this._rulerAttr.pos-(s/2+2))+" l -"+(l+4)+" +"+(s/2+2)+" L "+(this._rulerAttr.end+2)+" "+(this._rulerAttr.pos+s/2+2)+" Z",cursor:this._cursorType})):(this._attr1="start",this._attr2="end",this._attr3="pos",this._attr4="pos",!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+this._rulerAttr.pos+" "+(this._rulerAttr.start+l-4)+" l +"+s/2+" -"+l+" l -"+s+" +0 z",cursor:this._cursorType}),this._setAttributes(this._handleArrowBckGrnd,{d:"M "+this._rulerAttr.pos+" "+(this._rulerAttr.start+l-2)+" l +"+(s/2+2)+" -"+(l+4)+" l -"+2*(s/2+2)+" +0 z",cursor:this._cursorType})),this._setAttributes(this._rulerBckGrndLine,{x1:this._rulerAttr[this._attr3],x2:this._rulerAttr[this._attr4],y1:this._rulerAttr[this._attr1],y2:this._rulerAttr[this._attr2]}),this._setAttributes(this._rulerLine,{x1:this._rulerAttr[this._attr3],x2:this._rulerAttr[this._attr4],y1:this._rulerAttr[this._attr1],y2:this._rulerAttr[this._attr2]}),this._setAttributes(this._rulerDummyLine,{x1:this._rulerAttr[this._attr3],x2:this._rulerAttr[this._attr4],y1:this._rulerAttr[this._attr1],y2:this._rulerAttr[this._attr2],cursor:this._cursorType})),this.updateRulerLabel()},ln.prototype.updateRulerPosHelper=function(e){var t,i,r,a=this._rulerAttr.pos-this.rootNodeWidth/2-this._defaultRulerProps.circleRadiusDiff/2,n=a+this.rootNodeWidth+this._defaultRulerProps.circleRadiusDiff/2;e?(r=(i=this.associatedAxis.rect.left)+this.associatedAxis.rect.width,this._rulerTemplate&&(this._rulerTemplate.RootNode.setAttribute("x",this._rulerAttr.pos-this.rootNodeWidth/2),this._rulerTemplate.RootNode.setAttribute("y",this._rulerAttr.start),this._rulerTemplate.RootNode.setAttribute("height",this.rootNodeHeight),this._rulerTemplate.RootNode.setAttribute("width",this.rootNodeWidth),this._rulerTemplate.setHmiProps(this.rootNodeHeight,"HmiProps.Height"),this._rulerTemplate.setHmiProps(this.rootNodeWidth,"HmiProps.Width")),a<i||this._handleWidth>=this.associatedAxis.rect.width?this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("x",i+this._defaultRulerProps.circleStrokeGap/2):r<n&&(t=this.rootNodeWidth,this._rulerTemplate)&&this._rulerTemplate.RootNode.setAttribute("x",r-t-this._defaultRulerProps.circleStrokeGap/2)):(r=(i=this.associatedAxis.rect.top)+this.associatedAxis.rect.height,this._rulerTemplate&&(this._rulerTemplate.RootNode.setAttribute("stroke",this.stroke),this._rulerTemplate.RootNode.setAttribute("cursor",this._cursorType),this._rulerTemplate.setHmiProps(this.rootNodeWidth,"HmiProps.Height"),this._rulerTemplate.setHmiProps(this.rootNodeHeight,"HmiProps.Width"),this._rulerTemplate.RootNode.setAttribute("height",this.rootNodeWidth),this._rulerTemplate.RootNode.setAttribute("width",this.rootNodeHeight),this._rulerTemplate.RootNode.setAttribute("x",this._rulerAttr.end-this.rootNodeHeight),this._rulerTemplate.RootNode.setAttribute("y",this._rulerAttr.pos-this.rootNodeWidth/2),this._rulerTemplate.setHmiProps(this.associatedAxis.config.LabelFont,"HmiProps.Font")),a<i||this.rootNodeWidth>=this.associatedAxis.rect.height?this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("y",i+this._defaultRulerProps.circleStrokeGap/2):r<n&&(t=this.rootNodeWidth,this._rulerTemplate)&&this._rulerTemplate.RootNode.setAttribute("y",r-t-this._defaultRulerProps.circleStrokeGap/2))},ln.prototype.updateRulerPosNewVersion=function(e){var t,i,r,a,n;e?(i=(t=this.associatedAxis.rect.left)+this.associatedAxis.rect.width,this._rulerTemplate&&(r=this.contentWidth,this.contentWidth>this.associatedAxis.rect.width?(r=this.associatedAxis.rect.width,this._rulerTemplate.setHmiProps(r,"HmiProps.Width"),this.contentWidthModified=!0):this.contentWidthModified&&(this._rulerTemplate.setHmiProps(r,"HmiProps.Width"),this.contentWidthModified=!1),a=this._rulerAttr.pos-r/2,n=this._rulerAttr.pos+r/2,a<t?(this.setRulerPosition(r,t,!0),this.rulerPosition<-1&&(this.rulerPosition=-1),this._rulerTemplate.RootNode.setAttribute("x",t)):i<n?(this.setRulerPosition(r,i,!1),1<this.rulerPosition&&(this.rulerPosition=1),this._rulerTemplate.RootNode.setAttribute("x",i-r)):(this.rulerPosition=0,this._rulerTemplate.RootNode.setAttribute("x",this._rulerAttr.pos-r/2)),this._rulerTemplate.setHmiProps(this.rulerPosition,"HmiProps.RulerPosition"),this.prevPos=this._rulerAttr.pos,this._rulerTemplate.RootNode.setAttribute("y",this._rulerAttr.start))):(i=(t=this.associatedAxis.rect.top)+this.associatedAxis.rect.height,this._rulerTemplate&&(r=this.contentHeight,this.contentHeight>this.associatedAxis.rect.height?(r=this.associatedAxis.rect.height,this._rulerTemplate.setHmiProps(r,"HmiProps.Height"),this.contentHeightModified=!0):this.contentHeightModified&&(this._rulerTemplate.setHmiProps(r,"HmiProps.Height"),this.contentHeightModified=!1),a=this._rulerAttr.pos-r/2,n=this._rulerAttr.pos+r/2,a<t?(this.setRulerPosition(r,t,!0),this.rulerPosition<-1&&(this.rulerPosition=-1),this._rulerTemplate.RootNode.setAttribute("y",t)):i<n?(this.setRulerPosition(r,i,!1),1<this.rulerPosition&&(this.rulerPosition=1),this._rulerTemplate.RootNode.setAttribute("y",i-r)):(this.rulerPosition=0,this._rulerTemplate.RootNode.setAttribute("y",this._rulerAttr.pos-r/2)),this._rulerTemplate.setHmiProps(this.rulerPosition,"HmiProps.RulerPosition"),this.prevPos=this._rulerAttr.pos,this._rulerTemplate.RootNode.setAttribute("cursor",this._cursorType),this._rulerTemplate.RootNode.setAttribute("x",this._rulerAttr.end-this.contentHeight),this._rulerTemplate.setHmiProps(this.associatedAxis.config.LabelFont,"HmiProps.Font")))},ln.prototype.setRulerPosition=function(e,t,i){this.rulerPosition=i?2*(this._rulerAttr.pos-t)/e-1:1-2*(t-this._rulerAttr.pos)/e},ln.prototype.setHandleDim=function(e,t,i){this._handleHeight=e,this._handleWidth=t,this._handleCornerRad=e/2,this._handleWidth+=this._handleCornerRad,this._singleCharWidth=-1,this._rulerType===this._rulerTypeEnum.Value&&void 0!==i&&(this._singleCharWidth=(this._handleWidth-this._defaultRulerProps.circleStrokeGap-this._defaultRulerProps.circleRadiusDiff-this._handleCornerRad)/i)},ln.prototype.setRulerAttrPos=function(e){this._rulerAttr=null,this._rulerAttr=e,this._updateRulerPosition()},ln.prototype.getRulerAttr=function(){return this._rulerAttr},ln.prototype.getId=function(){return this._rulerAttr.id},ln.prototype.setRulerColor=function(e){this._rulerType===this._rulerTypeEnum.RulerMin||this._rulerType===this._rulerTypeEnum.RulerMax?(!0===this.isProjVer16AndNotFunctionTrend&&this._handleArrow.setAttribute("fill",e),this._rulerLine.setAttribute("stroke",e)):!0===this.isProjVer16AndNotFunctionTrend&&this._rulerTemplate?this._rulerTemplate.RootNode.setAttribute("stroke",e):this._rulerRect.setAttribute("fill",e)},ln.prototype.setRulerData=function(e,t,i){this._rulerTemplate=e,this._rulerElementsGroup.appendChild(t),this.contentWidth=i.contentWidth,this.contentHeight=i.contentHeight,this.rulerPosition=i.rulerPosition,this.useOldStyle=i.useOldStyle},ln.prototype.resetRulerPosition=function(){this._rulerTemplate&&(this._rulerTemplate.setHmiProps(this.contentHeight,"HmiProps.Height"),this._rulerTemplate.setHmiProps(this.contentWidth,"HmiProps.Width"),this._rulerTemplate.update())},ln.prototype.setTextDim=function(){this.labelWidth=Z.getTextWidth(this._minMaxLabelValue,this.associatedAxis.config.LabelFont),this.labelHeight=Z.getTextHeight(this._minMaxLabelValue,this.associatedAxis.config.LabelFont)},ln.prototype.setThresholdValue=function(e){null===e?(this.thresholdValue=e,this._minMaxLabelValue="",this.labelWidth=this.labelHeight=0):(this.thresholdValue=e,this._minMaxLabelValue=this._minMaxLabel+": "+e,this.setTextDim())},ln.prototype.setRulerWidth=function(e){e=(this._rulerWidth=e)>this.HIGHLIGHT_WIDTH?e+this.RULER_BACK_LINE_WIDTH:this.HIGHLIGHT_WIDTH;this._rulerBckGrndLine.setAttribute("stroke-width",this._rulerWidth+this.RULER_BACK_LINE_WIDTH),this._rulerDummyLine.setAttribute("stroke-width",e),this._rulerRect&&(this._isLeftOrRight^Number(this._direction===this._rulerDirEnum.Horizontal)?this._setAttributes(this._rulerRect,{x:this._rulerAttr.pos-this._rulerWidth/2,width:this._rulerWidth}):this._setAttributes(this._rulerRect,{y:this._rulerAttr.pos-this._rulerWidth/2,height:this._rulerWidth}))},ln.prototype.showRulerDummyLine=function(){this._setAttributes(this._rulerDummyLine,{opacity:this.STROKE_OPACITY})},ln.prototype.hideRulerDummyLine=function(){this._setAttributes(this._rulerDummyLine,{opacity:0})},ln.prototype.updateRulerClipPath=function(e){this._rulerElementsGroup.setAttribute("clip-path",e)},ln.prototype.showRuler=function(){this._isRulerAddedToDOM||(this._rulerViewSVGGroup.appendChild(this._rulerElementsGroup),this._isRulerAddedToDOM=!0),this._setRulerVisibility("inherit")},ln.prototype.hideRuler=function(){this._setRulerVisibility("none")},ln.prototype._setRulerVisibility=function(e){this._setAttributes(this._rulerElementsGroup,{display:e}),this._setAttributes(this._rulerDummyLine,{display:e}),this._setAttributes(this._rulerBckGrndLine,{display:e}),!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{display:e}),this._rulerType===this._rulerTypeEnum.Time||this._rulerType===this._rulerTypeEnum.Value?(this._setAttributes(this._rulerRect,{display:e}),this._drawCircleHandle&&this._handleRect&&(this._setAttributes(this._handleRect,{display:e}),this._setAttributes(this._handleInnerRect,{display:e}))):(this._rulerText&&this._setAttributes(this._rulerText,{display:e}),this._setAttributes(this._rulerLine,{display:e}),this._setAttributes(this._handleArrowBckGrnd,{display:e}))},ln.prototype.cleanUp=function(){for(;this._rulerElementsGroup.firstChild;)this._rulerElementsGroup.removeChild(this._rulerElementsGroup.firstChild);this._rulerTemplate&&this._rulerTemplate.remove(),this._rulerAttr=this.fontFeature=this._setAttributes=this._rulerElementsGroup=this._rulerDummyLine=this._rulerBckGrndLine=this._handleArrow=this._rulerText=this._rulerDispDetails=this._rulerRect=this._handleRect=this._rulerTemplate=this._handleInnerRect=this._rulerLine=this._handleArrowBckGrnd=this.rulerColorIds=this._defaultRulerProps=this.associatedAxis=null},t.RulerBase=ln,t=(t=e=e||{}).Lib||(t.Lib={}),t=(S=t.NVEs||(t.NVEs={})).ChartElements||(S.ChartElements={}),o.prototype._getPercFromPos=function(e){this._horizontalRulerMove^this._isLeftOrRight?e.percOfPos=(e.pos-this._bounds.left)/this._bounds.width:e.percOfPos=(e.pos-this._bounds.top)/this._bounds.height},o.prototype._calculateDim=function(e){var t;return this._isLeftOrRight=this._trendView.isLeftOrRight(),this._bounds=this._trendWindow.getRect(),e?(e=this._trendWindow.getMinMaxRulerExtent(),t={},this._isLeftOrRight?(t.left=this._bounds.left,t.top=this._bounds.top,t.bottom=this._bounds.bottom,t.height=this._bounds.height,t.right=e,t.width=t.right-t.left):(t.left=this._bounds.left,t.right=this._bounds.right,t.bottom=this._bounds.bottom,t.width=this._bounds.width,t.top=e,t.height=t.bottom-t.top)):t=this._trendView.rulerFeature?(e=this._trendView.rulerFeature.Attributes,this._trendWindow.getRulerBounds(parseInt(e["high-extension"],10),parseInt(e["low-extension"],10))):this._trendWindow.getRulerBounds(0,0),this._bounds.right=this._bounds.left+this._bounds.width,this._bounds.bottom=this._bounds.top+this._bounds.height,t},o.prototype._init=function(){var e,t,i,r=this._id+"_statVertGradId",a=this._id+"_horizLineGrad",n=this._id+"_vertLineGrad",o=S.Data.RulerType,s=S.Data.RulerDirection,l=this._id+"_horizHandleGrad",u=this._id+"_verthandleGrad",h=this._trendWindow.getRect(),d=this._invertColor(this._trendWindow.getBackColor()),c=S.Utilities.getProjectMajorVersion(this._trendView.RTPUItem),p=0,m=0,g=S.Features.Shape.SvgShape.CreateSvgElement,T=[],f=this._trendWindow.config.BottomTimeAxes;if(Array.isArray(f))for(m=0;m<f.length;m++)f[m].Visible&&p++;if(f=this._trendWindow.config.TopTimeAxes,Array.isArray(f))for(m=0;m<f.length;m++)f[m].Visible&&p++;this._minMaxFontFeature=new S.Features.Font,e=g("defs",{id:this._id+"_rulerGradDefs"}),this._vertGrad=g("linearGradient",{id:n,x1:"0%",x2:"0%",y1:"100%",y2:"0%",appendTo:e}),g("stop",{offset:"0.0","stop-color":this._trendWindow.rulerColor,appendTo:this._vertGrad}),g("stop",{offset:"1.0","stop-color":this._trendWindow.rulerColor2,appendTo:this._vertGrad}),this._horizGrad=g("linearGradient",{id:a,x1:"0%",x2:"100%",y1:"0%",y2:"0%",appendTo:e}),g("stop",{offset:"0.0","stop-color":this._trendWindow.rulerColor,appendTo:this._horizGrad}),g("stop",{offset:"1.0","stop-color":this._trendWindow.rulerColor2,appendTo:this._horizGrad}),this._statVertGrad=g("linearGradient",{id:r,x1:"0%",x2:"0%",y1:"100%",y2:"0%",appendTo:e}),g("stop",{offset:"0.0","stop-color":this._trendWindow.statisticRulerColor,appendTo:this._statVertGrad}),g("stop",{offset:"1.0","stop-color":this._trendWindow.statisticRulerColor2,appendTo:this._statVertGrad}),i=g("linearGradient",{id:u,x1:"0%",x2:"0%",y1:"100%",y2:"0%",appendTo:e}),g("stop",{offset:"0%","stop-color":S.Data.RulerConstProps.handleGradColor1,appendTo:i}),g("stop",{offset:"100%","stop-color":S.Data.RulerConstProps.handleGradColor2,appendTo:i}),i=g("linearGradient",{id:l,x1:"0%",x2:"100%",y1:"0%",y2:"0%",appendTo:e}),g("stop",{offset:"0%","stop-color":S.Data.RulerConstProps.handleGradColor1,appendTo:i}),g("stop",{offset:"100%","stop-color":S.Data.RulerConstProps.handleGradColor2,appendTo:i}),i="url(#"+this._trendWindow.getVerticalRulerClipPathId()+")",t="url(#"+this._trendWindow.getHorizontalRulerClipPathId()+")";var y=this._trendWindow.ruler.Width,D=y>this.HIGHLIGHT_WIDTH?y+4:this.HIGHLIGHT_WIDTH;this._rulerViewGroup=g("g",{id:this._id+"_RulerViewGroup","clip-path":"inherit",stroke:d,"stroke-width":y}),this._rulerViewGroup.appendChild(e),T=[a,l,this._trendWindow.rulerColor],(g={rulerId:this._id+"_rulerMin",direction:s.Horizontal,rulerType:o.RulerMin,percOfPos:.8,rulerClipPath:t,rulerWidth:this._trendWindow.ruler.Width,rulerColorIds:T,dummyRulerWidth:D,showRuler:!1,handleHeight:0,handleWidth:0,drawCircleHandle:!1}).drawCircleHandle=1!==p,g.fontFeature=this._minMaxFontFeature,this._rulerMin=new S.ChartElements.RulerBase,g.minMaxLabel=this._trendView.minLabel,this._rulerMin.init(this._rulerViewGroup,h,this._isLeftOrRight,g,c,this._trendView.trendObjectType),g.rulerId=this._id+"_rulerMax",g.rulerType=o.RulerMax,g.percOfPos=.2,this._rulerMax=new S.ChartElements.RulerBase,g.minMaxLabel=this._trendView.maxLabel,this._rulerMax.init(this._rulerViewGroup,h,this._isLeftOrRight,g,c,this._trendView.trendObjectType),g.minMaxLabel=void 0,g.fontFeature=void 0,T=[n,u,this._trendWindow.rulerColor],g.rulerColorIds=T,g.showRuler=!1,(this._trendView.trendObjectType===S.Data.TrendObjectType.Online?(g.rulerId=this._id+"_ruler1",g.direction=s.Vertical,g.rulerType=o.Time,g.percOfPos=.5,g.rulerClipPath=i,this._ruler1=new S.ChartElements.RulerBase,this._ruler1.init(this._rulerViewGroup,h,this._isLeftOrRight,g,c,this._trendView.trendObjectType),T=[r,u,this._trendWindow.statisticRulerColor],g.rulerColorIds=T,g.rulerWidth=this._trendWindow.statisticRulers.Width,g.rulerWidth>this.HIGHLIGHT_WIDTH?g.dummyRulerWidth=g.rulerWidth+4:g.dummyRulerWidth=this.HIGHLIGHT_WIDTH,g.rulerId=this._id+"_rulerStat1",g.percOfPos=.25,g.direction=s.Vertical,g.rulerType=o.Time,g.rulerWidth=this._trendWindow.statisticRulers.Width,this._rulerStat1=new S.ChartElements.RulerBase,this._rulerStat1.init(this._rulerViewGroup,h,this._isLeftOrRight,g,c,this._trendView.trendObjectType),g.rulerId=this._id+"_rulerStat2",g.percOfPos=.75,this._rulerStat2=new S.ChartElements.RulerBase,this._rulerStat2):(g.rulerId=this._id+"_ruler1",g.direction=s.Vertical,g.rulerType=o.Value,g.percOfPos=.5,g.rulerClipPath=i,this._ruler1=new S.ChartElements.RulerBase,this._ruler1.init(this._rulerViewGroup,h,this._isLeftOrRight,g,c,this._trendView.trendObjectType),T=[a,l,this._trendWindow.rulerColor],g.rulerColorIds=T,g.rulerId=this._id+"_rulerHoriz",g.rulerClipPath=t,g.direction=s.Horizontal,this._rulerHoriz=new S.ChartElements.RulerBase,this._rulerHoriz)).init(this._rulerViewGroup,h,this._isLeftOrRight,g,c,this._trendView.trendObjectType)},o.prototype.getRulerType=function(){return{regularvertical:this._ruler1,regularhorizontal:this._rulerHoriz,min:this._rulerStat1,max:this._rulerStat2}},o.prototype._rotateGradients=function(){this._isLeftOrRight?(this._vertGrad.setAttributeNS(null,"x2","0%"),this._vertGrad.setAttributeNS(null,"y1","100%"),this._horizGrad.setAttributeNS(null,"x2","100%"),this._horizGrad.setAttributeNS(null,"y1","0%"),this._statVertGrad.setAttributeNS(null,"x2","0%"),this._statVertGrad.setAttributeNS(null,"y1","100%")):(this._vertGrad.setAttributeNS(null,"x2","100%"),this._vertGrad.setAttributeNS(null,"y1","0%"),this._horizGrad.setAttributeNS(null,"x2","0%"),this._horizGrad.setAttributeNS(null,"y1","100%"),this._statVertGrad.setAttributeNS(null,"x2","100%"),this._statVertGrad.setAttributeNS(null,"y1","0%"))},o.prototype.draw=function(){var e=this._calculateDim(!1);this._svgParent=this._trendWindow.getSVG(),this._svgParent.appendChild(this._rulerViewGroup),this._ruler1.setDims(this._isLeftOrRight,this._bounds,e),(this._trendView.trendObjectType!==S.Data.TrendObjectType.Online?this._rulerHoriz:(this._rulerStat1.setDims(this._isLeftOrRight,this._bounds,e),this._rulerStat2)).setDims(this._isLeftOrRight,this._bounds,e),this.update()},o.prototype.update=function(){var e=this._calculateDim(!1);this._trendView.enabled?this._isLeftOrRight?(this._cursorType="ew-resize",this._horizRulerCursorType="ns-resize"):(this._cursorType="ns-resize",this._horizRulerCursorType="ew-resize"):(this._cursorType="default",this._horizRulerCursorType="default"),this._rotateGradients(),this._trendView.trendObjectType===S.Data.TrendObjectType.Online?(this._trendView.getShowRuler()&&this._ruler1.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,e),this._trendView.getShowStatisticRuler()&&(this._rulerStat1.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,e),this._rulerStat2.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,e))):this._trendView.getShowRuler()&&(this._ruler1.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,e),this._rulerHoriz.updateRuler(this._isLeftOrRight,this._horizRulerCursorType,this._bounds,e)),e=this._calculateDim(!0),this._rulerMinEnabled&&this._rulerMin.updateRuler(this._isLeftOrRight,"default",this._bounds,e),this._rulerMaxEnabled&&this._rulerMax.updateRuler(this._isLeftOrRight,"default",this._bounds,e),this._updateMinMaxRulerPosition()},o.prototype.updateExtent=function(){var e="url(#"+this._trendWindow.getVerticalRulerClipPathId()+")",t="url(#"+this._trendWindow.getHorizontalRulerClipPathId()+")";this._rulerViewGroup.setAttribute("clip-path","inherit"),this._ruler1.updateRulerClipPath(e),this._trendView.trendObjectType!==S.Data.TrendObjectType.Online?this._rulerHoriz.updateRulerClipPath(t):(this._rulerStat1.updateRulerClipPath(e),this._rulerStat2.updateRulerClipPath(e)),this._rulerMin.updateRulerClipPath(t),this._rulerMax.updateRulerClipPath(t),this.update()},o.prototype.updateAssociatedAxes=function(){var e,t,i=[],r=this._trendWindow.getXAxes(),a=this._trendView.trendObjectType===S.Data.TrendObjectType.Online,n=this._trendView.trendObjectType===S.Data.TrendObjectType.Function;if(a&&17<=this._trendView.currProjectVersion||""===this._trendView.currProjectVersion||n)this._trendWindow.selectedTrend||(this._trendWindow.selectedTrend=this._trendWindow.trends[0]),t=this._trendWindow.selectedTrend&&this._trendWindow.selectedTrend.currentXAxis?this._trendWindow.selectedTrend.currentXAxis:r[0],this._ruler1.associatedAxis=t,this._trendView.getShowRuler()&&this._ruler1.showRuler(),a&&(this._rulerStat1.associatedAxis=t,this._trendView.getShowStatisticRuler()&&this._rulerStat1.showRuler(),this._rulerStat2.associatedAxis=t,this._trendView.getShowStatisticRuler())&&this._rulerStat2.showRuler(),t&&!t.updateRulerLabelFont&&(t.updateRulerLabelFont=this.updateRulerLabelFont.bind(this)),t=null,a||(r=this._trendWindow.getYAxes(),t=this._trendWindow.selectedTrend&&this._trendWindow.selectedTrend.currentYAxis?this._trendWindow.selectedTrend.currentYAxis:r[0],this._rulerHoriz.associatedAxis=t,this._trendView.getShowRuler()&&this._rulerHoriz.showRuler(),t&&!t.updateRulerLabelFont&&(t.updateRulerLabelFont=this.updateRulerLabelFont.bind(this)));else{for(e=0;e<r.length;e++)r[e].config.Visible&&i.push(r[e]);if(1===i.length?(t=i[0],this._ruler1.associatedAxis||(this._ruler1.associatedAxis=t,this._trendView.getShowRuler()&&this._ruler1.showRuler(),this._ruler1.toggleHandleCircle(!1)),a&&(this._rulerStat1.associatedAxis||(this._rulerStat1.associatedAxis=t,this._trendView.getShowStatisticRuler()&&this._rulerStat1.showRuler(),this._rulerStat1.toggleHandleCircle(!1)),this._rulerStat2.associatedAxis||(this._rulerStat2.associatedAxis=t,this._trendView.getShowStatisticRuler()&&this._rulerStat2.showRuler(),this._rulerStat2.toggleHandleCircle(!1))),t.updateRulerLabelFont||(t.updateRulerLabelFont=this.updateRulerLabelFont.bind(this)),t=null):(this._ruler1.associatedAxis&&(this._ruler1.associatedAxis.updateRulerLabelFont=null),this._ruler1.associatedAxis=null,this._ruler1.toggleHandleCircle(!0),a&&(this._rulerStat1.associatedAxis=null,this._rulerStat1.toggleHandleCircle(!0),this._rulerStat2.associatedAxis=null,this._rulerStat2.toggleHandleCircle(!0))),!a){for(r=this._trendWindow.getYAxes(),i=[],e=0;e<r.length;e++)r[e].config.Visible&&i.push(r[e]);1===i.length?(t=i[0],this._rulerHoriz.associatedAxis||(this._rulerHoriz.associatedAxis=t,this._trendView.getShowRuler()&&this._rulerHoriz.showRuler()),t.updateRulerLabelFont||(t.updateRulerLabelFont=this.updateRulerLabelFont.bind(this))):(this._rulerHoriz.associatedAxis&&(this._rulerHoriz.associatedAxis.updateRulerLabelFont=null),this._rulerHoriz.associatedAxis=null,this._rulerHoriz.toggleHandleCircle(!0))}}},o.prototype.updateRulerLabelFont=function(){this._ruler1.updateLabelFont(),(this._trendView.trendObjectType===S.Data.TrendObjectType.Online?(this._rulerStat1.updateLabelFont(),this._rulerStat2):this._rulerHoriz).updateLabelFont()},o.prototype.updateMinMaxRulerLabelFont=function(){var e=!1;this._rulerMaxEnabled&&(e=!0,this._rulerMax.setTextDim()),this._rulerMinEnabled&&(e=!0,this._rulerMin.setTextDim()),this.setMinMaxTextDim(),e&&this._minMaxFontFeature.redraw()},o.prototype.updateVerticalRulerLabels=function(){this._svgParent&&(this._trendView.getShowRuler()&&this._ruler1.updateRulerLabel(),this._trendView.getShowStatisticRuler())&&(this._rulerStat1.updateRulerLabel(),this._rulerStat2.updateRulerLabel())},o.prototype.updateHorizontalRulerLabels=function(){this._svgParent&&this._trendView.getShowRuler()&&this._rulerHoriz.updateRulerLabel()},o.prototype.updateRulerOrientation=function(e){var t=S.getChromEnum("HmiOrientation");e?(this._ruler1._rulerTemplate.setHmiProps(t.Vertical,"HmiProps.Orientation"),this._rulerHoriz._rulerTemplate.setHmiProps(t.Horizontal,"HmiProps.Orientation")):(this._ruler1._rulerTemplate.setHmiProps(t.Horizontal,"HmiProps.Orientation"),this._rulerHoriz._rulerTemplate.setHmiProps(t.Vertical,"HmiProps.Orientation")),this._ruler1._rulerTemplate.update(),this._rulerHoriz._rulerTemplate.update()},o.prototype.getRulerHandleWidthHeight=function(){var e,t,i,r=0,a=0,n=0,o=0,s=S.Data.RulerConstProps.topBottomPaddingFactor,r=a=n=o=30;return this._trendView.trendObjectType===S.Data.TrendObjectType.Online?(e=this._ruler1.associatedAxis)&&e.config&&(r=s*e.bBoxText.height+10,a=e.bBoxText.width+10):((e=this._ruler1.associatedAxis)&&e.config&&(r=s*e.getBBoxText().height+10,a=e.getBBoxText().width+10,t=e.labelText.length),(e=this._rulerHoriz.associatedAxis)&&e.config&&(n=s*e.getBBoxText().height+10,o=e.getBBoxText().width+10,i=e.labelText.length)),{xHeight:r,xWidth:a,yHeight:n,yWidth:o,yLabelTextLength:i,xLabelTextLength:t}},o.prototype.setRulerHandleDim=function(){var e=this.getRulerHandleWidthHeight(),t=e.xHeight,i=e.xWidth,r=e.xLabelTextLength;this._ruler1.setHandleDim(t,i,r),this._trendView.trendObjectType===S.Data.TrendObjectType.Online?(this._rulerStat1.setHandleDim(t,i),this._rulerStat2.setHandleDim(t,i)):(t=e.yHeight,i=e.yWidth,r=e.yLabelTextLength,this._rulerHoriz.setHandleDim(t,i,r))},o.prototype.setMinMaxRulerTrend=function(){var e;this._rulerMaxEnabled=this._rulerMinEnabled=!1,this._rulerMin.associatedAxis&&(this._rulerMin.associatedAxis.moveMinMaxRuler=null,this._rulerMin.associatedAxis.updateRulerLabelFont=null,this._rulerMin.associatedAxis=null,this._rulerMin.setThresholdValue(null)),this._rulerMax.associatedAxis&&(this._rulerMax.associatedAxis.moveMinMaxRuler=null,this._rulerMax.associatedAxis.updateRulerLabelFont=null,this._rulerMax.associatedAxis=null,this._rulerMax.setThresholdValue(null)),this._trendWindow.selectedTrend?(e=this._trendWindow.selectedTrend.currentYAxis,this._rulerMin.associatedAxis=e,this._rulerMax.associatedAxis=e,this._minMaxFontFeature.Attributes.scope=this._trendWindow.selectedTrend.currentYAxis.config.LabelFont,this._minMaxFontFeature.redraw(),e.moveMinMaxRuler=this._updateMinMaxRulerPosition.bind(this),e.updateRulerLabelFont=this.updateMinMaxRulerLabelFont.bind(this),void 0!==(e=this._trendWindow.selectedTrend.getMinMaxThresholds()).maximumValue?(this._rulerMax.setThresholdValue(e.maximumValue),this._rulerMax.setRulerColor(e.maximumColor),this._rulerMaxEnabled=!0,this._rulerMax.showRuler()):this._rulerMax.hideRuler(),void 0!==e.minimumValue?(this._rulerMin.setThresholdValue(e.minimumValue),this._rulerMin.setRulerColor(e.minimumColor),this._rulerMinEnabled=!0,this._rulerMin.showRuler()):this._rulerMin.hideRuler(),this.setMinMaxTextDim()):(this._rulerMax.hideRuler(),this._rulerMin.hideRuler())},o.prototype.updateMinMaxRulers=function(){var e;(this._rulerMinEnabled||this._rulerMaxEnabled)&&(e=this._calculateDim(!0),this._rulerMin.updateRuler(this._isLeftOrRight,"default",this._bounds,e),this._rulerMax.updateRuler(this._isLeftOrRight,"default",this._bounds,e),this._updateMinMaxRulerPosition())},o.prototype.setMinMaxTextDim=function(){this.minMaxTextBBox={width:(this._rulerMin.labelWidth>this._rulerMax.labelWidth?this._rulerMin:this._rulerMax).labelWidth,height:(this._rulerMin.labelHeight>this._rulerMax.labelHeight?this._rulerMin:this._rulerMax).labelHeight}},o.prototype.onPointerMove=function(e,t){var i,r=1;return r<1&&-1===navigator.appName.indexOf("Microsoft")||(r=1),!!this._moveStatus&&(this._horizontalRulerMove^this._isLeftOrRight?(i=e-this.panDeltaCoords.x,this._movingRulerAttr.pos=this._movingRulerAttr.pos+i/r,this._movingRulerAttr.pos<this._bounds.left?this._movingRulerAttr.pos=this._bounds.left:this._movingRulerAttr.pos>this._bounds.right&&(this._movingRulerAttr.pos=this._bounds.right)):(i=t-this.panDeltaCoords.y,this._movingRulerAttr.pos=this._movingRulerAttr.pos+i/r,this._movingRulerAttr.pos<this._bounds.top?this._movingRulerAttr.pos=this._bounds.top:this._movingRulerAttr.pos>this._bounds.bottom&&(this._movingRulerAttr.pos=this._bounds.bottom)),this._horizontalRulerMove?(this._movingRuler===this._rulerHoriz&&this._rulerHoriz.setRulerAttrPos(this._movingRulerAttr),this._svgParent.style.cursor=this._horizRulerCursorType):(this._movingRuler===this._ruler1&&this._ruler1.setRulerAttrPos(this._movingRulerAttr),this._movingRuler===this._rulerStat2?this._rulerStat2.setRulerAttrPos(this._movingRulerAttr):this._movingRuler===this._rulerStat1&&this._rulerStat1.setRulerAttrPos(this._movingRulerAttr),this._svgParent.style.cursor=this._cursorType),this._getPercFromPos(this._movingRulerAttr),this.panDeltaCoords.x=e,this.panDeltaCoords.y=t,(this._trendView.trendCompanionConstUpdate||this._trendView.secondaryRulerToolTip)&&this._trendView.calculateRulerData(this._trendWindow.config.Name),!0)},o.prototype.flipRulerSecondaryText=function(e,t,i,r,a,n){var o,s;t&&(this._trendView.isLeftOrRight()?Math.round(i._currentTimeAxis.rect.width+i._currentTimeAxis.rect.left)-Math.round(r+a)<=0?(-1<t.indexOf("scale")?t=t.split(" ")[0]+" scale(-1,-1)":t+=" scale(-1,-1)",o="(180, "+.52*a+","+.75*n+")"):(o="(0,0,0)",-1<t.indexOf("scale")?t=t.split(" ")[0]+" scale(1,1)":t+=" scale(1,1)"):(s=.65*a,n=2*n,Math.round(i._currentTimeAxis.rect.height+i._currentTimeAxis.rect.top)-Math.round(r+a)<=0?(-1<t.indexOf("scale")?t=t.split(" ")[0]+" scale(-1,-1)":t+=" scale(-1,-1)",o="(90, 0,0)",n=0<n?-n:n,e.setDataContent({positionX:s=0<s?s:-s})):(-1<t.indexOf("scale")?t=t.split(" ")[0]+" scale(1,1)":t+=" scale(1,1)",o="(-90, 0,0)",n=0<n?n:-n,e.setDataContent({positionX:s=0<s?-s:s})),e.setDataContent({positionY:n})),e.RootNode.parentNode.setAttribute("transform",t),e.setDataContent({RotationAngle:o}),e.update())},o.prototype.onPointerUp=function(){this._movingRuler.hideRulerDummyLine(),this._movingRuler=null,this._movingRulerAttr=null,this._horizontalRulerMove=!1,this._moveStatus=!1,this.panDeltaCoords={x:0,y:0},this._svgParent.style.cursor=this._initialSVGCursor},o.prototype.onPointerDown=function(e){this._moveStatus=!0,this._movingRuler||(this._moveStatus=this.findMatch(e)),this._movingRuler.showRulerDummyLine(),this._initialSVGCursor=this._svgParent.style.cursor},o.prototype.hideRuler=function(){this._ruler1.hideRuler(),this._trendView.trendObjectType!==S.Data.TrendObjectType.Online&&this._rulerHoriz.hideRuler()},o.prototype.showRuler=function(){var e=this._calculateDim(!1);this._ruler1.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,e),this._ruler1.showRuler(),this._trendView.trendObjectType!==S.Data.TrendObjectType.Online&&(this._rulerHoriz.updateRuler(this._isLeftOrRight,this._horizRulerCursorType,this._bounds,e),this._rulerHoriz.showRuler())},o.prototype.resetRulerPosition=function(){this._ruler1.resetRulerPosition(),(this._trendView.trendObjectType===S.Data.TrendObjectType.Function?this._rulerHoriz:(this._rulerStat1.resetRulerPosition(),this._rulerStat2)).resetRulerPosition()},o.prototype.isMinMaxRulerEnabled=function(){return this._rulerMinEnabled||this._rulerMaxEnabled},o.prototype.hideStatisticRuler=function(){this._rulerStat1.hideRuler(),this._rulerStat2.hideRuler()},o.prototype.showStatisticRuler=function(){var e=this._calculateDim(!1);this._rulerStat1.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,e),this._rulerStat1.showRuler(),this._rulerStat2.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,e),this._rulerStat2.showRuler()},o.prototype.findMatch=function(e){var t=!0,i=e.id;return-1!==i.indexOf(this._ruler1.getId())||this._ruler1._rulerTemplate&&this.domMatch(e,this._ruler1._rulerTemplate.RootNode)?(this._movingRuler=this._ruler1,this._movingRulerAttr=this._ruler1.getRulerAttr()):this._rulerStat1&&(-1!==i.indexOf(this._rulerStat1.getId())||this._rulerStat1._rulerTemplate&&this.domMatch(e,this._rulerStat1._rulerTemplate.RootNode))?(this._movingRuler=this._rulerStat1,this._movingRulerAttr=this._rulerStat1.getRulerAttr()):this._rulerStat2&&(-1!==i.indexOf(this._rulerStat2.getId())||this._rulerStat2._rulerTemplate&&this.domMatch(e,this._rulerStat2._rulerTemplate.RootNode))?(this._movingRuler=this._rulerStat2,this._movingRulerAttr=this._rulerStat2.getRulerAttr()):this._rulerHoriz&&(-1!==i.indexOf(this._rulerHoriz.getId())||this._rulerHoriz._rulerTemplate&&this.domMatch(e,this._rulerHoriz._rulerTemplate.RootNode))?(this._movingRuler=this._rulerHoriz,this._movingRulerAttr=this._rulerHoriz.getRulerAttr(),this._horizontalRulerMove=!0):t=!1,t},o.prototype.domMatch=function(e,t){return e===t||e!==this._trendView.SVGParent&&this.domMatch(e.parentNode,t)},o.prototype.getVertRulerPos=function(){return this._ruler1.getRulerPos()},o.prototype.getHorizRulerPos=function(){return this._rulerHoriz.getRulerPos()},o.prototype.getStatisticRulerPos=function(){var e={lowerLimit:0,upperLimit:0};return e.lowerLimit=this._rulerStat1.getRulerPos(),e.upperLimit=this._rulerStat2.getRulerPos(),e},o.prototype.updateColor=function(e){this._setAttributes(this._rulerViewGroup,{stroke:this._invertColor(e)})},o.prototype.onUpdate=function(e){var t=S.Data.TrendWindowPropId;switch(e){case t.RulerColor:this._trendWindow.templateStroke||(this._vertGrad.childNodes[0].setAttributeNS(null,"stop-color",this._trendWindow.rulerColor),this._vertGrad.childNodes[1].setAttributeNS(null,"stop-color",this._trendWindow.rulerColor2),this._ruler1.setRulerColor(this._trendWindow.rulerColor),this._rulerHoriz&&(this._horizGrad.childNodes[0].setAttributeNS(null,"stop-color",this._trendWindow.rulerColor),this._horizGrad.childNodes[1].setAttributeNS(null,"stop-color",this._trendWindow.rulerColor2),this._rulerHoriz.setRulerColor(this._trendWindow.rulerColor)));break;case t.RulerWidth:this._trendWindow.templateStrokeWidth||(this._ruler1.setRulerWidth(this._trendWindow.ruler.Width),this._rulerHoriz&&this._rulerHoriz.setRulerWidth(this._trendWindow.ruler.Width));break;case t.StatisticRulerStyle:this._statVertGrad.childNodes[0].setAttributeNS(null,"stop-color",this._trendWindow.statisticRulerColor),this._statVertGrad.childNodes[1].setAttributeNS(null,"stop-color",this._trendWindow.statisticRulerColor2),this._rulerStat1.setRulerColor(this._trendWindow.statisticRulerColor),this._rulerStat1.setRulerWidth(this._trendWindow.statisticRulers.Width),this._rulerStat2.setRulerColor(this._trendWindow.statisticRulerColor),this._rulerStat2.setRulerWidth(this._trendWindow.statisticRulers.Width);break;case t.StatisticRulerColor:this._trendWindow.templateStrokeWidth||(this._statVertGrad.childNodes[0].setAttributeNS(null,"stop-color",this._trendWindow.statisticRulerColor),this._statVertGrad.childNodes[1].setAttributeNS(null,"stop-color",this._trendWindow.statisticRulerColor2),this._rulerStat1.setRulerColor(this._trendWindow.statisticRulerColor),this._rulerStat2.setRulerColor(this._trendWindow.statisticRulerColor));break;case t.StatisticRulerWidth:this._rulerStat1.templateStrokeWidth||this._rulerStat2.templateStrokeWidth||(this._rulerStat1.setRulerWidth(this._trendWindow.statisticRulers.Width),this._rulerStat2.setRulerWidth(this._trendWindow.statisticRulers.Width))}},o.prototype.getRulerGrad=function(){return this._vertGrad},o.prototype.getStatisticRulerGrad=function(){return this._statVertGrad},o.prototype.cleanUp=function(){var e;for(this._trendView.isStyleChange()&&((e=new S.Data.RulerData)._ruler1=Object.assign({},this._ruler1._rulerAttr),e._rulerMin=Object.assign({},this._rulerMin._rulerAttr),e._rulerMax=Object.assign({},this._rulerMax._rulerAttr),this._trendView.trendObjectType===S.Data.TrendObjectType.Function?e._rulerHoriz=Object.assign({},this._rulerHoriz._rulerAttr):(e._rulerStat1=Object.assign({},this._rulerStat1._rulerAttr),e._rulerStat2=Object.assign({},this._rulerStat2._rulerAttr)),S.Data.RulerDataStore.store(this._trendWindow.config.ElementID,e)),this._ruler1.cleanUp(),this._trendView.getShowStatisticRuler()&&(this._rulerStat1.cleanUp(),this._rulerStat2.cleanUp()),this._trendView.trendObjectType!==S.Data.TrendObjectType.Online&&this._rulerHoriz.cleanUp(),this._rulerMin.cleanUp(),this._rulerMax.cleanUp(),this._minMaxFontFeature.reset(),this._minMaxFontFeature.Attributes=[],this._minMaxFontFeature.remove();this._vertGrad.firstChild;)this._vertGrad.removeChild(this._vertGrad.firstChild);for(;this._horizGrad.firstChild;)this._horizGrad.removeChild(this._horizGrad.firstChild);for(;this._statVertGrad.firstChild;)this._statVertGrad.removeChild(this._statVertGrad.firstChild);for(;this._rulerViewGroup.firstChild;)this._rulerViewGroup.removeChild(this._rulerViewGroup.firstChild);for(;this._rulerViewGroup.firstChild;)this._rulerViewGroup.removeChild(this._rulerViewGroup.firstChild);this._setAttributes=this._movingRuler=this._movingRulerAttr=this._vertGrad=this._horizGrad=this._statVertGrad=this._ruler1=this._rulerHoriz=this._rulerStat1=this._rulerStat2=this._rulerMin=this._rulerMax=this._minMaxFontFeature=this.minMaxTextBBox=this._trendView=this._trendWindow=this._svgParent=this._rulerViewGroup=this._bounds=null},t.RulerView=o,t=(t=e=e||{}).Lib||(t.Lib={}),t=(Q=t.NVEs||(t.NVEs={})).ChartElements||(Q.ChartElements={}),un.prototype.setPropPart=function(e,t){this.propThreshold[e]=t},un.prototype.cleanUp=function(){this.propThreshold=null,this.parentLimits=null,this.addToThresholdRange=null,this.prev=null,this.next=null},t.Threshold=un,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Data||(t.Data={}),hn.store=function(e,t){hn._storage[e]=t},hn.retrieve=function(e){var t=hn._storage[e];return hn.clear(e),t},hn.clear=function(e){hn._storage[e]=null},hn._storage={},t.AxisDataStore=hn,t.AxisData=function(e,t){this.beginValue=e,this.endValue=t},t=(t=e=e||{}).Lib||(t.Lib={}),t=(d=t.NVEs||(t.NVEs={})).ChartElements||(d.ChartElements={}),J=t.AxisBase,i(h,J),h.prototype._setZoomValues=function(){var e,t=this.endValueBuffer-this.startValueBuffer,i=this.currentEndValue-this.currentBeginValue;if(t<=i)this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.startValueBuffer,this.zoomInOutCount=0;else for(this.currentBeginValue<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.currentBeginValue+i):this.currentEndValue>this.endValueBuffer&&(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.currentEndValue-i),this.zoomInOutCount=0;this.zoomInOutCount++,i<(t/=2););(e=this.trendView.getDrawableTrendWindowByName(this.trendWindow))&&e.updateHorizScrollbar(!0)},h.prototype._setOrientationAndStartEndTimes=function(){var e,t=this.textOrientation;return this.axisBeginValue>this.axisEndValue?(this.trendView.isLeftOrRight()?this.textOrientation=d.Data.TextOrientation.FromLeft:this.textOrientation=d.Data.TextOrientation.FromTop,e=this.axisBeginValue,this.axisBeginValue=this.axisEndValue,this.axisEndValue=e):this.trendView.isLeftOrRight()?this.textOrientation=d.Data.TextOrientation.FromRight:this.textOrientation=d.Data.TextOrientation.FromBottom,this.setStraightDialOrientationProps(),t!==this.textOrientation},h.prototype._calculateRange=function(){var e,t,i,r,a=!1,n=0,o=0,s=0;if(this.trendView.isOnline()&&this.alwaysShowRecent){for(a=!0,i=this.parentTrendWindow.drawableTrends.length,e=0;e<i;e++)(t=this.parentTrendWindow.drawableTrends[e]).getXAxis()===this.config.Name&&(0<(r=t.getXStartValue())&&(0===n||r<n)&&(n=r),0<(r=t.getXEndValue()))&&o<r&&(o=r);if(0<n&&n<=o){switch(s=0,this.config.RangeType){case this._rangeType.TimeRange:s=this.calculateTimeRange();break;case this._rangeType.FromBeginToEnd:s=this.axisTimeRange;break;case this._rangeType.PointCount:s=0}0<s?(this.currentEndValue=o,this.currentBeginValue=this.currentEndValue-s,this.invalidated=!0):n<o?(this.currentEndValue=o,this.currentBeginValue=o-n<h.MIN_AXIS_RANGE?o-h.MIN_AXIS_RANGE:n,this.invalidated=!0):n===o&&(this.currentEndValue=o,this.currentBeginValue=o-h.MIN_AXIS_RANGE,this.invalidated=!0)}}return a},h.prototype.updateForTimeRangeFactor=function(){this.config.RangeType===d.getChromEnum("HmiTimeRangeType").TimeRange&&(this.axisTimeRange=this.calculateTimeRange(),this.trendView.isOnline()&&this.alwaysShowRecent?this.currentBeginValue=this.currentEndValue-this.axisTimeRange:0<this.zoomInOutCount?(this.endValueBuffer=this.startValueBuffer+this.axisTimeRange,this._setZoomValues()):this.currentEndValue=this.currentBeginValue+this.axisTimeRange,this.trendView.isOnline()?this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,!0,!0):this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),d.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.trendView.setAnimationFactors()),d.Data.PostPropertyUpdate.Update=!0},h.prototype._animateInvalidation=function(e){var t,i,r,a,n=0,o=5,s=this.currentBeginValue;!1===this._animatingInvalidation&&(this._calculateRange(),this.currentBeginValue<e?this.invalidated&&1<this.config.PointCount&&this.currentEndValue-this.currentBeginValue>d.Data.FileTime.Sec&&!this.isPointCountForceAnim&&(t=this.currentBeginValue,this.currentBeginValue=s,t!==s)&&(i=(t-s)/o,r=function(){var e;if(n++,this.currentBeginValue=n===o?t:s+n*i,this.calculateAndUpdate(),(e=this.trendView.getDrawableTrendWindowByName(this.trendWindow))&&e.reDraw(this.config.Name,null),n===o)return r=a=null,this._animatingInvalidation=!1},a=function(){var e;this.currentBeginValue!==t&&this.isPointCountForceAnim&&(this.currentBeginValue=t,this.calculateAndUpdate(),(e=this.trendView.getDrawableTrendWindowByName(this.trendWindow))&&e.reDraw(this.config.Name,null),this.isPointCountForceAnim=!1),r=a=null,this._animatingInvalidation=!1},this.trendView.trendControlAnimator.addValueAxisAnimation(this.axisPbId,r.bind(this),a.bind(this),{newBeginValue:t}),this._animatingInvalidation=!0):(this.currentBeginValue=s,this.isPointCountForceAnim=!1)),this.currentEndValue=e},h.prototype.alignToCurrentTime=function(e){var t;this.config.RangeType===this._rangeType.PointCount?(this.translate=0,this._animateInvalidation(e),this.calculateAndUpdate()):(t=this.translateAxis(this.currentEndValue-e),this.currentEndValue=e,this.currentBeginValue=e-this.axisTimeRange,!1===t?this.calculateAndUpdate():(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.parentTrendWindow.updateRulerLabel(this))},h.prototype.setTimesForContext=function(){var e=d.Data.AxisPropId;0<this.zoomInOutCount&&this._setZoomValues(),this.OnUpdate(e.BeginTime,this.config.BeginTime)},h.prototype.translateAxis=function(e){var t,i,r,a,n=d.Data.TextOrientation;return this.config.Visible?(i=!0,t=this.currentEndValue-this.currentBeginValue,n=this.textOrientation===n.FromRight||this.textOrientation===n.FromBottom?1:-1,this.textOrientation===d.Data.TextOrientation.FromRight||this.textOrientation===d.Data.TextOrientation.FromLeft?(a=this.innerRect.width,this.translate+=n*(a/t*e),(r=(r=this.translate)<0?Math.abs(r):r)>a*(this.straightDialCount-1)&&(i=!1,this.translate=0),this.setMatrix("e")):(a=this.innerRect.height,this.translate+=n*(a/t*e),(r=(r=this.translate)<0?Math.abs(r):r)>a*(this.straightDialCount-1)&&(i=!1,this.translate=0),this.setMatrix("f"))):i=!1,i},h.prototype.setMatrix=function(e){this.config.Visible&&this.matrix[e]!==this.translate&&(this.matrix[e]=this.translate)},h.prototype.invalidate=function(){return this.invalidated=!1,this._calculateRange()&&this.invalidated&&this.alwaysShowRecent&&this.calculateAndUpdate(),this.invalidated},h.prototype.calculateAndUpdate=function(e,t){var i,r,a,n=this.config.Visible&&this.trendWindowDrawable&&!e,o=this.currentEndValue-this.currentBeginValue,s=this.textOrientation===d.Data.TextOrientation.FromRight||this.textOrientation===d.Data.TextOrientation.FromTop?(i=this.currentBeginValue,this.currentEndValue):(i=this.currentEndValue,this.currentBeginValue);for(this.translate&&(this.translate=0,this.setMatrix(this.trendView.isLeftOrRight()?"e":"f")),this.dialsForPan&&(i-=this.boundingDialsForPanCount*o,s-=this.boundingDialsForPanCount*o),r=0;r<this.straightDialCount;r++)(a=this.straightDials[r].Features[0]).Attributes["begin-value"]=i,a.Attributes["end-value"]=s,n&&a.draw(a.webRTPUItem,a.metaData),i+=o,s+=o;t||!this.trendView.getShowRuler()&&!this.trendView.getShowStatisticRuler()||this.parentTrendWindow.updateRulerLabel(this)},h.prototype.historicalInvalidate=function(){for(var e,t,i,r,a=this.parentTrendWindow.drawableTrends.length,n=0,o=0,s=0,l=[],u=0;u<a;u++)!1!==(e=this.parentTrendWindow.drawableTrends[u]).historicalDataReceived&&e.getXAxis()===this.config.Name&&(l.push(e),0<(t=e.getXStartValue())&&(0===n||t<n)&&(n=t),t=e.getXEndValue(),0<(t=this.config.RangeType===d.getChromEnum("HmiTimeRangeType").PointCount&&e.tagList.items.length>this.config.PointCount?e.tagList.items[this.config.PointCount-1].xTagValue:t))&&o<t&&(o=t);if(0!==l.length){if(0<this.zoomInOutCount&&(i=this.currentBeginValue-this.startValueBuffer,r=this.endValueBuffer-this.currentEndValue),0<n&&n<=o){switch(s=0,this.config.RangeType){case this._rangeType.TimeRange:s=0<this.zoomInOutCount?this.currentEndValue-this.currentBeginValue:this.calculateTimeRange();break;case this._rangeType.FromBeginToEnd:s=this.axisTimeRange;break;case this._rangeType.PointCount:s=0}0<s?this.trendView.moveToType===d.Data.MoveToType.MoveToFirst?(this.currentBeginValue=n,this.currentEndValue=n+s):(this.currentEndValue=o,this.currentBeginValue=this.currentEndValue-s):n<o?(this.currentEndValue=o,this.currentBeginValue=o-n<h.MIN_AXIS_RANGE?o-h.MIN_AXIS_RANGE:n):n===o&&(this.currentEndValue=o,this.currentBeginValue=o-h.MIN_AXIS_RANGE)}if(0<this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue-i,this.endValueBuffer=this.currentEndValue+r),this.config.RangeType!==this._rangeType.PointCount)for(a=l.length,u=0;u<a;u++)l[u].historicalInvalidate();this.alwaysShowRecent&&this.calculateAndUpdate()}},h.prototype.init=function(e,t,i,r){void 0===(this.config=e).ScalingEntries&&(e.ScalingEntries=[]),void 0===e.HelpLines&&(e.HelpLines=[]),this.matrix="",this.svgParent=null,this.alwaysShowRecent=this.config.AlwaysShowRecent,this.trendView=t,this.parentTrendWindow=i,this.axisType=r,this.trendWindow=i.config.Name,this.id=(this.trendView.getControlName()+"_"+i.config.Name+"_TA_"+this.config.Name).replace(/\s+/g,"_sp_").replace(/\(/g,"_ob_").replace(/\)/g,"_cb_").replace(/\\/g,"_bs_").replace(/\'/g,"_sq_").replace(/\"/g,"_dq_"),this.labelId=this.id+"_XAxisLabel",this.gridlinesGroupId=this.id+"_VerticalMajorGridlines_",this.minorGrdLinesGroupId=this.id+"_VerticalMinorGridlines_",this.ticksGroupId=this.id+"_Ticks_",this.labelsGroupId=this.id+"_Labels_",this.axisPbId=(this.trendWindow+"_"+this.config.Name).replace(/\s+/g,"_sp_"),this.axisTimeRange=null,this.labelColor=d.getRGBAcolor(this.config.LabelColor),this.tickColor=d.getRGBAcolor(this.config.TickColor),this.axisColor=d.getRGBAcolor(this.config.AxisColor),this.outputFormat=""===this.config.OutputFormat?"{D}\\n{T}":this.config.OutputFormat,this.rulerOutputFormat=this.outputFormat.split("\\r\\n").join(" ").split("\\n").join(" "),this.zoomInOutCount=0,this.startValueBuffer=null,this.endValueBuffer=null;var a,n,o,e=(new Date).getTime(),t=d.convertFormatPattern(e,this.outputFormat,this.trendView.getTimeZone());for("string"!=typeof t||t===this.config.OutputFormat?(this.dualLineDateTime=!1,this.labelText=e):1===(t=t.split("")).length?(this.dualLineDateTime=!1,this.labelText=t[0]):(this.dualLineDateTime=!0,this.labelText=t),this.invalidated=!1,this.rect=new d.Features.Structure.Rectangle,this.innerRect=new d.Features.Structure.Rectangle,this.trendWindowDrawable=!1,this.axisBeginValue=new window.DatePrecise(this.config.BeginTime).getTime(),this.axisEndValue=new window.DatePrecise(this.config.EndTime).getTime(),r=this.calculateTimeRange(!0),0===this.axisBeginValue?(this.axisEndValue=0===this.axisEndValue?(new Date).getTime():this.axisEndValue,this.axisBeginValue=this.axisEndValue-r):this.axisEndValue=0===this.axisEndValue?this.axisBeginValue+r:this.axisEndValue,!this.trendView.isOnline()&&this.trendView.isStyleChange()&&(i=d.Data.AxisDataStore.retrieve(this.axisPbId))&&(this.axisBeginValue=i.beginValue,this.axisEndValue=i.endValue),this._setOrientationAndStartEndTimes(),this.config.RangeType===d.getChromEnum("HmiTimeRangeType").TimeRange?this.axisTimeRange=this.calculateTimeRange():this.axisTimeRange=this.axisEndValue-this.axisBeginValue||d.Data.FileTime.Sec,this.rect=new d.Features.Structure.Rectangle,this.trendWindowDrawable=!1,e="string"==typeof this.labelText?this.labelText:1===this.labelText.length||this.labelText[0].length>this.labelText[1].length?this.labelText[0]:this.labelText[1],this.bBoxText={x:0,y:0,width:d.getTextWidth(e,this.config.LabelFont),height:d.getTextHeight(e,this.config.LabelFont)},a=0;a<this.straightDialCount;a++)o=new d.StraightDial,this.straightDials.push(o),o.Attributes.orientation=this.straightDialPos.orientation,(n=new d.Features.Scale).timezone=this.trendView.getTimeZone(),o.Features.push(n),n.Parent=o;this.straightDial=this.straightDials[0],this.isTimeAxis=-1!==this.config.Type.indexOf("Time"),this.eventCbs.onAxisMouseOver=this._onAxisMouseOver.bind(this),this.eventCbs.onAxisMouseOut=this._onAxisMouseOut.bind(this),this.eventCbs.onPan=this._onPan.bind(this),this.eventCbs.onMouseOver=this.onMouseOver.bind(this),this.eventCbs.onMouseOut=this.onMouseOut.bind(this),this.eventCbs.onTouchStart=this.onTouchStart.bind(this),this.boundingDialsForPanCount=(this.straightDialCount-1)/2,this.toggleDialsForPanWrapper(this._toggleDialsForPan)},h.prototype.initializeBeginEndTimes=function(){var e,t,i,r;for(this.alwaysShowRecent&&this.trendView.isOnline()?(this.currentEndValue=Date.now(),this.currentBeginValue=this.currentEndValue-this.axisTimeRange):(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.currentBeginValue+this.axisTimeRange),t=this.textOrientation===d.Data.TextOrientation.FromRight||this.textOrientation===d.Data.TextOrientation.FromTop?(e=this.currentBeginValue,this.currentEndValue):(e=this.currentEndValue,this.currentBeginValue),r=0;r<this.straightDialCount;r++)(i=this.straightDials[r].Features[0]).Attributes["begin-value"]=e,i.Attributes["end-value"]=t,e+=this.axisTimeRange,t+=this.axisTimeRange},h.prototype.onShiftAxesChange=function(){var e=d.Data.TextOrientation;switch(this.textOrientation){case e.FromLeft:this.textOrientation=e.FromTop;break;case e.FromTop:this.textOrientation=e.FromLeft;break;case e.FromRight:this.textOrientation=e.FromBottom;break;case e.FromBottom:this.textOrientation=e.FromRight}this.setStraightDialOrientationProps()},h.prototype.setStraightDialOrientationProps=function(){var e,t,i=0,r=0,a=0,n=this.textOrientation===d.Data.TextOrientation.FromRight||this.textOrientation===d.Data.TextOrientation.FromLeft?(this.straightDialPos.orientation="horizontal",this.straightDialPos.dynamicPosAttr="start-x",this.straightDialPos.staticPosAttr="start-y",this.textOrientation===d.Data.TextOrientation.FromRight?(this.straightDialPos.posChangeOperator=1,this.straightDialPos.secondaryScalePosFilter="inner end"):(this.straightDialPos.posChangeOperator=-1,this.straightDialPos.secondaryScalePosFilter="begin inner"),this.align===this.trendView.alignmentEnum.Top?(i=-this.MajorTickSize,r=-(this.MajorTickSize+this.LabelToMajorTickSpace),"0 1"):(r=this.MajorTickSize+this.LabelToMajorTickSpace,"0 -1")):(this.straightDialPos.orientation="vertical",this.straightDialPos.dynamicPosAttr="start-y",this.straightDialPos.staticPosAttr="start-x",this.textOrientation===d.Data.TextOrientation.FromBottom?(this.straightDialPos.posChangeOperator=1,this.straightDialPos.secondaryScalePosFilter="begin inner"):(this.straightDialPos.posChangeOperator=-1,this.straightDialPos.secondaryScalePosFilter="inner end"),a=-this.RIGHT_ANGLE,this.align===this.trendView.alignmentEnum.Left?(i=-this.MajorTickSize,r=-(this.MajorTickSize+this.LabelToMajorTickSpace),"0 1"):(r=this.MajorTickSize+this.LabelToMajorTickSpace,"0 -1"));if(this.defaultFeaturesUsed){for(e=this.ticksFeatures.length,t=0;t<e;t++)this.ticksFeatures[t].Attributes.offset=i;for(e=this.labelsFeatures.length,t=0;t<e;t++)this.labelsFeatures[t].Attributes.offset=r,this.labelsFeatures[t].Attributes.alignment=n,this.labelsFeatures[t].Attributes.angle=a}},h.prototype.updateAttributes=function(e,t){var i,r,a,n,o=this.templateAttrCollection.length;if(this.templateAttributes.hasOwnProperty(e)){for(i=0;i<o;i++)(r=this.templateAttrCollection[i]).hasOwnProperty(e)&&(this.templateAttributes[e]=r[e]);"always-show-recent"===e&&(a=this.config.AlwaysShowRecent,n=d.Utilities.convertToBool(t),this.alwaysShowRecent^n)&&(n=this.templateAttributes,this.templateAttributes={},this.OnUpdate(d.Data.AxisPropId.AlwaysShowRecent,t),this.config.AlwaysShowRecent=a,this.templateAttributes=n)}},h.prototype.applyTemplateProperties=function(){var e,t=this.templateAttributes,i=this.config.AlwaysShowRecent;this.templateAttributes={},e=void 0===t["always-show-recent"]?i:d.Utilities.convertToBool(t["always-show-recent"]),this.alwaysShowRecent^e&&(this.OnUpdate(d.Data.AxisPropId.AlwaysShowRecent,e),this.config.AlwaysShowRecent=i),this.templateAttributes=t},h.prototype.addDefaultFeatures=function(e,t,i){var r=d.getChromEnum("HmiScaleMode"),a=!!(this.config.ScaleMode&r.Ticks),r=!!(this.config.ScaleMode&r.Labels),n=new d.Features.Shape.Ribbons;e.Features.push(n),n.Parent=e,n.Attributes={"stroke-width":1,stroke:this.axisColor},this.ribbons.push(n),n=new d.Features.Structure.Division,e.Features.push(n),n.Parent=e,this.divisionFeatures.push(n),e=new d.Features.Shape.Ticks,this.ticksFeatures.push(e),n.Features.push(e),e.Parent=n,e.Attributes={length:this.MajorTickSize,offset:t.tickOffset,stroke:this.tickColor,condition:a},a=new d.Features.Shape.Labels,this.labelsFeatures.push(a),n.Features.push(a),a.Parent=n,a.Attributes={alignment:t.labelAlignment,offset:t.labelOffset,angle:t.labelAngle,"output-format":this.outputFormat,fill:this.labelColor,condition:r},i&&(e.defaults["position-filter"]=this.straightDialPos.secondaryScalePosFilter,a.defaults["position-filter"]=this.straightDialPos.secondaryScalePosFilter),n=new d.Features.Font,a.Features.push(n),this.fontFeatures.push(n),n.Parent=a,n.Attributes={scope:this.config.LabelFont}},h.prototype.initScaleFeatures=function(){if(this.ribbons=[],0===this.templateFeatures.length){this.defaultFeaturesUsed=!0;for(var e=0,t=0,i=void 0,r=0,i=this.textOrientation===d.Data.TextOrientation.FromRight||this.textOrientation===d.Data.TextOrientation.FromLeft?this.align===this.trendView.alignmentEnum.Top?(e=-this.MajorTickSize,t=-(this.MajorTickSize+this.LabelToMajorTickSpace),"0 1"):(t=this.MajorTickSize+this.LabelToMajorTickSpace,"0 -1"):(r=-this.RIGHT_ANGLE,this.align===this.trendView.alignmentEnum.Left?(e=-this.MajorTickSize,t=-(this.MajorTickSize+this.LabelToMajorTickSpace),"0 1"):(t=this.MajorTickSize+this.LabelToMajorTickSpace,"0 -1")),a={tickOffset:e,labelOffset:t,labelAlignment:i,labelAngle:r},n=0;n<this.straightDialCount;n++)this.addDefaultFeatures(this.straightDials[n].Features[0],a,0<n)}else for(n=0;n<this.straightDialCount;n++)this.addFeatures(this.templateFeatures,this.straightDials[n].Features[0],"timeAxis");if(this.gridlineFeature){var o=this.divisionFeatures.length;if(this.gridlines=[],this.parentTrendWindow.verticalMinorGrid&&this.createMinorGridLines(),this.resetGridlineAttributes(),0<o)for(n=0;n<o;n++)this.gridlines.push(new d.Features.Shape.Ticks),this.gridlines[n].Attributes=this.gridlineAttributes,this.divisionFeatures[n].Features.push(this.gridlines[n]),this.gridlines[n].Parent=this.divisionFeatures[n],this.gridlines[n].isGridline=!0;else for(n=0;n<this.straightDialCount;n++)this.gridlines.push(new d.Features.Shape.Ticks),this.gridlines[0].Attributes=this.gridlineAttributes,this.straightDials[n].Features[0].Features.push(this.gridlines[0]),this.gridlines[0].Parent=this.straightDials[n].Features[0],this.gridlines[0].isGridline=!0}},h.prototype.setGridlinesVisibility=function(){var e=this.parentTrendWindow.verticalMajorGrid;e=e&&("selected"===this.gridlineFeature.Attributes.show?this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentXAxis===this||0===this.parentTrendWindow.trends.length:"always"===this.gridlineFeature.Attributes.show),this.gridlineAttributes.condition=e},h.prototype.setMinorGridLinesVisibility=function(){var e=this.parentTrendWindow.verticalMinorGrid;(e=e&&("selected"===this.gridlineFeature.Attributes.show?this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentXAxis===this||0===this.parentTrendWindow.trends.length:"always"===this.gridlineFeature.Attributes.show))&&0===this.minorGridLines.length&&(this.createMinorGridLines(),this.updateMinorGridLine(),this.redrawScale(),this.setMinorGridLinesGroupId());for(var t=0,i=this.minorGridLines;t<i.length;t++)i[t].Attributes.condition=e},h.prototype.calculateTimeRange=function(e){var t,i=d.getChromEnum("HmiTimeRangeBase"),r=d.getChromEnum("HmiTimeRangeType");if(!e&&this.config.RangeType===r.FromBeginToEnd)return this.currentEndValue-this.currentBeginValue;switch(this.config.TimeRangeBase){case i.Millisecond:t=d.Data.FileTime.MS;break;case i.Second:t=d.Data.FileTime.Sec;break;case i.Minute:t=d.Data.FileTime.Minute;break;case i.Hour:t=d.Data.FileTime.Hour;break;case i.Day:t=d.Data.FileTime.Day;break;case i.Month:t=d.Data.FileTime.Month;break;case i.Year:t=d.Data.FileTime.Year}return t*this.config.TimeRangeFactor},h.prototype.calculateAxisMoveEndValues=function(e,t){!1===this.dialsForPan&&this._toggleDialsForPan();var i=this.getValueFromPosition(e)-this.getValueFromPosition(t);return this.translate+=e-t,e=this.trendView.isLeftOrRight()?"e":"f",this.currentEndValue=this.currentEndValue-i,this.currentBeginValue=this.currentBeginValue-i,0<this.zoomInOutCount&&(this.endValueBuffer=this.endValueBuffer-i,this.startValueBuffer=this.startValueBuffer-i),Math.abs(this.translate)>this.straightDialPos.dialLength*this.boundingDialsForPanCount?this.calculateAndUpdate():(this.setMatrix(e),(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.parentTrendWindow.updateRulerLabel(this)),i},h.prototype.calculateLabelSize=function(){var e;this.yAxisLabelWidthLimit=this.xAxisLabelWidthLimit=d.getTextWidth("0000000",this.config.LabelFont),e="string"==typeof this.labelText?this.labelText:1===this.labelText.length||this.labelText[0].length>this.labelText[1].length?this.labelText[0]:this.labelText[1],this.bBoxText={x:0,y:0,width:d.getTextWidth(e,this.config.LabelFont),height:d.getTextHeight(e,this.config.LabelFont)}},h.prototype.getNeededDimension=function(){var e,t=0;return this.calculateLabelSize(),this.config.Visible&&(this.templateAttributes.hasOwnProperty("width")&&"calculated"!==this.templateAttributes.width?t=this.templateAttributes.width:(e=this._getLabelTextY(),t=this.MajorTickSize+this.LabelToMajorTickSpace+e+this.LabelToBorderSpace,!this._hasHigherProjectVersion()&&this.dualLineDateTime&&(t*=1.5))),t},h.prototype.requestHistoricalData=function(e,t,i,r){for(var a,n,o=this.getTrends(),s=!1,l=0;l<o.length;l++)(n=o[l]).timeAxis===this.config.Name&&void 0!==n.dataSource.Tag&&""!==n.dataSource.Tag&&(e<0?(t.endTime.push((this.currentEndValue+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),t.beginTime.push((this.currentBeginValue+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),i[0]=d.Data.BoundingFlags.RightBounding,s=!0):0<e||!1===e?(a=void 0===(a=n.getXStartValue())&&n.boundingValue?n.boundingValue.timeStamp:a)>this.currentBeginValue&&(t.endTime.push((this.currentEndValue+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),t.beginTime.push((this.currentBeginValue+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),i[0]=d.Data.BoundingFlags.LeftBounding,s=!0):!0===e&&n.getXEndValue()<this.currentEndValue&&(t.endTime.push((this.currentEndValue+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),t.beginTime.push((n.getXEndValue()+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),i[0]=d.Data.BoundingFlags.RightBounding,s=!0),s)&&(a=this.config.RangeType!==this._rangeType.PointCount||r?Math.floor(this.trendView.pixelsInTrendAreas):this.config.PointCount,t.chromIds.push(n.dataSource.Tag),t.points.push(a),t.clientHandles.push(n.partId),void 0!==n.aggregationMode&&t.aggMode.push(n.aggregationMode),s=!(this.timeAxisDrawn=!0));this.trendView.moveToType=d.Data.MoveToType.NoMove},h.prototype.zoomInOut=function(e,t){var i,r,a,n=this.currentEndValue-this.currentBeginValue,o=!0,s=this.getValueFromPosition(e);if(t===this.LEFT_CLICK)n===h.MIN_AXIS_RANGE?o=!1:(i=(n=n<this.THOUSAND_MS?this.THOUSAND_MS:n)/4,0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.zoomInOutCount++,this.trendView.enableDisableOriginalView(),this.zoomInOutCount--),r=s+i,(a=s-i)<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.currentBeginValue+2*i):r>this.endValueBuffer?(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.currentEndValue-2*i):(this.currentBeginValue=a,this.currentEndValue=r),this.zoomInOutCount++);else if(t===this.RIGHT_CLICK)switch(i=n,this.zoomInOutCount){case 1:this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,this.startValueBuffer=null,this.endValueBuffer=null,this.zoomInOutCount--,this.trendView.enableDisableOriginalView();break;case 0:o=!1;break;default:r=s+i,(a=s-i)<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.currentBeginValue+2*i):r>this.endValueBuffer?(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.currentEndValue-2*i):(this.currentBeginValue=a,this.currentEndValue=r),this.zoomInOutCount--}return o&&this.calculateAndUpdate(),o},h.prototype.zoomArea=function(e,t){var i,r,a,n=!0,o=d.Data.TextOrientation;switch(this.textOrientation){case o.FromLeft:case o.FromTop:r=this.getValueFromPosition(t),a=this.getValueFromPosition(e);break;case o.FromRight:case o.FromBottom:r=this.getValueFromPosition(e),a=this.getValueFromPosition(t)}var s=a-r;if(s<h.MIN_AXIS_RANGE||r===this.currentBeginValue&&a===this.currentEndValue)n=!1;else{for(0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.zoomInOutCount++,this.trendView.enableDisableOriginalView()),i=this.endValueBuffer-this.startValueBuffer,this.zoomInOutCount=0;this.zoomInOutCount++,s<(i/=2););this.currentBeginValue=r,this.currentEndValue=a,this.calculateAndUpdate()}return n},h.prototype.resetZoom=function(e){0<this.zoomInOutCount&&(this.zoomInOutCount=0,this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,e.tryAdd(this.trendWindow),this.calculateAndUpdate())},h.prototype.moveToPerc=function(e){var t=this.endValueBuffer-this.startValueBuffer,i=this.currentEndValue-this.currentBeginValue,r=t-i,t=this.currentBeginValue,a=d.Data.TextOrientation;switch(!1===this.dialsForPan&&this._toggleDialsForPan(),this.textOrientation){case a.FromRight:case a.FromBottom:this.currentBeginValue=this.startValueBuffer+r*e,this.currentEndValue=this.currentBeginValue+i;break;case a.FromLeft:case a.FromTop:this.currentEndValue=this.endValueBuffer-r*e,this.currentBeginValue=this.currentEndValue-i}this.translate+=this.getPositionFromValue(t)-this.getPositionFromValue(this.currentBeginValue),Math.abs(this.translate)>this.straightDialPos.dialLength*this.boundingDialsForPanCount?this.calculateAndUpdate():(this.setMatrix(this.trendView.isLeftOrRight()?"e":"f"),(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.parentTrendWindow.updateRulerLabel(this)),this._toggleDialsForPan()},h.prototype.zoomByScale=function(e,t){var i,r,a,n=!0,o=this.currentEndValue-this.currentBeginValue,e=this.getValueFromPosition(e),s=o/t;if(1<t?s<h.MIN_AXIS_RANGE?n=!1:(0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.zoomInOutCount++,this.trendView.enableDisableOriginalView()),r=this.currentBeginValue,a=this.currentEndValue):0===this.zoomInOutCount||1===t?n=!1:(r=this.startValueBuffer,a=this.endValueBuffer),n){if(i=this.endValueBuffer-this.startValueBuffer,this.zoomInOutCount=0,i<=s)this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,this.startValueBuffer=null,this.endValueBuffer=null,this.trendView.enableDisableOriginalView();else{for(;this.zoomInOutCount++,s<(i/=2););t=e+(o=s/2),(e=e-o)<r?(this.currentBeginValue=r,this.currentEndValue=this.currentBeginValue+2*o):a<t?(this.currentEndValue=a,this.currentBeginValue=this.currentEndValue-2*o):(this.currentBeginValue=e,this.currentEndValue=t)}this.calculateAndUpdate()}return n},h.prototype._hasHigherProjectVersion=function(){return 18<=this.parentTrendWindow._trendView.currProjectVersion||""===this.parentTrendWindow._trendView.currProjectVersion},h.prototype._getAxisLabelText=function(){var e=Array.isArray(this.labelText)&&1<this.labelText.length?this.labelText[0]+"\n"+this.labelText[1]:Array.isArray(this.labelText)&&0<this.labelText.length?this.labelText[0]:this.labelText;return e},h.prototype._getLabelTextY=function(){var e,t=0,i=this._hasHigherProjectVersion();switch(i&&(e=this._getAxisLabelText()),this.axisType){case this.trendView.axisTypeEnum.xAxis:t=i?d.getTextHeight(e,this.config.LabelFont,this.dualLineDateTime):this.bBoxText.height;break;case this.trendView.axisTypeEnum.yAxis:t=i?d.getTextWidth(e,this.config.LabelFont,this.dualLineDateTime):this.bBoxText.width}return t},h.prototype._onPan=function(e){e.preventDefault();var t,i,r,a={beginTime:[],endTime:[],chromIds:[],points:[],clientHandles:[],aggMode:[]},n=[0];e.eventType===this.Hammer.INPUT_MOVE?(i=this.getPos(e),!1===this.dialsForPan&&this._toggleDialsForPan(),this.trendView.isLeftOrRight()?(this._deltaPos=e.deltaX-this._deltaPos,this._currentDragPoint.x=i.x-+this._deltaPos,this._deltaPos=e.deltaX,t=this.getValueFromPosition(i.x)-this.getValueFromPosition(this._currentDragPoint.x),r="e",this.translate+=i.x-this._currentDragPoint.x):(this._deltaPos=e.deltaY-this._deltaPos,this._currentDragPoint.y=i.y-+this._deltaPos,this._deltaPos=e.deltaY,t=this.getValueFromPosition(i.y)-this.getValueFromPosition(this._currentDragPoint.y),r="f",this.translate+=i.y-this._currentDragPoint.y),this.currentEndValue=this.currentEndValue-t,this.currentBeginValue=this.currentBeginValue-t,0<this.zoomInOutCount&&(this.endValueBuffer=this.endValueBuffer-t,this.startValueBuffer=this.startValueBuffer-t),this.trendView.trendObjectType===d.Data.TrendObjectType.Online&&(this.requestHistoricalData(t,a,n),this.trendView.dp.addRequest(a.beginTime,a.endTime,a.points,a.chromIds,a.clientHandles,n[0],a.aggMode,!0)),(e=this.trendView.getDrawableTrendWindowByName(this.trendWindow))&&(Math.abs(this.translate)>this.straightDialPos.dialLength*this.boundingDialsForPanCount?this.calculateAndUpdate():(this.setMatrix(r),(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.parentTrendWindow.updateRulerLabel(this)),e.reDraw(this.config.Name,null)),(this.trendView.trendCompanionConstUpdate||this.trendView.secondaryRulerToolTip)&&(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.trendView.calculateRulerData(),a.endTime=[],a.beginTime=[],a.chromIds=[],a.points=[],a.clientHandles=[],a.aggMode=[]):(this.trendView.dp.sendRequest(),this._deltaPos=0,this.dialsForPan&&this._toggleDialsForPan())},h.prototype.getDisplayValue=function(e,t){t=t?this.rulerOutputFormat:""===this.outputFormat?"{D} {T}":this.outputFormat,t=d.convertFormatPattern(e,t,this.trendView.getTimeZone());return(t="string"!=typeof t?""+e:t).split("")},h.prototype.switchOffPanDials=function(){this.dialsForPan&&this._toggleDialsForPan()},h.prototype._toggleDialsForPan=function(){this.dialsForPan=!this.dialsForPan;var e,t,i,r=this.translate,a=this.currentBeginValue,n=this.currentEndValue,o=this.dialsForPan?(t=this.textOrientation===d.Data.TextOrientation.FromRight||this.textOrientation===d.Data.TextOrientation.FromBottom?(this.currentEndValue-this.currentBeginValue)/this.straightDialPos.dialLength*this.translate:(this.currentEndValue-this.currentBeginValue)/this.straightDialPos.dialLength*this.translate*-1,this.currentBeginValue=a+t,this.currentEndValue=n+t,this.translate=0,this.calculateAndUpdate(!0,!0),this.translate=r,this.straightDialPos.dynamicPos+-this.boundingDialsForPanCount*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength):(i=this.translate%this.straightDialPos.dialLength,t=this.textOrientation===d.Data.TextOrientation.FromRight||this.textOrientation===d.Data.TextOrientation.FromBottom?(0<i&&(i-=this.straightDialPos.dialLength),(this.currentEndValue-this.currentBeginValue)/this.straightDialPos.dialLength*i):(i<0&&(i+=this.straightDialPos.dialLength),(this.currentEndValue-this.currentBeginValue)/this.straightDialPos.dialLength*i*-1),this.currentBeginValue=a+t,this.currentEndValue=n+t,this.translate=0,this.calculateAndUpdate(!0,!0),r!==(this.translate=i)&&this.setMatrix(this.trendView.isLeftOrRight()?"e":"f"),this.straightDialPos.dynamicPos);for(this.currentBeginValue=a,this.currentEndValue=n,e=0;e<this.straightDialCount;e++)this.straightDials[e].Attributes[this.straightDialPos.dynamicPosAttr]=o+e*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength,this.straightDials[e].create(this.trendView.RTPUItem)},h.prototype.findTranslatableFeatures=function(e){for(var t,i=e.length,r=0;r<i;r++)(t=e[r])instanceof d.Features.Shape.Ticks?(t.isGridline?this.gridlines:this.ticksFeatures).push(t):t instanceof d.Features.Shape.Labels&&this.labelsFeatures.push(t),0<t.Features.length&&this.findTranslatableFeatures(t.Features)},h.prototype.setPreviousRange=function(){var e=this.calculateTimeRange();0<this.zoomInOutCount&&(e=this.currentEndValue-this.currentBeginValue,this.startValueBuffer-=e,this.endValueBuffer-=e),this.currentEndValue=this.currentBeginValue,this.currentBeginValue=this.currentEndValue-e},h.prototype.setNextRange=function(){var e=this.calculateTimeRange();0<this.zoomInOutCount&&(e=this.currentEndValue-this.currentBeginValue,this.startValueBuffer+=e,this.endValueBuffer+=e),this.currentBeginValue=this.currentEndValue,this.currentEndValue=this.currentBeginValue+e},h.prototype.clearBoundingValues=function(){for(var e,t=this.getTrends(),i=t.length,r=0;r<i;r++)(e=t[r]).boundingValue&&(e.boundingValue=null)},h.prototype.drawAxisLabel=function(){var e,t,i=this.config.DisplayName,r=this.xAxisLabelWidthLimit-this.PADDING_X,i=d.textEllipsis(i,r,this.config.LabelFont),r=(this.labelWidth=this.xAxisLabelWidthLimit,this.labelHeight=d.getTextHeight(i,this.config.LabelFont)+this.PADDING_Y,this.labelHeight-(this.trendView.isLeftOrRight()?this.PADDING_Y/2:0)),a=this.labelWidth,n=new d.Features.Structure.Rectangle;n.left=this.innerRect.left+(this.textOrientation===d.Data.TextOrientation.FromLeft?this.LabelToBorderSpace:this.innerRect.width-(this.trendView.isLeftOrRight()?this.xAxisLabelWidthLimit+this.LabelToBorderSpace:this.LabelToMajorTickSpace+this.MajorTickSize+this.labelHeight)),n.top=this.innerRect.top+(this.textOrientation===d.Data.TextOrientation.FromBottom?this.innerRect.height-this.LabelToBorderSpace-a:this.trendView.isLeftOrRight()?this.innerRect.height-this.LabelToBorderSpace-r:this.LabelToBorderSpace),this.displayNameSvg?(e=this.displayNameSvg.childNodes[0],d.Features.Shape.SvgShape.SetAttributes(e,{fill:this.parentTrendWindow.backColor,stroke:this.tickColor,x:n.left,y:n.top,width:this.trendView.isLeftOrRight()?this.xAxisLabelWidthLimit:r,height:this.trendView.isLeftOrRight()?r:this.xAxisLabelWidthLimit}),t=this.displayNameSvg.childNodes[1],d.Features.Shape.SvgShape.SetAttributes(t,{x:n.left+(this.trendView.isLeftOrRight()?this.xAxisLabelWidthLimit/2:3*r/4),y:n.top+(this.trendView.isLeftOrRight()?.75*r:this.xAxisLabelWidthLimit/2),"font-family":'"'+this.config.LabelFont.Name+'"',"font-style":this.config.LabelFont.Italic?"italic":"normal","font-weight":this.config.LabelFont.Weight,"font-size":this.config.LabelFont.Size,"text-decoration":d.textDecoration(this.config.LabelFont),fill:this.labelColor}),t.textContent=i,this.trendView.isLeftOrRight()||t.setAttribute("transform","rotate(-90,"+(n.left+3*r/4)+","+(n.top+this.xAxisLabelWidthLimit/2)+")")):(this.displayNameSvg=d.Features.Shape.SvgShape.CreateSvgElement("svg",{id:this.labelId,"text-anchor":"middle"}),e=d.Features.Shape.SvgShape.CreateSvgElement("rect",{title:this.config.DisplayName,fill:this.parentTrendWindow.backColor,"fill-opacity":1,stroke:this.tickColor,"stroke-width":1,"stroke-opacity":1,x:n.left,y:n.top,width:this.trendView.isLeftOrRight()?this.xAxisLabelWidthLimit:r,class:"lineColorClass",height:this.trendView.isLeftOrRight()?r:this.xAxisLabelWidthLimit,appendTo:this.displayNameSvg}),t=d.Features.Shape.SvgShape.CreateSvgElement("text",{"font-family":'"'+this.config.LabelFont.Name+'"',"font-style":this.config.LabelFont.Italic?"italic":"normal","font-weight":this.config.LabelFont.Weight,"font-size":this.config.LabelFont.Size,"text-decoration":d.textDecoration(this.config.LabelFont),class:"fontClass",x:n.left+(this.trendView.isLeftOrRight()?this.xAxisLabelWidthLimit/2:3*r/4),y:n.top+(this.trendView.isLeftOrRight()?.75*r:this.xAxisLabelWidthLimit/2),"text-anchor":"middle",displayText:i,fill:this.labelColor,appendTo:this.displayNameSvg}),this.trendView.isLeftOrRight()||t.setAttribute("transform","rotate(-90,"+(n.left+3*r/4)+","+(n.top+this.xAxisLabelWidthLimit/2)+")"),this.addEventOnDisplayName=!1,this.dom.appendChild(this.displayNameSvg)),this.addOrRemoveEventsForDisplayNameSVG(i)},h.prototype.setTranslatableFeatures=function(){this.translateDom.setAttributeNS(null,"transform","translate(0,0)"),this.matrix=this.translateDom.transform.baseVal.getItem(0).matrix},h.prototype.OnUpdate=function(e,t){var i,r,a,n,o,s,l,u=!1,h=d.Data.AxisPropId;switch(e){case h.Name:break;case h.Visible:this.config.Visible=t,l=this.parentTrendWindow.getRulerView(),t||!1===this.trendView.allAreasDrawn&&(d.Data.PostPropertyUpdate.CreateDrawableCollection=!0),17<=this.parentTrendWindow._trendView.currProjectVersion||""===this.parentTrendWindow._trendView.currProjectVersion||l.updateAssociatedAxes(),d.Data.PostPropertyUpdate.Redraw=!0;break;case h.AlwaysShowRecent:this.config.AlwaysShowRecent=t,void 0===this.templateAttributes["always-show-recent"]&&(this.alwaysShowRecent=t,this.trendView.setAnimationFactors(),this.trendView.isOnline()&&t&&(this.trendView.requestHistoricalData(null,null,this.axisPbId,!0),d.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),t?this.trendView.updateRunningTimeAxesList(this.axisPbId,!0):this.trendView.updateRunningTimeAxesList(this.axisPbId,!1));break;case h.LabelColor:if(this.labelColor=d.getRGBAcolor(t),this.config.LabelColor=t,this.displayNameSvg&&this.displayNameSvg.children[1].setAttribute("fill",this.labelColor),this.trendWindowDrawable&&this.defaultFeaturesUsed&&(this.config.ScaleMode&d.Data.ScaleMode.Labels)===d.Data.ScaleMode.Labels)for(s=0;s<this.labelsFeatures.length;s++)this.labelsFeatures[s].Attributes.fill=this.labelColor,this.config.Visible&&this.labelsFeatures[s].draw(this.labelsFeatures[s].webRTPUItem,this.labelsFeatures[s].metaData);break;case h.AxisColor:if(n=this.ribbons.length,o=d.getRGBAcolor(t),this.axisColor=o,this.config.AxisColor=t,this.trendWindowDrawable&&this.defaultFeaturesUsed)for(s=0;s<n;s++)this.ribbons[s].Attributes.stroke=o,this.config.Visible&&this.ribbons[s].draw(this.ribbons[s].webRTPUItem,this.ribbons[s].metaData);break;case h.TickColor:if(this.tickColor=d.getRGBAcolor(t),this.config.TickColor=t,this.displayNameSvg&&this.displayNameSvg.children[0].setAttribute("stroke",this.tickColor),this.trendWindowDrawable&&this.defaultFeaturesUsed&&(this.config.ScaleMode&d.Data.ScaleMode.Ticks)===d.Data.ScaleMode.Ticks)for(s=0;s<this.ticksFeatures.length;s++)this.ticksFeatures[s].Attributes.stroke=this.tickColor,this.config.Visible&&this.ticksFeatures[s].draw(this.ticksFeatures[s].webRTPUItem,this.ticksFeatures[s].metaData);break;case h.RangeType:this.config.RangeType===d.getChromEnum("HmiTimeRangeType").PointCount&&(this.clearBoundingValues(),r=this.config.RangeType),this.config.RangeType=t,r&&r!==this.config.RangeType&&this.trendView.trendControlAnimator.removeValueAxisAnimation(this.axisPbId),this.updateRangeTypeProperty(),this.trendView.setAnimationFactors(),d.Data.PostPropertyUpdate.Update=!0;break;case h.BeginTime:"string"==typeof t?(t=new Date(t).getTime(),i=window.DatePrecise(t).getHrTime()):(i=(a=window.DatePrecise(t)).getHrTime(),t=a.getTime()),this.config.BeginTime=i,this.textOrientation!==d.Data.TextOrientation.FromTop&&this.textOrientation!==d.Data.TextOrientation.FromLeft||(u=!0),this.trendView.isOnline()&&(this.trendView.dp.pauseControl(),this.trendView.chart.Attributes.online=!1,this.trendView.online=!1,this.trendView.setStartStop()),this.config.RangeType===d.getChromEnum("HmiTimeRangeType").FromBeginToEnd?(u&&(this.axisEndValue=this.axisBeginValue),this.axisBeginValue=t,d.Data.PostPropertyUpdate.Redraw=this._setOrientationAndStartEndTimes(),this.axisTimeRange=this.axisEndValue-this.axisBeginValue||d.Data.FileTime.Sec,0<this.zoomInOutCount?(this.startValueBuffer=this.axisBeginValue,this.endValueBuffer=this.axisEndValue,this._setZoomValues()):(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue),this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),d.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.trendView.setAnimationFactors()):this.config.RangeType!==d.getChromEnum("HmiTimeRangeType").TimeRange&&this.config.RangeType!==d.getChromEnum("HmiTimeRangeType").PointCount||(u?this.axisEndValue=t:this.axisBeginValue=t,0<this.zoomInOutCount?(this.startValueBuffer=this.axisBeginValue,this.endValueBuffer=this.axisEndValue,this._setZoomValues()):(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=u?this.axisEndValue:this.axisBeginValue+this.axisTimeRange),this.trendView.requestHistoricalData(null,null,this.axisPbId,!0),d.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),d.Data.PostPropertyUpdate.Update=!0;break;case h.EndTime:this.textOrientation!==d.Data.TextOrientation.FromTop&&this.textOrientation!==d.Data.TextOrientation.FromLeft||(this.axisBeginValue=this.axisEndValue),"string"==typeof t?(this.axisEndValue=t=new Date(t).getTime(),i=window.DatePrecise(t).getHrTime()):(i=(a=window.DatePrecise(t)).getHrTime(),this.axisEndValue=a.getTime()),this.config.EndTime=i,this.trendView.isOnline()&&(this.trendView.dp.pauseControl(),this.trendView.chart.Attributes.online=!1,this.trendView.online=!1,this.trendView.setStartStop()),d.Data.PostPropertyUpdate.Redraw=this._setOrientationAndStartEndTimes(),this.config.RangeType===d.getChromEnum("HmiTimeRangeType").FromBeginToEnd&&(this.axisTimeRange=this.axisEndValue-this.axisBeginValue||d.Data.FileTime.Sec,0<this.zoomInOutCount?(this.startValueBuffer=this.axisBeginValue,this.endValueBuffer=this.axisEndValue,this._setZoomValues()):(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue),this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),d.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.trendView.setAnimationFactors()),d.Data.PostPropertyUpdate.Update=!0;break;case h.PointCount:this.trendView.isOnline()&&this.alwaysShowRecent&&1===this.config.PointCount&&this.clearBoundingValues(),this.config.PointCount=parseInt(t,10),this.config.RangeType===d.getChromEnum("HmiTimeRangeType").PointCount&&0===this.zoomInOutCount&&(this.trendView.requestHistoricalData(null,null,this.axisPbId,!0),d.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),d.Data.PostPropertyUpdate.Update=!0;break;case h.TimeRangeBase:this.config.TimeRangeBase=t||d.Data.RangeBase.Minute,this.updateForTimeRangeFactor();break;case h.TimeRangeFactor:this.config.TimeRangeFactor=parseInt(t,10),this.updateForTimeRangeFactor();break;case h.DisplayName:""===(this.config.DisplayName=t)&&this.trendWindowDrawable&&this.displayNameSvg&&(this.dom.removeChild(this.displayNameSvg),this.displayNameSvg=null,this.addEventOnDisplayName=!1),d.Data.PostPropertyUpdate.Update=!0;break;case h.OutputFormat:if(t=(t=0===t?"":t).trim(),this.outputFormat=t=""===t?"{D}\\n{T}":t,this.config.OutputFormat=t,this.rulerOutputFormat=t.split("\\r\\n").join(" ").split("\\n").join(" "),this.defaultFeaturesUsed)if(l=(new Date).getTime(),"string"!=typeof(r=d.convertFormatPattern(l,this.outputFormat,this.trendView.getTimeZone()))||r===this.outputFormat)this.labelText=l,this.dualLineDateTime=!1,d.Data.PostPropertyUpdate.Redraw=!0;else if(1===(r=r.split("")).length)if(this.labelText=r[0],this.dualLineDateTime){for(this.dualLineDateTime=!1,s=0;s<this.labelsFeatures.length;s++)this.labelsFeatures[s].Attributes["output-format"]=t;d.Data.PostPropertyUpdate.Redraw=!0}else d.Data.PostPropertyUpdate.Update=!0;else if(this.labelText=r,this.dualLineDateTime)d.Data.PostPropertyUpdate.Update=!0;else{for(this.dualLineDateTime=!0,s=0;s<this.labelsFeatures.length;s++)this.labelsFeatures[s].Attributes["output-format"]=t;d.Data.PostPropertyUpdate.Redraw=!0}break;default:this.updateProperty(e,t)}},h.prototype.updateRangeTypeProperty=function(){switch(this.config.RangeType){case this._rangeType.TimeRange:this.axisTimeRange=this.calculateTimeRange(),this.trendView.isOnline()&&this.alwaysShowRecent?this.currentBeginValue=this.currentEndValue-this.axisTimeRange:0<this.zoomInOutCount?(this.endValueBuffer=this.startValueBuffer+this.axisTimeRange,this._setZoomValues()):this.currentEndValue=this.currentBeginValue+this.axisTimeRange,this.trendView.isOnline()?this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,!0,!0):this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),d.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0;break;case this._rangeType.FromBeginToEnd:this.axisTimeRange=this.axisEndValue-this.axisBeginValue||d.Data.FileTime.Sec,this.trendView.isOnline()&&(this.trendView.dp.pauseControl(),this.trendView.chart.Attributes.online=!1,this.trendView.online=!1,this.trendView.setStartStop()),0<this.zoomInOutCount?(this.endValueBuffer=this.startValueBuffer+this.axisTimeRange,this._setZoomValues()):(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.currentBeginValue+this.axisTimeRange),this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),d.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0;break;case this._rangeType.PointCount:this.trendView.isOnline()?this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,!0,!0):this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),d.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0}},h.prototype.getPositionFromValue=function(e){e=this.straightDial.Features[0].getPositionForValue(e);return this.textOrientation===d.Data.TextOrientation.FromBottom||this.textOrientation===d.Data.TextOrientation.FromTop?e.y+this.translate:this.textOrientation===d.Data.TextOrientation.FromRight||this.textOrientation===d.Data.TextOrientation.FromLeft?e.x+this.translate:void 0},h.prototype.getValueFromPosition=function(e){return this.straightDial.Features[0].getValueAtPosition(e-this.translate,e-this.translate,!1)},h.prototype.updateLabelsWithTimeZone=function(e){for(var t,i,r=this.labelsFeatures.length,a=0;a<this.straightDialCount;a++)(i=this.straightDials[a].Features[0]).timezone=e,i.metaData&&(i.metaData.timezone=e);if(this.config.Visible&&this.trendWindowDrawable)for(t=0;t<r;t++)this.labelsFeatures[t].draw(this.labelsFeatures[t].webRTPUItem,this.labelsFeatures[t].metaData)},h.prototype.cleanUp=function(){var e;!this.trendView.isOnline()&&this.trendView.isStyleChange()&&(e=void 0,e=0<this.zoomInOutCount?new d.Data.AxisData(this.startValueBuffer,this.endValueBuffer):new d.Data.AxisData(this.currentBeginValue,this.currentEndValue),d.Data.AxisDataStore.store(this.axisPbId,e)),this.trendView.updateRunningTimeAxesList(this.axisPbId,!1),this.dom=this.ribbons=this.templateAttributes=this.updateRulerLabelFont=this._currentDragPoint=null,J.prototype.cleanUp.call(this)},h.MIN_AXIS_RANGE=500,t.TimeAxis=h,t=(t=e=e||{}).Lib||(t.Lib={}),$=t.NVEs||(t.NVEs={}),ee=$.ChartElements||($.ChartElements={}),dn.prototype.setCurrentThreshold=function(e){this._curThreshold=e},dn.prototype.initialize=function(){var e,t,i,r,a,n=-1/0,o=1/0,s=-1,l=$.getChromEnum("HmiThresholdMode");for(this.onlineTrend=this.trendObj.trendView.trendObjectType===$.Data.TrendObjectType.Online,e=this.trendObj.thresholdParts?this.trendObj.thresholdParts.length:0,this.trendObj.thresholds=[],void 0===e?(this.trendObj.thresholdParts=[this.trendObj.thresholdParts],e=1):0===e&&(this.trendObj.thresholdParts.push({Name:"Normal",Type:"ThresholdPart",ThresholdMode:l.Normal}),e=1),t=0;t<e;t++)this.trendObj.thresholds[t]=new ee.Threshold(this.trendObj.id,this,this.trendObj.thresholdParts[t]),this.trendObj.thresholds[t].addToThresholdRange=this._addToThresholdRange.bind(this.trendObj.thresholds[t]),this.trendObj.thresholds[t].type=t,this.trendObj.thresholds[t].thresholdMode===l.Normal?i=this.trendObj.thresholds[t]:(this.trendObj.thresholds[t].thresholdMode===l.Lower||this.trendObj.thresholds[t].thresholdMode===l.Minimum)&&n<this.trendObj.thresholds[t].endValue&&0!==this.trendObj.thresholds[t].endValue?n=this.trendObj.thresholds[t].endValue:(this.trendObj.thresholds[t].thresholdMode===l.Upper||this.trendObj.thresholds[t].thresholdMode===l.Maximum)&&o>this.trendObj.thresholds[t].beginValue&&0!==this.trendObj.thresholds[t].beginValue&&(o=this.trendObj.thresholds[t].beginValue),0===this.trendObj.thresholds[t].beginValue&&this.trendObj.thresholds[t-1]&&(this.trendObj.thresholds[t].beginValue=this.trendObj.thresholds[t-1].endValue),0===this.trendObj.thresholds[t].endValue&&this.trendObj.thresholds[t+1]&&(this.trendObj.thresholds[t].endValue=this.trendObj.thresholds[t+1].beginValue),this.trendObj.thresholds[t-1]&&(this.trendObj.thresholds[t-1].next=this.trendObj.thresholds[t],this.trendObj.thresholds[t].prev=this.trendObj.thresholds[t-1]);if(i)i.beginValue=n,i.endValue=o,i=null;else{for(a={Name:"Normal",Type:"ThresholdPart",ThresholdMode:l.Normal},r=new ee.Threshold(this.trendObj.id,this,a),s=e,t=0;t<e;t++)if(this.trendObj.thresholds[t].thresholdMode===l.Lower||this.trendObj.thresholds[t].thresholdMode===l.Minimum)s=t+1;else if(this.trendObj.thresholds[t].thresholdMode===l.Upper||this.trendObj.thresholds[t].thresholdMode===l.Maximum){s=t;break}for(this.trendObj.thresholds.splice(s,0,r),this.trendObj.thresholds[s-1]&&(this.trendObj.thresholds[s-1].next=r),this.trendObj.thresholds[s+1]&&(this.trendObj.thresholds[s+1].prev=r),(r.prev=this.trendObj.thresholds[s-1])?a.BeginValue=r.beginValue=r.prev.endValue:a.BeginValue=r.beginValue=void 0,(r.next=this.trendObj.thresholds[s+1])?a.EndValue=r.endValue=r.next.beginValue:a.EndValue=r.endValue=void 0,this.trendObj.thresholds[s].addToThresholdRange=this._addToThresholdRange.bind(this.trendObj.thresholds[s]),e++,t=s;t<e;t++)this.trendObj.thresholds[t].type=t;this.trendObj.thresholdParts.splice(s,0,a)}this.trendObj.thresholds[0].beginValue=-1/0,this.trendObj.thresholds[this.trendObj.thresholds.length-1].endValue=1/0,this.initializeMarkers()},dn.prototype.initializeMarkers=function(){this.trendObj.pointStyle===$.getChromEnum("HmiMarkerType").None?(this._uncertainQualityMarkerUrl="none",this._badQualityMarkerUrl="none"):(this._uncertainQualityMarkerUrl="url(#"+this.trendObj.uncertainQualityMarkerId+")",this._badQualityMarkerUrl="url(#"+this.trendObj.badQualityMarkerId+")"),this.trendObj.midMarkerURLsArray=[];for(var e,t=this.trendObj.thresholds.length,i=0;i<t;i++)e=this.trendObj.pointStyle===$.getChromEnum("HmiMarkerType").None?"none":"url(#"+this.trendObj.thresholds[i].markerId+")",this.trendObj.midMarkerURLsArray[this.trendObj.thresholds[i].type]=this.trendObj.thresholds[i].thresholdMarkerUrl=e;this.trendObj.midMarkerURLsArray[t]=this._uncertainQualityMarkerUrl,this.trendObj.midMarkerURLsArray[t+1]=this._badQualityMarkerUrl},dn.prototype.setMarkerId=function(){for(var e=this.trendObj.thresholdParts.length,t=0;t<e;t++)this.trendObj.thresholds[t].thresholdMode===$.getChromEnum("HmiThresholdMode").Normal?this.trendObj.thresholds[t].markerId="thresholdMarker_"+this.trendObj.thresholds[t].thresholdMode+"_"+this.trendObj.id:this.trendObj.thresholds[t].markerId="thresholdMarker_"+this.trendObj.thresholds[t].thresholdMode+"_"+this.trendObj.thresholds[t].partId+"_"+this.trendObj.id;this.initializeMarkers()},dn.prototype.addLimitValuePoints=function(e,t,i){var r,a,n,o,s,l=this.trendObj.linesCollection.length,u=e.yTagValue;if(null!==this._curThreshold)this._curThreshold.addToThresholdRange(e,t,i,this.trendObj);else for(a=this.trendObj.thresholds.length,r=0;r<a;r++)u>=this.trendObj.thresholds[r].beginValue&&u<this.trendObj.thresholds[r].endValue&&this.trendObj.thresholds[r].addToThresholdRange(e,t,i,this.trendObj);if(this.trendObj.trendView.trendObjectType===$.Data.TrendObjectType.Online){if(0<l&&this.trendObj.linesCollection.length>l)for(r=l-1,l=this.trendObj.linesCollection.length-1;r<l;r++)this.trendObj.linesCollection[r].addToTranslate=!0;70<this.trendObj.linesCollection.currentTagList.items.length&&(n=this.trendObj.linesCollection.currentTagList.items.pop(),o=this.trendObj.linesCollection.currentTagList.items.pop(),(s=new ee.Point).xTagValue=s.timeStamp=o.xTagValue,s.yTagValue=o.yTagValue,s.yTagPosition=o.yTagPosition,s.xTagPosition=o.xTagPosition,this.trendObj.linesCollection.currentTagList.items.push(s),this.trendObj.linesCollection.currentTagList.addToTranslate=!0,this.trendObj.linesCollection.currentTagList=new $.Data.GenericList(this.trendObj.linesCollection.currentTagList.listType),this.trendObj.linesCollection.push(this.trendObj.linesCollection.currentTagList),this.trendObj.linesCollection.currentTagList.items.push(o),this.trendObj.linesCollection.currentTagList.items.push(n),this.trendObj.markerPositionsCollection.currentMarkerPositions={markerStart:this.trendObj.markerPositionsCollection.currentMarkerPositions.markerEnd,markerEnd:this.trendObj.markerPositionsCollection.currentMarkerPositions.markerEnd},this.trendObj.markerPositionsCollection.push(this.trendObj.markerPositionsCollection.currentMarkerPositions))}},dn.prototype.addLimitValuePointsBegin=function(e,t){var i,r,a,n,o,s=e.yTagValue;if(null!==this._curThreshold)this._curThreshold.addToThresholdRange(e,t,!0,this.trendObj);else for(r=this.trendObj.thresholds.length,i=0;i<r;i++)s>=this.trendObj.thresholds[i].beginValue&&s<this.trendObj.thresholds[i].endValue&&this.trendObj.thresholds[i].addToThresholdRange(e,t,!0,this.trendObj);this.onlineTrend&&70<this.trendObj.linesCollection.currentTagList.items.length&&(a=this.trendObj.linesCollection.currentTagList.items.shift(),n=this.trendObj.linesCollection.currentTagList.items[0],o=new ee.Point,this.trendObj.linesCollection.currentTagList=new $.Data.GenericList(this.trendObj.linesCollection.currentTagList.listType),this.trendObj.linesCollection.unshift(this.trendObj.linesCollection.currentTagList),o.xTagValue=o.timeStamp=n.xTagValue,o.yTagValue=n.yTagValue,o.yTagPosition=n.yTagPosition,o.xTagPosition=n.xTagPosition,this.trendObj.linesCollection.currentTagList.items.push(a),this.trendObj.linesCollection.currentTagList.items.push(o),this.trendObj.markerPositionsCollection.currentMarkerPositions={markerStart:this.trendObj.markerPositionsCollection.currentMarkerPositions.markerStart,markerEnd:this.trendObj.markerPositionsCollection.currentMarkerPositions.markerStart},this.trendObj.markerPositionsCollection.unshift(this.trendObj.markerPositionsCollection.currentMarkerPositions))},dn.prototype._addToThresholdRange=function(e,t,i,r){var a,n,o,s="push",l="markerStart",u="markerEnd",h="add",d=this.addingToThreshold,c=$.getChromEnum("HmiTrendMode"),p=0<=(n=t=void 0===t?r.tagList.items.length-2:t);r.linesCollection.currentTagList=r.linesCollection[r.linesCollection.length-1],r.markerPositionsCollection.currentMarkerPositions=r.markerPositionsCollection[r.markerPositionsCollection.length-1],i&&(n=1,s="unshift",l="markerEnd",u="markerStart",h="addToBeginning",r.linesCollection.currentTagList=r.linesCollection[0],r.markerPositionsCollection.currentMarkerPositions=r.markerPositionsCollection[0],d=this.addingToThresholdBegin,p=1<r.tagList.items.length),p&&(o=r.tagList.items[n].yTagValue),void 0!==this.endValue&&e.yTagValue>=this.endValue?(d?(r.markerPositionsCollection.currentMarkerPositions[u]="none",(a=new ee.Point).yTagValue=this.endValue,this.parentLimits.calculateXtagValueFromYtagValue(r,c,a,t,h)):(this.parentLimits.reArrangeLineCOllection(r,s),(a=new ee.Point).yTagValue=this.beginValue,this.parentLimits.onlineTrend?r.trendStyle===c.Stepped?a.xTagValue=a.timeStamp=r.tagList.items[t+1].xTagValue:void 0!==this.beginValue?a.xTagValue=a.timeStamp=r.tagList.getTimeStampFromValue(this.beginValue,t,t+1):a.xTagValue=a.timeStamp=r.tagList.getTimeStampFromValue(r.minVal,t,t+1):r.trendStyle===c.Stepped?a.xTagValue=r.tagList.items[t+1].xTagValue:void 0!==this.beginValue?a.xTagValue=r.tagList.getXTagValueFromYTagValue(this.beginValue,t,t+1):a.xTagValue=r.tagList.getXTagValueFromYTagValue(r.minVal,t,t+1),r.linesCollection.currentTagList[h](a),(a=new ee.Point).yTagValue=this.endValue,r.trendView.trendObjectType===$.Data.TrendObjectType.Online?r.trendStyle===c.Stepped?a.xTagValue=a.timeStamp=r.tagList.items[t+1].xTagValue:void 0!==this.endValue?a.xTagValue=a.timeStamp=r.tagList.getTimeStampFromValue(this.endValue,t,t+1):a.xTagValue=a.timeStamp=r.tagList.getTimeStampFromValue(r.maxVal,t,t+1):r.trendStyle===c.Stepped?a.xTagValue=r.tagList.items[t+1].xTagValue:void 0!==this.endValue?a.xTagValue=r.tagList.getXTagValueFromYTagValue(this.endValue,t,t+1):a.xTagValue=r.tagList.getXTagValueFromYTagValue(r.maxVal,t,t+1),r.linesCollection.currentTagList[h](a)),i?this.addingToThresholdBegin=!1:this.addingToThreshold=!1,this.next.addToThresholdRange(e,t,i,r)):void 0!==this.beginValue&&e.yTagValue<this.beginValue?(d?r.markerPositionsCollection.currentMarkerPositions[u]="none":(this.parentLimits.reArrangeLineCOllection(r,s),(a=new ee.Point).yTagValue=this.endValue,this.parentLimits.calculateXtagValueFromYtagValue(r,c,a,t,h)),(a=new ee.Point).yTagValue=this.beginValue,this.parentLimits.calculateXtagValueFromYtagValue(r,c,a,t,h),d=!1,i?this.addingToThresholdBegin=!1:this.addingToThreshold=!1,this.prev.addToThresholdRange(e,t,i,r)):(d||(this.parentLimits.setCurrentThreshold(this),r.linesCollection.currentTagList&&(r.linesCollection.currentTagList.addToTranslate=!0),r.linesCollection.currentTagList=new $.Data.GenericList(this.type),r.linesCollection[s](r.linesCollection.currentTagList),r.markerPositionsCollection.currentMarkerPositions={markerStart:this.thresholdMarkerUrl,markerEnd:this.thresholdMarkerUrl},r.markerPositionsCollection[s](r.markerPositionsCollection.currentMarkerPositions),d=!0,i?this.addingToThresholdBegin=!0:this.addingToThreshold=!0,p&&(r.markerPositionsCollection.currentMarkerPositions[l]="none",a=new ee.Point,o>=this.endValue?a.yTagValue=this.endValue:a.yTagValue=this.beginValue,this.parentLimits.calculateXtagValueFromYtagValue(r,c,a,t,h))),r.linesCollection.currentTagList[h](e))},dn.prototype.calculateXtagValueFromYtagValue=function(e,t,i,r,a){e.trendView.trendObjectType===$.Data.TrendObjectType.Online?e.trendStyle===t.Stepped?i.xTagValue=i.timeStamp=e.tagList.items[r+1].xTagValue:i.xTagValue=i.timeStamp=e.tagList.getTimeStampFromValue(i.yTagValue,r,r+1):e.trendStyle===t.Stepped?i.xTagValue=e.tagList.items[r+1].xTagValue:i.xTagValue=e.tagList.getXTagValueFromYTagValue(i.yTagValue,r,r+1),e.linesCollection.currentTagList[a](i)},dn.prototype.reArrangeLineCOllection=function(e,t){e.linesCollection.currentTagList&&(e.linesCollection.currentTagList.addToTranslate=!0),e.linesCollection.currentTagList=new $.Data.GenericList(this.type),e.linesCollection[t](e.linesCollection.currentTagList),e.markerPositionsCollection.currentMarkerPositions={markerStart:"none",markerEnd:"none"},e.markerPositionsCollection[t](e.markerPositionsCollection.currentMarkerPositions)},dn.prototype.addQualityVisualizationPoints=function(e){var t;this.onlineTrend?((t=new ee.Point).xTagValue=e.xTagValue,t.timeStamp=e.timeStamp,t.yTagValue=e.yTagValue,t.yTagPosition=e.yTagPosition,t.xTagPosition=e.xTagPosition,t.qualityCode=e.qualityCode):t=e,t.qualityCode===$.Data.QualityCode.Uncertain?(this._addingToUncertainQuality||(this.trendObj.qualityLinesCollection.push(new $.Data.GenericList(this.trendObj.thresholds.length)),this.trendObj.qualityMarkerPositionsCollection.push({markerStart:this._uncertainQualityMarkerUrl,markerEnd:this._uncertainQualityMarkerUrl}),this._addingToUncertainQuality=!0,this._addingToBadQuality&&(this._addingToBadQuality=!1)),this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].add(t)):t.qualityCode===$.Data.QualityCode.Bad?(this._addingToBadQuality||(this.trendObj.qualityLinesCollection.push(new $.Data.GenericList(this.trendObj.thresholds.length+1)),this.trendObj.qualityMarkerPositionsCollection.push({markerStart:this._badQualityMarkerUrl,markerEnd:this._badQualityMarkerUrl}),this._addingToBadQuality=!0,this._addingToUncertainQuality&&(this._addingToUncertainQuality=!1)),this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].add(t)):this._addingToUncertainQuality?(this._addingToUncertainQuality=!1,this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].addToTranslate=!0,this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].translate=!0):this._addingToBadQuality&&(this._addingToBadQuality=!1,this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].addToTranslate=!0,this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].translate=!0)},dn.prototype.addQualityVisualizationPointsBegin=function(e){var t;this.onlineTrend?((t=new ee.Point).xTagValue=e.xTagValue,t.timeStamp=e.timeStamp,t.yTagValue=e.yTagValue,t.yTagPosition=e.yTagPosition,t.xTagPosition=e.xTagPosition,t.qualityCode=e.qualityCode):t=e,t.qualityCode===$.Data.QualityCode.Uncertain?(this._addingToUncertainQualityBegin||(this.trendObj.qualityLinesCollection.unshift(new $.Data.GenericList(this.trendObj.thresholds.length)),this.trendObj.qualityMarkerPositionsCollection.unshift({markerStart:this._uncertainQualityMarkerUrl,markerEnd:this._uncertainQualityMarkerUrl}),this.trendObj._addingToUncertainQualityBegin=!0),this.trendObj.qualityLinesCollection[0].addToBeginning(t)):t.qualityCode===$.Data.QualityCode.Bad?(this._addingToBadQualityBegin||(this.trendObj.qualityLinesCollection.unshift(new $.Data.GenericList(this.trendObj.thresholds.length+1)),this.trendObj.qualityMarkerPositionsCollection.unshift({markerStart:this._badQualityMarkerUrl,markerEnd:this._badQualityMarkerUrl}),this._addingToBadQualityBegin=!0),this.trendObj.qualityLinesCollection[0].addToBeginning(t)):this._addingToUncertainQualityBegin?this._addingToUncertainQualityBegin=!1:this._addingToBadQualityBegin&&(this._addingToBadQualityBegin=!1)},dn.prototype.setLimitBools=function(e,t){var i,r,a,n=this.trendObj.thresholds.length,o=(this._addingToUncertainQuality=!1,this._addingToUncertainQualityBegin=!1,this._addingToBadQuality=!1,this._addingToBadQualityBegin=!1,this._curThreshold=null,this.trendObj.tagList.items);if(0<o.length){for(a=(void 0===t?e?o[0]:o[o.length-1]:t).yTagValue,i=0;i<n;i++)(r=this.trendObj.thresholds[i]).addingToThresholdBegin=!1,r.addingToThreshold=!1,a>=r.beginValue&&a<r.endValue&&(e?r.addingToThresholdBegin=!0:r.addingToThreshold=!0,this._curThreshold=r);this.trendObj.qualityVisualizationVisible&&(e?o[0].qualityCode===$.Data.QualityCode.Uncertain?this._addingToUncertainQualityBegin=!0:o[0].qualityCode===$.Data.QualityCode.Bad&&(this._addingToBadQualityBegin=!0):o[o.length-1].qualityCode===$.Data.QualityCode.Uncertain?this._addingToUncertainQuality=!0:o[o.length-1].qualityCode===$.Data.QualityCode.Bad&&(this._addingToBadQuality=!0))}else for(i=0;i<n;i++)this.trendObj.thresholds[i].addingToThresholdBegin=!1,this.trendObj.thresholds[i].addingToThreshold=!1;this.trendObj.linesCollection.currentTagList=e?this.trendObj.linesCollection[0]:this.trendObj.linesCollection[this.trendObj.linesCollection.length-1]},dn.prototype.setThresholdFlags=function(){for(var e=this.trendObj.thresholds.length,t=0;t<e;t++)this.trendObj.thresholds[t].addingToThreshold=!0,this.trendObj.thresholds[t].addingToThresholdBegin=!0},dn.prototype.createNewLinesCollection=function(e){for(var t,i,r,a=this.trendObj.linesCollection.length,n=!1,o=!1,s=this.trendObj.qualityVisualizationVisible,l=0;l<a;l++)(i=this.trendObj.linesCollection[l]).polyline&&(i.polyline.parentNode&&i.polyline.parentNode.removeChild(i.polyline),i.polyline=null),i.dummyPolyline&&(i.dummyPolyline.parentNode&&i.dummyPolyline.parentNode.removeChild(i.dummyPolyline),i.dummyPolyline=null),i.items=[],i=null;for(this.trendObj.linesCollection=[],this.trendObj.markerPositionsCollection=[],this.trendObj.qualityLinesCollection=[],this.trendObj.qualityMarkerPositionsCollection=[],a=this.trendObj.thresholds.length,l=0;l<a;l++)this.trendObj.thresholds[l].addingToThreshold=!1;for(this._curThreshold=null,this._addingToUncertainQuality=!1,this._addingToUncertainQualityBegin=!1,this._addingToBadQuality=!1,this._addingToBadQualityBegin=!1,e&&(t=this.trendObj.oldTagList.items)[0]!==this.trendObj.tagList.items[0]&&(r=this.trendObj.tagList.items,o=!0,-1!==(l=this.trendObj.tagList.items.indexOf(t[t.length-1]))?this.trendObj.tagList.items=t.concat(r.slice(l+1)):this.trendObj.tagList.items=t.concat(r.slice())),t=this.trendObj.tagList.items,this.trendObj.boundingValue&&t.length&&this.trendObj.boundingValue.timeStamp<t[0].timeStamp&&(n=!0,t.unshift(this.trendObj.boundingValue)),a=t.length,l=0;l<a;l++)this.addLimitValuePoints(t[l],l-1,!1),s&&this.addQualityVisualizationPoints(t[l]);n&&t.shift(),o&&(this.trendObj.tagList.items=r)},dn.prototype.createNewQualityCollection=function(e){this.trendObj.qualityLinesCollection=[],this.trendObj.qualityMarkerPositionsCollection=[],this._addingToUncertainQuality=!1,this._addingToUncertainQualityBegin=!1,this._addingToBadQuality=!1,this._addingToBadQualityBegin=!1;for(var t,i=(t=e?(t=this.trendObj.oldTagList.items.slice(),-1!==(r=this.trendObj.tagList.items.indexOf(t[t.length-1]))?t.concat(this.trendObj.tagList.items.slice(r+1)):t.concat(this.trendObj.tagList.items.slice())):this.trendObj.tagList.items).length,r=0;r<i;r++)this.addQualityVisualizationPoints(t[r])},dn.prototype.setMarkers=function(){for(var e,t=this.trendObj.linesCollection.length,i=0;i<t;i++)null===(e=this.trendObj.linesCollection[i]).items[0].qualityCode?this.trendObj.markerPositionsCollection[i].markerStart="none":this.trendObj.markerPositionsCollection[i].markerStart=this.trendObj.midMarkerURLsArray[e.listType],null===e.items[e.items.length-1].qualityCode?this.trendObj.markerPositionsCollection[i].markerEnd="none":this.trendObj.markerPositionsCollection[i].markerEnd=this.trendObj.midMarkerURLsArray[e.listType];for(t=this.trendObj.qualityLinesCollection.length,i=0;i<t;i++)this.trendObj.qualityMarkerPositionsCollection[i].markerStart=this.trendObj.qualityMarkerPositionsCollection[i].markerEnd=this.trendObj.midMarkerURLsArray[this.trendObj.qualityLinesCollection[i].listType]},dn.prototype.clearTagList=function(){for(var e=this.trendObj.thresholds.length,t=0;t<e;t++)this.trendObj.thresholds[t].addingToThreshold=!1,this.trendObj.thresholds[t].addingToThresholdBegin=!1;this._addingToUncertainQuality=!1,this._addingToUncertainQualityBegin=!1,this._addingToBadQuality=!1,this._addingToBadQualityBegin=!1},dn.prototype.createDifferentFillLines=function(e,t){var i,r,a,n,o,s,l,u,h,d=this.trendObj.linesCollection[0].items,c=this.trendObj.boundingValue||d[0],p="",m=$.getChromEnum("HmiTrendMode"),g=(this.trendObj.linesCollection[0].translate?n="translateFill":(n="fill",l=c),this.trendObj.thresholds.length),T=this.trendObj.currentYAxis.currentBeginValue,f=this.trendObj.currentYAxis.getPositionFromValue(T);if(e){for(h=0;h<g;h++)p=f,this.trendObj.thresholds[h].endValue!==(u=1/0)&&(u=this.trendObj.thresholds[h].endValue),this.trendObj.thresholds[h].beginValue!==-1/0&&(p=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[h].beginValue)),c.yTagValue>=u?this.trendObj.thresholdFills[h][n]=c.xTagPosition+","+p+" "+c.xTagPosition+","+this.trendObj.currentYAxis.getPositionFromValue(u)+" ":this.trendObj.thresholdFills[h][n]=c.xTagPosition+","+p+" ";for(r=this.trendObj.numberOfPoints,i=0;i<r;i++){if(d=(o=this.trendObj.linesCollection[i]).items,a=o.listType,o.translate)n="translateFill",s=d[d.length-1];else if(n="fill",void 0===l)for(l=d[0],h=0;h<g;h++)p=f,this.trendObj.thresholds[h].endValue!==(u=1/0)&&(u=this.trendObj.thresholds[h].endValue),this.trendObj.thresholds[h].beginValue!==-1/0&&(p=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[h].beginValue)),l.yTagValue>=u?this.trendObj.thresholdFills[h].fill=l.xTagPosition+","+p+" "+l.xTagPosition+","+this.trendObj.currentYAxis.getPositionFromValue(u)+" ":this.trendObj.thresholdFills[h].fill=l.xTagPosition+","+p+" ";this.trendObj.trendStyle===m.Stepped?this.trendObj.thresholdFills[a][n]+=o.dummyPoints:this.trendObj.thresholdFills[a][n]+=o.points}for(h=0;h<g;h++)p=f,this.trendObj.thresholds[h].endValue!==(u=1/0)&&(u=this.trendObj.thresholds[h].endValue),this.trendObj.thresholds[h].beginValue!==-1/0&&(p=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[h].beginValue)),""!==this.trendObj.thresholdFills[h].translateFill&&(s.yTagValue>=u?this.trendObj.thresholdFills[h].translateFill+=s.xTagPosition+","+this.trendObj.currentYAxis.getPositionFromValue(u)+" "+s.xTagPosition+","+p:this.trendObj.thresholdFills[h].translateFill+=s.xTagPosition+","+p),""!==this.trendObj.thresholdFills[h].fill&&(t.yTagValue>=u?this.trendObj.thresholdFills[h].fill+=t.xTagPosition+","+this.trendObj.currentYAxis.getPositionFromValue(u)+" "+t.xTagPosition+","+p:this.trendObj.thresholdFills[h].fill+=t.xTagPosition+","+p)}else{for(h=0;h<g;h++)p=f,this.trendObj.thresholds[h].endValue!==(u=1/0)&&(u=this.trendObj.thresholds[h].endValue),this.trendObj.thresholds[h].beginValue!==-1/0&&(p=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[h].beginValue)),c.yTagValue>=u?this.trendObj.thresholdFills[h][n]=p+","+c.xTagPosition+" "+this.trendObj.currentYAxis.getPositionFromValue(u)+","+c.xTagPosition+" ":this.trendObj.thresholdFills[h][n]=p+","+c.xTagPosition+" ";for(r=this.trendObj.numberOfPoints,i=0;i<r;i++){if(d=(o=this.trendObj.linesCollection[i]).items,a=o.listType,o.translate)n="translateFill",s=d[d.length-1];else if(n="fill",void 0===l)for(l=d[0],h=0;h<g;h++)p=f,this.trendObj.thresholds[h].endValue!==(u=1/0)&&(u=this.trendObj.thresholds[h].endValue),this.trendObj.thresholds[h].beginValue!==-1/0&&(p=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[h].beginValue)),l.yTagValue>=u?this.trendObj.thresholdFills[h].fill=p+","+l.xTagPosition+" "+this.trendObj.currentYAxis.getPositionFromValue(u)+","+l.xTagPosition+" ":this.trendObj.thresholdFills[h].fill=p+","+l.xTagPosition+" ";this.trendObj.trendStyle===m.Stepped?this.trendObj.thresholdFills[a][n]+=o.dummyPoints:this.trendObj.thresholdFills[a][n]+=o.points}for(h=0;h<g;h++)p=f,this.trendObj.thresholds[h].endValue!==(u=1/0)&&(u=this.trendObj.thresholds[h].endValue),this.trendObj.thresholds[h].beginValue!==-1/0&&(p=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[h].beginValue)),""!==this.trendObj.thresholdFills[h].translateFill&&(s.yTagValue>=u?this.trendObj.thresholdFills[h].translateFill+=this.trendObj.currentYAxis.getPositionFromValue(u)+","+s.xTagPosition+" "+p+","+s.xTagPosition:this.trendObj.thresholdFills[h].translateFill+=p+","+s.xTagPosition),""!==this.trendObj.thresholdFills[h].fill&&(t.yTagValue>=u?this.trendObj.thresholdFills[h].fill+=this.trendObj.currentYAxis.getPositionFromValue(u)+","+t.xTagPosition+" "+p+","+t.xTagPosition:this.trendObj.thresholdFills[h].fill+=p+","+t.xTagPosition)}l=s=null},dn.prototype.clearAllThresholdFills=function(){for(var e=this.trendObj.thresholds.length,t=0;t<e;t++)this.trendObj.thresholdFills[t]={translateFill:"",fill:""}},dn.prototype.getThresholdType=function(e){for(var t=this.trendObj.thresholds.length,i=0;i<t;i++)if(e>=this.trendObj.thresholds[i].beginValue&&e<this.trendObj.thresholds[i].endValue)return this.trendObj.thresholds[i].type},dn.prototype.removeLastPoint=function(){var e,t,i=this.trendObj.linesCollection.length;if(1===i)(e=this.trendObj.linesCollection.currentTagList).items.pop(),t=e.items[e.items.length-1];else if(1<i){if((e=this.trendObj.linesCollection[i-1]).items.pop(),1===e.items.length&&null===e.items[0].qualityCode&&(e.polyline&&(e.polyline.parentNode&&e.polyline.parentNode.removeChild(e.polyline),e.polyline=null),e.items=[],this.trendObj.linesCollection.splice(i-1,1),this.trendObj.markerPositionsCollection.splice(i-1,1),this.trendObj.linesCollection.currentTagList=e=this.trendObj.linesCollection[i-2],null===e.items[e.items.length-1].qualityCode))return e=null,void this.removeLastPoint();t=e.items[e.items.length-1]}this.setLimitBools(void 0,t)},dn.prototype.cleanup=function(){this._curThreshold=null,this.trendObj=null},ee.TrendLimits=dn,t=(t=e=e||{}).Lib||(t.Lib={}),t=(te=t.NVEs||(t.NVEs={})).ChartElements||(te.ChartElements={}),l.prototype._onEvent=function(e){var t=e.target;"touchstart"!==e.type&&"touchend"!==e.type||this._isTouchEnabled||(this._isTouchEnabled=!0),"mousedown"===e.type&&e.which===this.LEFT_CLICK&&!this._isTouchEnabled||"touchstart"===e.type?this._ruler.findMatch(t)&&(this._ruler.onPointerDown(t),this._rulerMoveStatus=!0):"mouseup"===e.type&&e.which===this.LEFT_CLICK&&!this._isTouchEnabled||"touchend"===e.type?this._rulerMoveStatus&&(this._ruler.onPointerUp(),this._rulerMoveStatus=!1):"mousemove"===e.type&&(this._currentDragPoint=this._getMousePos(e)),e.preventDefault()},l.prototype._eventRectIdMatch=function(e){var t=e.id,i=!1;return i=t===this._eventRectId||(t=e.classList?e.classList[0]:(t=e.getAttribute("class"))&&t.split(" ")[0])&&this._getDrawableTrendById(t)?!0:i},l.prototype._onPanStart=function(e){null===this._targetParentId&&(this._targetParentId=e.target.id,this._eventRectIdMatch(e.target)&&(this._trendView.moveTrendArea||this._trendView.zoomArea||(this._trendView.zoomInOutX||this._trendView.zoomInOutY)&&!e.changedPointers[0].altKey&&!e.changedPointers[0].shiftKey)?this._moveTrendAreaStatus=!0:this._targetParentId=null)},l.prototype._onPan=function(e){e.preventDefault(),this._rulerMoveStatus?e.eventType===this.Hammer.INPUT_MOVE?this._ruler.onPointerMove(e.deltaX,e.deltaY)||this._hammerDad.stop():e.eventType===this.Hammer.INPUT_END&&(this._ruler.onPointerUp(),this._rulerMoveStatus=!1,this._targetParentId=null):this._moveTrendAreaStatus&&(e.eventType===this.Hammer.INPUT_END&&(this._moveTrendAreaStatus=!1,this._targetParentId=null,this._trendView.zoomInOutX)&&(this._trendView.zoomAxis=!0),this._trendWindow.onPan(e))},l.prototype._onMouseScroll=function(e){e.stopPropagation();var t,i,r=void 0!==e.deltaY?e.deltaY:e.detail;e.ctrlKey?this._trendView.isOnline()||this._trendView.isZooming||!this._eventRectIdMatch(e.target)||(e.preventDefault(),t=0<r?.8:1.2,this._trendWindow.doPinchScrollZoom(this._getMousePos(e),t),this._trendWindow.endPinchScrollZoom()):e.shiftKey&&this.hScrollbar&&this.hScrollbar.templateInstance&&!this._moveTrendAreaStatus?(e.preventDefault(),r<0?(t=this._initialHorizOffset-.03)<0&&(t=0):1<(t=this._initialHorizOffset+.03)&&(t=1),i=t*((1-this.initialWidthPerc)*this.SCROLLBAR_ENDVALUE),this.hScrollbar.templateInstance.setHmiProps(i,"HmiProps.CurrentValue"),this.hScrollbar.templateInstance.update(),this._onScrollEvent(this._trendView.axisTypeEnum.xAxis,i,t)):this.vScrollbar&&this.vScrollbar.templateInstance&&!this._moveTrendAreaStatus&&(e.preventDefault(),(0<r?1:0)^this._isLeftOrRight?(t=this._initialVertOffset-.03)<0&&(t=0):1<(t=this._initialVertOffset+.03)&&(t=1),i=t*((1-this.initialHeightPerc)*this.SCROLLBAR_ENDVALUE),this.vScrollbar.templateInstance.setHmiProps(i,"HmiProps.CurrentValue"),this.vScrollbar.templateInstance.update(),this._onScrollEvent(this._trendView.axisTypeEnum.yAxis,i,t))},l.prototype._createScrollBar=function(){this._trendWindow.scrollBarGroup=te.Features.Shape.SvgShape.CreateSvgElement("g",{id:this._trendWindowId+"_scrollBarGroup",stroke:"none",appendTo:this._trendWindow.getSVG()})},l.prototype._onPinch=function(e){e.preventDefault(),Math.abs(this._previousScale-e.scale)>this.MIN_ZOOM_SCALE_DIFF&&(this._previousScale=e.scale,this._trendWindow.doPinchScrollZoom(e.center,e.scale)),e.eventType===this.Hammer.INPUT_END&&(this._hammerDad.stop(),this._trendWindow.endPinchScrollZoom(),this._previousScale=0)},l.prototype._onSingleTap=function(e){this._eventRectIdMatch(e.target)&&this._trendWindow.onSingleTap(e)},l.prototype._twoFingerSingleTap=function(e){this._eventRectIdMatch(e.target)&&(this._trendWindow.twoFingerSingleTap(e),this._hammerDad.stop())},l.prototype._onScrollEvent=function(e,t,i){var r,a=!1,n=!0,o={beginTime:[],endTime:[],chromIds:[],points:[],clientHandles:[],aggMode:[]},s=[];e===this._trendView.axisTypeEnum.yAxis?(this._initialVertOffset=i,this._trendView.trendObjectType===te.Data.TrendObjectType.Online&&(n=!1)):(e=this._trendView.axisTypeEnum.xAxis,this._trendView.trendObjectType===te.Data.TrendObjectType.Online&&this._initialHorizOffset!==i&&(a=!0,r=this._initialHorizOffset-i),this._initialHorizOffset=i),this._trendWindow.moveToPerc(i,e,a,r,o,s),this._trendWindow.resetTrendWindow(),o.chromIds.length&&this._trendView.dp.addRequest(o.beginTime,o.endTime,o.points,o.chromIds,o.clientHandles,s[0],o.aggMode,!0),(this._trendView.trendCompanionConstUpdate&&(this._trendView.getShowRuler()||this._trendView.getShowStatisticRuler())&&n||this._trendView.secondaryRulerToolTip)&&this._trendView.calculateRulerData()},l.prototype._getMousePos=function(e){var t={x:0,y:0};return e.changedTouches?(t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t},l.prototype._getPos=function(e){return{x:e.pointers[0].clientX,y:e.pointers[0].clientY}},l.prototype._getDrawableTrendById=function(e){var t,i=null,r="",a=this._trendWindow.drawableTrends,n=a.length;if(void 0!==e){for(e=e.split("_"),t=2;t<e.length;t++)r+=e[t]+"_";for(r=r.slice(0,r.length-1),t=0;t<n;t++)if(r=a[t].id){i=a[t];break}return i}},l.prototype._enableDisableMouseScroll=function(e){if(e&&!this._mouseScrollEvents)this._svgParent.addEventListener("wheel",this._onMouseScroll.bind(this));else{if(e||!this._mouseScrollEvents||this.vScrollbar||this.hScrollbar||!this._trendView.isOnline()&&!this._trendView.isZooming)return;this._svgParent.removeEventListener("wheel",this._onMouseScroll.bind(this))}this._mouseScrollEvents=e},l.prototype._trendToolTipClose=function(){var e,t;if(this._isToolTipShown){for(e=this._trendView.getDrawableTrend(),t=0;t<e.length;t++)e[t].tooltipFeature&&e[t].tooltipFeature.isTooltipShown&&e[t].tooltipFeature.hideToolTip(this._trendView.svgToolTipHighLighterGroup);this._isToolTipShown=!1}},l.prototype._onTrendWindowMouseLeave=function(e){this._rulerMoveStatus||(this._svgParent.style.cursor="Default",this._trendToolTipClose())},l.prototype._onTrendWindowMouseDown=function(e){e.preventDefault(),e.which!==this.RIGHT_CLICK&&e.buttons!==this.RIGHT_CLICK_KEYCODE||(this._trendView.zoomInOut||this._trendView.zoomInOutX||this._trendView.zoomInOutY)&&(this._rightClickObj.point=this._getMousePos(e),this._rightClickObj.timeStamp=e.timeStamp)},l.prototype._onTrendWindowMouseUp=function(e){e.preventDefault(),e.which!==this.RIGHT_CLICK&&e.buttons!==this.RIGHT_CLICK_KEYCODE||(this._trendView.zoomInOut||this._trendView.zoomInOutX||this._trendView.zoomInOutY)&&e.timeStamp-this._rightClickObj.timeStamp<=this.SINGLE_TAP_TIME&&this._trendWindow.twoFingerSingleTap(this._rightClickObj.point,!0)},l.prototype._onTrendWindowMouseMove=function(e){e.preventDefault();var t,i,r=0,a=this._trendView.zoomInOut||this._trendView.zoomInOutX||this._trendView.zoomInOutY;if(!this._trendView.isOnline()&&!this._rulerMoveStatus)for(t=this._trendWindow.drawableTrends,r=0;r<t.length&&!(i=t[r].tooltipFeature?this.setTooltipText(e,t[r]):i);r++);this._trendView.enabled&&(a?e.altKey||e.shiftKey?this._svgParent.style.cursor=this._zoomOutCursorPath:a&&(this._svgParent.style.cursor=this._zoomInCursorPath):this._trendView.moveTrendArea?this._svgParent.style.cursor="all-scroll":this._trendView.zoomArea&&(this._svgParent.style.cursor=this._zoomInCursorPath))},l.prototype.addTooltipGroup=function(){this._trendView.svgToolTipHighLighterGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._trendView.svgToolTipHighLighterGroup.setAttribute("id",this._trendView.getControlName()+"_svgToolTipHighLighterGroup"),this._trendView.svgToolTipHighLighterGroup.setAttribute("visibility","hidden"),this._trendView.svgToolTipHighLighterGroup.style.pointerEvents="none",this._trendView.toolTipHighlighterCircle=te.Features.Shape.SvgShape.CreateSvgElement("circle",{cx:0,cy:0,r:7,fill:"black",visibility:"hidden",opacity:.4,id:this._trendView.getControlName()+"_toolTipHighlighterCircle",appendTo:this._trendView.svgToolTipHighLighterGroup}),this._trendView.toolTipHighlighterRect=te.Features.Shape.SvgShape.CreateSvgElement("rect",{x:0,y:0,height:4,width:4,fill:"black",visibility:"hidden",opacity:.4,id:this._trendView.getControlName()+"_toolTipHighlighterRect",appendTo:this._trendView.svgToolTipHighLighterGroup}),this._trendView.svgTooltipGroup=te.Features.Shape.SvgShape.CreateSvgElement("g",{id:this._trendView.getControlName()+"_svgToolTipGroup",fill:"black",stroke:"none","stroke-width":1}),this._trendView.SVGParent.childNodes[0].appendChild(this._trendView.svgToolTipHighLighterGroup),this._trendView.SVGParent.childNodes[0].appendChild(this._trendView.svgTooltipGroup)},l.prototype.init=function(){this._zoomInCursorPath="url("+this._trendView.RTPUItem.Store.gfxWebLib.connection.getAppDir()+"content/systemdata/zoomin.cur), default",this._zoomOutCursorPath="url("+this._trendView.RTPUItem.Store.gfxWebLib.connection.getAppDir()+"content/systemdata/zoomout.cur), default",this._eventRectId=this._trendWindow.getEventRectId(),this._isLeftOrRight=this._trendWindow.getIsLeftOrRight(),this._trendWindow.setScrollbarDim=this.setScrollbarDim.bind(this),this._trendWindow.enableTrendAreaMove=this.enableTrendAreaMove.bind(this),this._trendWindow.enableDisablePinchAndScroll=this.enableDisablePinchAndScroll.bind(this),this._eventCbs={onTrendWindowMouseMove:this._onTrendWindowMouseMove.bind(this),onTrendWindowMouseUp:this._onTrendWindowMouseUp.bind(this),onTrendWindowMouseDown:this._onTrendWindowMouseDown.bind(this),onTrendWindowMouseLeave:this._onTrendWindowMouseLeave.bind(this),onEvent:this._onEvent.bind(this),onPan:this._onPan.bind(this),onPanStart:this._onPanStart.bind(this),onSingleTap:this._onSingleTap.bind(this),twoFingerSingleTap:this._twoFingerSingleTap.bind(this),onPinch:this._onPinch.bind(this)}},l.prototype.initHammer=function(){this._innerRect=this._trendWindow.getRect(),this._eventFocusElements=this._trendWindow.getEventSVG(),this._svgParent=this._trendWindow.getSVG(),this._svgPoint=this._trendView.SVGParent.createSVGPoint(),this.Hammer=this._trendView.Hammer,this.Hammer&&(this._hammerDad&&(this._hammerDad.destroy(),this._hammerDad=null),this._hammerDad=new this.Hammer.Manager(this._svgParent,{prevent_default:!0,transform_always_block:!0}),this._hammerDad.add(new this.Hammer.Tap({event:this._hammerEvents.TWO_FINGER_SINGLE_TAP,taps:1,pointers:2,time:200,threshold:10})),this._hammerDad.add(new this.Hammer.Tap({event:this._hammerEvents.SINGLE_TAP,taps:1,pointers:1,time:this.SINGLE_TAP_TIME,threshold:2})),this._hammerDad.add(new this.Hammer.Pan({event:this._hammerEvents.PAN,pointers:1,direction:this.Hammer.DIRECTION_ALL,threshold:5})),this._pinchEvent=new this.Hammer.Pinch({event:this._hammerEvents.PINCH,pointers:2,threshold:0,enable:!0})),this._rulerEvents=!1,this._moveTrendAreaEvents=!1,this._mouseScrollEvents=!1,(this._trendView.getShowStatisticRuler()||this._trendView.getShowRuler())&&this.enableRulerEvents(),te.Features.Shape.SvgShape.AddSvgEvents(this._eventFocusElements,{mousedown:this._eventCbs.onTrendWindowMouseDown,mouseleave:this._eventCbs.onTrendWindowMouseLeave,mouseup:this._eventCbs.onTrendWindowMouseUp,mousemove:this._eventCbs.onTrendWindowMouseMove,touchstart:this._eventCbs.onEvent})},l.prototype.unInitHammer=function(){this.disableRulerEvents(),this.removeSvgEvents(),this._hammerDad&&(this._hammerDad.destroy(),this._hammerDad=null)},l.prototype.setScrollbarDim=function(e,t,i,r,a,n){this._verticalScrollX=e,this._verticalScrollY=t,this._horizontalScrollX=i,this._horizontalScrollY=r,this._isLeftOrRight?(this._verticalScrollHeight=a,this._horizontalScrollWidth=n,this._verticalScrollWidth=this._horizontalScrollHeight=this.SCROLLBAR_WIDTH):(this._verticalScrollHeight=this._horizontalScrollWidth=this.SCROLLBAR_WIDTH,this._verticalScrollWidth=a,this._horizontalScrollHeight=n)},l.prototype.drawScrollbars=function(e,t){var i,r=!1;!t&&!e||this._trendWindow.scrollBarGroup||this._createScrollBar(),t?(i=this._trendWindow.scrollBarGroup,this.drawVertScrollbar(t,i)&&(r=!0)):this.removeVScroll(),e?(i=i||this._trendWindow.scrollBarGroup,this.drawHorizScrollbar(!1,e,i)&&(r=!0)):this.removeHScroll(),this._enableDisableMouseScroll(r)},l.prototype.updateScrollbars=function(e,t){var i=!1;t?i=this.updateVertScrollbar(t):this.removeVScroll(),e?i=this.updateHorizScrollbar(e):this.removeHScroll(),i&&this._enableDisableMouseScroll(!0)},l.prototype.drawHorizScrollbar=function(e,t,i){var r,a,n,o,s,l,u,h=!0,d=0,c=this._trendWindow.getXAxes(),p=c.length,m=te.Data.TextOrientation,g=this._isLeftOrRight?"Horizontal":"Vertical";if(e){for(a=0;a<p;a++)(r=c[a]).zoomInOutCount>d&&(d=r.zoomInOutCount,n=a);t=d,r=c[n]}else for(a=0;a<p&&(r=c[a]).zoomInOutCount!==t;a++);if(0!==t&&this._trendView.oneToOneView){switch(this._trendView.trendObjectType===te.Data.TrendObjectType.Online||r.config.ScalingType===te.getChromEnum("HmiScalingType").Linear?(o=r.currentBeginValue,s=r.currentEndValue,l=r.startValueBuffer,u=r.endValueBuffer):r.config.ScalingType>=te.getChromEnum("HmiScalingType").Logarithmic&&(o=r.getLogValue(r.currentBeginValue),s=r.getLogValue(r.currentEndValue),l=r.getLogValue(r.startValueBuffer),u=r.getLogValue(r.endValueBuffer)),r.textOrientation){case m.FromRight:case m.FromBottom:this._initialHorizOffset=(o-l)/(u-l-s+o);break;case m.FromLeft:case m.FromTop:this._initialHorizOffset=(u-s)/(u-l-s+o)}this._initialHorizOffset<0&&(this._initialHorizOffset=0),this.initialWidthPerc=(s-o)/(u-l)}else this.initialWidthPerc=this._initialHorizOffset=0;return this._isLeftOrRight&&this._horizontalScrollWidth>2*this._horizontalScrollHeight||!this._isLeftOrRight&&this._horizontalScrollHeight>2*this._horizontalScrollWidth?(this.hScrollbar&&this.hScrollbar.templateInstance?this.updateHScrollData(this.initialWidthPerc):(this.hScrollbar=te.Utilities.createScrollBarObj(this._trendView,g,this.createHScrollData()),this.hScrollTemplateInst=te.loadSubTemplate(i,this.hScrollbar,"ScrollBarSystemPart",this.hScrollbar.props.RenderingTemplate,this.hScrollbar.cbOnChanged.bind(this),this.hScrollbar.cbOnTemplateLoaded.bind(this))),this._trendWindow.setScrollbarRef(this.hScrollbar),0===t&&(this._trendView.redraw(),h=!1)):h=!1,h},l.prototype.drawVertScrollbar=function(e,t){for(var i,r,a,n,o,s=!0,l=this._trendWindow.getYAxes(),u=l.length,h=te.Data.TextOrientation,d=this._isLeftOrRight?"Vertical":"Horizontal",c=0;c<u&&(i=l[c]).zoomInOutCount!==e;c++)i=null;if(0!==e&&this._trendView.oneToOneView&&null!==i){switch(i.config.ScalingType===te.getChromEnum("HmiScalingType").Linear?(r=i.currentBeginValue,a=i.currentEndValue,n=i.startValueBuffer,o=i.endValueBuffer):i.config.ScalingType>=te.getChromEnum("HmiScalingType").Logarithmic&&(r=i.getLogValue(i.currentBeginValue),a=i.getLogValue(i.currentEndValue),n=i.getLogValue(i.startValueBuffer),o=i.getLogValue(i.endValueBuffer)),i.textOrientation){case h.FromTop:case h.FromLeft:this._initialVertOffset=(o-a)/(o-n-a+r);break;case h.FromBottom:case h.FromRight:this._initialVertOffset=(r-n)/(o-n-a+r)}this.initialHeightPerc=(a-r)/(o-n)}else this.initialHeightPerc=this._initialVertOffset=0;return this._isLeftOrRight&&this._verticalScrollHeight>2*this._verticalScrollWidth||!this._isLeftOrRight&&this._verticalScrollWidth>2*this._verticalScrollHeight?(this.vScrollbar&&this.vScrollbar.templateInstance?this.updateVScrollData(this.initialHeightPerc):(this.vScrollbar=te.Utilities.createScrollBarObj(this._trendView,d,this.createVScrollData()),this.vScrollTemplateInst=te.loadSubTemplate(t,this.vScrollbar,"ScrollBarSystemPart",this.vScrollbar.props.RenderingTemplate,this.vScrollbar.cbOnChanged.bind(this),this.vScrollbar.cbOnTemplateLoaded.bind(this))),this._trendWindow.setScrollbarRef(null,this.vScrollbar),0===e&&(this._trendView.redraw(),s=!1)):s=!1,s},l.prototype.createHScrollData=function(){return{BeginValue:this.SCROLLBAR_BEGINVALUE,Height:this._horizontalScrollHeight,Width:this._horizontalScrollWidth,EndValue:this.SCROLLBAR_ENDVALUE,CurrentValue:this._initialHorizOffset*((1-this.initialWidthPerc)*this.SCROLLBAR_ENDVALUE),cbOnChanged:this.hScrollValueChanged.bind(this),cbOnTemplateLoaded:this.hScrollTemplateLoaded.bind(this),cbOnCommand:this.hScrollOnCommand.bind(this),VisibleValueRange:this.initialWidthPerc*this.SCROLLBAR_ENDVALUE,SmallStepValueRange:this.SCROLL_STEPS}},l.prototype.createVScrollData=function(){return{BeginValue:this.SCROLLBAR_BEGINVALUE,Height:this._verticalScrollHeight,Width:this._verticalScrollWidth,EndValue:this.SCROLLBAR_ENDVALUE,CurrentValue:this._initialVertOffset*((1-this.initialHeightPerc)*this.SCROLLBAR_ENDVALUE),cbOnChanged:this.vScrollValueChanged.bind(this),cbOnTemplateLoaded:this.vScrollTemplateLoaded.bind(this),cbOnCommand:this.vScrollOnCommand.bind(this),VisibleValueRange:this.initialHeightPerc*this.SCROLLBAR_ENDVALUE,SmallStepValueRange:this.SCROLL_STEPS}},l.prototype.updateHScrollData=function(e){var t;e&&(t=this._initialHorizOffset*((1-e)*this.SCROLLBAR_ENDVALUE),e=e*this.SCROLLBAR_ENDVALUE,this.hScrollbar.props.CurrentValue!==t&&this.hScrollbar.templateInstance.setHmiProps(t,"HmiProps.CurrentValue"),this.hScrollbar.props.VisibleValueRange!==e)&&this.hScrollbar.templateInstance.setHmiProps(e,"HmiProps.VisibleValueRange"),this._horizontalScrollHeight&&this.hScrollbar.props.Height!==this._horizontalScrollHeight&&this.hScrollbar.templateInstance.setHmiProps(this._horizontalScrollHeight,"HmiProps.Height"),this._horizontalScrollWidth&&this.hScrollbar.props.Width!==this._horizontalScrollWidth&&this.hScrollbar.templateInstance.setHmiProps(this._horizontalScrollWidth,"HmiProps.Width"),this.hScrollbar.templateInstance.update(),this._horizontalScrollX&&this.hScrollbar.templateInstance.RootNode.setAttribute("x",this._horizontalScrollX),this._horizontalScrollY&&this.hScrollbar.templateInstance.RootNode.setAttribute("y",this._horizontalScrollY)},l.prototype.updateVScrollData=function(e){var t;e&&(t=this._initialVertOffset*((1-e)*this.SCROLLBAR_ENDVALUE),e=e*this.SCROLLBAR_ENDVALUE,this.vScrollbar.props.CurrentValue!==t&&this.vScrollbar.templateInstance.setHmiProps(t,"HmiProps.CurrentValue"),this.vScrollbar.props.VisibleValueRange!==e)&&this.vScrollbar.templateInstance.setHmiProps(e,"HmiProps.VisibleValueRange"),this._verticalScrollHeight&&this.vScrollbar.props.Height!==this._verticalScrollHeight&&this.vScrollbar.templateInstance.setHmiProps(this._verticalScrollHeight,"HmiProps.Height"),this._verticalScrollWidth&&this.vScrollbar.props.Width!==this._verticalScrollWidth&&this.vScrollbar.templateInstance.setHmiProps(this._verticalScrollWidth,"HmiProps.Width"),this.vScrollbar.templateInstance.update(),this._verticalScrollX&&this.vScrollbar.templateInstance.RootNode.setAttribute("x",this._verticalScrollX),this._verticalScrollY&&this.vScrollbar.templateInstance.RootNode.setAttribute("y",this._verticalScrollY)},l.prototype.hScrollTemplateLoaded=function(e,t){e.templateInstance.RootNode.setAttribute("x",this._horizontalScrollX),e.templateInstance.RootNode.setAttribute("y",this._horizontalScrollY)},l.prototype.vScrollTemplateLoaded=function(e,t){e.templateInstance.RootNode.setAttribute("x",this._verticalScrollX),e.templateInstance.RootNode.setAttribute("y",this._verticalScrollY)},l.prototype.hScrollOnCommand=function(e,t,i){this._trendView.trendObjectType!==te.Data.TrendObjectType.Online||"MOVE_TRIGGERED"!==t||i||this._trendView.dp.sendRequest()},l.prototype.vScrollOnCommand=function(e,t,i){},l.prototype.hScrollValueChanged=function(e,t){this._onScrollEvent(this._trendView.axisTypeEnum.xAxis,t/(1-this.initialWidthPerc),t/((1-this.initialWidthPerc)*this.SCROLLBAR_ENDVALUE))},l.prototype.vScrollValueChanged=function(e,t){this._onScrollEvent(this._trendView.axisTypeEnum.yAxis,t/(1-this.initialHeightPerc),t/((1-this.initialHeightPerc)*this.SCROLLBAR_ENDVALUE))},l.prototype.removeHScroll=function(){this.hScrollbar&&this.hScrollbar.templateInstance&&(te.removeSubTemplate(this.hScrollbar.templateInstance),this.hScrollbar=null)},l.prototype.removeVScroll=function(){this.vScrollbar&&this.vScrollbar.templateInstance&&(te.removeSubTemplate(this.vScrollbar.templateInstance),this.vScrollbar=null)},l.prototype.updateHorizScrollbar=function(e){if(!this.hScrollbar||!this.hScrollbar.templateInstance)return this.drawHorizScrollbar(!1,e,this._trendWindow.scrollBarGroup);this.updateHScrollData()},l.prototype.updateVertScrollbar=function(e){if(!this.vScrollbar||!this.vScrollbar.templateInstance)return this.drawVertScrollbar(e,this._trendWindow.scrollBarGroup);this.updateVScrollData()},l.prototype.disableRulerEvents=function(){this._rulerEvents=!1,this._hammerDad&&(te.Features.Shape.SvgShape.RemoveSvgEvents(this._svgParent,{mouseup:this._eventCbs.onEvent,touchstart:this._eventCbs.onEvent,touchend:this._eventCbs.onEvent}),te.Features.Shape.SvgShape.RemoveSvgEvents(this._trendView.SVGParent,{mousedown:this._eventCbs.onEvent}),!1===this._moveTrendAreaEvents)&&this._hammerDad&&this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.PAN)&&this._hammerDad.off(this._hammerEvents.PAN,this._eventCbs.onPan)},l.prototype.enableRulerEvents=function(){this._rulerEvents=!0,this._hammerDad&&(te.Features.Shape.SvgShape.AddSvgEvents(this._svgParent,{mouseup:this._eventCbs.onEvent,touchstart:this._eventCbs.onEvent,touchend:this._eventCbs.onEvent}),te.Features.Shape.SvgShape.AddSvgEvents(this._trendView.SVGParent,{mousedown:this._eventCbs.onEvent}),!1===this._moveTrendAreaEvents)&&this._hammerDad&&this._hammerDad.on(this._hammerEvents.PAN,this._eventCbs.onPan)},l.prototype.enableDisablePinchAndScroll=function(e){this._hammerDad&&(e?(this._hammerDad.add(this._pinchEvent),this._hammerDad.on(this._hammerEvents.PINCH,this._eventCbs.onPinch)):this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.PINCH)&&(this._hammerDad.off(this._hammerEvents.PINCH,this._eventCbs.onPinch),this._hammerDad.remove(this._pinchEvent))),this._enableDisableMouseScroll(e)},l.prototype.enableTrendAreaMove=function(e){this._moveTrendAreaEvents=!0,this._hammerDad&&(this._hammerDad.on(this._hammerEvents.TWO_FINGER_SINGLE_TAP,this._eventCbs.twoFingerSingleTap),this._hammerDad.on(this._hammerEvents.SINGLE_TAP,this._eventCbs.onSingleTap),!1===this._rulerEvents&&this._hammerDad.on(this._hammerEvents.PAN,this._eventCbs.onPan),this._hammerDad.on(this._hammerEvents.PAN_START,this._eventCbs.onPanStart)),e&&this.enableDisablePinchAndScroll(!1)},l.prototype.disableTrendAreaMove=function(e){this._moveTrendAreaEvents=!1,this._hammerDad&&(this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.TWO_FINGER_SINGLE_TAP)&&this._hammerDad.off(this._hammerEvents.TWO_FINGER_SINGLE_TAP,this._eventCbs.twoFingerSingleTap),this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.SINGLE_TAP)&&this._hammerDad.off(this._hammerEvents.SINGLE_TAP,this._eventCbs.onSingleTap),!1===this._rulerEvents&&this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.PAN)&&this._hammerDad.off(this._hammerEvents.PAN,this._eventCbs.onPan),this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.PAN_START))&&this._hammerDad.off(this._hammerEvents.PAN_START,this._eventCbs.onPanStart),e&&this.enableDisablePinchAndScroll(!0)},l.prototype.setTooltipText=function(e,t){var i,r,a,n,o,s,l,u,h="",d="none",c=0,p=0,m="xTagPosition",g="yTagPosition",T=!1,f=0,y=0,D=6<t.pointWidth?t.pointWidth+2:6;if(this._currentDragPoint=this._getMousePos(e),this.translateCoordinates(this._currentDragPoint,null),this._isToolTipShown&&Math.abs(this._lastMousePositionX-this._currentDragPoint.x)<10&&Math.abs(this._lastMousePositionY-this._currentDragPoint.y)<10)return!1;for(this._lastMousePositionX=this._currentDragPoint.x,this._lastMousePositionY=this._currentDragPoint.y,this._isLeftOrRight||(m="yTagPosition",g="xTagPosition"),o=t.linesCollection.length,n=0;n<o&&(s=t.linesCollection[n]).points;n++){if(u=s.items.length,s.translate?this._isLeftOrRight?(c=t.translateX,p=t.translateY):(p=t.translateX,c=t.translateY):p=c=0,!1!==(u=t.trendView.trendObjectType===te.Data.TrendObjectType.Online?(null===s.items[s.items.length-1].xTagPosition&&(u=t.searchforTagListIndex(s)),t.searchforposition(u,s,m,g,c,p,D,this._currentDragPoint)):t.searchforposition(u,s,c,p,D,this._currentDragPoint))){l=u.trendPoint,f=u.markerX,y=u.markerY,T=u.isMarkerArea,u=null;break}l=null}return T?(l&&(r=t.currentXAxis.getDisplayValue(l.xTagValue),a=t.currentYAxis.getDisplayValue(l.yTagValue)),e=t.trendStyle===te.getChromEnum("HmiTrendMode").Points?0:t.lineWidth,t.fill&&(d=t.fillColor),i=t.displayName,e={id:t.id,trendColor:t.color,lineWidth:e,lineStyle:t.lineStyle,fillColor:d,markerColor:t.pointColor,markerWidth:D,markerStyle:t.pointStyle,trendWindowColor:t.currentTrendWindow.backColor,graphicMarkerSrc:t.graphicMarkerSrc,trendAreaBackColor:t.currentTrendWindow.config.BackColor},this._trendView.svgToolTipHighLighterGroup||this.addTooltipGroup(),t.trendView.trendObjectType===te.Data.TrendObjectType.Online?(h=60<t.dataSource.TagDisplayName.length?t.dataSource.TagDisplayName.substr(0,60)+"...":t.dataSource.TagDisplayName,this._trendToolTipClose(),t.tooltipFeature.setToolTipValueData({header:i,xAxisValue:r,yAxisValue:h+" (Y) : "+a,tempX:f,tempY:y,trendData:e,boundaryRect:t.currentTrendWindow.getRect(),highlighterGroup:t.trendView.svgToolTipHighLighterGroup})):(d=60<t.dataSourceX.TagDisplayName.length?t.dataSourceX.TagDisplayName.substr(0,60)+"...":t.dataSourceX.TagDisplayName,h=60<t.dataSourceY.TagDisplayName.length?t.dataSourceY.TagDisplayName.substr(0,60)+"...":t.dataSourceY.TagDisplayName,t.tooltipFeature.setToolTipValueData({header:i,xAxisValue:[d+" (X) : "+r],yAxisValue:h+" (Y) : "+a,tempX:f,tempY:y,trendData:e,boundaryRect:t.currentTrendWindow.getRect(),highlighterGroup:t.trendView.svgToolTipHighLighterGroup})),this._isToolTipShown=!0,this._isToolTipShown):(this._trendToolTipClose(),!1)},l.prototype.setIsLeftOrRight=function(e){this._isLeftOrRight=e},l.prototype.translateCoordinates=function(e,t){t=t||this._trendWindow.getDrawableAreaRect(),t=t.getScreenCTM();this._svgPoint.x=e.x,this._svgPoint.y=e.y,this._svgPoint=this._svgPoint.matrixTransform(t.inverse()),e.x=this._svgPoint.x,e.y=this._svgPoint.y},l.prototype.drawRuler=function(){this._ruler.draw(),this._innerRect=this._trendWindow.getRect(),this._svgParent=this._trendWindow.getSVG()},l.prototype.removeSvgEvents=function(){this._eventFocusElements&&te.Features.Shape.SvgShape.RemoveSvgEvents(this._eventFocusElements,{mousedown:this._eventCbs.onTrendWindowMouseDown,mouseup:this._eventCbs.onTrendWindowMouseUp,mouseleave:this._eventCbs.onTrendWindowMouseLeave,mousemove:this._eventCbs.onTrendWindowMouseMove,touchstart:this._eventCbs.onEvent})},l.prototype.cleanUp=function(){this._hammerDad&&this._hammerDad.destroy(),this._toolTip&&this._toolTip.cleanUp(),this.removeSvgEvents(),this.removeHScroll(),this.removeVScroll(),this._eventCbs.onTrendWindowMouseMove=this._eventCbs.onTrendWindowMouseUp=this._eventCbs.onTrendWindowMouseDown=this._eventCbs.onTrendWindowMouseLeave=this._eventCbs.onEvent=null,this._trendView=this._trendWindow=this.Hammer=this._hammerDad=this._svgParent=this._eventFocusElements=this._innerRect=this._ruler=this._toolTip=this._toolTippedTrend=this.hScrollTemplateInst=this.vScrollTemplateInst=this._eventCbs=null},t.TrendWindowEventManager=l,t=(t=e=e||{}).Lib||(t.Lib={}),t=(y=t.NVEs||(t.NVEs={})).ChartElements||(y.ChartElements={}),ie=t.AxisBase,i(V,ie),V.prototype._setLabelText=function(e,t){(t>this._axisWidth||t<this._lowerBoundAxisWidth)&&(this.labelText=e)},V.prototype._setOrientationAndStartEndValues=function(){var e,t=this.textOrientation;return this.trendView.isLeftOrRight()?this.axisBeginValue>this.axisEndValue?(this.trendView.axisTypeEnum.xAxis===this.axisType?this.textOrientation=y.Data.TextOrientation.FromLeft:this.textOrientation=y.Data.TextOrientation.FromBottom,e=this.axisBeginValue,this.axisBeginValue=this.axisEndValue,this.axisEndValue=e):this.trendView.axisTypeEnum.xAxis===this.axisType?this.textOrientation=y.Data.TextOrientation.FromRight:this.textOrientation=y.Data.TextOrientation.FromTop:this.axisBeginValue>this.axisEndValue?(this.trendView.axisTypeEnum.xAxis===this.axisType?this.textOrientation=y.Data.TextOrientation.FromTop:this.textOrientation=y.Data.TextOrientation.FromLeft,e=this.axisBeginValue,this.axisBeginValue=this.axisEndValue,this.axisEndValue=e):this.trendView.axisTypeEnum.xAxis===this.axisType?this.textOrientation=y.Data.TextOrientation.FromBottom:this.textOrientation=y.Data.TextOrientation.FromRight,this.setStraightDialOrientationProps(),t!==this.textOrientation},V.prototype._calculateRange=function(e){this.trendView.trendObjectType!==y.Data.TrendObjectType.Function||this.alwaysShowRecent?this.config.AutoRange?this.invalidated=this.setExtremeAxisValues(e):(this.invalidated=!1,e?this.startValueBuffer===this.axisBeginValue&&this.endValueBuffer===this.axisEndValue||(this.startValueBuffer=this.axisBeginValue,this.endValueBuffer=this.axisEndValue,this.invalidated=!0):this.currentBeginValue===this.axisBeginValue&&this.currentEndValue===this.axisEndValue||(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue,this.invalidated=!0)):this.invalidated=!1},V.prototype._animateInvalidation=function(e){var t,i,r,a,n,o,s=0,l=null,u=null,h=this._animationSteps,d=this.currentBeginValue,c=this.currentEndValue;if(this._calculateRange(e),this.invalidated){switch(t=this.currentBeginValue,i=this.currentEndValue,this.currentBeginValue=d,this.currentEndValue=c,r=(t-d)/h,a=(i-c)/h,this.axisType){case this.trendView.axisTypeEnum.xAxis:l=this.config.Name;break;case this.trendView.axisTypeEnum.yAxis:u=this.config.Name}n=function(){var e;if(++s===h?(this.currentBeginValue=t,this.currentEndValue=i):(this.currentBeginValue=d+s*r,this.currentEndValue=c+s*a),this.alwaysShowRecent&&this.calculateAndUpdate(),(e=this.trendView.getDrawableTrendWindowByName(this.trendWindow))&&e.reDraw(l,u),s===h)return n=o=l=u=null,this._animatingInvalidation=!1,this.trendView.trendObjectType===y.Data.TrendObjectType.Function&&this.trendView.trendControlAnimator.requestRulerDataCalculation(!0),!1},o=function(){n=o=l=u=null,this._animatingInvalidation=!1},this._animationSteps=V._animationStepsThreshold,this.trendView.trendControlAnimator.addValueAxisAnimation(this.axisPbId,n.bind(this),o.bind(this),{newBeginValue:t,newEndValue:i}),this._animatingInvalidation=!0}},V.prototype.invalidate=function(e,t){return t?this._animateInvalidation(e):(this._animatingInvalidation&&this.trendView.trendControlAnimator.removeValueAxisAnimation(this.axisPbId),this._calculateRange(e),this.invalidated&&this.calculateAndUpdate()),this.invalidated&&e},V.prototype.calculateAndUpdate=function(e,t){var i,r,a,n,o=!0,s=this.config.Visible&&this.trendWindowDrawable&&!e,l=this.currentEndValue-this.currentBeginValue;for(this.invalidated=!0,r=this.textOrientation===y.Data.TextOrientation.FromRight||this.textOrientation===y.Data.TextOrientation.FromTop?(i=this.currentBeginValue,this.currentEndValue):(i=this.currentEndValue,this.currentBeginValue),a=0;a<this.straightDialCount;a++)(n=this.straightDials[a].Features[0]).Attributes["begin-value"]=i,n.Attributes["end-value"]=r,s&&n.draw(n.webRTPUItem,n.metaData),i+=l,r+=l;return(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&(this.moveMinMaxRuler&&this.moveMinMaxRuler(),this.trendView.trendObjectType===y.Data.TrendObjectType.Function)&&this.parentTrendWindow.updateRulerLabel(this),this.config.Visible&&this.trendWindowDrawable&&this.axisType===this.trendView.axisTypeEnum.yAxis&&(this._axisWidth<(e=this.getAxisWidth())||e<this._lowerBoundAxisWidth)&&(!0===t?this.trendView.redraw():0<this._lowerBoundAxisWidth&&this.trendView.onUpdate(),o=!1),o},V.prototype.redrawScale=function(){for(var e,t=0;t<this.straightDialCount;t++)(e=this.straightDials[t].Features[0]).draw(e.webRTPUItem,e.metaData)},V.prototype.OnUpdate=function(e,t){var i,r,a,n,o=y.Data.AxisPropId;switch(e){case o.Visible:this.config.Visible=t,y.Data.PostPropertyUpdate.Redraw=!0;break;case o.DivisionCount:if(this.config.DivisionCount=t,this.defaultFeaturesUsed)for(i=0;i<this.divisionFeatures.length;i++)this.divisionFeatures[i].Attributes.count=t,this.config.Visible&&this.redrawScale();break;case o.SubDivisionCount:if(this.config.SubDivisionCount=t,this.defaultFeaturesUsed&&!this.config.AutoScaling)for(i=0;i<this.minorGridLines.length;i++)this.minorGridLines[i].Parent.Attributes.count=t,this.config.Visible&&this.redrawScale();break;case o.TickColor:if(this.config.TickColor=t,this.tickColor=y.getRGBAcolor(t),this.displayNameSvg&&this.displayNameSvg.children[0].setAttribute("stroke",this.tickColor),this.defaultFeaturesUsed)for(i=0;i<this.ticksFeatures.length;i++)this.ticksFeatures[i].Attributes.stroke=this.tickColor,this.config.Visible&&this.redrawScale();break;case o.LabelColor:if(this.config.LabelColor=t,this.labelColor=y.getRGBAcolor(t),this.displayNameSvg&&this.displayNameSvg.children[1].setAttribute("fill",this.labelColor),this.defaultFeaturesUsed)for(i=0;i<this.labelsFeatures.length;i++)this.labelsFeatures[i].Attributes.fill=this.labelColor,this.config.Visible&&this.redrawScale();break;case o.AxisColor:this.config.AxisColor=t,this.defaultFeaturesUsed&&(n=y.getRGBAcolor(t),this.ribbons.Attributes.stroke=n,this.config.Visible)&&this.redrawScale();break;case o.ScalingType:if(this.config.ScalingType=t,this.defaultFeaturesUsed){for(r=this.getTrends(),length=r.length,i=0;i<length;i++)r[i].resetMinAndMaxValue(this.axisType);this.config.ScalingType===y.getChromEnum("HmiScalingType").Logarithmic?(this.axisBeginValue<=0&&(this.axisBeginValue=1,this.axisEndValue<=this.axisBeginValue)&&(this.axisEndValue=100),this.currentBeginValue<=0&&(this.currentBeginValue=1,this.currentEndValue<=this.currentBeginValue)&&(this.currentEndValue=100),this.moveToPerc=this.moveToPercLogScale):this.config.ScalingType===y.getChromEnum("HmiScalingType").NegativeLogarithmic?(0<=this.axisEndValue&&(this.axisEndValue=-1,this.axisEndValue<=this.axisBeginValue)&&(this.axisBeginValue=-100),0<=this.currentEndValue&&(this.currentEndValue=-1,this.currentEndValue<=this.currentBeginValue)&&(this.currentBeginValue=-100),this.moveToPerc=this.moveToPercLogScale):this.moveToPerc=this.moveToPercLinearScale,this.straightDial.Features[0].Attributes.type=t,this.straightDial.Features[0].Attributes["begin-value"]=this.currentBeginValue,this.straightDial.Features[0].Attributes["end-value"]=this.currentEndValue,y.Data.PostPropertyUpdate.Update=!0,this.redrawScale()}break;case o.EndValue:1e307<=(t=Number(t))?t=1e307:t<=-1e307&&(t=-1e307),(this.textOrientation===y.Data.TextOrientation.FromLeft||this.trendView.axisTypeEnum.yAxis===this.axisType&&this.textOrientation===y.Data.TextOrientation.FromBottom||this.trendView.axisTypeEnum.xAxis===this.axisType&&this.textOrientation===y.Data.TextOrientation.FromTop)&&(this.axisBeginValue=this.axisEndValue),this.axisEndValue=t,this.config.EndValue=this.axisEndValue,y.Data.PostPropertyUpdate.Redraw=this._setOrientationAndStartEndValues()||y.Data.PostPropertyUpdate.Redraw,this.config.AutoRange&&y.isAppModeRuntime()||(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue,y.Data.PostPropertyUpdate.Update=!0);break;case o.BeginValue:1e307<=(t=Number(t))?t=1e307:t<=-1e307&&(t=-1e307),(this.textOrientation===y.Data.TextOrientation.FromLeft||this.trendView.axisTypeEnum.yAxis===this.axisType&&this.textOrientation===y.Data.TextOrientation.FromBottom||this.trendView.axisTypeEnum.xAxis===this.axisType&&this.textOrientation===y.Data.TextOrientation.FromTop)&&(this.axisEndValue=this.axisBeginValue),this.axisBeginValue=t,this.config.BeginValue=this.axisBeginValue,y.Data.PostPropertyUpdate.Redraw=this._setOrientationAndStartEndValues()||y.Data.PostPropertyUpdate.Redraw,this.config.AutoRange&&y.isAppModeRuntime()||(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue,y.Data.PostPropertyUpdate.Update=!0);break;case o.OutputFormat:if(this.config.OutputFormat=""===t?y.getDefaultFormat(window.Variant.CF_VT.DOUBLE):t,this.defaultFeaturesUsed)for(i=0;i<this.labelsFeatures.length;i++)this.labelsFeatures[i].Attributes["output-format"]=this.config.OutputFormat,y.Data.PostPropertyUpdate.Update=!0,this.redrawScale();break;case o.AutoScaling:this.config.AutoScaling=t,this.defaultFeaturesUsed&&(t?this.toggleFeature(this.straightDial,!0):this.toggleFeature(this.straightDial,!1),0<this.minorGridLines.length&&this.updateMinorGridLine(),this.redrawScale());break;case o.AutoRange:if(this.config.AutoRange=t,this.defaultFeaturesUsed){if(this.labelText="0000000",t)this.trendView.trendObjectType===y.Data.TrendObjectType.Function&&!this.alwaysShowRecent||(!1===this.trendWindowDrawable&&(this.config.ScalingType===y.getChromEnum("HmiScalingType").Logarithmic?(this.currentBeginValue=1,this.currentEndValue=100):this.config.ScalingType===y.getChromEnum("HmiScalingType").NegativeLogarithmic?(this.currentBeginValue=-100,this.currentEndValue=-1):(this.currentBeginValue=0,this.currentEndValue=100),this.trendView.createDrawableCollections()),a=this.setExtremeAxisValues(!1),y.Data.PostPropertyUpdate.Update=!0);else{for(this.config.ScalingType===y.getChromEnum("HmiScalingType").Logarithmic?this.axisBeginValue<=0&&(this.axisBeginValue=1,this.axisEndValue<=this.axisBeginValue)&&(this.axisEndValue=100):this.config.ScalingType===y.getChromEnum("HmiScalingType").NegativeLogarithmic&&0<=this.axisBeginValue&&(this.axisBeginValue=-100,this.axisEndValue>=this.axisBeginValue)&&(this.axisEndValue=-1),r=this.getTrends(),length=r.length,i=0;i<length;i++)r[i].resetMinAndMaxValue(this.axisType);this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue,y.Data.PostPropertyUpdate.Update=!0}a&&this.calculateAndUpdate()}break;case o.DisplayName:""===(this.config.DisplayName=t)&&this.trendWindowDrawable&&this.displayNameSvg&&(this.dom.removeChild(this.displayNameSvg),this.displayNameSvg=null,this.addEventOnDisplayName=!1),y.Data.PostPropertyUpdate.Redraw=!0;break;default:this.updateProperty(e,t),this.parentTrendWindow.updateRulerToolTip()}},V.prototype.toggleFeature=function(e,t){var i,r;if(this.requiredFeature=[],this.divisionFeatures=[],this.autoMeasureFeatures=[],t){i=new y.Features.Structure.AutoMeasure,r=y.Features.Structure.Division,this.getScaleFeature(this.straightDial,r),i.Features=this.requiredFeature[0].Features;for(var a=0;a<this.requiredFeature.length;a++)for(var n=0;n<this.requiredFeature[a].Features.length;n++)this.requiredFeature[a].Features[n].Parent=i}else if(!t){(i=new y.Features.Structure.Division).Attributes={count:this.config.DivisionCount},r=y.Features.Structure.AutoMeasure,this.getScaleFeature(this.straightDial,r),i.Features=this.requiredFeature[0].Features;for(a=0;a<this.requiredFeature.length;a++)for(n=0;n<this.requiredFeature[a].Features.length;n++)this.requiredFeature[a].Features[n].Parent=i}if(1<=this.requiredFeature.length){for(a=0;a<this.straightDial.Features[0].Features.length;a++)(e.Features[0].Features[a]instanceof y.Features.Structure.Division||e.Features[0].Features[a]instanceof y.Features.Structure.AutoMeasure)&&(i.Parent=this.straightDial.Features[0],this.straightDial.Features[0].Features[a]=i);(t?this.autoMeasureFeatures:this.divisionFeatures).push(i)}},V.prototype.getFeature=function(e,t){for(var i=0;i<e.Features.length;i++)e.Features[i]instanceof t&&this.requiredFeature.push(e.Features[i]),this.getFeature(e.Features[i],t)},V.prototype.getAxisWidth=function(){var e,t,i,r,a,n,o,s,l,u,h,d,c=0;if(this.defaultFeaturesUsed)this.config.Visible&&(this.templateAttributes.hasOwnProperty("width")&&"calculated"!==this.templateAttributes.width?c=this.templateAttributes.width:(h=u=l=s=void 0,d=this.straightDial.Features[0],""===this.config.DisplayName?this.textOrientation===y.Data.TextOrientation.FromLeft||this.textOrientation===y.Data.TextOrientation.FromRight?(s=y.getTextHeight(this.labelText,this.config.LabelFont),c=this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace+s):(l=this.getDisplayValue(d.Attributes["begin-value"]),u=this.getDisplayValue(d.Attributes["end-value"]),h=l.length>u.length?l:u,h=this._handleSpecialCharacters(h),s=y.getTextWidth(h,this.config.LabelFont),c=this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace+s,this._setLabelText(h,c)):c=this.textOrientation===y.Data.TextOrientation.FromTop||this.textOrientation===y.Data.TextOrientation.FromLeft?(h={x:0,y:0,width:y.getTextWidth(this.config.DisplayName,this.config.LabelFont),height:y.getTextHeight(this.config.DisplayName||"",this.config.LabelFont)},this.upadateLabelTextAndOtherProps(h),this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace+this.labelWidth):(h={x:0,y:0,width:y.getTextWidth("XY",this.config.LabelFont),height:y.getTextHeight(this.config.DisplayName||"",this.config.LabelFont)},this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace+h.height)));else{for(var p=0;p<this.labelsFeatures.length;p++)this.labelsFeatures[p].dom,i=this.labelsFeatures[p].Attributes.offset,n=this.labelsFeatures[p].Attributes.angle,o=this.labelsFeatures[p].Attributes["output-format"],r=this.labelsFeatures[p].Parent.Parent.Attributes["begin-value"],a=this.labelsFeatures[p].Parent.Parent.Attributes["end-value"],r=y.convertFormatPattern(r,o),a=y.convertFormatPattern(a,o),"horizontal"===this.straightDial.Attributes.orientation&&(e=y.getTextHeight(r,this.config.LabelFont),t=y.getTextHeight(a,this.config.LabelFont),0<this.labelsFeatures[p].Attributes.angle)&&(e=Math.abs(e*Math.sin(n)),t=Math.abs(t*Math.sin(n))),"vertical"===this.straightDial.Attributes.orientation&&(e=y.getTextWidth(r,this.config.LabelFont),t=y.getTextWidth(a,this.config.LabelFont),0<this.labelsFeatures[p].Attributes.angle)&&(e=Math.abs(e*Math.cos(n)),t=Math.abs(t*Math.cos(n))),e<t?c<t&&(c=t):c<e&&(c=e);c+=Math.abs(i)}return c},V.prototype.upadateLabelTextAndOtherProps=function(e){e.width+=this.PADDING_X,e.height+=this.PADDING_Y,this.yAxisLabelWidthLimit<=this.bBoxText.width?this.yAxisLabelWidthLimit=this.bBoxText.width:this.yAxisLabelWidthLimit=this.xAxisLabelWidthLimit,e.width=e.width<=this.yAxisLabelWidthLimit?e.width:this.yAxisLabelWidthLimit,this.bBoxText.width=(this.bBoxText.width>=e.width?this.bBoxText:e).width;var t=this.yAxisLabelWidthLimit-(this.trendView.getLineWidth()+this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace);this.bBoxText.width>=t?this.bBoxText.width=this.labelWidth=this.yAxisLabelWidthLimit:this.labelWidth=this.bBoxText.width,this.labelHeight=e.height},V.prototype.setExtremeAxisValues=function(e){for(var t,i,r,a=null,n=null,o=null,s=null,l=!1,u=this.parentTrendWindow.drawableTrends.length,h=0;h<u;h++)t=this.parentTrendWindow.drawableTrends[h],this.axisType===this.trendView.axisTypeEnum.xAxis?t.getXAxis()===this.config.Name&&(o=t.getXStartValue(),s=t.getXEndValue()):t.getYAxis()===this.config.Name&&(o=t.getYStartValue(),s=t.getYEndValue()),(null===a||o<a)&&null!==o&&(a=o),(null===(n=n<s?s:n)||n<s)&&null!==s&&(n=s),null!==o&&o<a&&(a=o);if(null!=a&&null!=n){if(a===n?(0===a?(a=-.1,n=.1):(a-=.1*Math.abs(a),n+=.1*Math.abs(n)),a===n&&(n+=a/=2)):(r=.1*(n-a),this.config.ScalingType===y.getChromEnum("HmiScalingType").Linear?(n+=r,a-=r):this.config.ScalingType===y.getChromEnum("HmiScalingType").Logarithmic?(a-=a<=r?.1*a:r,n+=r):this.config.ScalingType===y.getChromEnum("HmiScalingType").NegativeLogarithmic&&(Math.abs(n)<=r?n-=.1*n:n+=r,a-=r)),(a=1e307<=n&&(n=1e307)<=a?1e306:a)<=-1e307&&n<=(a=-1e307)&&(n=-1e306),this.config.ScalingType===y.getChromEnum("HmiScalingType").Logarithmic?a<=0&&n<=0?(a=1,n=100):n<=0?n=a+.5*a:a<=0&&(a=1<n?1:n-.9*n):this.config.ScalingType===y.getChromEnum("HmiScalingType").NegativeLogarithmic&&(0<=a&&0<=n?(a=-100,n=-1):0<=n?n=a<-1?-1:a-.9*a:0<=a&&(a=n+.5*n)),e){if(this.startValueBuffer!==a||this.endValueBuffer!==n){if(this.startValueBuffer=a,r=(this.endValueBuffer=n)-a,i=this.currentEndValue-this.currentBeginValue,this.zoomInOutCount=0,r<=i)this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.startValueBuffer;else for(this.currentBeginValue<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.currentBeginValue+i):this.currentEndValue>this.endValueBuffer&&(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.currentEndValue-i);this.zoomInOutCount++,i<(r/=2););l=!0}}else this.currentBeginValue===a&&this.currentEndValue===n||(this.currentBeginValue=a,this.currentEndValue=n,l=!0);return l}},V.prototype.init=function(e,t,i,r){void 0===(this.config=e).ScalingEntries&&(e.ScalingEntries=[]),void 0===e.HelpLines&&(e.HelpLines=[]),this.matrix="",this.trendView=t,this.parentTrendWindow=i,this.axisType=r,this.trendWindow=i.config.Name,t.axisTypeEnum.xAxis===r?(this.id=(this.trendView.getControlName()+"_"+i.config.Name+"_xVA_"+this.config.Name).replace(/\s+/g,"_sp_").replace(/\(/g,"_ob_").replace(/\)/g,"_cb_").replace(/\\/g,"_bs_").replace(/\'/g,"_sq_").replace(/\"/g,"_dq_"),this.labelId=this.id+"_XAxisLabel",this.gridlinesGroupId=this.id+"_VerticalMajorGridlines_",this.minorGrdLinesGroupId=this.id+"_VerticalMinorGridlines_"):(this.id=(this.trendView.getControlName()+"_"+i.config.Name+"_yVA_"+this.config.Name).replace(/\s+/g,"_sp_").replace(/\(/g,"_ob_").replace(/\)/g,"_cb_").replace(/\\/g,"_bs_").replace(/\'/g,"_sq_").replace(/\"/g,"_dq_"),this.labelId=this.id+"_YAxisLabel",this.gridlinesGroupId=this.id+"_HorizontalMajorGridlines_",this.minorGrdLinesGroupId=this.id+"_HorizontalMinorGridlines_"),this.ticksGroupId=this.id+"_Ticks_",this.isTimeAxis=-1!==this.config.Type.indexOf("Time"),this.labelsGroupId=this.id+"_Labels_",this.axisPbId=(i.config.Name+"_"+this.config.Name).replace(/\s+/g,"_sp_"),this.labelColor=y.getRGBAcolor(this.config.LabelColor),this.tickColor=y.getRGBAcolor(this.config.TickColor),this.axisColor=y.getRGBAcolor(this.config.AxisColor),this.invalidated=!1,this.rect=new y.Features.Structure.Rectangle,this.innerRect=new y.Features.Structure.Rectangle,this.axisBeginValue=this.config.BeginValue,this.axisEndValue=this.config.EndValue,!this.trendView.isOnline()&&this.trendView.isStyleChange()&&(e=y.Data.AxisDataStore.retrieve(this.axisPbId))&&(this.axisBeginValue=e.beginValue,this.axisEndValue=e.endValue),this._setOrientationAndStartEndValues(),this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue,this.config.ScalingType===y.getChromEnum("HmiScalingType").Logarithmic?(this.axisBeginValue<=0&&(this.axisBeginValue=1,this.axisEndValue<=this.axisBeginValue)&&(this.axisEndValue=100),this.currentBeginValue<=0&&(this.currentBeginValue=1,this.currentEndValue<=this.currentBeginValue)&&(this.currentEndValue=100),this.moveToPerc=this.moveToPercLogScale):this.config.ScalingType===y.getChromEnum("HmiScalingType").NegativeLogarithmic?(0<=this.axisBeginValue&&(this.axisBeginValue=-100,this.axisEndValue>=this.axisBeginValue)&&(this.axisEndValue=-1),0<=this.currentBeginValue&&(this.currentBeginValue=-100,this.currentEndValue>=this.currentBeginValue)&&(this.currentEndValue=-1),this.moveToPerc=this.moveToPercLogScale):this.moveToPerc=this.moveToPercLinearScale;var a,n,o,t=this.currentBeginValue.toString(),r=this.currentEndValue.toString();for(t.length>r.length?this.labelText=this.currentBeginValue:this.labelText=this.currentEndValue,this.outputFormat=""===this.config.OutputFormat?y.getDefaultFormat(window.Variant.CF_VT.DOUBLE):this.config.OutputFormat,this.labelText=y.convertFormatPattern(this.labelText,this.outputFormat),this.labelTextBuffer=this.labelText,this.trendWindowDrawable=!1,this.zoomInOutCount=0,this.startValueBuffer=null,this.endValueBuffer=null,this.startValueBuffer2=null,this.endValueBuffer2=null,this.measurementUnitType=this.config.MeasurementUnitType,this.updateMeasurementUnit(),a=0;a<this.straightDialCount;a++)o=new y.StraightDial,this.straightDials.push(o),o.Attributes.orientation=this.straightDialPos.orientation,n=new y.Features.Scale,o.Features.push(n),n.Attributes={"begin-value":this.currentBeginValue,"end-value":this.currentEndValue,"auto-scale-mode":"decimal",type:this.config.ScalingType},n.Parent=o;this.straightDial=this.straightDials[0],this.eventCbs.onAxisMouseOver=this._onAxisMouseOver.bind(this),this.eventCbs.onAxisMouseOut=this._onAxisMouseOut.bind(this),this.eventCbs.onPan=this._onPan.bind(this),this.eventCbs.onMouseOver=this.onMouseOver.bind(this),this.eventCbs.onMouseOut=this.onMouseOut.bind(this),this.eventCbs.onTouchStart=this.onTouchStart.bind(this)},V.prototype.onShiftAxesChange=function(){if(this.trendView.axisTypeEnum.xAxis===this.axisType)switch(this.textOrientation){case y.Data.TextOrientation.FromLeft:this.textOrientation=y.Data.TextOrientation.FromTop;break;case y.Data.TextOrientation.FromTop:this.textOrientation=y.Data.TextOrientation.FromLeft;break;case y.Data.TextOrientation.FromRight:this.textOrientation=y.Data.TextOrientation.FromBottom;break;case y.Data.TextOrientation.FromBottom:this.textOrientation=y.Data.TextOrientation.FromRight}else switch(this.textOrientation){case y.Data.TextOrientation.FromLeft:this.textOrientation=y.Data.TextOrientation.FromBottom;break;case y.Data.TextOrientation.FromBottom:this.textOrientation=y.Data.TextOrientation.FromLeft;break;case y.Data.TextOrientation.FromTop:this.textOrientation=y.Data.TextOrientation.FromRight;break;case y.Data.TextOrientation.FromRight:this.textOrientation=y.Data.TextOrientation.FromTop}this.setStraightDialOrientationProps()},V.prototype.drawAxisLabel=function(){var e,t,i=this.config.DisplayName,r=new y.Features.Structure.Rectangle,a=((!this.trendView.isLeftOrRight()||this.labelWidth>=this.yAxisLabelWidthLimit-this.PADDING_X)&&(a=this.yAxisLabelWidthLimit-this.PADDING_X,i=y.textEllipsis(i,a,this.config.LabelFont),this.labelWidth=this.yAxisLabelWidthLimit,this.labelHeight=y.getTextHeight(i,this.config.LabelFont)+this.PADDING_Y),this.labelHeight-(this.trendView.isLeftOrRight()?0:this.PADDING_Y/2)),n=this.labelWidth;this.trendView.isLeftOrRight()?r.left=this.innerRect.left+this.LabelToBorderSpace:r.left=this.innerRect.left+this.innerRect.width-this.xAxisLabelWidthLimit-this.LabelToBorderSpace,r.top=this.innerRect.top+this.LabelToBorderSpace,this.displayNameSvg?(e=this.displayNameSvg.childNodes[0],y.Features.Shape.SvgShape.SetAttributes(e,{fill:this.parentTrendWindow.backColor,stroke:this.tickColor,x:r.left,y:r.top,width:this.trendView.isLeftOrRight()?n:this.xAxisLabelWidthLimit,height:a}),t=this.displayNameSvg.childNodes[1],y.Features.Shape.SvgShape.SetAttributes(t,{"font-size":this.config.LabelFont.Size,fill:this.labelColor,x:r.left+n/2,y:r.top+3*a/4,"font-family":'"'+this.config.LabelFont.Name+'"',"font-style":this.config.LabelFont.Italic?"italic":"normal","text-decoration":y.textDecoration(this.config.LabelFont),"font-weight":this.config.LabelFont.Weight}),t.setAttribute("displayText",i),t.textContent=i):(this.displayNameSvg=y.Features.Shape.SvgShape.CreateSvgElement("svg",{id:this.labelId,"text-anchor":"middle"}),e=y.Features.Shape.SvgShape.CreateSvgElement("rect",{title:this.config.DisplayName,"fill-opacity":1,"stroke-width":1,"stroke-opacity":1,class:"lineColorClass",x:r.left,y:r.top,fill:this.parentTrendWindow.backColor,stroke:this.tickColor,width:this.trendView.isLeftOrRight()?n:this.xAxisLabelWidthLimit,height:a,appendTo:this.displayNameSvg}),(t=y.Features.Shape.SvgShape.CreateSvgElement("text",{"font-family":'"'+this.config.LabelFont.Name+'"',"font-style":this.config.LabelFont.Italic?"italic":"normal","font-weight":this.config.LabelFont.Weight,"font-size":this.config.LabelFont.Size,"text-decoration":y.textDecoration(this.config.LabelFont),class:"fontClass",x:r.left+n/2,y:r.top+3*a/4,"text-anchor":"middle",displayText:i,fill:this.labelColor,appendTo:this.displayNameSvg})).textContent=i,this.addEventOnDisplayName=!1,this.dom.appendChild(this.displayNameSvg)),this.addOrRemoveEventsForDisplayNameSVG(i)},V.prototype.setStraightDialOrientationProps=function(){var e,t,i,r,a,n,o=0,s=0;if(this.textOrientation===y.Data.TextOrientation.FromRight||this.textOrientation===y.Data.TextOrientation.FromLeft?(this.straightDialPos.orientation="horizontal",this.straightDialPos.dynamicPosAttr="start-x",this.straightDialPos.staticPosAttr="start-y",this.textOrientation===y.Data.TextOrientation.FromRight?this.straightDialPos.posChangeOperator=1:this.straightDialPos.posChangeOperator=-1,i=this.align===this.trendView.alignmentEnum.Top?(o=-this.MajorTickSize,s=-(this.MajorTickSize+this.LabelToMajorTickSpace),e="0 1",t="-1 1","1 1"):(s=this.MajorTickSize+this.LabelToMajorTickSpace,e="0 -1",t="-1 -1","1 -1")):(this.straightDialPos.orientation="vertical",this.straightDialPos.dynamicPosAttr="start-y",this.straightDialPos.staticPosAttr="start-x",this.textOrientation===y.Data.TextOrientation.FromBottom?this.straightDialPos.posChangeOperator=1:this.straightDialPos.posChangeOperator=-1,t=this.align===this.trendView.alignmentEnum.Left?(o=-this.MajorTickSize,s=-(this.MajorTickSize+this.LabelToMajorTickSpace),e="1 0",i="1 -1","1 1"):(s=this.MajorTickSize+this.LabelToMajorTickSpace,e="-1 0",i="-1 -1","-1 1")),this.defaultFeaturesUsed){for(r=this.ticksFeatures.length,a=0;a<r;a++)this.ticksFeatures[a].Attributes.offset=o;for(r=this.labelsFeatures.length,a=0;a<r;a++)(n=this.labelsFeatures[a]).Attributes.offset=s,n.labelType===y.Data.ValueAxisLabelType.Begin?n.Attributes.alignment=t:n.labelType===y.Data.ValueAxisLabelType.Inner?n.Attributes.alignment=e:n.Attributes.alignment=i}},V.prototype.updateAttributes=function(e,t){var i,r,a=this.templateAttrCollection.length;if(this.templateAttributes.hasOwnProperty(e))for(i=0;i<a;i++)(r=this.templateAttrCollection[i]).hasOwnProperty(e)&&(this.templateAttributes[e]=r[e])},V.prototype.applyTemplateProperties=function(){},V.prototype.addDefaultFeatures=function(e,t){var i,r=y.getChromEnum("HmiScaleMode"),a=!!(this.config.ScaleMode&r.Ticks),r=!!(this.config.ScaleMode&r.Labels);this.ribbons=new y.Features.Shape.Ribbons,e.Features.push(this.ribbons),this.ribbons.Parent=e,this.ribbons.Attributes={"stroke-width":1,stroke:this.axisColor},(this.config.AutoScaling?(i=new y.Features.Structure.AutoMeasure,e.Features.push(i),i.Parent=e,this.autoMeasureFeatures):(i=new y.Features.Structure.Division,e.Features.push(i),i.Parent=e,i.Attributes={count:this.config.DivisionCount},this.divisionFeatures)).push(i),e=new y.Features.Shape.Ticks,this.ticksFeatures.push(e),i.Features.push(e),e.Parent=i,e.Attributes={length:this.MajorTickSize,offset:t.tickOffset,stroke:this.tickColor,condition:a},(e=new y.Features.Font).Attributes={scope:this.config.LabelFont},a=new y.Features.Shape.Labels,this.labelsFeatures.push(a),i.Features.push(a),a.Parent=i,a.Attributes={alignment:t.labelAlignmentBegin,"position-filter":"begin",offset:t.labelOffset,fill:this.labelColor,"output-format":this.outputFormat,condition:r},a.labelType=y.Data.ValueAxisLabelType.Begin,a.Features.push(e),this.fontFeatures.push(e),(e=new y.Features.Font).Attributes={scope:this.config.LabelFont},a=new y.Features.Shape.Labels,this.labelsFeatures.push(a),i.Features.push(a),a.Parent=i,a.Attributes={alignment:t.labelAlignmentEnd,"position-filter":"end",offset:t.labelOffset,fill:this.labelColor,"output-format":this.outputFormat,condition:r},a.labelType=y.Data.ValueAxisLabelType.End,a.Features.push(e),this.fontFeatures.push(e),(e=new y.Features.Font).Attributes={scope:this.config.LabelFont},a=new y.Features.Shape.Labels,this.labelsFeatures.push(a),i.Features.push(a),a.Parent=i,a.Attributes={alignment:t.labelAlignment,"position-filter":"inner",offset:t.labelOffset,fill:this.labelColor,"output-format":this.outputFormat,condition:r},a.labelType=y.Data.ValueAxisLabelType.Inner,a.Features.push(e),this.fontFeatures.push(e)},V.prototype.initScaleFeatures=function(){if(0===this.templateFeatures.length){this.defaultFeaturesUsed=!0;for(var e=0,t=0,i=void 0,r=void 0,a=void 0,n=(this.textOrientation===y.Data.TextOrientation.FromRight||this.textOrientation===y.Data.TextOrientation.FromLeft?a=this.align===this.trendView.alignmentEnum.Top?(e=-this.MajorTickSize,t=-(this.MajorTickSize+this.LabelToMajorTickSpace),i="0 1",r="-1 1","1 1"):(t=this.MajorTickSize+this.LabelToMajorTickSpace,i="0 -1",r="-1 -1","1 -1"):r=this.align===this.trendView.alignmentEnum.Left?(e=-this.MajorTickSize,t=-(this.MajorTickSize+this.LabelToMajorTickSpace),i="1 0",a="1 -1","1 1"):(t=this.MajorTickSize+this.LabelToMajorTickSpace,i="-1 0",a="-1 -1","-1 1"),{tickOffset:e,labelOffset:t,labelAlignment:i,labelAlignmentBegin:r,labelAlignmentEnd:a}),o=0;o<this.straightDialCount;o++)this.addDefaultFeatures(this.straightDials[o].Features[0],n)}else for(o=0;o<this.straightDialCount;o++)this.addFeatures(this.templateFeatures,this.straightDials[o].Features[0]);if(this.gridlineFeature){var s=this.divisionFeatures.concat(this.autoMeasureFeatures),l=s.length;if(this.gridlines=[],this.isMinorGridLine()&&this.createMinorGridLines(),this.resetGridlineAttributes(),0<l)for(o=0;o<l;o++)this.gridlines.push(new y.Features.Shape.Ticks),this.gridlines[o].Attributes=this.gridlineAttributes,s[o].Features.push(this.gridlines[o]),this.gridlines[o].Parent=s[o],this.gridlines[o].isGridline=!0;else for(o=0;o<this.straightDialCount;o++)this.gridlines.push(new y.Features.Shape.Ticks),this.gridlines[0].Attributes=this.gridlineAttributes,this.straightDials[o].Features[0].Features.push(this.gridlines[0]),this.gridlines[0].Parent=this.straightDials[o].Features[0],this.gridlines[0].isGridline=!0}},V.prototype.setGridlinesVisibility=function(){var e=this.axisType===this.trendView.axisTypeEnum.xAxis?this.parentTrendWindow.verticalMajorGrid:this.parentTrendWindow.horizontalMajorGrid;e=e&&("selected"===this.gridlineFeature.Attributes.show?this.axisType===this.trendView.axisTypeEnum.xAxis?this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentXAxis===this||0===this.parentTrendWindow.trends.length:this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentYAxis===this||0===this.parentTrendWindow.trends.length:"always"===this.gridlineFeature.Attributes.show),this.gridlineAttributes.condition=e},V.prototype.getScaleFeature=function(e,t){for(var i,r=0;r<e.Features[0].Features.length;r++)(i=e.Features[0].Features[r])instanceof t&&this.requiredFeature.push(i)},V.prototype.setMinorGridLinesVisibility=function(){var e=this.isMinorGridLine();(e=e&&("selected"===this.gridlineFeature.Attributes.show?this.axisType===this.trendView.axisTypeEnum.xAxis?this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentXAxis===this||0===this.parentTrendWindow.trends.length:this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentYAxis===this||0===this.parentTrendWindow.trends.length:"always"===this.gridlineFeature.Attributes.show))&&0===this.minorGridLines.length&&(this.createMinorGridLines(),this.updateMinorGridLine(),this.redrawScale(),this.setMinorGridLinesGroupId());for(var t=0,i=this.minorGridLines;t<i.length;t++)i[t].Attributes.condition=e},V.prototype.isMinorGridLine=function(){return this.axisType===this.trendView.axisTypeEnum.xAxis?this.parentTrendWindow.verticalMinorGrid:this.parentTrendWindow.horizontalMinorGrid},V.prototype.calculateLabelSize=function(){this.yAxisLabelWidthLimit=this.xAxisLabelWidthLimit=y.getTextWidth("0000000",this.config.LabelFont),e="string"==typeof this.labelText||"number"==typeof this.labelText?this.labelText:1===this.labelText.length||this.labelText[0].length>this.labelText[1].length?this.labelText[0]:this.labelText[1],e+=this._bufferString,e=this._handleSpecialCharacters(e),this.bBoxText={x:0,y:0,width:y.getTextWidth(e,this.config.LabelFont),height:y.getTextHeight(e,this.config.LabelFont)},this.trendView.isLeftOrRight()&&0<this.config.DisplayName.trim().length&&(t={x:0,y:0,width:y.getTextWidth(this.config.DisplayName||"",this.config.LabelFont),height:y.getTextHeight(this.config.DisplayName||"",this.config.LabelFont)},this.upadateLabelTextAndOtherProps(t));var e,t=this.bBoxText.width/e.length;this._axisBufferWidth=t*this._bufferString.length},V.prototype.getDisplayValue=function(e,t,i,r){var a,n,o,s=0,l=y.convertFormatPattern(+e,this.outputFormat);if("string"==typeof l||(l=""+e,void 0===t))return l;if(r=r.toString(),l=9<i?i:9,a=(a=y.Utilities.trimNum(parseFloat(e),l,null)).toString(),""!==(a=1===t&&a!==e?"":a)&&(-1<r.indexOf(".")||-1<r.indexOf("e")))if(-1===(l=a.indexOf("e")))for(-1<(t=a.indexOf("."))?i=(r=a.substring(t+1,a.length).length)<i?i-r:0:-1===t&&(a+=".");0<i;)a+="0",i--;else{for(o=i-(r=a.substring(l+2,a.length)),a=a.substring(0,l),r=parseInt(r,10),n=a.length,s=r;n<s;s--)a="0"+a;for(a="0."+a;0<o;)a+="0",o--;a=+a+ +e.split("e")[0]}return a},V.prototype.getNeededDimension=function(){var e=0,t=0;if(this.calculateLabelSize(),this.config.Visible){if(this.templateAttributes.hasOwnProperty("width")&&"calculated"!==this.templateAttributes.width)e=this.templateAttributes.width;else{switch(this.axisType){case this.trendView.axisTypeEnum.xAxis:t=this.trendView.isLeftOrRight()?this.bBoxText.height:this.bBoxText.width;break;case this.trendView.axisTypeEnum.yAxis:t=this.trendView.isLeftOrRight()?this.bBoxText.width:this.bBoxText.height}e=this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace+t}this._axisWidth=e,this._lowerBoundAxisWidth=this._axisWidth-2*this._axisBufferWidth}return e},V.prototype.getBBoxText=function(){return"string"==typeof this.labelText&&(this.bBoxText={x:0,y:0,width:y.getTextWidth(this.labelText,this.config.LabelFont),height:y.getTextHeight(this.labelText,this.config.LabelFont)}),this.bBoxText},V.prototype._handleSpecialCharacters=function(e){return e=(e=(e=(e=e.replace("-","0")).replace(".","0")).replace(",","0")).replace(" ","0")},V.prototype.zoomInOut=function(e,t){var i,r,a,n=this.getValueFromPosition(e),o=!0;if(this.config.ScalingType>=y.getChromEnum("HmiScalingType").Logarithmic&&(this.currentBeginValue=this.getLogValue(this.currentBeginValue),this.currentEndValue=this.getLogValue(this.currentEndValue),n=this.getLogValue(n),0<this.zoomInOutCount)&&(this.startValueBuffer=this.getLogValue(this.startValueBuffer),this.endValueBuffer=this.getLogValue(this.endValueBuffer)),e=y.Utilities.floatSub(this.currentEndValue,this.currentBeginValue),t===this.LEFT_CLICK)y.Utilities.trimNum(e,6,null)<=5e-6?o=!1:(i=(e=e<1e-5?1e-5:e)/4,0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.bufferLabelTexts(),this.zoomInOutCount++,this.trendView.enableDisableOriginalView(),this.zoomInOutCount--),a=y.Utilities.floatSub(n,i),r=y.Utilities.floatAdd(n,i),a<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=y.Utilities.floatAdd(this.currentBeginValue,2*i)):r>this.endValueBuffer?(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=y.Utilities.floatSub(this.currentEndValue,2*i)):(this.currentBeginValue=a,this.currentEndValue=r),this.zoomInOutCount++);else if(t===this.RIGHT_CLICK)switch(i=e,this.zoomInOutCount){case 1:this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,this.zoomInOutCount--,this.trendView.enableDisableOriginalView();break;case 0:o=!1;break;default:a=y.Utilities.floatSub(n,i),r=y.Utilities.floatAdd(n,i),a<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=y.Utilities.floatAdd(this.currentBeginValue,2*i)):r>this.endValueBuffer?(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=y.Utilities.floatSub(this.currentEndValue,2*i)):(this.currentBeginValue=a,this.currentEndValue=r),this.zoomInOutCount--}return this.config.ScalingType>=y.getChromEnum("HmiScalingType").Logarithmic&&(this.currentBeginValue=this.getPowValue(this.currentBeginValue),this.currentEndValue=this.getPowValue(this.currentEndValue),0<this.zoomInOutCount)&&(this.startValueBuffer=this.getPowValue(this.startValueBuffer),this.endValueBuffer=this.getPowValue(this.endValueBuffer)),o&&this.calculateAndUpdate(),o},V.prototype.zoomArea=function(e,t){var i,r,a=!0,n=y.Data.TextOrientation,n=this.axisType===this.trendView.axisTypeEnum.xAxis?this.textOrientation===n.FromRight||this.textOrientation===n.FromBottom?(r=this.getValueFromPosition(e),this.getValueFromPosition(t)):(r=this.getValueFromPosition(t),this.getValueFromPosition(e)):this.textOrientation===n.FromTop||this.textOrientation===n.FromRight?(r=this.getValueFromPosition(e),this.getValueFromPosition(t)):(r=this.getValueFromPosition(t),this.getValueFromPosition(e)),o=y.Utilities.floatSub(n,r);if(y.Utilities.trimNum(o,6,null)<=5e-6||r===this.currentBeginValue&&n===this.currentEndValue)a=!1;else{for(0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.bufferLabelTexts(),this.zoomInOutCount++,this.trendView.enableDisableOriginalView()),this.config.ScalingType===y.getChromEnum("HmiScalingType").Linear?i=y.Utilities.floatSub(this.endValueBuffer,this.startValueBuffer):this.config.ScalingType>=y.getChromEnum("HmiScalingType").Logarithmic&&(i=y.Utilities.floatSub(this.getLogValue(this.endValueBuffer),this.getLogValue(this.startValueBuffer)),o=y.Utilities.floatSub(this.getLogValue(n),this.getLogValue(r))),this.zoomInOutCount=0;this.zoomInOutCount++,o<(i/=2););this.currentBeginValue=r,this.currentEndValue=n,this.calculateAndUpdate()}return a},V.prototype.bufferLabelTexts=function(){this.labelTextBuffer=this.labelText},V.prototype.getLogValue=function(e){return this.config.ScalingType===y.getChromEnum("HmiScalingType").Logarithmic?Math.log(e)/Math.LN10:this.config.ScalingType===y.getChromEnum("HmiScalingType").NegativeLogarithmic?-Math.log(-e)/Math.LN10:void 0},V.prototype.getPowValue=function(e){return this.config.ScalingType===y.getChromEnum("HmiScalingType").Logarithmic?Math.pow(10,e):this.config.ScalingType===y.getChromEnum("HmiScalingType").NegativeLogarithmic?-Math.pow(10,-e):void 0},V.prototype.resetZoom=function(e){0<this.zoomInOutCount&&(this.zoomInOutCount=0,this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,this.startValueBuffer2=null,this.endValueBuffer2=null,e.tryAdd(this.trendWindow),this.labelText=this.labelTextBuffer,this.calculateAndUpdate())},V.prototype.moveToPercLogScale=function(e){var t=this.getLogValue(this.currentEndValue),i=this.getLogValue(this.currentBeginValue),r=this.getLogValue(this.endValueBuffer),a=this.getLogValue(this.startValueBuffer),n=t-i,o=r-a-n,s=y.Data.TextOrientation;switch(this.textOrientation){case s.FromTop:case s.FromLeft:i=(t=r-o*e)-n;break;case s.FromBottom:case s.FromRight:t=(i=a+o*e)+n}this.currentBeginValue=this.getPowValue(i),this.currentEndValue=this.getPowValue(t),this.calculateAndUpdate()},V.prototype.moveToPercLinearScale=function(e){var t=this.endValueBuffer-this.startValueBuffer,i=this.currentEndValue-this.currentBeginValue,r=t-i,t=y.Data.TextOrientation;switch(this.textOrientation){case t.FromRight:case t.FromBottom:this.currentBeginValue=this.startValueBuffer+r*e,this.currentEndValue=this.currentBeginValue+i;break;case t.FromLeft:case t.FromTop:this.currentEndValue=this.endValueBuffer-r*e,this.currentBeginValue=this.currentEndValue-i}this.calculateAndUpdate()},V.prototype.zoomByScale=function(e,t){var i,r,a,n=!0,o=y.Utilities.floatSub(this.currentEndValue,this.currentBeginValue),e=this.getValueFromPosition(e),s=o/t;if(1<t?y.Utilities.trimNum(s,6,null)<=5e-6?n=!1:(0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.bufferLabelTexts(),this.zoomInOutCount++,this.trendView.enableDisableOriginalView()),r=this.currentBeginValue,a=this.currentEndValue):0===this.zoomInOutCount||1===t?n=!1:(r=this.startValueBuffer,a=this.endValueBuffer),n){if(i=y.Utilities.floatSub(this.endValueBuffer,this.startValueBuffer),this.zoomInOutCount=0,i<=s)this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,this.startValueBuffer=null,this.endValueBuffer=null,this.trendView.enableDisableOriginalView();else{for(;this.zoomInOutCount++,s<(i/=2););t=y.Utilities.floatSub(e,o=s/2),e=y.Utilities.floatAdd(e,o),t<r?(this.currentBeginValue=r,this.currentEndValue=y.Utilities.floatAdd(this.currentBeginValue,2*o)):a<e?(this.currentEndValue=a,this.currentBeginValue=y.Utilities.floatSub(this.currentEndValue,2*o)):(this.currentBeginValue=t,this.currentEndValue=e)}this.calculateAndUpdate()}return n},V.prototype._onPan=function(e){e.preventDefault();var t,i=!0,r=null,a=null;if(e.eventType===this.Hammer.INPUT_MOVE){switch(t=this.getPos(e),this._deltaX=e.deltaX-this._deltaX,this._deltaY=e.deltaY-this._deltaY,this._currentDragPoint.x=t.x-+this._deltaX,this._currentDragPoint.y=t.y-+this._deltaY,this._deltaX=e.deltaX,this._deltaY=e.deltaY,this.axisType){case this.trendView.axisTypeEnum.xAxis:this.trendView.isLeftOrRight()?this.calculateAxisMoveEndValues(t.x,this._currentDragPoint.x):this.calculateAxisMoveEndValues(t.y,this._currentDragPoint.y);break;case this.trendView.axisTypeEnum.yAxis:this.trendView.trendObjectType===y.Data.TrendObjectType.Online&&(i=!1),this.trendView.isLeftOrRight()?this.calculateAxisMoveEndValues(t.y,this._currentDragPoint.y):this.calculateAxisMoveEndValues(t.x,this._currentDragPoint.x),this.invalidated=!0}if(this.currentEndValue<1e307&&-1e307<this.currentBeginValue){if(e=this.trendView.getDrawableTrendWindowByName(this.trendWindow)){switch(this.axisType){case this.trendView.axisTypeEnum.xAxis:r=this.config.Name;break;case this.trendView.axisTypeEnum.yAxis:a=this.config.Name}this.calculateAndUpdate(),e.reDraw(r,a)}this.trendView.trendCompanionConstUpdate&&(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&i&&this.trendView.calculateRulerData(),this.trendView.secondaryRulerToolTip&&this.updateRulerToolTipPosition()}}else this._deltaX=0,this._deltaY=0},V.prototype.updateRulerToolTipPosition=function(){for(var e=this.parentTrendWindow.trends.length,t=0;t<e;t++)this.parentTrendWindow.trends[t].config.Visible&&this.parentTrendWindow.trends[t].updateRulerToolTipPosition()},V.prototype.calculateAxisMoveEndValues=function(e,t){var i=y.getChromEnum("HmiScalingType");if(this.config.ScalingType===i.Logarithmic||this.config.ScalingType===i.NegativeLogarithmic){var r=void 0,a=void 0,n=e-t,o=this.innerRect,s=y.Data.TextOrientation;switch(this.textOrientation){case s.FromTop:a=this.getValueFromPosition(o.height+o.top-n),r=this.getValueFromPosition(o.top-n);break;case s.FromLeft:a=this.getValueFromPosition(o.width+o.left-n),r=this.getValueFromPosition(o.left-n);break;case s.FromBottom:r=this.getValueFromPosition(o.height+o.top-n),a=this.getValueFromPosition(o.top-n);break;case s.FromRight:r=this.getValueFromPosition(o.width+o.left-n),a=this.getValueFromPosition(o.left-n)}r!==1/0&&a!==1/0&&(this.config.ScalingType===i.Logarithmic&&r>=this.minAllowedValue&&r<=this.maxAllowedValue&&a>=this.minAllowedValue&&a<=this.maxAllowedValue||r>=-this.maxAllowedValue&&r<=-this.minAllowedValue&&a>=-this.maxAllowedValue&&a<=-this.minAllowedValue)&&(0<this.zoomInOutCount&&(null===this.endValueBuffer2&&(this.endValueBuffer2=this.endValueBuffer,this.startValueBuffer2=this.startValueBuffer),this.endValueBuffer=this.endValueBuffer/this.currentEndValue*r,this.startValueBuffer=this.startValueBuffer/this.currentBeginValue*a),this.currentBeginValue=a,this.currentEndValue=r)}else{s=this.getValueFromPosition(e)-this.getValueFromPosition(t);this.currentEndValue-s<this.maxScaleLimit&&this.currentBeginValue-s>this.minScaleLimit&&(this.currentEndValue=this.currentEndValue-s,this.currentBeginValue=this.currentBeginValue-s,0<this.zoomInOutCount)&&(null===this.endValueBuffer2&&(this.endValueBuffer2=this.endValueBuffer,this.startValueBuffer2=this.startValueBuffer),this.endValueBuffer=this.endValueBuffer-s,this.startValueBuffer=this.startValueBuffer-s)}},V.prototype.getPositionFromValue=function(e){var t,i=this.innerRect;if(this.config.ScalingType===y.getChromEnum("HmiScalingType").Logarithmic&&e<=0)switch(this.textOrientation){case y.Data.TextOrientation.FromTop:t=i.top+i.height+100;break;case y.Data.TextOrientation.FromBottom:t=i.top-100;break;case y.Data.TextOrientation.FromLeft:t=i.left+i.width+100;break;default:t=i.left-100}else if(this.config.ScalingType===y.getChromEnum("HmiScalingType").NegativeLogarithmic&&0<=e)switch(this.textOrientation){case y.Data.TextOrientation.FromTop:t=i.top-100;break;case y.Data.TextOrientation.FromBottom:t=i.top+i.height+100;break;case y.Data.TextOrientation.FromLeft:t=i.left-100;break;default:t=i.left+i.width+100}else e=this.straightDial.Features[0].getPositionForValue(e),this.textOrientation===y.Data.TextOrientation.FromBottom||this.textOrientation===y.Data.TextOrientation.FromTop?t=e.y:this.textOrientation!==y.Data.TextOrientation.FromRight&&this.textOrientation!==y.Data.TextOrientation.FromLeft||(t=e.x);return t},V.prototype.getValueFromPosition=function(e){return this.straightDial.Features[0].getValueAtPosition(e,e,!1)},V.prototype.updateMeasurementUnit=function(){0===this.measurementUnitType?this.measurementUnit="":this.measurementUnit=this.config.MeasurementUnit},V.prototype.setTranslatableFeatures=function(){},V.prototype.cleanUp=function(){var e;!this.trendView.isOnline()&&this.trendView.isStyleChange()&&(e=new y.Data.AxisData(this.currentBeginValue,this.currentEndValue),y.Data.AxisDataStore.store(this.axisPbId,e)),this.dom=this.ribbons=this.requiredFeature=this.templateAttributes=this.trendIndicatorRectClippathIds=this.moveMinMaxRuler=this.updateRulerLabelFont=this._currentDragPoint=null,ie.prototype.cleanUp.call(this)},V._animationStepsThreshold=5,t.ValueAxis=V,t=(t=e=e||{}).Lib||(t.Lib={}),t=(re=t.NVEs||(t.NVEs={})).ChartElements||(re.ChartElements={}),cn.prototype.renderTrend=function(e){var t,i,r,a=re.Features.Shape.SvgShape.CreateSvgElement,n=this.trendObj.svgGroup;this.trendObj.createPointCollection(e),e=this.trendObj.currentTrendWindow.getEventSVG(),r=this.trendObj.getLineStyle(),n.trendFillPropertyGroup&&(n.trendFillPropertyGroup.parentNode.removeChild(n.trendFillPropertyGroup),n.trendFillPropertyGroup=null),n.trendPropertyGroup&&(n.trendPropertyGroup.parentNode.removeChild(n.trendPropertyGroup),n.trendPropertyGroup=null),n.trendPropertyGroup=a("g",{id:"TrendPropertyGroup"+this.trendObj.id,"stroke-dasharray":r}),n.polyLineGroup&&(n.polyLineGroup.parentNode.removeChild(n.polyLineGroup),n.polyLineGroup=null),(t=this.trendObj.trendView.SVGParent.getElementById("DisplayValueRectGroup"+this.trendObj.id)||re.Features.Shape.SvgShape.getElementByIDSafariHack(this.trendObj.trendView.SVGParent,"g","DisplayValueRectGroup"+this.trendObj.id))&&t.parentNode.removeChild(t),(i=this.trendObj.currentTrendWindow.getDisplayValueRectParentGroup())&&i.parentNode.removeChild(i),a("defs",{id:"defs_"+this.trendObj.id,appendTo:n.trendPropertyGroup}).appendChild(this.trendObj.createLinearGrad()),n.polyLineGroup=a("g",{id:"PolyLineGroup"+this.trendObj.id,"stroke-dasharray":"inherit","stroke-width":this.trendObj.lineWidth,appendTo:n.trendPropertyGroup}),t=a("g",{id:"DisplayValueRectGroup"+this.trendObj.id,"text-anchor":"middle","stroke-dasharray":r,"stroke-width":1,appendTo:i}),this.setTrendAttributes(t,n),e.appendChild(n.trendPropertyGroup),i&&e.appendChild(i)},cn.prototype.setTrendAttributes=function(e,t){for(var i,r,a,n,o,s,l=re.Features.Shape.SvgShape.CreateSvgElement,u=re.Utilities.getContrastColor,h=this.trendObj.trendView.isLeftOrRight(),d=this.trendObj.currentYAxis.config.LabelFont,c=this.trendObj.linesCollection.length,p=this.trendObj.thresholds.length,m=this.trendObj.displayValueAttr.height,g=this.trendObj.displayValueAttr.width,T=this.trendObj.displayValueAttr.position,f=0;f<c;f++)(i=this.trendObj.linesCollection[f]).lineType===p+1?r=a=this.trendObj.badQualityColor:i.lineType===p?r=a=this.trendObj.uncertainQualityColor:this.trendObj.thresholds[i.lineType].isNormal?(r=this.trendObj.color,a=this.trendObj.fillURL):r=a=this.trendObj.thresholds[i.lineType].color,n=0<=(a=this.trendObj.fill?a:this.trendObj.currentTrendWindow.backColor).indexOf("url")?u(this.trendObj.fillColor):u(a),t.polyLineGroup.childNodes[f]&&(s=t.polyLineGroup.childNodes[f])?(s.setAttribute("points",i.trendLinePoints.trim()),s.setAttribute("id",i.lineType+"_polyline_"+this.trendObj.id+"_"+f),s.setAttribute("class",i.lineType+"_polylineClass_"+this.trendObj.id),s.setAttribute("stroke",r)):l("polyline",{points:i.trendLinePoints.trim(),"stroke-dasharray":"inherit",id:i.lineType+"_polyline_"+this.trendObj.id+"_"+f,class:i.lineType+"_polylineClass_"+this.trendObj.id,fill:"none",stroke:r,"stroke-width":"inherit",appendTo:t.polyLineGroup}),e.childNodes[2*f]&&(o=e.childNodes[2*f])?(o.setAttribute("x",h?i.positionFromTick:T),o.setAttribute("y",h?T:i.positionFromTick),o.setAttribute("width",g),o.setAttribute("id",i.lineType+"_dispValueRect_"+this.trendObj.id+"_"+f),o.setAttribute("class",i.lineType+"_dispValueRect_"+this.trendObj.id),o.setAttribute("stroke",r),o.setAttribute("fill",a),(s=o.nextSibling).textContent=i.displayValue,s.setAttribute("fill",n),s.setAttribute("x",(h?i.positionFromTick:T)+g/2),s.setAttribute("y",(h?T:i.positionFromTick)+m/1.5)):(o=l("rect",{id:i.lineType+"_dispValueRect_"+this.trendObj.id+"_"+f,class:i.lineType+"_dispValueRect_"+this.trendObj.id,x:h?i.positionFromTick:T,y:h?T:i.positionFromTick,width:g,height:m,fill:a,"fill-opacity":1,stroke:r,"stroke-width":"inherit",appendTo:e}),l("text",{displayText:i.displayValue,x:(h?i.positionFromTick:T)+g/2,y:(h?T:i.positionFromTick)+m/1.5,"font-family":'"'+d.Name+'"',"font-style":d.Italic,"font-weight":d.Weight,"font-size":d.Size,"text-decoration":d.Underline,"stroke-width":0,fill:n,class:"fontClass",appendTo:e}))},cn.prototype.updateTrend=function(e){var t,i=this.trendObj.currentTrendWindow.getEventSVG(),r=this.trendObj.trendView.SVGParent.getElementById("DisplayValueRectGroup"+this.trendObj.id)||re.Features.Shape.SvgShape.getElementByIDSafariHack(this.trendObj.trendView.SVGParent,"g","DisplayValueRectGroup"+this.trendObj.id),a=this.trendObj.currentTrendWindow.getDisplayValueRectParentGroup(),n=this.trendObj.svgGroup;for(this.trendObj.createPointCollection(e),t=this.trendObj.linesCollection.length,this.setTrendAttributes(r,n);t<n.polyLineGroup.childElementCount;)n.polyLineGroup.removeChild(n.polyLineGroup.lastElementChild),r.removeChild(r.lastElementChild),r.removeChild(r.lastElementChild);n.trendPropertyGroup&&(n.trendPropertyGroup.parentNode.removeChild(n.trendPropertyGroup),i.appendChild(n.trendPropertyGroup)),a&&(a.parentNode.removeChild(a),i.appendChild(a))},cn.prototype.swapWithNextTrend=function(e){var t=re.getChromEnum("HmiTrendMode");this.trendObj.trendView.trendObjectType===re.Data.TrendObjectType.Online&&this.trendObj.trendStyle===t.Value&&e.trendStyle===t.Value&&(this.trendObj.currentTrendWindow.setTrendDisplayValuePositions(),this.trendObj.recalculate(),e.recalculate(),this.trendObj.draw(!this.trendObj.trendView.isOnline()),e.draw(!this.trendObj.trendView.isOnline()))},cn.prototype.cleanTrend=function(){var e=this.trendObj.trendView.SVGParent.getElementById("DisplayValueRectGroup"+this.trendObj.id)||re.Features.Shape.SvgShape.getElementByIDSafariHack(this.trendObj.trendView.SVGParent,"g","DisplayValueRectGroup"+this.trendObj.id);e&&e.parentNode.removeChild(e)},cn.prototype.cleanup=function(){this.trendObj=null},t.ValueTrendMode=cn,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Data||(t.Data={}),pn.prototype.getRGB=function(){return"#"+this.color.toString(16).toLowerCase().slice(2)},pn.prototype.getAlpha=function(){var e="0x"+this.color.toString(16).toLowerCase().slice(0,2);return(parseInt(e)/255).toString()},t.Color=pn,t=(t=e=e||{}).Lib||(t.Lib={}),ae=t.NVEs||(t.NVEs={}),ne=ae.Data||(ae.Data={}),mn.prototype.calEmptyCellColorModeNone=function(e,t){t?(this.emptyCellColor.Fore=this.metaData.configuration.ForeColor,this.emptyCellColor.Back=this.metaData.configuration.BackColor):(null===(t=this.getCellColorByActualIndex(e.ActualIndex))&&(t=this.mergeColumnColor(e)),this.emptyCellColor.Fore=t.merged.fore,this.emptyCellColor.Back=t.merged.back)},mn.prototype.calEmptyCellColor=function(e,t){t?(this.emptyCellColor.Fore=this.metaData.configuration.ForeColor,this.emptyCellColor.Back=this.metaData.configuration.BackColor,this.emptyCellColor.AlternateFore=this.metaData.configuration.AlternateForeColor,this.emptyCellColor.AlternateBack=this.metaData.configuration.AlternateBackColor):(null===(t=this.getCellColorByActualIndex(e.ActualIndex))&&(t=this.mergeColumnColor(e)),this.emptyCellColor.Back=t.merged.back,this.emptyCellColor.Fore=t.merged.fore,this.emptyCellColor.AlternateFore=t.merged.altFore,this.emptyCellColor.AlternateBack=t.merged.altBack)},mn.prototype.getCellColorByActualIndex=function(e){for(var t,i=this.mergedColumnColors.length,r=0;r<i;r++)if((t=this.mergedColumnColors[r]).isExist(e))return t;return null},mn.prototype.mergeColumnColor=function(e){for(var t,i,r,a,n,o=!0,s=this.mergedColumnColors.length,l=e.BackColor,u=e.ForeColor,h=0;h<s;h++)if((t=this.mergedColumnColors[h]).isSame(l,u)){t.indices.push(e.ActualIndex),o=!1;break}return o&&(t=new ne.ColumnColor,i=ae.getMergedColor([l,this.metaData.configuration.BackColor]),r=ae.getMergedColor([u,this.metaData.configuration.ForeColor]),a=ae.getMergedColor([l,this.metaData.configuration.AlternateBackColor]),n=ae.getMergedColor([u,this.metaData.configuration.AlternateForeColor]),t.set(i,r,a,n,e.ActualIndex,l,u),this.mergedColumnColors[s]=t),t},ne.ColorStore=mn,((t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Data||(t.Data={})).ColumnColor=function(){var s=this;this.isExist=function(e){for(var t=s.indices.length,i=0;i<t;i++)if(s.indices[i]===e)return!0;return!1},this.isSame=function(e,t){return s.orgBack===e&&s.orgFore===t},this.set=function(e,t,i,r,a,n,o){s.indices.push(a),s.orgBack=n,s.orgFore=o,s.merged.back=e,s.merged.fore=t,s.merged.altBack=i,s.merged.altFore=r},this.indices=[],this.merged={back:0,fore:0,altBack:0,altFore:0},this.orgBack=0,this.orgFore=0},t=(t=e=e||{}).Lib||(t.Lib={}),t=(oe=t.NVEs||(t.NVEs={})).Data||(oe.Data={}),gn.prototype.mergeColors=function(e,t){var i=e.BackColor,r=e.ForeColor;this.mergedBackColor=oe.getMergedColor([e.BackColor,e.BackColor,t.BackColor]),this.mergedForeColor=oe.getMergedColor([e.ForeColor,e.ForeColor,t.ForeColor]),this.rgbaBackColor=this.mergedBackColor,this.rbgaForeColor=this.mergedForeColor,this.mergedAltBackColor=oe.getMergedColor([i,i,t.AlternateBackColor]),this.mergedAltForeColor=oe.getMergedColor([r,r,t.AlternateForeColor]),this.rbgaAltBackColor=this.mergedAltBackColor,this.rgbaAltForeColor=this.mergedAltForeColor},gn.prototype.setResizingLimits=function(e){var t=!0,i=!0;0===e.MinimumWidth&&(t=!1),0===e.MaximumWidth&&(i=!1),t&&i?e.MinimumWidth<e.MaximumWidth?(this.isMaxResizeLimited=!0,this.isMinResizeLimited=!0):(this.isMaxResizeLimited=!1,this.isMinResizeLimited=!1):!t&&i?(this.isMaxResizeLimited=!0,this.isMinResizeLimited=!1):t&&!i?(this.isMaxResizeLimited=!1,this.isMinResizeLimited=!0):(this.isMaxResizeLimited=!1,this.isMinResizeLimited=!1)},t.ColumnConfiguration=gn,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Data||(t.Data={}),(x=t.BiasType||(t.BiasType={}))[x.None=0]="None",x[x.Odd=1]="Odd",x[x.Even=2]="Even",(x=t.KeyCodes||(t.KeyCodes={}))[x.CursorDown=40]="CursorDown",x[x.CursorUp=38]="CursorUp",x[x.CursorLeft=37]="CursorLeft",x[x.CursorRight=39]="CursorRight",x[x.PageUp=33]="PageUp",x[x.PageDown=34]="PageDown",x[x.Home=36]="Home",x[x.End=35]="End",t.GraphAlignment||(t.GraphAlignment={}),(x=t.GraphAlignmentForLeftAndRight||(t.GraphAlignmentForLeftAndRight={}))[x.Left=0]="Left",x[x.Right=1]="Right",x[x.Top=2]="Top",x[x.Bottom=3]="Bottom",(x=t.GraphAlignmentForTopAndBottom||(t.GraphAlignmentForTopAndBottom={}))[x.Left=3]="Left",x[x.Right=2]="Right",x[x.Top=1]="Top",x[x.Bottom=0]="Bottom",(x=t.AxisTypeForLeftAndRight||(t.AxisTypeForLeftAndRight={}))[x.xAxis=0]="xAxis",x[x.yAxis=1]="yAxis",(x=t.AxisTypeForTopAndBottom||(t.AxisTypeForTopAndBottom={}))[x.yAxis=0]="yAxis",x[x.xAxis=1]="xAxis",(x=t.TrendObjectType||(t.TrendObjectType={}))[x.Online=0]="Online",x[x.Function=1]="Function",(x=t.TextOrientation||(t.TextOrientation={}))[x.FromRight=0]="FromRight",x[x.FromLeft=1]="FromLeft",x[x.FromTop=2]="FromTop",x[x.FromBottom=3]="FromBottom",(x=t.ValueAxisLabelType||(t.ValueAxisLabelType={}))[x.Begin=0]="Begin",x[x.Inner=1]="Inner",x[x.End=2]="End",(x=t.FileTime||(t.FileTime={}))[x.MS=1]="MS",x[x.MS250=250]="MS250",x[x.MS500=500]="MS500",x[x.Sec=1e3]="Sec",x[x.Minute=6e4]="Minute",x[x.Hour=36e5]="Hour",x[x.Day=864e5]="Day",x[x.Month=2629746e3]="Month",x[x.Year=31556952e3]="Year",(x=t.QualityCode||(t.QualityCode={}))[x.Bad=0]="Bad",x[x.Uncertain=1]="Uncertain",x[x.Good=2]="Good",(x=t.QualityLowerLimit||(t.QualityLowerLimit={}))[x.Bad=0]="Bad",x[x.Uncertain=64]="Uncertain",x[x.InitialValue=76]="InitialValue",x[x.Good=128]="Good",t.TagValueSuffix={Bad:" b.",Interpolated:" i.",Uncertain:" u."},t.PostPropertyUpdate={Redraw:!1,CreateDrawableCollection:!1,Update:!1,SendHistoricalDataRequests:!1,DoNotRequestData:!1},t.ChartTemplateAttributes={ShowStatisticRulers:"show-selector-rulers",TimeZone:"timezone",AreaSpacing:"area-spacing",Online:"online",ShowRuler:"show-ruler",ShiftAxes:"shift-axes",ActualHeight:"height",ActualWidth:"width",Config:"config",AlwaysShowRecent:"always-show-recent"},(x=t.ScaleMode||(t.ScaleMode={}))[x.None=0]="None",x[x.Labels=1]="Labels",x[x.Ticks=2]="Ticks",x[x.LabelsAndTicks=3]="LabelsAndTicks",(x=t.RangeBase||(t.RangeBase={}))[x.Undefined=0]="Undefined",x[x.Millisecond=1]="Millisecond",x[x.Second=2]="Second",x[x.Minute=3]="Minute",x[x.Hour=4]="Hour",x[x.Day=5]="Day",x[x.Month=6]="Month",x[x.Year=7]="Year",(x=t.ElementId||(t.ElementId={}))[x.TrendView=96]="TrendView",x[x.TrendWindow=97]="TrendWindow",x[x.XAxis=98]="XAxis",x[x.YAxis=99]="YAxis",x[x.Trend=104]="Trend",x[x.ToolBar=105]="ToolBar",x[x.StatusBar=106]="StatusBar",x[x.Font=107]="Font",(x=t.AxisPropId||(t.AxisPropId={}))[x.Name=0]="Name",x[x.DisplayName=1]="DisplayName",x[x.TrendWindow=2]="TrendWindow",x[x.Position=3]="Position",x[x.Visible=4]="Visible",x[x.LabelColor=5]="LabelColor",x[x.TickColor=6]="TickColor",x[x.RangeType=7]="RangeType",x[x.BeginTime=8]="BeginTime",x[x.EndTime=9]="EndTime",x[x.PointCount=10]="PointCount",x[x.OutputFormat=11]="OutputFormat",x[x.AutoRange=12]="AutoRange",x[x.ScalingType=13]="ScalingType",x[x.TimeRangeBase=14]="TimeRangeBase",x[x.TimeRangeFactor=15]="TimeRangeFactor",x[x.TimeRange=16]="TimeRange",x[x.ObjectName=17]="ObjectName",x[x.Effects=18]="Effects",x[x.Scaling=19]="Scaling",x[x.StartTimeMsg=20]="StartTimeMsg",x[x.MeasurementPointMsg=21]="MeasurementPointMsg",x[x.TimeRangeMsg=22]="TimeRangeMsg",x[x.ValueRange=23]="ValueRange",x[x.InValidNumberMsg=24]="InValidNumberMsg",x[x.GridProperties=25]="GridProperties",x[x.LeftToRightAlign=28]="LeftToRightAlign",x[x.TopToBottomAlign=29]="TopToBottomAlign",x[x.NegativeMsg=30]="NegativeMsg",x[x.MeasurementUnitType=31]="MeasurementUnitType",x[x.MeasurementUnit=32]="MeasurementUnit",x[x.ScaleMode=33]="ScaleMode",x[x.LargeTickLabelingStep=34]="LargeTickLabelingStep",x[x.AutoScaling=35]="AutoScaling",x[x.LabelDirection=36]="LabelDirection",x[x.ApplyScalingEntries=37]="ApplyScalingEntries",x[x.MeasurementAttributes=38]="MeasurementAttributes",x[x.TimeAxes=39]="TimeAxes",x[x.XAxes=40]="XAxes",x[x.YAxes=41]="YAxes",x[x.BeginValue=42]="BeginValue",x[x.EndValue=43]="EndValue",x[x.DivisionCount=44]="DivisionCount",x[x.SubDivisionCount=45]="SubDivisionCount",x[x.ShowScalingDisplayNames=46]="ShowScalingDisplayNames",x[x.LinearValidNumberRangeMsg=47]="LinearValidNumberRangeMsg",x[x.LogarithmicValidNumberRangeMsg=48]="LogarithmicValidNumberRangeMsg",x[x.NegatedLogarithmicValidNumberRangeMsg=49]="NegatedLogarithmicValidNumberRangeMsg",x[x.LogarithmicInvalidNegNumberMsg=50]="LogarithmicInvalidNegNumberMsg",x[x.NegatedLogarithmicInvalidPosNumberMsg=51]="NegatedLogarithmicInvalidPosNumberMsg",x[x.LabelDistance=52]="LabelDistance",x[x.LabelPosition=53]="LabelPosition",x[x.StartAndEndValueMsg=54]="StartAndEndValueMsg",x[x.InvalidDateTimeMsg=55]="InvalidDateTimeMsg",x[x.InCompleteDateTimeMsg=56]="InCompleteDateTimeMsg",x[x.OutputFormatMaxMsg=57]="OutputFormatMaxMsg",x[x.TrendArea=58]="TrendArea",x[x.OutputFormatInvalidMsg=59]="OutputFormatInvalidMsg",x[x.InvalidTrendAreaMsg=61]="InvalidTrendAreaMsg",x[x.AlwaysShowRecent=62]="AlwaysShowRecent",x[x.LabelFontName=63]="LabelFontName",x[x.LabelFontSize=64]="LabelFontSize",x[x.LabelFontWeight=65]="LabelFontWeight",x[x.LabelFontUnderline=66]="LabelFontUnderline",x[x.LabelFontItalic=67]="LabelFontItalic",x[x.LabelFontStrikeOut=68]="LabelFontStrikeOut",x[x.AxisColor=69]="AxisColor",(x=t.LabelFont||(t.LabelFont={}))[x.Name=63]="Name",x[x.Size=64]="Size",x[x.Weight=65]="Weight",x[x.Underline=66]="Underline",x[x.Italic=67]="Italic",x[x.StrikeOut=68]="StrikeOut",t.TrendViewPartType={Trends:"Trends",TrendAreas:"TrendAreas",FunctionTrends:"FunctionTrends",FunctionTrendAreas:"FunctionTrendAreas",TopTimeAxes:"TopTimeAxes",BottomTimeAxes:"BottomTimeAxes",TopValueAxes:"TopValueAxes",BottomValueAxes:"BottomValueAxes",LeftValueAxes:"LeftValueAxes",RightValueAxes:"RightValueAxes",Font:"Font",Thresholds:"Thresholds",Legend:"Legend",Config:"config"},(x=t.TrendViewPropId||(t.TrendViewPropId={}))[x.GeneralTab=0]="GeneralTab",x[x.TrendTab=1]="TrendTab",x[x.TrendWindowTab=2]="TrendWindowTab",x[x.TimeAxesTab=3]="TimeAxesTab",x[x.ValueAxesTab=4]="ValueAxesTab",x[x.FontTab=5]="FontTab",x[x.ToolBarTab=6]="ToolBarTab",x[x.StatusBarTab=7]="StatusBarTab",x[x.OnlineConfiguration=8]="OnlineConfiguration",x[x.Export=9]="Export",x[x.BorderWidth=10]="BorderWidth",x[x.LineWidth=11]="LineWidth",x[x.LineColor=12]="LineColor",x[x.BorderColor=13]="BorderColor",x[x.BackColor=14]="BackColor",x[x.TimeBase=15]="TimeBase",x[x.Orientation=16]="Orientation",x[x.ScrollbarMode=17]="ScrollbarMode",x[x.Window=18]="Window",x[x.WindowTitle=19]="WindowTitle",x[x.Caption=20]="Caption",x[x.Movable=21]="Movable",x[x.Closable=22]="Closable",x[x.Sizable=23]="Sizable",x[x.Style=24]="Style",x[x.CurrentPrintJob=25]="CurrentPrintJob",x[x.Effects=26]="Effects",x[x.RulerConfiguration=27]="RulerConfiguration",x[x.ConnectTrendWindows=28]="ConnectTrendWindows",x[x.OpenPicture=29]="OpenPicture",x[x.Startingupdate=30]="Startingupdate",x[x.ShowRuler=31]="ShowRuler",x[x.LoadDataFromArchive=32]="LoadDataFromArchive",x[x.DataConnection=33]="DataConnection",x[x.XAxes=34]="XAxes",x[x.YAxes=35]="YAxes",x[x.Height=36]="Height",x[x.Width=37]="Width",x[x.Left=38]="Left",x[x.Top=39]="Top",x[x.Online=40]="Online",x[x.ShowStatisticRulers=41]="ShowStatisticRulers",x[x.AlwaysShowRecent=42]="AlwaysShowRecent",x[x.ExtendRulerToAxis=43]="ExtendRulerToAxis",x[x.AreaSpacing=44]="AreaSpacing",x[x.ShiftAxes=45]="ShiftAxes",x[x.WindowFlags=46]="WindowFlags",x[x.ShowCaption=47]="ShowCaption",x[x.ShowBorder=48]="ShowBorder",x[x.AlwaysOnTop=49]="AlwaysOnTop",x[x.CanSize=50]="CanSize",x[x.CanMove=51]="CanMove",x[x.CanMaximize=52]="CanMaximize",x[x.CanClose=53]="CanClose",x[x.Visible=54]="Visible",x[x.Index=55]="Index",x[x.TimeZone=56]="TimeZone",x[x.Name=57]="Name",x[x.LegendVisible=58]="LegendVisible",x[x.LegendFontName=59]="LegendFontName",x[x.LegendFontSize=60]="LegendFontSize",x[x.LegendFontWeight=61]="LegendFontWeight",x[x.LegendFontUnderline=62]="LegendFontUnderline",x[x.LegendFontItalic=63]="LegendFontItalic",x[x.LegendStrikeout=64]="LegendStrikeout",x[x.Enabled=65]="Enabled",(x=t.TrendWindowPropId||(t.TrendWindowPropId={}))[x.Name=0]="Name",x[x.Visible=1]="Visible",x[x.BackColor=2]="BackColor",x[x.GridLines=3]="GridLines",x[x.VerticalMajor=4]="VerticalMajor",x[x.HorizontalMajor=5]="HorizontalMajor",x[x.MajorGridLinesColor=8]="MajorGridLinesColor",x[x.SizeFactor=10]="SizeFactor",x[x.RulerWidth=11]="RulerWidth",x[x.RulerColor=12]="RulerColor",x[x.TrendWindow=13]="TrendWindow",x[x.StatisticRulerColor=14]="StatisticRulerColor",x[x.StatisticRulerWidth=15]="StatisticRulerWidth",x[x.Index=16]="Index",x[x.RemovalMsg=17]="RemovalMsg",x[x.StatisticRulerStyle=18]="StatisticRulerStyle",x[x.SelectedTrend=19]="SelectedTrend",x[x.SelectedFunctionTrend=20]="SelectedFunctionTrend",x[x.MinorGridLinesColor=21]="MinorGridLinesColor",(x=t.Thresholds||(t.Thresholds={}))[x.BeginValue=78]="BeginValue",x[x.EndValue=79]="EndValue",x[x.Name=80]="Name",x[x.DisplayName=81]="DisplayName",x[x.Color=82]="Color",x[x.ThresholdMode=83]="ThresholdMode",x[x.Value=84]="Value",(x=t.QualityVisualization||(t.QualityVisualization={}))[x.Visible=64]="Visible",x[x.UncertainColor=65]="UncertainColor",x[x.BadColor=66]="BadColor",(x=t.DataSource||(t.DataSource={}))[x.Source=27]="Source",(x=t.DataSourceX||(t.DataSourceX={}))[x.Source=16]="Source",(x=t.DataSourceY||(t.DataSourceY={}))[x.Source=17]="Source",(x=t.Ruler||(t.Ruler={}))[x.Width=11]="Width",x[x.Color=12]="Color",(x=t.StatisticRulers||(t.StatisticRulers={}))[x.Color=14]="Color",x[x.Width=15]="Width",(x=t.TrendPropId||(t.TrendPropId={}))[x.Name=0]="Name",x[x.TrendArea=1]="TrendArea",x[x.XValueAxis=2]="XValueAxis",x[x.YValueAxis=3]="YValueAxis",x[x.Visible=4]="Visible",x[x.LineColor=5]="LineColor",x[x.DashType=6]="DashType",x[x.LineWidth=7]="LineWidth",x[x.FillStyle=8]="FillStyle",x[x.MarkerType=9]="MarkerType",x[x.TrendMode=10]="TrendMode",x[x.MarkerDimension=11]="MarkerDimension",x[x.DisplayName=12]="DisplayName",x[x.ExtendedColorSet=13]="ExtendedColorSet",x[x.MarkerColor=14]="MarkerColor",x[x.FillColor=15]="FillColor",x[x.TagNameX=16]="TagNameX",x[x.TagNameY=17]="TagNameY",x[x.RangeType=18]="RangeType",x[x.TimeRangeFactor=19]="TimeRangeFactor",x[x.TimeRangeBase=20]="TimeRangeBase",x[x.BeginTime=21]="BeginTime",x[x.EndTime=22]="EndTime",x[x.PointCount=23]="PointCount",x[x.Actualize=24]="Actualize",x[x.TimeAxis=25]="TimeAxis",x[x.TagName=27]="TagName",x[x.TagDataSourceType=28]="TagDataSourceType",x[x.DataConnection=29]="DataConnection",x[x.Effects=30]="Effects",x[x.ObjectName=31]="ObjectName",x[x.Online=32]="Online",x[x.TimeRange=33]="TimeRange",x[x.Setting=34]="Setting",x[x.StartTimeMsg=35]="StartTimeMsg",x[x.MeasurementPointMsg=36]="MeasurementPointMsg",x[x.TimeRangeMsg=37]="TimeRangeMsg",x[x.Index=38]="Index",x[x.CycleTime=39]="CycleTime",x[x.CycleTimeX=40]="CycleTimeX",x[x.CycleTimeY=41]="CycleTimeY",x[x.TagNameButton=42]="TagNameButton",x[x.TagXNameButton=43]="TagXNameButton",x[x.TagYNameButton=44]="TagYNameButton",x[x.LimitValuesButton=45]="LimitValuesButton",x[x.Limits=46]="Limits",x[x.QualityVisualizationVisible=64]="QualityVisualizationVisible",x[x.UncertainQualityColor=65]="UncertainQualityColor",x[x.BadQualityColor=66]="BadQualityColor",x[x.QualityVisualization=69]="QualityVisualization",x[x.BackColor=70]="BackColor",x[x.BackFillPattern=71]="BackFillPattern",x[x.FunctionTrendArea=74]="FunctionTrendArea",x[x.InvalidDateTimeMsg=75]="InvalidDateTimeMsg",x[x.InCompleteDateTimeMsg=76]="InCompleteDateTimeMsg",x[x.AlternateBackColor=77]="AlternateBackColor",x[x.ThresholdBeginValue=78]="ThresholdBeginValue",x[x.ThresholdEndValue=79]="ThresholdEndValue",x[x.ThresholdName=80]="ThresholdName",x[x.ThresholdDisplayName=81]="ThresholdDisplayName",x[x.ThresholdColor=82]="ThresholdColor",x[x.ThresholdMode=83]="ThresholdMode",x[x.ThresholdValue=84]="ThresholdValue",x[x.ThresholdModeList=85]="ThresholdModeList",x[x.DisplayText=86]="DisplayText",x[x.TooltipText=87]="TooltipText",x[x.MarkerGraphic=88]="MarkerGraphic",x[x.AggregationMode=89]="AggregationMode",x[x.TrendDescription=90]="TrendDescription",(x=t.TrendPolylineGroup||(t.TrendPolylineGroup={}))[x.NormalGroup=0]="NormalGroup",x[x.TranslateGroup=1]="TranslateGroup",(x=t.MoveToType||(t.MoveToType={}))[x.NoMove=0]="NoMove",x[x.MoveToFirst=1]="MoveToFirst",x[x.MoveToPrevious=2]="MoveToPrevious",x[x.MoveToNext=3]="MoveToNext",x[x.MoveToLast=4]="MoveToLast",x[x.MoveToSpecifiedTime=5]="MoveToSpecifiedTime",x[x.OnUnpause=6]="OnUnpause",(x=t.BoundingFlags||(t.BoundingFlags={}))[x.NoBounding=0]="NoBounding",x[x.LeftBounding=1]="LeftBounding",x[x.RightBounding=2]="RightBounding",x[x.LeftAndRightBounding=4]="LeftAndRightBounding",(x=t.RulerDirection||(t.RulerDirection={}))[x.Vertical=0]="Vertical",x[x.Horizontal=1]="Horizontal",(x=t.RulerType||(t.RulerType={}))[x.Time=0]="Time",x[x.RulerMin=1]="RulerMin",x[x.RulerMax=2]="RulerMax",x[x.Value=3]="Value",t.RulerConstProps={circleStrokeGap:2,circleRadius:10,circleStroke:1,circleRadiusDiff:8,smallArrowHeight:7.88,smallArrowWidth:13.5,bigArrowHeight:25.33,bigArrowWidth:16.89,fontSize:11,fontSizeDiff:8,fontSizeDiff2:2,rulerBackColor:"rgba(255,255,255,1)",handleGradColor1:"#91939A",handleGradColor2:"#F2F4FF",handleColor:"#91939A",handleColor2:"#F2F4FF",handleFillColor:"#404044",rulerMinColor:"rgba(125,205,245,1)",rulerMaxColor:"#ff0f28",fontFill:"rgba(125,205,245,1)",rulerLegendRadius:5,rulerLegendSpace:7,rulerLegendMargin:10,rulerLegendFontName:"Siemens Sans",rulerLegendFontSize:12,rulerLegendFontStyle:"none",rulerLegendFontWeight:400,rulerLegendFontTextDecoration:"",rulerLegendFontColor:"#000000",rulerLegendLabelFontSize:12,rulerLegendLabelFontColor:"#353535",rulerLegendLabelGap:10,rulerLegendLineLength:20,rulerLegendArrowWidth:10,rulerLegendArrowHeight:6,rulerLegendArrowColor:"#404044",minMaxRulerArrowHeight:14.11,minMaxRulerArrowWidth:21.17,rulerLeftRightPadding:10,topBottomPaddingFactor:2},t.HammerEvents={PAN:"pan",PAN_START:"panstart",PAN_END:"panend",TWO_FINGER_SINGLE_TAP:"twoFingerSingleTap",SINGLE_TAP:"singleTap",PINCH:"pinch"},(x=t.ZoomMoveOperationVars||(t.ZoomMoveOperationVars={}))[x.zoomArea=0]="zoomArea",x[x.zoomInOut=1]="zoomInOut",x[x.zoomInOutX=2]="zoomInOutX",x[x.zoomInOutY=3]="zoomInOutY",x[x.moveTrendArea=4]="moveTrendArea",(x=t.FunctionTrendDataStatus||(t.FunctionTrendDataStatus={}))[x.none=0]="none",x[x.tagXRecieved=1]="tagXRecieved",x[x.tagYRecieved=2]="tagYRecieved",x[x.tagXYRecieved=3]="tagXYRecieved",t.FlowDiagramType={Step:"step",Ladder:"ladder",FunctionBlock:"functionblock"},t.FlowLineState={Normal:"normal",Active:"active",InActive:"inactive"},t.FlowLineDecoratorType={Links:"links",Transition:"transition",Terminal:"terminal",Input:"input",Output:"output",None:"none"},t.FlowLineDecoratorSubType={JumpIn:"JumpIn",JumpOut:"JumpOut",Step:"Step"},t.FlowDiagramElementType={Line:"Line",Branch:"Branch",Block:"Block",Logic:"Logic",PowerRail:"PowerRail",Contact:"Contact",Coil:"Coil",Function:"Function"},t.LineParam={StrokeWidth:"stroke-width",Stroke:"stroke",StrokeDashArray:"stroke-dasharray"},t.ConnectorType={Input:"Input",Output:"Output"},t.FlowLineType={solid:"solid",parallel:"parallel",dash:"dash"},t.SymbolType={line:"line",circle:"circle",arrow:"arrow",none:"none"},t.BranchSubType={Begin:"Begin",End:"End"},(x=t.Orientation||(t.Orientation={}))[x.horizontal=0]="horizontal",x[x.vertical=1]="vertical",t=(t=e=e||{}).Lib||(t.Lib={}),se=t.NVEs||(t.NVEs={}),le=se.Data||(se.Data={}),Tn.prototype.add=function(e){this.items.push(e)},Tn.prototype.tryAdd=function(e){var t;return-1===(t=this.findIndexByName(e))&&(this.items[this.items.length]=e),t},Tn.prototype.tryRemove=function(e){e=this.findIndexByName(e);return this.removeByIndex(e),e},Tn.prototype.update=function(e,t){0<this.items.length?this.items[t]=e:this.items[0]=e},Tn.prototype.isEqual=function(e,t){return e===t},Tn.prototype.findIndexByName=function(e){for(var t=-1,i=0,i=0;i<this.items.length;i++)if(this.items[i]===e){t=i;break}return t},Tn.prototype.findIndexByTimeStamp=function(e){for(var t=-1,i=this.items.length,r=0;r<i;r++)if(this.items[r].timeStamp===e){t=r;break}return t},Tn.prototype.getValueFromTimeStamp=function(e,t,i,r){var a,n,o,s,l,u,h,d,c=le.QualityCode,p=le.TagValueSuffix,m=se.getChromEnum("HmiTrendMode"),g=this.items,T=g.length;if(0<T&&e>=g[0].timeStamp&&(e<=g[T-1].timeStamp||r===m.Value)||1===T&&t<=g[0].timeStamp&&g[0].timeStamp<=i){for(a="",n=0;n<T;n++){if((o=g[n]).timeStamp===e||t<=o.timeStamp&&o.timeStamp<=i){a=o.yTagValue,o.qualityCode===c.Uncertain?a+=p.Uncertain:o.qualityCode===c.Bad&&(a+=p.Bad),g[n+1]&&g[n+1].timeStamp===o.timeStamp&&(d=a,(a=[])[0]=d,a[1]=g[n+1].yTagValue,g[n+1].qualityCode===c.Uncertain?a[1]+=p.Uncertain:g[n+1].qualityCode===c.Bad&&(a[1]+=p.Bad));break}if(e<o.timeStamp)break}""===a&&(h=o.timeStamp,u=o.yTagValue,s=g[n-1].timeStamp,l=g[n-1].yTagValue,a=r===m.Stepped||r===m.Value&&h===s?l+p.Interpolated:l+(e-s)*(u-l)/(h-s)+p.Interpolated,(r=(r=g[n-1].qualityCode)>o.qualityCode?o.qualityCode:r)===c.Uncertain?a+=p.Uncertain:r===c.Bad&&(a+=p.Bad))}else a="";return a},Tn.prototype.getTimeStampFromValue=function(e,t,i){var r=this.items,t=r[t],r=r[i],i=t.xTagValue,t=t.yTagValue,a=r.yTagValue,r=r.xTagValue,e=t<a?(e-t)/(a-t)*(r-i)+i:a<t?r-(e-a)/(t-a)*(r-i):t;return e},Tn.prototype.getXTagValueFromYTagValue=function(e,t,i){var r=this.items,e=r[t].xTagValue<r[i].xTagValue?this.getTimeStampFromValue(e,t,i):r[t].xTagValue>r[i].xTagValue?this.getTimeStampFromValue(e,i,t):r[t].xTagValue;return e},Tn.prototype.getStatistics=function(e,t){for(var i,r,a,n,o,s,l,u,h,d,c,p,m={},g=this.items,T=g.length,f=0,y=0,D=0,S=0;S<T;S++)if(e<=g[S].timeStamp){a=S;break}if(void 0===a||t<g[a].timeStamp||e===t)m.integral="",m.duration="",m.weightedAverage="",m.numberOfValues=0,m.average="",m.standardDeviation="",m.minimum="",m.minimumTimeStamp="",m.maximum="",m.maximumTimeStamp="",m.statisticCalcSuccess=!1,m.sum="";else{for(S=a;S<T&&!(t<g[S].timeStamp);S++);for(n=S,f=(r=g[s=o=a]).yTagValue,y+=Math.pow(f,2),S=a+1;S<n;S++)f+=h=(i=g[S]).yTagValue,y+=Math.pow(h,2),h<g[s].yTagValue&&(s=S),h>g[o].yTagValue&&(o=S),d=i.timeStamp-r.timeStamp,0<h&&0<r.yTagValue?(p=h>r.yTagValue?(c=h)-r.yTagValue:(c=r.yTagValue)-h,D+=d*c-.5*d*p):h<0&&r.yTagValue<0?(p=h<r.yTagValue?(c=h)-r.yTagValue:(c=r.yTagValue)-h,D+=d*c-.5*d*p):D+=d/2*.5*h+d/2*.5*r.yTagValue,r=i,0;m.integral=D/1e3,m.duration=(t-e)/1e3,m.weightedAverage=m.integral/m.duration,m.numberOfValues=u=n-a,m.average=l=f/u,m.standardDeviation=Math.sqrt(y/u-Math.pow(l,2)),m.minimum=g[s].yTagValue,m.minimumTimeStamp=g[s].timeStamp,m.maximum=g[o].yTagValue,m.maximumTimeStamp=g[o].timeStamp,m.statisticCalcSuccess=!0,m.sum=f}return m},Tn.prototype.removeAfterTimeStamp=function(e){for(var t=[],i=this.items.length,r=0;r<i;r++)if(!(this.items[r].timeStamp<e)){t=this.items[r].timeStamp===e?this.items.splice(r+1):this.items.splice(r);break}return t},Tn.prototype.removeBeforeTimeStamp=function(e){for(var t,i=this.items.length,r=0;r<i&&((t=this.items[r]).timeStamp<e||t.timeStamp===e&&null===t.qualityCode);r++);return this.items.splice(0,r)},Tn.prototype.removeItems=function(e){-1<e&&this.items.splice(0,e)},Tn.prototype.removeByIndex=function(e){-1<e&&this.items.splice(e,1)},Tn.prototype.addToBeginning=function(e){this.items.unshift(e)},Tn.prototype.clear=function(){this.items=[]},le.GenericList=Tn,x=(x=e=e||{}).Lib||(x.Lib={}),x=(ue=x.NVEs||(x.NVEs={})).Data||(ue.Data={}),fn.prototype.isTime=function(e){var t=ue.getHmiFieldDataTypeEnum();switch(e){case t.Date:case t.Time:case t.DateTime:this.isDateTime=!0;break;case t.TimeSpan:this.isDateTime=!0,this.isTimespan=!0;break;default:this.isDateTime=!1,this.isTimespan=!1}},fn.prototype.getOutputFormatFromType=function(e){var t;switch(this.isDateTime=!1,this.isTimespan=!1,e){case window.Variant.CF_VT.INT8:case window.Variant.CF_VT.INT16:case window.Variant.CF_VT.INT32:case window.Variant.CF_VT.INT64:case window.Variant.CF_VT.INT16:t="{I}";break;case window.Variant.CF_VT.FLOAT:case window.Variant.CF_VT.DOUBLE:t="{F}";break;case window.Variant.CF_VT.DATETIME:t="{D} {T}",this.isDateTime=!0;break;case window.Variant.CF_VT.BITSET8:t="{B8}";break;case window.Variant.CF_VT.BITSET16:t="{B16}";break;case window.Variant.CF_VT.BITSET32:t="{H8,4}";break;case window.Variant.CF_VT.BITSET64:t="{H16,4}";break;case window.Variant.CF_VT.TIMESPAN:t="{P}",this.isDateTime=!0,this.isTimespan=!0;break;case window.Variant.CF_VT.BOOL:t="{B}";break;default:t="{S}"}return t},fn.prototype.createBackGroundRect=function(e){this.backgroundRect||(this.backgroundRect=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.backgroundRect.setAttribute("fill","white"),this.backgroundRect.setAttribute("rx","5"),this.backgroundRect.setAttribute("x","0"),this.backgroundRect.setAttribute("y","0"),this.backgroundRect.setAttribute("stroke","rgba(125,205,245,1)"),this.backgroundRect.setAttribute("stroke-width","3"),this.editGroup.appendChild(this.backgroundRect)),this.backgroundRect.setAttribute("width",e.width.toString()),this.backgroundRect.setAttribute("height",e.height.toString())},fn.prototype.createParentDom=function(e,t){this.editGroup||(this.editGroup=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.editGroup.setAttribute("id","editGroup")),this.editGroup.setAttribute("x",e.x.toString()),this.editGroup.setAttribute("y",e.y.toString()),this.editGroup.setAttribute("width",t.width.toString()),this.editGroup.setAttribute("height",t.height.toString()),this.data.dataTemplateGroup.parentNode.appendChild(this.editGroup)},fn.prototype.onValueChanged=function(e,t){t!==this.oldValue.toString()&&(this.dateTimeOutputFormat?t!==ue.convertFormatPattern(this.oldValue,this.dateTimeOutputFormat)&&(this.data.featureList.DataTemplates.updateCellValue(this.cell,ue.convertFormatPattern(t,this.outputFormat,this.timeZoneIndex).toString(),!1),this.hostcallBack(this.rowIndex,this.cellIndex,t)):(this.data.featureList.DataTemplates.updateCellValue(this.cell,ue.convertFormatPattern(t.toString(),this.outputFormat,this.timeZoneIndex),!1),this.hostcallBack(this.rowIndex,this.cellIndex,t))),this.clearEditing(!1)},fn.prototype.start=function(e,t){var i,r,a,n,o,s,l=!1,u=!1;this.cellIndex=t.index,this.rowIndex=t.rowIndex,this.cell=this.data.featureList.DataTemplates.getCellByIndex(this.rowIndex,this.cellIndex),this.oldValue=t.value,this.timeZoneIndex=t.timeZoneIndex,this.acceptOnFocusOut=t.acceptOnFocusOut,r="string"==typeof t.dataType?(this.isTime(ue.format2Type(t.dataType)),t.dataType):this.getOutputFormatFromType(t.dataType),this.outputFormat=r,this.data.tableProps.latestProjectVersion?this.cell&&("DetailedParameterControl"===this.cell.Store.props.Type?this.cell.Parent.PropertyChangedCallback=this.onValueChanged.bind(this):this.cell.PropertyChangedCallback=this.onValueChanged.bind(this),this.cell.setDataContent({IsEditing:!0}),ue.format2Type(r)===ue.getHmiFieldDataTypeEnum().DateTime?(this.dateTimeOutputFormat=r,r=""):this.dateTimeOutputFormat="",this.cell.setDataContent({OutputFormat:r}),void 0===t.minimumValue&&(t.minimumValue=""),void 0===t.maximumValue&&(t.maximumValue=""),""===t.minimumValue&&""===t.maximumValue||(l=!0),this.cell.setDataContent({MinimumValue:t.minimumValue}),this.cell.setDataContent({MaximumValue:t.maximumValue}),this.cell.update(),a=this.cell.RootNode.getElementById("ID_textfieldEventRect")):a=this.initTextField(t,r),a&&(this.isDateTime||l?(i=this.item.Store.domNode,this.item.Store.domNode=this.cell.RootNode,this.isDateTime&&(-1<navigator.userAgent.indexOf("Firefox")&&(u=!0,s=this.item.Store.domSvgNode,n=this.item.Store.props.Height,o=this.item.Store.props.Width,this.item.Store.props.Height=this.cell.RootNode.getAttribute("height"),this.item.Store.props.Width=this.cell.RootNode.getAttribute("width"),this.item.Store.domSvgNode=this.cell.RootNode),this.item.Store.domNode.focus=this.clearEditing.bind(this),this.createDatePicker(t.value,r,t.timeZoneIndex),u)&&(this.item.Store.domSvgNode=s,this.item.Store.props.Height=n,this.item.Store.props.Width=o),this.initEditEvent(a),this.item.Store.domNode=i):(i=this.item.RootNode,this.item.RootNode=this.data.dataTemplateGroup.parentNode,this.initEditEvent(a),this.item.RootNode=i)),this.inProgress=!0,this.oldValue=t.value},fn.prototype.initEditEvent=function(e){var t=document.createEvent("Event");t.initEvent(ue.mapEventName("mousedown"),!0,!0),e.dispatchEvent(t),t.initEvent(ue.mapEventName("mouseup"),!0,!0),e.dispatchEvent(t)},fn.prototype.clearEditing=function(e){void 0===e&&(e=!0),this.inProgress&&this.clearEdit(e)},x.CellEdit=fn,t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={}),(he=t.Data||(t.Data={})).DataContract=function(){this.Colors={Fore:he.Color,Back:he.Color},this.Content={IsExpandable:!1,IsExpanded:!1,IsEditing:!1,IsMultiLine:!1,MinimumValue:"",MaximumValue:"",CurrentDepth:-1,RowID:-1,Data:"",Graphic:{Url:"",Width:0,Height:0}},this.Colors={Fore:0,Back:0}},x=(x=e=e||{}).Lib||(x.Lib={}),de=x.NVEs||(x.NVEs={}),ce=de.Data||(de.Data={}),u.prototype.addEvents=function(e,t){e.addEventListener("mousedown",t),e.addEventListener("mouseup",t),e.addEventListener("touchstart",t),e.addEventListener("touchend",t),e.addEventListener("keydown",t);var i=window.Hammer;i&&(this.hammerInstance=new i.Manager(e,{domEvents:!0}),this.hammerInstance.add(new i.Tap({event:"doubletap",taps:2})),this.hammerInstance.add(new i.Tap({event:"singletap",taps:1})),this.hammerInstance.get("doubletap").recognizeWith("singletap"),this.hammerInstance.get("singletap").requireFailure("doubletap"),this.hammerInstance.on("doubletap",t),this.hammerInstance.on("singletap",t),this.hammerInstance.add(new i.Pan({event:"pan",pointers:1,direction:i.DIRECTION_ALL,threshold:1})),this.hammerInstance.on("panstart",t),this.hammerInstance.on("panup",t),this.hammerInstance.on("pandown",t),this.hammerInstance.on("panleft",t),this.hammerInstance.on("panright",t),this.hammerInstance.on("panend",t),this.hammerInstance.add(new i.Pan({event:"twofingerpan",pointers:2,direction:i.DIRECTION_ALL,threshold:1})),this.hammerInstance.on("twofingerpan",t))},u.prototype.addWheelEvent=function(e,t){!this.wheelEvtAdded&&de.isAppModeRuntime()&&!1!==this.item.Store.props.Enabled&&(e.addEventListener("wheel",t),this.wheelEvtAdded=!0)},u.prototype.removeWheelEvent=function(e,t){e.removeEventListener("wheel",t),this.wheelEvtAdded=!1},u.prototype.removeEventListeners=function(e,t){e.removeEventListener("mousedown",t),e.removeEventListener("mouseup",t),e.removeEventListener("touchstart",t),e.removeEventListener("touchend",t),e.removeEventListener("keydown",t),this.hammerInstance&&(this.hammerInstance.off("doubletap"),this.hammerInstance.off("singletap"),this.hammerInstance.remove("doubletap"),this.hammerInstance.remove("singletap"),this.hammerInstance.off("panstart"),this.hammerInstance.off("panup"),this.hammerInstance.off("pandown"),this.hammerInstance.off("panleft"),this.hammerInstance.off("panright"),this.hammerInstance.off("panend"),this.hammerInstance.off("twofingerpan"),this.hammerInstance.remove("pan"),this.hammerInstance.destroy(),this.hammerInstance=null)},u.prototype.remove=function(e,t){this.removeEventListeners(e,t),this.removeWheelEvent(e,t),this.data=null,this.item=null,this.line=null,this.selection=null},u.prototype.setTarget=function(e,t){var i;!(i="mousedown"!==e.type&&"touchstart"!==e.type&&"singletap"!==e.type?i:this.data.tableProps.hasHorScollBar&&t.y>this.data.tableProps.height-this.SIZE_FACTOR?(this.currentTarget="HorizontalScrollBar",!0):t.x>this.data.tableProps.width-this.SIZE_FACTOR?("line"===e.target.tagName&&e.target.parentNode.id===this.HIGHLIGHTER_HEADERLINE_GROUP?this.currentTarget="Gridline":this.currentTarget="VerticalScrollBar",!0):t.x<this.data.tableProps.rowHeaderWidth?("line"===e.target.tagName&&e.target.parentNode.id===this.HIGHLIGHTER_HEADERLINE_GROUP?this.currentTarget="Gridline":this.currentTarget="RowHeader",!0):t.x>this.data.tableProps.rowHeaderWidth&&t.y<this.data.tableProps.headerHeight?("line"===e.target.tagName&&e.target.parentNode.id===this.HIGHLIGHTER_HEADERLINE_GROUP?this.currentTarget="Gridline":this.currentTarget="ColumnHeader",!0):(this.currentTarget="DataCell",this.isEditInProgress=this.data.featureList.DataTemplates.isEditedCell(t),!this.isEditInProgress))&&"panstart"!==e.type||this.data.featureList.DataTemplates.clearEditing()},u.prototype.clearTarget=function(e){"mouseup"!==e.type&&"touchend"!==e.type&&"panend"!==e.type&&"singletap"!==e.type||(this.currentTarget=null,this.swipeStarted=!1,clearInterval(this.data.selection.timerRef),this.data.selection.timerRef=-1)},u.prototype.updateBindings=function(e,t){this.data=e,this.item=t},u.prototype.columnHeader=function(e,t,i,r){var a=this.data.featureList.Header,n=this.data.tableProps;"mousedown"===e||"touchstart"===t.type?this.columnHeaderOnMousedownTouchstart(t,i):"mouseup"===e||"touchend"===t.type||"panend"===t.type?this.columnHeaderOnMouseTouchPanEnd(t,i,a,n):this.columnHeaderOnRemainingCases(e,t,i,r,a,n)},u.prototype.columnHeaderOnMousedownTouchstart=function(e,t){this.isHeader=!0,this.prevClickedHeaderIndex=this.data.helper.getColumnIndexByXpos(t.x),this.oldIndex=this.prevClickedHeaderIndex,this.handleSelection(e,t)},u.prototype.columnHeaderOnMouseTouchPanEnd=function(e,t,i,r){this.swipeStarted?this.swipeStarted=!1:t.y<0||t.y>r.height||t.x<r.startX||t.x>r.width?i.showHideHighlighterHeaderGroup(e,!1):0<t.y&&t.y<r.height&&!i.isHilighterVisible&&t.x>r.startX&&t.x<r.width?i.showHideHighlighterHeaderGroup(e,!0):this.isHeader&&!this.handleHeaderReorder(e,t)&&this.data.configuration.AllowSort&&!this.data.tableProps.alwaysShowRecent&&this.handleSort(),this.data.configuration.HeaderSettings.AllowColumnReorder&&this.item.Store.props.Enabled&&this.data.headerGroup.setAttribute("cursor","auto"),i.removeHighlighterHeaderGroup(),this.isHeader=!1},u.prototype.columnHeaderOnRemainingCases=function(e,t,i,r,a,n){i.y<0||i.y>n.height||i.x<n.startX||i.x>n.width?a.showHideHighlighterHeaderGroup(t,!1):0<i.y&&i.y<n.height&&!a.isHilighterVisible&&i.x>n.startX&&i.x<n.width?a.showHideHighlighterHeaderGroup(t,!0):"panright"!==e&&"panleft"!==t.type||(this.isTouchEnabled&&Math.abs(t.overallVelocity)>r?this.swipeStarted||(this.swipeStarted=!0,a.removeHighlighterHeaderGroup(),this.data.featureList.DataTemplates.Parent.onSwipe(t.overallVelocityX,t.overallVelocityY)):!this.swipeStarted&&this.isHeader&&0===t.which&&(this.isHeader=!1,a.removeHighlighterHeaderGroup()),this.data.configuration.HeaderSettings.AllowColumnReorder&&this.item.Store.props.Enabled&&this.data.headerGroup.setAttribute("cursor","move"),this.handleHeaderPan(t,i))},u.prototype.rowHeader=function(e,t,i,r){"mouseup"===e||"touchend"===t.type||this.data.tableProps.alwaysShowRecent||(("panright"===e||"panleft"===e||"panup"===e||"pandown"===e)&&this.isTouchEnabled&&Math.abs(t.overallVelocity)>r?this.swipeStarted||(this.swipeStarted=!0,this.data.featureList.DataTemplates.Parent.onSwipe(t.overallVelocityX,t.overallVelocityY)):this.swipeStarted||this.handleSelection(t,i)),"panend"===e&&(this.swipeStarted=!1)},u.prototype.gridLine=function(e,t,i){var r;"mousedown"===e||"touchstart"===t.type?(r=t.target).parentNode.id===this.HIGHLIGHTER_HEADERLINE_GROUP&&this.data.configuration.HeaderSettings.AllowColumnResize&&(this.line=r,this.data.featureList.Gridlines.handleEvents(this.line,t,i)):"mouseup"!==t.type&&"touchend"!==t.type&&"panend"!==t.type||!this.line?"panright"!==e&&"panleft"!==t.type||!this.line||(0===t.which&&(this.line=null,this.currentTarget=null),this.data.featureList.Gridlines.handleEvents(this.line,t,i)):((r=this.data.featureList.Gridlines.Parent).dummyElement&&(r.appendDummyElement&&r.dom.removeChild(r.dummyElement),r.dummyElement=null),this.line=null,this.data.featureList.Gridlines.handleEvents(this.line,t,i))},u.prototype.swipeStart=function(e,t){this.swipeStarted||(this.data.tableProps.alwaysShowRecent?(this.data.selection.clearSelection(null,null,null,this.data.featureList.Header),this.data.selectionDetail.setselectedColumnIndex(-1)):this.handleSelection(e,t))},u.prototype.routeEvent=function(e,t){var i=e.type;switch(this.currentTarget){case"RowHeader":this.rowHeader(i,e,t,.4);break;case"ColumnHeader":this.columnHeader(i,e,t,.4);break;case"Gridline":this.gridLine(i,e,t);break;case"DataCell":"touchstart"!==i&&"mousedown"!==i||!this.isDoubleTap()?"mouseup"!==i&&"touchend"!==e.type&&(("panright"===i||"panleft"===i||"panup"===i||"pandown"===i)&&this.isTouchEnabled&&.4<Math.abs(e.overallVelocity)?this.swipeStarted||(this.swipeStarted=!0,this.data.featureList.DataTemplates.Parent.onSwipe(e.overallVelocityX,e.overallVelocityY)):this.swipeStart(e,t)):(this.data.featureList.DataTemplates.onDoubleClick(t),this.currentTarget=null),"panend"===i&&(this.swipeStarted=!1)}},u.prototype.isDoubleTap=function(){var e=!1,t=Date.now(),i=t-(this.lastTouchTimeStamp||t+1);return i<300&&0<i&&(e=!0),this.lastTouchTimeStamp=t,e},u.prototype.handleSort=function(){var e=this.data.featureList.Header;e&&e.computeAndUpdateSortCriteria(this.prevClickedHeaderIndex)},u.prototype.onKeyDown=function(e,t){var i,r,a,n,o,s,l=!1,u=!1;if(!this.data.tableProps.alwaysShowRecent){switch(1!==t&&3!==t||(l=!0),2!==t&&3!==t||(u=!0),this.data.tableProps.hasRowHeader&&(r=this.data.featureList.RecordHeader),this.data.tableProps.hasColumnHeader&&(i=this.data.featureList.Header),a=this.data.featureList.SelectionBorder,s=(n=this.data.featureList.DataTemplates).Parent,e){case ce.KeyCodes.CursorDown:this.handleCursorDown(l,s,n,i,r,a,e),o=!0;break;case ce.KeyCodes.CursorUp:this.handleCursorUp(l,s,n,i,r,a,e),o=!0;break;case ce.KeyCodes.CursorLeft:this.handleCursorLeft(l,s,n,i,r,a),o=!0;break;case ce.KeyCodes.CursorRight:this.handleCursorRight(l,s,n,i,r,a),o=!0;break;case ce.KeyCodes.PageUp:this.handlePageUp(u,s,n,i,r,a),o=!0;break;case ce.KeyCodes.PageDown:this.handlePageDown(u,s,n,i,r,a),o=!0;break;case ce.KeyCodes.Home:this.handleCursorUp(!0,s,n,i,r,a,e),o=!0;break;case ce.KeyCodes.End:this.handleCursorDown(!0,s,n,i,r,a,e),o=!0;break;default:o=!1}return o}},u.prototype.handleCursorDown=function(e,t,i,r,a,n,o){var s,l=0,u=de.getChromEnum("HmiGridSelectionMode"),h=this.data.viewport.getStartIndex(),d=this.data.viewport.getEndIndex(),c=this.data.tableProps.totalRecords,p=this.data.viewport.getDisplayedRowCount(),m=this.data.selectionDetail.getSelection();if(e&&this.data.configuration.GridSelectionMode!==u.None)c<p?s=c-1:(s=p-1,!this.data.viewport.hasHalfRow&&d<c-1&&s--,t.verticalScrollBase&&t.verticalScrollBase.templateInstance&&(l=t.verticalScrollBase.props.EndValue-t.verticalScrollBase.props.VisibleValueRange,t.cbOnProcessValueChanged(null,l),t.verticalScrollBase.templateInstance.setHmiProps(l,"HmiProps.CurrentValue"),t.verticalScrollBase.templateInstance.update(),this.data.viewport.hasHalfRow)&&this.data.viewport.isScrolledTillEnd&&this.data.viewport.getStartIndex()+p!==this.data.viewport.getEndIndex()&&s--);else{if(this.data.configuration.GridSelectionMode===u.Single?s=m.rowIndex:this.data.configuration.GridSelectionMode===u.Multi&&(s=m.indices[0]),h+s===c-1)return;if(++s,c<=p){if(c<=s)return}else if(d-h<=s&&!this.data.viewport.hasHalfRow||d-h<s&&this.data.viewport.hasHalfRow){if(this.data.viewport.hasHalfRow?s=d-h:s--,d===c-1)this.data.viewport.hasHalfRow&&s--;else if(c-1<d)return;t.verticalScrollBase&&t.verticalScrollBase.templateInstance&&(e=(t.verticalScrollBase.props.EndValue-t.verticalScrollBase.props.VisibleValueRange)/t.verticalScrollBase.props.SmallStepValueRange,l=t.verticalScrollBase.props.CurrentValue+e,t.cbOnProcessValueChanged(null,l),t.verticalScrollBase.templateInstance.setHmiProps(l,"HmiProps.CurrentValue"),t.verticalScrollBase.templateInstance.update())}}this.setSelection(a,n,i,s,r)},u.prototype.setSelection=function(e,t,i,r,a){var n=this.data.selectionDetail.getSelection();this.data.selection.clearSelection(e,t,i,null),this.data.selectionDetail.clearSelection(),this.data.selectionDetail.setselectedRowIndex(r),this.data.selectionDetail.setSelectedIndices([r]),this.data.selectionDetail.setselectedColumnIndex(n.columnIndex),this.data.configuration.SelectFullRow||this.data.selectionDetail.pushCellSelection(r,n.columnIndex),this.data.selection.setSelection(e,t,i,a),this.updateControlSelection()},u.prototype.handleCursorUp=function(e,t,i,r,a,n,o){var s,l=0,u=this.data.viewport.getStartIndex(),h=this.data.tableProps.totalRecords,d=this.data.viewport.getDisplayedRowCount(),c=de.getChromEnum("HmiGridSelectionMode"),p=this.data.selectionDetail.getSelection();if(e&&this.data.configuration.GridSelectionMode!==c.None)s=0,t.verticalScrollBase&&t.verticalScrollBase.templateInstance&&(t.cbOnProcessValueChanged(null,l=0),t.verticalScrollBase.templateInstance.setHmiProps(l,"HmiProps.CurrentValue"),t.verticalScrollBase.templateInstance.update());else if(this.data.configuration.GridSelectionMode===c.Single?s=p.rowIndex:this.data.configuration.GridSelectionMode===c.Multi&&(s=p.indices[0]),--s,h<=d){if(s<0)return}else if(s<0){if(0===u)return;s=0,t.verticalScrollBase&&t.verticalScrollBase.templateInstance&&(e=(t.verticalScrollBase.props.EndValue-t.verticalScrollBase.props.VisibleValueRange)/t.verticalScrollBase.props.SmallStepValueRange,l=t.verticalScrollBase.props.CurrentValue-e,t.cbOnProcessValueChanged(null,l=l<0?0:l),t.verticalScrollBase.templateInstance.setHmiProps(l,"HmiProps.CurrentValue"),t.verticalScrollBase.templateInstance.update())}this.setSelection(a,n,i,s,r)},u.prototype.handleHorizontalScrollBase=function(e,t){var i;if(e.horizontalScrollBase&&e.horizontalScrollBase.templateInstance)if(0<e.horizontalScrollBase.props.CurrentValue)t<0&&(i=(e.horizontalScrollBase.props.EndValue-e.horizontalScrollBase.props.VisibleValueRange)/e.horizontalScrollBase.props.SmallStepValueRange,i=e.horizontalScrollBase.props.CurrentValue-i,e.cbOnHorProcessValueChanged(null,i=i<(t=0)?0:i),e.horizontalScrollBase.templateInstance.setHmiProps(i,"HmiProps.CurrentValue"),e.horizontalScrollBase.templateInstance.update());else if(t<0)return;return t},u.prototype.handleCursorLeft=function(e,t,i,r,a,n){var o,s=this.data.selectionDetail.getSelection();if(e)o=0,this.ctrlKeyCursorLeft(t);else if(-1===(o=this.getLeftIndex(s,t)))return;this.data.selection.clearSelection(a,n,i,r),this.data.selectionDetail.clearSelection(),this.data.selectionDetail.setSelectedIndices([s.rowIndex]),this.data.selectionDetail.setselectedRowIndex(s.rowIndex),this.data.configuration.SelectFullRow||this.data.selectionDetail.pushCellSelection(s.rowIndex,o+this.data.viewport.getColumnStartIndex()),this.data.selectionDetail.setselectedColumnIndex(o+this.data.viewport.getColumnStartIndex()),0<this.data.tableProps.totalRecords?this.data.selection.setSelection(a,n,i,r):this.data.selection.setSelection(null,null,null,r),this.updateControlSelection()},u.prototype.handleCursorRight=function(e,t,i,r,a,n){var o,s,l=0,u=this.data.selectionDetail.getSelection();if(e)t.horizontalScrollBase&&t.horizontalScrollBase.templateInstance&&(o=t.horizontalScrollBase.props.EndValue-t.horizontalScrollBase.props.VisibleValueRange,t.cbOnHorProcessValueChanged(null,o),t.horizontalScrollBase.templateInstance.setHmiProps(o,"HmiProps.CurrentValue"),t.horizontalScrollBase.templateInstance.update()),s=this.data.viewport.getColumns().length-1;else{if(s=u.columnIndex-this.data.viewport.getColumnStartIndex(),++s,this.data.viewport.getTotalColumnCount()===this.data.viewport.getColumnCount()&&void 0===this.data.viewport.getColumns()[s])return;if(((this.data.viewport.isLastColVisible||this.data.viewport.autocompleteColumnVisible)&&s===this.data.viewport.getColumnCount()||!this.data.viewport.isLastColVisible&&!this.data.viewport.autocompleteColumnVisible&&s===this.data.viewport.getColumnCount()-1)&&t.horizontalScrollBase&&t.horizontalScrollBase.templateInstance){if(o=t.horizontalScrollBase.props.EndValue-t.horizontalScrollBase.props.VisibleValueRange,t.horizontalScrollBase.props.CurrentValue===o)return;e=o/t.horizontalScrollBase.props.SmallStepValueRange,o<(l=t.horizontalScrollBase.props.CurrentValue+e*(this.data.viewport.getColumnCount()-1))&&(l=o),t.cbOnHorProcessValueChanged(null,l),t.horizontalScrollBase.templateInstance.setHmiProps(l,"HmiProps.CurrentValue"),t.horizontalScrollBase.templateInstance.update(),s=0}}this.data.selection.clearSelection(a,n,i,r),this.data.selectionDetail.clearSelection(),this.data.selectionDetail.setSelectedIndices([u.rowIndex]),this.data.selectionDetail.setselectedRowIndex(u.rowIndex),this.data.selectionDetail.setselectedColumnIndex(s+this.data.viewport.getColumnStartIndex()),this.data.configuration.SelectFullRow||this.data.selectionDetail.pushCellSelection(u.rowIndex,s+this.data.viewport.getColumnStartIndex()),0<this.data.tableProps.totalRecords?this.data.selection.setSelection(a,n,i,r):this.data.selection.setSelection(null,null,null,r),this.updateControlSelection()},u.prototype.handlePageUp=function(e,t,i,r,a,n){var o,s=0,l=this.data.tableProps.totalRecords,u=this.data.viewport.getDisplayedRowCount(),h=this.data.viewport.getStartIndex();this.data.selectionDetail.getSelection();e?this.data.viewport.getTotalColumnCount()!==this.data.viewport.getColumnCount()&&t.horizontalScrollBase&&t.horizontalScrollBase.templateInstance&&(e=t.horizontalScrollBase.props.EndValue-t.horizontalScrollBase.props.VisibleValueRange,t.horizontalScrollBase.props.CurrentValue!==e)&&(o=e/t.horizontalScrollBase.props.SmallStepValueRange,s=t.horizontalScrollBase.props.CurrentValue+o*(this.data.viewport.getColumnCount()-1),t.cbOnHorProcessValueChanged(null,s=e<s?e:s),t.horizontalScrollBase.templateInstance.setHmiProps(s,"HmiProps.CurrentValue"),t.horizontalScrollBase.templateInstance.update()):u<l&&0<h&&(s=h-u<=0?0:this.data.tableProps.cellHeight*(h-u),t.cbOnProcessValueChanged(null,s),t.verticalScrollBase.templateInstance.setHmiProps(s,"HmiProps.CurrentValue"),t.verticalScrollBase.templateInstance.update())},u.prototype.handleVerticalScrollBase=function(e){var t,i=this.data.tableProps.totalRecords,r=this.data.viewport.getDisplayedRowCount(),a=this.data.viewport.getStartIndex(),n=this.data.viewport.getEndIndex(),o=this.data.viewport.hasHalfRow?1:0;r<i&&e.verticalScrollBase&&e.verticalScrollBase.templateInstance&&(t=e.verticalScrollBase.props.EndValue-e.verticalScrollBase.props.VisibleValueRange,i=i<n+r?t:this.data.tableProps.cellHeight*(a+r-o),e.cbOnProcessValueChanged(null,i),e.verticalScrollBase.templateInstance.setHmiProps(i,"HmiProps.CurrentValue"),e.verticalScrollBase.templateInstance.update())},u.prototype.handlePageDown=function(e,t,i,r,a,n){var o=0,s=this.data.viewport.getTotalColumnCount(),l=this.data.viewport.getColumnCount();e?s!==l&&t.horizontalScrollBase&&t.horizontalScrollBase.templateInstance&&0!==t.horizontalScrollBase.props.CurrentValue&&(e=(t.horizontalScrollBase.props.EndValue-t.horizontalScrollBase.props.VisibleValueRange)/t.horizontalScrollBase.props.SmallStepValueRange,o=t.horizontalScrollBase.props.CurrentValue-e*(1===l?l:l-1),t.cbOnHorProcessValueChanged(null,o=o<0?0:o),t.horizontalScrollBase.templateInstance.setHmiProps(o,"HmiProps.CurrentValue"),t.horizontalScrollBase.templateInstance.update()):this.handleVerticalScrollBase(t)},u.prototype.updateControlSelection=function(){var e=de.Utilities.getDataProvider(this.item,this.data.instanceID).select;"function"==typeof e&&e(this.getCellSelection())},u.prototype.ctrlKeyCursorLeft=function(e){e.horizontalScrollBase&&e.horizontalScrollBase.templateInstance&&(e.cbOnHorProcessValueChanged(null,0),e.horizontalScrollBase.templateInstance.setHmiProps(0,"HmiProps.CurrentValue"),e.horizontalScrollBase.templateInstance.update())},u.prototype.getLeftIndex=function(e,t){e=e.columnIndex-this.data.viewport.getColumnStartIndex();if(0===e&&0===this.data.viewport.getColumnStartIndex())return-1;if(--e,this.data.viewport.getTotalColumnCount()===this.data.viewport.getColumnCount()){if(e<0)return-1}else e=this.handleHorizontalScrollBase(t,e);return e},u.prototype.setUpSelection=function(e,t,i){var r,a,n=de.Utilities.getDataProvider(this.item,this.data.instanceID),o=this.data.selectionDetail.getSelection(),s=o.cellSelection.length;if(!this.data.tableProps.alwaysShowRecent){if(this.data.selection.clearSelection(e.rowHeader,e.selectionBorder,e.dataCell,e.columnHeader),this.data.selectionDetail.clearSelection(),this.data.selectionDetail.setselectedColumnIndex(i),this.data.selectionDetail.setselectedRowIndex(t),this.data.selectionDetail.setSelectedIndices(o.indices),!this.data.configuration.SelectFullRow)for(r=0;r<s;r++)a=o.cellSelection[r],this.data.selectionDetail.pushCellSelection(a.rowIndex,a.cellIndex);-1<t&&(this.data.selection.setSelection(e.rowHeader,e.selectionBorder,e.dataCell,e.columnHeader),"function"==typeof n.select)&&(i=this.getCellSelection(),n.select(i))}},u.prototype.handleHeaderReorder=function(e,t){var i,r,a,n,o,s,l,u,h,d=de.getChromEnum("HmiGridSelectionMode");return l=this.data.configuration.HeaderSettings.AllowColumnReorder&&this.isHeader&&(u=de.Utilities.getDataProvider(this.item,this.data.instanceID),(i=this.data.featureList.Header).removeHighlighterHeaderGroup(),s=(h=this.data.selectionDetail.getSelection()).columnIndex-this.data.viewport.getColumnStartIndex(),this.data.configuration.GridSelectionMode===d.None&&(s=this.oldIndex),d=this.data.helper.getColumnIndexForReorder(t.x,s),h=-1===h.shiftSelection.startIndex?h.rowIndex:h.shiftSelection.startIndex,-1!==s&&s!==d&&-1!==this.prevClickedHeaderIndex&&this.prevClickedHeaderIndex!==s&&(this.prevClickedHeaderIndex=-1,r=this.data.featureList.SelectionBorder,a=this.data.featureList.DataTemplates,n=this.data.featureList.RecordHeader,l=(o=this.data.featureList.Header).Parent.prevDataInstance.columnIndex,u.onColumnReorder&&"function"==typeof u.onColumnReorder&&(d=u.onColumnReorder(s+l,d+l)),i.reorderColumns(d-l,s),l=!0,this.setUpSelection({rowHeader:n,selectionBorder:r,dataCell:a,columnHeader:o},h,d)),this.data.helper.getColumnIndexByXpos(t.x)!==s)?!0:l},u.prototype.getCellSelection=function(){var e=this.data.selectionDetail.getSelection(),t=this.data.viewport.getViewportSelection(e),i={};for(i.rowSelection=e.indices,i.selectedCellRowIndex=t.rowIndex,i.selectedCellColumnIndex=t.columnIndex+this.data.viewport.getColumnStartIndex(),i.cellSelection=e.cellSelection,i.cellSelection.sort(function(e,t){return e.rowIndex-t.rowIndex}),i.shifStartIndex=e.shiftSelection.startIndex+this.data.viewport.getStartIndex(),-1<i.shiftEndIndex&&(i.shiftEndIndex=e.shiftSelection.endIndex+this.data.viewport.getStartIndex()),i.shiftSelectionIndices=[];i.shifStartIndex<=i.shiftEndIndex;i.shifStartIndex++)i.shiftSelectionIndices.push(i.shifStartIndex);return i},u.prototype.handleHeaderPan=function(e,t){this.data.configuration.HeaderSettings.AllowColumnReorder&&this.isHeader?(t=this.data.helper.getColumnIndexByXpos(t.x),this.prevClickedHeaderIndex=-1===t?0:t,this.data.featureList.Header.createHighlighter(this.oldIndex,e)):this.isHeader=!1},u.prototype.handleSelection=function(e,t){var i=!1,r=e.type,a=de.getChromEnum("HmiGridSelectionMode");this.data.configuration.GridSelectionMode!==a.None&&(void 0===this.data.selectionBorderGroup&&this.data.featureList.SelectionBorder.draw(this.item,this.data),"mousedown"===r||"touchstart"===r?i=this.data.selection.onClick(t,e):"panright"!==r&&"panleft"!==r&&"panup"!==r&&"pandown"!==r||(i=this.data.selection.onPan(t,e)),i)&&(a=this.data.selection.get(),this.fireSelection(e,a))},u.prototype.fireSelection=function(e,t,i){void 0===i&&(i=!1);var r=de.Utilities.getDataProvider(this.item,this.data.instanceID);"function"==typeof r.select&&(e&&e.ctrlKey&&(t.controlSelection=e.ctrlKey,t.unSelection=this.data.selectionDetail.getUnselection()),t.isDragSelection=i,r.select(t),t.controlSelection)&&this.data.selectionDetail.clearUnselection()},ce.GridEvents=u,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Data||(t.Data={}),yn.prototype.mergeVBeginEndLineConfigs=function(){var e=[];return this.vBeginExpHeader&&e.push(this.vBeginExpHeader),this.vBeginExpInner&&e.push(this.vBeginExpInner),this.vEndExpHeader&&e.push(this.vEndExpHeader),this.vEndExpInner&&e.push(this.vEndExpInner),e},yn.prototype.mergeVHeaderLineConfigs=function(){var e=[];return this.vHeaderExpHeader&&e.push(this.vHeaderExpHeader),this.vHeaderExpInner&&e.push(this.vHeaderExpInner),e},yn.prototype.getVInnerExpInner=function(){return this.vInnerExpInner},yn.prototype.getVInnerExpHeader=function(){return this.vInnerExpHeader},yn.prototype.mergeHLineConfigs=function(){var e=[];return e=0<this.hInnerExpInner.length?e.concat(this.hInnerExpInner):e},yn.prototype.mergeHBeginEndHeaderLineConfigs=function(){var e=[];return this.hBeginExpHeader&&e.push(this.hBeginExpHeader),this.hBeginExpInner&&e.push(this.hBeginExpInner),this.hEndExpHeader&&e.push(this.hEndExpHeader),this.hEndExpInner&&e.push(this.hEndExpInner),this.hHeaderExpHeader&&e.push(this.hHeaderExpHeader),this.hHeaderExpInner&&e.push(this.hHeaderExpInner),e},yn.prototype.getHInnerExpHeader=function(){var e=[];return e=0<this.hInnerExpHeader.length?this.hInnerExpHeader:e},yn.prototype.clearVerticalLines=function(){this.vBeginExpHeader=null,this.vBeginExpInner=null,this.vEndExpHeader=null,this.vEndExpInner=null,this.vHeaderExpHeader=null,this.vHeaderExpInner=null,this.vInnerExpInner=[],this.vInnerExpHeader=[],this.vInnerLineIndex=[],this.vHeaderLineIndex=[],this.hasVerticalLines=!1,this.topBorder=0,this.bottomBorder=0},yn.prototype.clearHorizontalLines=function(){this.hBeginExpHeader=null,this.hBeginExpInner=null,this.hEndExpHeader=null,this.hEndExpInner=null,this.hInnerExpInner=[],this.hInnerExpHeader=[],this.hHeaderExpHeader=null,this.hHeaderExpInner=null,this.hInnerLineIndex=[],this.hHeaderLines=[],this.hHeaderLineIndex=[],this.hasHorizontalLines=!1,this.leftBorder=0,this.rightBorder=0},yn.prototype.clearCollection=function(){this.clearVerticalLines(),this.clearHorizontalLines()},yn.prototype.remove=function(){this.clearCollection(),this.hInnerExpInner=null,this.hInnerExpHeader=null,this.hInnerLineIndex=null,this.hHeaderLineIndex=null,this.vInnerExpInner=null,this.vInnerExpHeader=null,this.vInnerLineIndex=null,this.vHeaderLineIndex=null},t.GridLinesConfigurations=yn,x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={}),pe=x.Data||(x.Data={}),Dn.prototype.getGridLineCollectionByLayer=function(e){switch(e){case"on-top":return null===this.onTopGridLines&&(this.onTopGridLines=new pe.GridLinesConfigurations),this.onTopGridLines;case"on-columns":return null===this.onColumnsGridLines&&(this.onColumnsGridLines=new pe.GridLinesConfigurations),this.onColumnsGridLines;case"on-rows":return null===this.onRowColumnGridLines&&(this.onRowColumnGridLines=new pe.GridLinesConfigurations),this.onRowColumnGridLines;case"background":return null===this.inBackgroundGridLines&&(this.inBackgroundGridLines=new pe.GridLinesConfigurations),this.inBackgroundGridLines}},Dn.prototype.remove=function(){if(this.inBackgroundGridLines&&(this.inBackgroundGridLines.remove(),this.inBackgroundGridLines=null),this.onTopGridLines&&(this.onTopGridLines.remove(),this.onTopGridLines=null),this.onColumnsGridLines&&(this.onColumnsGridLines.remove(),this.onColumnsGridLines=null),this.onRowColumnGridLines&&(this.onRowColumnGridLines.remove(),this.onRowColumnGridLines=null),this.onColumnsGroup){for(;this.onColumnsGroup.lastChild;)this.onColumnsGroup.removeChild(this.onColumnsGroup.lastChild);this.onColumnsGroup.parentNode.removeChild(this.onColumnsGroup),this.onColumnsGroup=null}if(this.onRowsColumnsGroup){for(;this.onRowsColumnsGroup.lastChild;)this.onRowsColumnsGroup.removeChild(this.onRowsColumnsGroup.lastChild);this.onRowsColumnsGroup.parentNode.removeChild(this.onRowsColumnsGroup),this.onRowsColumnsGroup=null}if(this.inBackgroundGroup){for(;this.inBackgroundGroup.lastChild;)this.inBackgroundGroup.removeChild(this.inBackgroundGroup.lastChild);this.inBackgroundGroup.parentNode.removeChild(this.inBackgroundGroup),this.inBackgroundGroup=null}if(this.onTopGroup){for(;this.onTopGroup.lastChild;)this.onTopGroup.removeChild(this.onTopGroup.lastChild);this.onTopGroup.parentNode.removeChild(this.onTopGroup),this.onTopGroup=null}},pe.GridLineLayer=Dn,t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={}),me=t.Data||(t.Data={}),Sn.prototype.init=function(e,t,i,r,a){void 0===a&&(a=!1),t&&(this.configuration=e.config),this.tableProps.init(this.configuration,e,r),a?this.viewport.update():(this.viewport.setSize(),this.viewport.updateViewPortIndex(0)),this.tableProps.hasRowHeader?this.tableProps.calRowHeaderWidth(this.configuration,this.viewport.getSize()):this.tableProps.resetRowHeaderProps(),0<i&&this.viewport.getTotalColumnWidth()>this.tableProps.width?this.viewport.updateVisibleColumns(i):this.viewport.setVisibleColumns(this.configuration)},Sn.prototype.clear=function(){-1!==this.timerRef&&(clearInterval(this.timerRef),this.timerRef=-1),-1!==this.selection.timerRef&&(clearInterval(this.selection.timerRef),this.selection.timerRef=-1),this.viewport.clear(),this.viewport=null,this.tableProps=null,this.lineConfigurations.clearCollection(),this.lineConfigurations=null,this.gridLineLayer.remove(),this.gridLineLayer=null,this.selectionBorderGroup=null,this.gridEvents=null,this.helper=null,this.featureList=null,this.configuration=null,this.selectionDetail.clearSelection(),this.selectionDetail=null,this.rowBackgoundGroup=null,this.columnBackgoundGroup=null,this.headerGroup=null,this.recordHeaderGroup=null,this.dataTemplateGroup=null,this.columnConfig=null,this.callBacks=null},me.GridMetaData=Sn,x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Data||(x.Data={}),bn.prototype.getColumnIndexByXpos=function(e){var t=0,i=-1,r=this.viewport.getColumns(),a=r.length;if(!((e-=this.tableProps.rowHeaderWidth+this.tableProps.leftBorder)<0))for(i=0;i<a&&!(e<=r[i].Width+t);i++)t+=r[i].Width;return i},bn.prototype.getColumnIndexForReorder=function(e,t){var i,r=this.getColumnIndexByXpos(e+this.tableProps.rowHeaderWidth),a=this.viewport.getColumns();return r<0?r=0:r>a.length-1?r=a.length-1:(e-=this.tableProps.rowHeaderWidth+this.tableProps.leftBorder,i=(i=r-1)<0?0:this.getColumnWidthTillIndex(i),a[r]&&a[r].Width&&(i+=a[r].Width/2),r<t&&i<e?r++:t<r&&e<i&&r--),r},bn.prototype.getColumnWidthTillIndex=function(e){for(var t=0,i=0,r=e,a=this.viewport.getColumns();i<=r;i++)a[i]&&(t+=a[i].Width);return t},bn.prototype.getRowIndexByYpos=function(e){return e-=this.tableProps.headerHeight,this.tableProps.hasColumnHeader&&e<0?-1:Math.floor(e/this.tableProps.cellHeight)},bn.prototype.getColumnWidthByIndex=function(e,t){var i=0,r=this.viewport.getColumns();if(r)if(void 0!==t&&e!==t)for(;e<=t;e++)r[e]&&(i+=r[e].Width);else r[e]&&(i=r[e].Width);return i},bn.prototype.isValidSelection=function(e,t,i,r){void 0===r&&(r=!1);var a,n={isValid:!0,rowIndex:-1,columnIndex:-1},o=this.viewport.getColumns(),e=void 0===t&&void 0===i?(a=this.getColumnIndexByXpos(e.x),this.getRowIndexByYpos(e.y)):(a=i,t);return n.rowIndex=e,(-1!==(n.columnIndex=a)&&void 0===o[a]||!r&&e>this.viewport.getDisplayedRowCount()-1)&&(n.isValid=!1),n},bn.prototype.isValidPanEvent=function(e,t,i){var r=this.getColumnIndexByXpos(t.x),a=this.getRowIndexByYpos(t.y),n=this.isDragAutoSelection(a,t);return n.isDragAutoSelection||(!this.isValidSelection(t,a,r,!0).isValid||e.shiftKey||e.ctrlKey||i.rowIndex===a&&r+this.viewport.getColumnStartIndex()===i.columnIndex||this.selectAllRows(t)||a+this.viewport.getStartIndex()>this.tableProps.totalRecords-1?n.isValid=!1:n.isValid=!0),n},bn.prototype.setSelectionColor=function(e,t,i,r){var a=!0;return a=!1===e.ctrlKey&&!1===e.shiftKey&&(e=this.getColumnIndexByXpos(i.x),-1!==t.columnIndices.indexOf(e))&&r?!1:a},bn.prototype.isEven=function(e){return e%2==0},bn.prototype.getVisibleColumnWidth=function(){for(var e=0,t=this.viewport.getColumns(),i=t.length,r=0;r<i;r++)e+=t[r].Width;return e},bn.prototype.selectAllRows=function(e){var t=!1;return t=this.tableProps.hasColumnHeader&&this.tableProps.hasRowHeader?e.x<this.tableProps.rowHeaderWidth&&e.y<this.tableProps.headerHeight:t},bn.prototype.getVisibleColumnsWidth=function(e){for(var t=0,i=e.length,r=0;r<i;r++)e[r].Visible&&(t+=e[r].Width);return t},bn.prototype.getGridDimension=function(e,t){var i={height:0,width:0,currentHeight:0,currentWidth:0},r=this.getVisibleColumnsWidth([]),e=e.getTotalRecords();return 0===e&&(e=1),i.width=r+this.tableProps.rightBorder+this.tableProps.leftBorder+this.tableProps.rowHeaderWidth,i.height=e*this.tableProps.cellHeight+this.tableProps.headerHeight,i.currentHeight=this.tableProps.height,i.currentWidth=this.tableProps.width,i},x.Helper=bn,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Data||(t.Data={}),Cn.prototype.getSections=function(){return this.sections},Cn.prototype.getPoles=function(){return this.poles},t.HierarchyLevel=Cn,((x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Data||(x.Data={})).LineConfig=function(){this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.stroke="#000",this.strokeWidth=0,this.layer="on-top",this.colIndex=null},t=(t=e=e||{}).Lib||(t.Lib={}),ge=t.NVEs||(t.NVEs={}),Te=ge.Data||(ge.Data={}),vn.prototype.isMirrored=function(){return this.scaleBegin>this.scaleEnd},vn.prototype.setCalculationMethod=function(e){switch(e){case"linear":this.calcMethod=ge.Calculations.LinearCalculation;break;case"logarithmic":this.calcMethod=ge.Calculations.LogarithmicCalculation;break;case"negativelogarithmic":this.calcMethod=ge.Calculations.NegativeLogarithmicCalculation;break;case"tangent":this.calcMethod=ge.Calculations.TangentCalculation;break;case"quadratic":this.calcMethod=ge.Calculations.QuadraticCalculation;break;case"cubic":this.calcMethod=ge.Calculations.CubicCalculation;break;default:this.calcMethod=ge.Calculations.LinearCalculation}},vn.prototype.getBeginSurchargeValue=function(e){var t,i,r=ge.Calculations.createCalc(this.calcMethod);return e instanceof Te.SectionStraight?(t=e,i=void 0,this.isVertical?(i=t.beginY<t.endY?t.beginY-this.beginSurcharge:t.beginY+this.beginSurcharge,r.calcByPosition(i,t.beginY,t.endY,t.beginValue,t.endValue)):(i=t.beginX<t.endX?t.beginX-this.beginSurcharge:t.beginX+this.beginSurcharge,r.calcByPosition(i,t.beginX,t.endX,t.beginValue,t.endValue))):(i=void 0,i=e.beginAngle<e.endAngle?e.beginAngle-this.beginSurcharge:e.beginAngle+this.beginSurcharge,r.calcByPosition(i,e.beginAngle,e.endAngle,e.beginValue,e.endValue))},vn.prototype.getEndSurchargeValue=function(e){var t,i,r=ge.Calculations.createCalc(this.calcMethod);return e instanceof Te.SectionStraight?(t=e,i=void 0,this.isVertical?(i=t.beginY<t.endY?t.endY+this.endSurcharge:t.endY-this.endSurcharge,r.calcByPosition(i,t.beginY,t.endY,t.beginValue,t.endValue)):(i=t.beginX<t.endX?t.endX+this.endSurcharge:t.endX-this.endSurcharge,r.calcByPosition(i,t.beginX,t.endX,t.beginValue,t.endValue))):(i=void 0,i=e.beginAngle<e.endAngle?e.endAngle+this.endSurcharge:e.endAngle-this.endSurcharge,r.calcByPosition(i,e.beginAngle,e.endAngle,e.beginValue,e.endValue))},Te.MetaData=vn,((x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Data||(x.Data={})).PoleArc=function(e,t,i,r,a){this.centerX=e,this.centerY=t,this.radius=i,this.angle=r,this.value=a,this.isVisible=!0,this.color=null},((t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Data||(t.Data={})).PoleStraight=function(e,t,i){this.x=e,this.y=t,this.value=i,this.isVisible=!0,this.color=null},x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Data||(x.Data={}),_n.store=function(e,t){_n._storage[e]=t},_n.retrieve=function(e){var t=_n._storage[e];return _n.clear(e),t},_n.clear=function(e){_n._storage[e]=null},_n._storage={},x.RulerDataStore=_n,x.RulerData=function(){},((t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Data||(t.Data={})).SectionArc=function(e,t,i,r,a,n,o){this.centerX=e,this.centerY=t,this.beginAngle=i,this.endAngle=r,this.radius=a,this.beginValue=n,this.endValue=o,this.isVisible=!0,this.color=null,this.children=null},((x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Data||(x.Data={})).SectionStraight=function(e,t,i,r,a,n){this.beginX=e,this.beginY=t,this.endX=i,this.endY=r,this.beginValue=a,this.endValue=n,this.isVisible=!0,this.color=null,this.children=null},t=(t=e=e||{}).Lib||(t.Lib={}),t=(fe=t.NVEs||(t.NVEs={})).Data||(fe.Data={}),Pn.prototype.onClick=function(e,t){var i,r,a=this.gridMetadata.helper.isValidSelection(e),n=(this.gridMetadata.tableProps.hasRowHeader&&(i=this.gridMetadata.featureList.RecordHeader),this.gridMetadata.tableProps.hasColumnHeader&&(r=this.gridMetadata.featureList.Header),this.gridMetadata.featureList.SelectionBorder),o=this.gridMetadata.featureList.DataTemplates;return-1<a.rowIndex?a.isValid?(this.selectedColumnIndex=this.gridMetadata.helper.getColumnIndexByXpos(e.x),this.selectedRowIndex=this.gridMetadata.helper.getRowIndexByYpos(e.y),this.gridMetadata.helper.selectAllRows(e),this.clearSelection(i,n,o,r),this.setSelectionDetails(t,e,!1),this.setSelection(i,n,o,r)):(this.clearSelection(i,n,o,r),this.gridMetadata.selectionDetail.clearSelection()):(this.selectedColumnIndex=this.gridMetadata.helper.getColumnIndexByXpos(e.x),this.gridMetadata.tableProps.alwaysShowRecent||this.clearSelection(null,null,null,r),this.gridMetadata.selectionDetail.setselectedColumnIndex(this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex()),this.gridMetadata.tableProps.alwaysShowRecent||this.setSelection(null,null,null,r)),-1<a.rowIndex},Pn.prototype.onPan=function(e,t){var i,r,a=this.gridMetadata.selectionDetail.getSelection(),n=(this.gridMetadata.tableProps.hasRowHeader&&(i=this.gridMetadata.featureList.RecordHeader),this.gridMetadata.tableProps.hasColumnHeader&&(r=this.gridMetadata.featureList.Header),this.gridMetadata.featureList.SelectionBorder),o=this.gridMetadata.featureList.DataTemplates,a=this.gridMetadata.helper.isValidPanEvent(t,e,a);return a.isValid&&(a.isDragAutoSelection?-1===this.timerRef&&(this.timerRef=setInterval(this.autoSelectionOnDrag.bind(this),500,a)):(-1!==this.timerRef&&(clearInterval(this.timerRef),this.timerRef=-1),this.selectedColumnIndex=this.gridMetadata.helper.getColumnIndexByXpos(e.x),this.selectedRowIndex=this.gridMetadata.helper.getRowIndexByYpos(e.y),this.clearSelection(i,n,o,r),this.setSelectionDetails(t,e,!0),this.setSelection(i,n,o,r))),a.isValid},Pn.prototype.get=function(){var e={rowSelection:[],selectedCellRowIndex:-1,cellSelection:[],selectedCellColumnIndex:-1,shifStartIndex:-1,shiftEndIndex:-1,shiftSelectionIndices:[],controlSelection:!1,isDragSelection:!1,unSelection:null},t=this.gridMetadata.selectionDetail.getSelection(),i=this.gridMetadata.viewport.getViewportSelection(t);for(e.rowSelection=t.indices,e.selectedCellRowIndex=i.rowIndex,e.selectedCellColumnIndex=i.columnIndex+this.gridMetadata.viewport.getColumnStartIndex(),e.cellSelection=t.cellSelection,e.cellSelection.sort(function(e,t){return e.rowIndex-t.rowIndex}),e.shifStartIndex=t.shiftSelection.startIndex+this.gridMetadata.viewport.getStartIndex(),e.shiftEndIndex=t.shiftSelection.endIndex+this.gridMetadata.viewport.getStartIndex(),e.shiftSelectionIndices=[];e.shifStartIndex<=e.shiftEndIndex;e.shifStartIndex++)e.shiftSelectionIndices.push(e.shifStartIndex);return e},Pn.prototype.setAutoSelection=function(){var e=this.gridMetadata.selectionDetail.getSelection(),e=this.gridMetadata.viewport.getViewportSelection(e),t=this.gridMetadata.featureList.RecordHeader;t&&this.gridMetadata.tableProps.hasRowHeader&&-1<e.rowIndex&&t.setSelection([e.rowIndex])},Pn.prototype.clearSelection=function(e,t,i,r,a){void 0===a&&(a=!1);var n=this.gridMetadata.selectionDetail.getSelection(),o=this.gridMetadata.viewport.getViewportSelection(n);r&&-1<o.columnIndex&&this.gridMetadata.tableProps.hasColumnHeader&&r.clearSelection(o.columnIndex),e&&this.gridMetadata.tableProps.hasRowHeader&&e.clearSelection(n.indices,a),t&&t.clearBorder(),i&&i.clearSelection(o)},Pn.prototype.setSelection=function(e,t,i,r,a){var n=this.gridMetadata.selectionDetail.getSelection(),a=this.gridMetadata.viewport.getViewportSelection(n,a);e&&this.gridMetadata.tableProps.hasRowHeader&&e.setSelection(n.indices),r&&-1<a.columnIndex&&this.gridMetadata.tableProps.hasColumnHeader&&r.setSelection(a.columnIndex),t&&(0<a.cellSelection.length&&0<a.indices.length||this.gridMetadata.configuration.SelectFullRow)&&(t.draw(this.item,this.gridMetadata),t.createBorder(a)),i&&i.setSelection(a)},Pn.prototype.setSelectionDetails=function(e,t,i){this.gridSelectionMode=fe.getChromEnum("HmiGridSelectionMode"),this.gridSelectionMode.Single===this.gridMetadata.configuration.GridSelectionMode?this.handleSingleSelection():this.gridSelectionMode.Multi===this.gridMetadata.configuration.GridSelectionMode&&(t=this.gridMetadata.helper.selectAllRows(t),i||t||e.shiftKey?this.handleShiftSelection(t):e.ctrlKey?this.handleCtrlSelection():this.handleSingleSelection())},Pn.prototype.updateSelectionDetails=function(e,t,i,r){var a,n,o,s,l=e.selectionDetail.getCellSelection();if(-1!==r)l.push({rowIndex:r,cellIndex:[i]});else for(a=l.length,s=0;s<a;s++)n=l[s].cellIndex.indexOf(t),o=l[s].cellIndex.indexOf(i),-1===n&&-1!==o?(l[s].cellIndex.splice(o,1),l[s].cellIndex.push(t)):-1!==n&&-1===o&&(l[s].cellIndex.splice(n,1),l[s].cellIndex.push(i))},Pn.prototype.handleSingleSelection=function(){this.gridMetadata.selectionDetail.clearSelection(),this.gridMetadata.selectionDetail.setselectedRowIndex(this.selectedRowIndex),this.gridMetadata.selectionDetail.setShiftStartRowIndex(this.selectedRowIndex,this.gridMetadata.viewport.getStartIndex()),this.gridMetadata.selectionDetail.setselectedColumnIndex(this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex()),-1<this.selectedRowIndex&&(this.gridMetadata.selectionDetail.pushSelectedRowIndices(this.selectedRowIndex,!1),this.gridMetadata.configuration.SelectFullRow||this.gridMetadata.selectionDetail.pushCellSelection(this.selectedRowIndex,this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex()))},Pn.prototype.handleCtrlSelection=function(){var e=this.gridMetadata.selectionDetail.getSelection();0<=e.rowIndex&&0<e.indices.length&&0===e.cellSelection.length&&this.gridMetadata.selectionDetail.clearRowIndices(),this.gridMetadata.selectionDetail.setselectedRowIndex(this.selectedRowIndex),this.gridMetadata.selectionDetail.setselectedColumnIndex(this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex()),this.gridMetadata.selectionDetail.getShiftSelection();-1<this.selectedRowIndex&&(this.gridMetadata.configuration.SelectFullRow?(this.gridMetadata.selectionDetail.clearShiftSelection(),this.gridMetadata.selectionDetail.pushSelectedRowIndices(this.selectedRowIndex,!0)):(this.gridMetadata.selectionDetail.clearShiftSelection(),this.gridMetadata.selectionDetail.setCellSelection(this.selectedRowIndex,this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex(),!1)))},Pn.prototype.handleShiftSelection=function(e){var t,i,r,a,n=this.gridMetadata.selectionDetail.getShiftSelection();if(this.gridMetadata.selectionDetail.setselectedRowIndex(this.selectedRowIndex),i=this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex(),this.gridMetadata.selectionDetail.setselectedColumnIndex(i),-1<this.selectedRowIndex)if(e?(n.rowStartIndex=0,n.rowEndIndex=this.gridMetadata.viewport.getDisplayedRowCount()-1):(-1===n.rowStartIndex&&(n.rowStartIndex=0,n.columnStartIndex=i),n.rowEndIndex=this.selectedRowIndex,n.columnEndIndex=i),t=Math.min(n.rowStartIndex,n.rowEndIndex),i=Math.max(n.rowStartIndex,n.rowEndIndex),n.startIndex=t,n.endIndex=i,this.gridMetadata.selectionDetail.clearRowIndices(),this.gridMetadata.configuration.SelectFullRow)for(;t<=i;t++)this.gridMetadata.selectionDetail.pushSelectedRowIndices(t,!1),this.gridMetadata.selectionDetail.pushShiftSelectedIndex(t);else for(r=Math.min(n.columnStartIndex,n.columnEndIndex),a=Math.max(n.columnStartIndex,n.columnEndIndex),n.colStart=r,n.colEnd=a,this.gridMetadata.selectionDetail.clearselectedCells(),n.cellIndices=[];t<=i;t++){for(this.gridMetadata.selectionDetail.pushSelectedRowIndices(t,!1),this.gridMetadata.selectionDetail.pushShiftSelectedIndex(t);r<=a;r++)this.gridMetadata.selectionDetail.setCellSelection(t,r,!0);r=n.colStart}},Pn.prototype.onPropertyChange=function(e,t,i){var r,a,n,o,s=fe.getChromEnum("HmiGridSelectionMode");switch(e){case"SelectFullRow":i.configuration.GridSelectionMode!==s.None&&(t?(0<(r=i.selectionDetail.getCellSelection()).length&&(i.selectionDetail.clearSelection(),i.selectionDetail.setselectedColumnIndex(r[r.length-1].cellIndex[r[r.length-1].cellIndex.length-1]),i.selectionDetail.pushSelectedRowIndices(r[r.length-1].rowIndex,!1),i.selectionDetail.setselectedRowIndex(r[r.length-1].rowIndex),this.autoselectedRowIndex=-1),i.tableProps.alwaysShowRecent&&-1<this.autoselectedRowIndex&&(i.selectionDetail.setselectedColumnIndex(-1),i.selectionDetail.pushSelectedRowIndices(this.autoselectedRowIndex,!1))):0<(r=i.selectionDetail.getSelection()).indices.length&&(i.selectionDetail.clearSelection(),i.selectionDetail.setselectedRowIndex(r.rowIndex),i.selectionDetail.pushSelectedRowIndices(r.rowIndex,!1),-1<r.lastSelectedColIndex&&(i.selectionDetail.setselectedColumnIndex(r.columnIndex),i.selectionDetail.pushCellSelection(r.rowIndex,r.columnIndex),this.autoselectedRowIndex=-1),i.tableProps.alwaysShowRecent)&&(this.autoselectedRowIndex=r.indices[0]));break;case"GridSelectionMode":r=i.selectionDetail.getSelection(),t===s.Single?0<(o=r.cellSelection.length)?(a=r.cellSelection[o-1].cellIndex.length,i.selectionDetail.clearSelection(),n=r.cellSelection[o-1].rowIndex,o=r.cellSelection[o-1].cellIndex[a-1],i.selectionDetail.setselectedColumnIndex(o),i.selectionDetail.pushSelectedRowIndices(n,!1),i.selectionDetail.setCellSelection(n,o+i.viewport.getColumnStartIndex(),!1),this.autoselectedRowIndex=-1):0<r.indices.length?(i.selectionDetail.clearSelection(),-1<r.lastSelectedColIndex&&(i.selectionDetail.setselectedColumnIndex(r.columnIndex),i.selectionDetail.pushSelectedRowIndices(r.rowIndex,!1),i.selectionDetail.setselectedRowIndex(r.selectedRowIndex),this.autoselectedRowIndex=-1)):i.tableProps.alwaysShowRecent&&-1<this.autoselectedRowIndex&&(i.selectionDetail.setselectedColumnIndex(-1),i.selectionDetail.pushSelectedRowIndices(this.autoselectedRowIndex,!1)):t===s.None?(r=i.selectionDetail.getSelection(),i.selectionDetail.clearSelection(),i.tableProps.alwaysShowRecent&&(this.autoselectedRowIndex=r.indices[0])):t===s.Multi&&i.tableProps.alwaysShowRecent&&-1<this.autoselectedRowIndex&&(i.selectionDetail.setselectedColumnIndex(-1),i.selectionDetail.pushSelectedRowIndices(this.autoselectedRowIndex,!1))}},t.Selection=Pn,x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Data||(x.Data={}),An.prototype.pushSelectedRowIndices=function(e,t){var i=this.selectedRowIndices.indexOf(e);-1===i?this.selectedRowIndices.push(e):t&&this.removeSelectedRow(i)},An.prototype.pushCellSelection=function(e,t){"number"==typeof t?this.selectedCells.push({rowIndex:e,cellIndex:[t]}):"object"==typeof t&&this.selectedCells.push({rowIndex:e,cellIndex:t})},An.prototype.setselectedRowIndex=function(e){this.selectedRowIndex=e},An.prototype.setUnselectedCellIndex=function(e){this.unselectedCellIndices=e},An.prototype.setUnselectedRowIndex=function(e){this.unselectedRowIndex=e},An.prototype.setUnselectedColumnIndex=function(e){this.unselectedColumnIndex=e},An.prototype.setShiftStartRowIndex=function(e,t){-1===this.shiftSelection.rowStartIndex&&(this.shiftSelection.rowStartIndex=e,this.shiftSelection.viewportIndex=t)},An.prototype.setselectedColumnIndex=function(e){this.selectedColumnIndex=e,-1===this.shiftSelection.columnStartIndex&&(this.shiftSelection.columnStartIndex=e)},An.prototype.setCellSelection=function(e,t,i){var r=this.isSelected(e,t);return i&&(void 0===this.updateShiftCellSelection(e)?this.shiftSelection.cellIndices.push({rowIndex:e,cellIndices:[t]}):this.updateShiftCellSelection(e).cellIndices.push(t)),-1===r.rowSelected?(-1===this.selectedRowIndices.indexOf(e)&&this.setselectedRowIndex(e),this.pushCellSelection(e,t),this.pushSelectedRowIndices(e,!1)):-1===r.columnSelected?r.selectedRow.cellIndex.push(t):(i=r.selectedRow.cellIndex.splice(r.columnSelected,1),0===r.selectedRow.cellIndex.length&&(this.setUnselectedCellIndex(i),this.setUnselectedRowIndex(e),this.setUnselectedColumnIndex(t),this.selectedCells.splice(r.rowSelected,1),this.setselectedRowIndex(0<this.selectedCells.length?this.selectedCells[this.selectedCells.length-1].rowIndex:-1),this.selectedRowIndices.splice(r.rowSelected,1),0===this.selectedRowIndices.length)&&this.setselectedColumnIndex(-1)),r.columnSelected},An.prototype.setSelectedIndices=function(e){this.selectedRowIndices=e},An.prototype.updateShiftCellSelection=function(e){for(var t=this.shiftSelection.cellIndices.length,i=0;i<t;i++)if(this.shiftSelection.cellIndices[i].rowIndex===e)return this.shiftSelection.cellIndices[i]},An.prototype.pushShiftSelectedIndex=function(e){-1===this.shiftSelection.indices.indexOf(e)&&this.shiftSelection.indices.push(e)},An.prototype.getCellSelection=function(e){var t,i=this.selectedCells.length;if(void 0===e)return this.selectedCells;for(t=0;t<i;t++)if(this.selectedCells[t].rowIndex===e)return this.selectedCells[t]},An.prototype.getSelection=function(){return this.shiftSelection.indices.sort(function(e,t){return e-t}),{rowIndex:this.selectedRowIndex,columnIndex:this.selectedColumnIndex,indices:this.selectedRowIndices.slice(0),cellSelection:this.selectedCells.slice(0),isSelectAll:this.selectAll,lastSelectedColIndex:this.selectedColumnIndex,shiftSelection:this.shiftSelection}},An.prototype.getUnselection=function(){return{rowIndex:this.unselectedRowIndex,columnIndex:this.unselectedColumnIndex,indices:this.unselectedCellIndices}},An.prototype.setShifSelection=function(e){this.shiftSelection=e},An.prototype.getShiftSelection=function(){return this.shiftSelection.indices.sort(function(e,t){return e-t}),this.shiftSelection},An.prototype.removeSelectedRow=function(e){e=this.selectedRowIndices.splice(e,1);this.setUnselectedCellIndex(e),this.setUnselectedRowIndex(e[0]),0===this.selectedRowIndices.length&&this.setselectedColumnIndex(-1)},An.prototype.setSelectionType=function(e){this.selectAll&&this.selectedRowIndices.splice(this.selectedRowIndices.length-1,1),this.selectAll=e},An.prototype.isSelected=function(e,t){for(var i,r=-1,a=-1,n=this.selectedCells.length,o=0;o<n;o++)if((i=this.selectedCells[o]).rowIndex===e){a=o,r=i.cellIndex.indexOf(t);break}return{rowSelected:a,columnSelected:r,selectedRow:i}},An.prototype.isColoumnSelected=function(e){var t=-1,i=0,r=this.selectedRowIndices.length;if(0<this.selectedCells.length)for(;i<r;i++)if(-1!==(t=this.selectedCells[i].cellIndex.indexOf(e)))return t;return t},An.prototype.isRowSelected=function(e){return-1<this.selectedRowIndices.indexOf(e)},An.prototype.clearselectedCells=function(){this.selectedCells=[]},An.prototype.clearRowIndices=function(){this.selectedRowIndices=[]},An.prototype.clearSelection=function(e){void 0===e&&(e=!0),this.selectAll=!1,this.selectedRowIndices=[],this.selectedRowIndex=-1,this.selectedCells=[],e&&this.clearShiftSelection(),this.selectedColumnIndex=-1,this.selectedRowIndex=-1,this.clearUnselection()},An.prototype.clearUnselection=function(){this.unselectedRowIndex=-1,this.unselectedColumnIndex=-1,this.unselectedCellIndices=[]},An.prototype.clearShiftSelection=function(){this.shiftSelection.rowEndIndex=-1,this.shiftSelection.rowStartIndex=-1,this.shiftSelection.startIndex=-1,this.shiftSelection.endIndex=-1,this.shiftSelection.colEnd=-1,this.shiftSelection.colStart=-1,this.shiftSelection.columnEndIndex=-1,this.shiftSelection.columnStartIndex=-1,this.shiftSelection.indices=[],this.shiftSelection.cellIndices=[]},x.SelectionDetails=An,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Data||(t.Data={}),wn.prototype.reset=function(){for(;0<this.activeDomNodes.length;){var e=this.activeDomNodes.pop();this.freeDomNodes.push(e)}},wn.prototype.setTagName=function(e){this.tagName=e},wn.prototype.getFreeNodes=function(e){for(var t,i=new Array;i.length<e;)0<this.freeDomNodes.length?(t=this.freeDomNodes.pop(),this.activeDomNodes.push(t),i.push(t),this.parentNode.contains(t)||this.parentNode.appendChild(t),this.recycleFunction&&this.recycleFunction(t,this.parentNode)):(t=document.createElementNS("http://www.w3.org/2000/svg",this.tagName),this.createFunction&&this.createFunction(t,this.parentNode),this.parentNode.appendChild(t),this.activeDomNodes.push(t),i.push(t));return i},wn.prototype.getActiveNodes=function(){return this.activeDomNodes},wn.prototype.getAllNodes=function(){return this.activeDomNodes.concat(this.freeDomNodes)},wn.prototype.finish=function(){this.freeDomNodes.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)},this)},wn.prototype.cleanup=function(){this.reset(),this.finish(),this.freeDomNodes=null,this.activeDomNodes=null,this.parentNode=null,this.createFunction=null},t.SvgElementProvider=wn,x=(x=e=e||{}).Lib||(x.Lib={}),x=(ye=x.NVEs||(x.NVEs={})).Data||(ye.Data={}),Vn.prototype.init=function(e,t,i){"string"==typeof t.height?this.height=parseFloat(t.height):this.height=t.height,"string"==typeof t.width?this.width=parseFloat(t.width):this.width=t.width,"string"==typeof t["start-x"]?this.x=parseFloat(t["start-x"]):this.x=t["start-x"],"string"==typeof t["start-y"]?this.y=parseFloat(t["start-y"]):this.y=t["start-y"],this.height<0&&(this.height=0),this.width<0&&(this.width=0),this.verticalScrollbarVisibility=t["vertical-scrollbar-visibility"],void 0===this.verticalScrollbarVisibility&&(this.verticalScrollbarVisibility=e.VerticalScrollBarVisibility),this.horizontalScrollbarVisibility=t["horizontal-scrollbar-visibility"],void 0===this.horizontalScrollbarVisibility&&(this.horizontalScrollbarVisibility=e.HorizontalScrollBarVisibility),this.alwaysShowRecent=ye.Utilities.convertToBool(t["auto-scroll"]),this.latestProjectVersion=i>=this.MAJOR_VERSION||""===i,this.latestProjectVersion?(this.startX=this.x,this.startY=this.y):(this.startX=0,this.startY=0),this.allowRowHeaderResize=this.latestProjectVersion,this.calCellHeight(e),this.calHeaderHeight(e),this.updateColumnDetails(e),this.hasRowHeader=e.HeaderSettings.RowHeaderType!==ye.getChromEnum("HmiDataGridHeaderType").None,this.defaultCharWidth=Math.floor(ye.getTextWidth("9",e.HeaderSettings.Font))},Vn.prototype.calCellHeight=function(e){e.RowHeight<=0?this.cellHeight=Math.floor(ye.getTextHeight("d",e.HeaderSettings.Font))+e.CellPadding.Top:this.cellHeight=e.RowHeight+e.CellPadding.Top},Vn.prototype.calHeaderHeight=function(e){var t=ye.getChromEnum("HmiDataGridHeaderType"),i=0;e.HeaderSettings.ColumnHeaderType!==t.None?(i=this.cellHeight,this.hasColumnHeader=!0):this.hasColumnHeader=!1,this.headerHeight=i},Vn.prototype.calRowHeaderWidth=function(e,t){var i=0,r=!1,t=(t>this.totalRecords?t:this.totalRecords).toString().length,i=this.defaultCharWidth,t=t<this.DEF_ROW_CHAR_COUNT?this.DEF_ROW_CHAR_COUNT:t+1;return t!==this.rowHeaderCharCount&&(i*=t,this.rowHeaderCharCount=t,i=i+e.CellPadding.Left+e.CellPadding.Right,this.hasRowHeader=!0,this.rowHeaderWidth=i,r=!0),r},Vn.prototype.setTotalRecords=function(e){this.totalRecords=e},Vn.prototype.updateColumnDetails=function(e){var t,i,r=e.Columns,a=e.HeaderSettings.Font,n=0;for(r&&(i=r.length);n<i;n++)(t=r[n]).Visible&&this.updateColumnWidth(t,a)},Vn.prototype.updateColumnWidth=function(e,t){var i;!e.Header||""!==e.Header.Text&&void 0!==e.Header.Text?i=e.Header.Text:(i=e.Name,this.latestProjectVersion||(e.Header.Text=i)),!ye.isAppModeRuntime()||0!==e.Width&&void 0!==e.Width||(e.Width=Math.floor(ye.getTextWidth(i,t)))},Vn.prototype.getTotalColumnWidth=function(e,t){for(var i=e.viewport.getColumns(),r=0,a=void 0!==t?t:i.length,n=0;n<a;n++)i[n]&&(r+=i[n].Width);return r},Vn.prototype.getVisibleColIndex=function(e,t){var i,r=e.viewport.getColumns(),a=0;for(r&&(i=r.length);a<i;a++)if(r[a].Index===t)return a;return-1},Vn.prototype.resetRowHeaderProps=function(){this.rowHeaderCharCount=0,this.hasRowHeader=!1,this.rowHeaderWidth=0},x.TableProps=Vn,t=(t=e=e||{}).Lib||(t.Lib={}),t=(De=t.NVEs||(t.NVEs={})).Data||(De.Data={}),xn.prototype.updateStartIndex=function(e,t,i){var r;return this.visibleColumns[e].ActualIndex===i.shiftSelection.colStart?(t.shiftSelection.columnStartIndex=e,r=!0):this.columnStartIndex>i.shiftSelection.colEnd?(t.shiftSelection.columnStartIndex=-1,r=!0):i.shiftSelection.colStart<this.columnStartIndex&&-1<i.shiftSelection.colStart&&(r=!(t.shiftSelection.columnStartIndex=0)),r},xn.prototype.updateEndIndex=function(e,t,i){var r;return this.visibleColumns[e].ActualIndex===i.shiftSelection.colEnd?(t.shiftSelection.columnEndIndex=e,r=!0):this.columnEndIndex<i.shiftSelection.colStart?(t.shiftSelection.columnEndIndex=-1,r=!0):i.shiftSelection.colEnd>this.columnEndIndex&&-1<i.shiftSelection.colEnd&&(t.shiftSelection.columnEndIndex=this.columnEndIndex,r=!0),r},xn.prototype.updateStartAndEndIndex=function(e,t,i,r,a,n,o){for(var s,l=this.visibleColumns.length,u=0;u<l;u++)for(s=0;s<r;s++)e.cellIndex[s]>=this.columnStartIndex&&e.cellIndex[s]<=this.columnEndIndex&&this.visibleColumns[u].ActualIndex===e.cellIndex[s]&&t.cellIndex.push(u),-1!==i.shiftSelection.endIndex&&(a=a||this.updateStartIndex(u,o,i),n=n||this.updateEndIndex(u,o,i));return{startIndexUpdated:a,endIndexUpdated:n}},xn.prototype.getStartIndex=function(){return this.startIndex},xn.prototype.setStartIndex=function(e){this.startIndex=e},xn.prototype.setEndIndex=function(e){this.endIndex=e},xn.prototype.getEndIndex=function(){return this.endIndex},xn.prototype.setDisplayedRowCount=function(e){this.recordCount=e},xn.prototype.getDisplayedRowCount=function(){return this.recordCount},xn.prototype.scrolled=function(e){this.isScrolled=e},xn.prototype.setSize=function(){var e=this.tableProps.height-this.tableProps.headerHeight;this.size=Math.ceil(e/this.tableProps.cellHeight),this.halfRowHeight=e%this.tableProps.cellHeight,this.hasHalfRow=this.halfRowHeight>this.tableProps.cellHeight/2,this.halfRowHeight=this.tableProps.cellHeight-this.halfRowHeight},xn.prototype.setVisibleColumns=function(e){var t,i,r,a,n=0,o=0,s=0;for(this.visibleColumns=[],this.totalColumns=[],e.Columns&&(i=e.Columns.length),this.columnStartIndex=0,r=this.tableProps.width-this.tableProps.rowHeaderWidth-this.tableProps.leftBorder/2,a=!0;s<i;s++)!1!==(t=e.Columns[s]).Visible&&(De.isAppModeRuntime()||!De.isAppModeRuntime()&&0<t.Width)&&(n+=t.Width,t.Index=s,void 0===t.ActualIndex&&(t.ActualIndex=o,o++),this.totalColumns.push(t),n<r&&(this.autocompleteColumnVisible=!0,this.visibleColumns.push(t)),a)&&r<=n&&(this.visibleColumns.push(t),this.autocompleteColumnVisible=!1,n===r&&(this.isLastColVisible=!0),a=!1);0===this.visibleColumns.length&&0<r&&(this.autocompleteColumnVisible=!0),this.totalColumnWidth=n,this.columnEndIndex=this.totalColumns.length-1},xn.prototype.setTotalVisibleColumns=function(e,t){void 0===t&&(t=!0);var i,r,a,n=0,o=0;if(this.totalColumns=[],e.Columns){for(a=e.Columns.length,i=this.columnStartIndex=0;i<a;i++)!1!==(r=e.Columns[i]).Visible&&(De.isAppModeRuntime()||!De.isAppModeRuntime()&&0<r.Width)&&(o+=r.Width,r.Index=i,t&&(r.ActualIndex=n,n++),this.totalColumns.push(r));this.totalColumnWidth=o,this.columnEndIndex=this.totalColumns.length-1}},xn.prototype.updateViewPortIndex=function(e){this.startIndex=e,this.endIndex=e+this.size-1},xn.prototype.update=function(e){void 0===e&&(e=-1),this.setSize(),this.tableProps.totalRecords<this.size?(this.updateViewPortIndex(0),this.isScrolled=!1):(-1===e&&(e=this.startIndex),this.updateViewPortIndex(e))},xn.prototype.setScrolledPos=function(){this.endIndex===this.tableProps.totalRecords?this.scrolledTillEnd=!0:this.scrolledTillEnd=!1},xn.prototype.isScrolledTillEnd=function(){return this.scrolledTillEnd},xn.prototype.updateVisibleColumns=function(e){var t,i,r=0,a=this.totalColumns.length;if(this.visibleColumns=[],this.columnStartIndex=e,void 0===this.totalColumns[e])this.autocompleteColumnVisible=!0;else{for(t=e;t<a;t++)if((i=this.totalColumns[t])&&!1!==i.Visible){if((r+=i.Width)>=this.tableProps.width-this.tableProps.rowHeaderWidth-this.tableProps.leftBorder/2){this.visibleColumns.push(i),this.autocompleteColumnVisible=!1;break}this.autocompleteColumnVisible=!0,this.visibleColumns.push(i)}this.columnEndIndex=this.visibleColumns[this.visibleColumns.length-1].Index}},xn.prototype.getColumnWidth=function(e){for(var t=0,i=0;i<e;i++)t+=this.totalColumns[i].Width;return t},xn.prototype.getVisibleColumnsWidth=function(){for(var e=0,t=this.visibleColumns.length,i=0;i<t;i++)e+=this.visibleColumns[i].Width;return e},xn.prototype.setDisplayedRowCountExplicitly=function(e){this.recordCount=e},xn.prototype.getTotalColumnWidth=function(){return this.totalColumnWidth},xn.prototype.getTotalColumnCount=function(){return this.totalColumns.length},xn.prototype.getTotalVisibleColumns=function(){return this.totalColumns},xn.prototype.getColumns=function(){return this.visibleColumns},xn.prototype.getColumnCount=function(){return this.visibleColumns.length},xn.prototype.getSize=function(){return this.size},xn.prototype.getColumnStartIndex=function(){return this.columnStartIndex},xn.prototype.getColumnEndIndex=function(){return this.columnEndIndex},xn.prototype.getViewportSelection=function(e,t){var i,r,a,n,o,s={indices:[],columnIndex:-1,rowIndex:-1,cellSelection:[],shiftSelection:{rowStartIndex:-1,rowEndIndex:-1,columnStartIndex:-1,columnEndIndex:-1,startIndex:-1,endIndex:-1,colStart:-1,colEnd:-1,indices:[]}},l=e.cellSelection.length,u=this.visibleColumns.length,h=!1,d=!1;for(s.indices=e.indices,s.shiftSelection.columnStartIndex=e.shiftSelection.columnStartIndex,s.shiftSelection.columnEndIndex=e.shiftSelection.columnEndIndex,s.shiftSelection.indices=t?t.shiftSelectedIndices:e.shiftSelection.indices,s.shiftSelection.indices.sort(function(e,t){return e-t}),o=0;o<l;o++)a=(n=e.cellSelection[o]).cellIndex.length,i={rowIndex:n.rowIndex,cellIndex:[]},h=(n=this.updateStartAndEndIndex(n,i,e,a,h,d,s)).startIndexUpdated,d=n.endIndexUpdated,0<i.cellIndex.length&&s.cellSelection.push(i);for(s.indices.sort(function(e,t){return e-t}),-1!==e.shiftSelection.endIndex&&(t?(t.shiftSelectedIndices.sort(function(e,t){return e-t}),s.shiftSelection.startIndex=t.shiftSelectedIndices[0],s.shiftSelection.endIndex=t.shiftSelectedIndices[t.shiftSelectedIndices.length-1]):(s.shiftSelection.startIndex=Math.min(e.shiftSelection.startIndex,e.shiftSelection.endIndex),s.shiftSelection.endIndex=Math.max(e.shiftSelection.endIndex,e.shiftSelection.startIndex)),d||-1===e.shiftSelection.colStart||(s.shiftSelection.columnEndIndex=s.shiftSelection.columnStartIndex),h||(s.shiftSelection.columnStartIndex=s.shiftSelection.columnEndIndex),s.shiftSelection.colStart=Math.min(s.shiftSelection.columnStartIndex,s.shiftSelection.columnEndIndex),s.shiftSelection.colEnd=Math.max(s.shiftSelection.columnStartIndex,s.shiftSelection.columnEndIndex)),r=0;r<u;r++)if(e.columnIndex>=this.columnStartIndex&&e.columnIndex<=this.columnEndIndex&&this.visibleColumns[r].Index===e.columnIndex){s.columnIndex=r;break}return s.rowIndex=-1<e.indices.indexOf(e.rowIndex)?e.rowIndex:e.indices[0],void 0===s.rowIndex&&(s.rowIndex=null),s},xn.prototype.clear=function(){this.visibleColumns=[],this.totalColumns=[]},t.Viewport=xn;var x=e=e||{};function En(){this.height=0,this.width=0}function In(){this.Back=0,this.Fore=0,this.AlternateBack=0,this.AlternateFore=0}function Rn(e){this.metaData=e}function Bn(e){this.flowDiagram=e}function Ln(e){this.flowDiagram=e}function Mn(e){this.metaData=e}function Fn(e){this.metaData=e}function Hn(){var e=null!==Ee&&Ee.apply(this,arguments)||this;return e.defaults={show:"selected","low-surcharge":0,"high-surcharge":0,"low-extension":0,"high-extension":0},e}function On(){var e=null!==Re&&Re.apply(this,arguments)||this;return e.defaults={"top-most":!1,width:"calculated"},e}function Nn(){var e=null!==Me&&Me.apply(this,arguments)||this;return e.matchedAxes=new Be.Data.GenericList,e.defaults={"position-filter":"","unit-filter":"","index-filter":"","type-filter":"","area-filter":"","low-surcharge":0,"high-surcharge":0,"low-extension":0,"high-extension":0},e}function kn(){var e=null!==He&&He.apply(this,arguments)||this;return e.Templates=new Fe.Dictionary,e}function Wn(){var e=null!==Ne&&Ne.apply(this,arguments)||this;return e.Templates=new Oe.Dictionary,e}function Gn(){var a=null!==We&&We.apply(this,arguments)||this;return a.Templates=new D.Dictionary,a.isEditedCell=function(e){return!!a.editHandler&&a.editHandler.isEditedCell(e)},a.isEditInProgress=function(){return!!a.editHandler&&a.editHandler.isInProgress()},a.clearEditing=function(){a.editHandler&&a.editHandler.clearEditing()},a.onDoubleClick=function(e){var t=D.Utilities.getDataProvider(a.webRTPUItem,a.metaData.instanceID),i={dataType:"",value:"",timeZoneIndex:-1,index:-1,rowIndex:-1,editable:!1,minimumValue:"",maximumValue:"",acceptOnFocusOut:!1},r=a.metaData.helper.isValidSelection(e);"function"==typeof t.getCellDetails&&(t=t.getCellDetails(r.rowIndex,r.columnIndex+a.metaData.viewport.getColumnStartIndex())).editable&&(a.editHandler||(a.editHandler=new D.Data.CellEdit(a.webRTPUItem,a.metaData,a.dataModified.bind(a))),i.rowIndex=t.rowIndex,i.index=r.columnIndex,i.timeZoneIndex=t.timeZoneIndex,i.value=t.value,i.dataType=t.dataType,i.minimumValue=t.minimumValue,i.maximumValue=t.maximumValue,t.acceptOnFocusOut&&(i.acceptOnFocusOut=t.acceptOnFocusOut),a.editHandler.start(e,i))},a.getCellByIndex=function(e,t){return a.clonedColCollection[t][e]},a}function Un(){var e=null!==Ue&&Ue.apply(this,arguments)||this;return e.decoratorFeatureInstance={},e.defaults={stroke:"#000000","stroke-width":1,"line-state":"normal","line-style":"solid"},e}function zn(){var e=null!==Ye&&Ye.apply(this,arguments)||this;return e.defaults={"show-text":!1,"decorator-type":ze.Data.FlowLineDecoratorType.None,"symbol-type":ze.Data.SymbolType.none},e}function jn(){var e=Xe.call(this)||this;return e.dom=null,e}function Yn(){this.Attributes={},this.Features=new Array,this.Templates={}}function Xn(){var e=null!==Ze&&Ze.apply(this,arguments)||this;return e.defaults={name:"Arial",size:"12",italic:"false","strike-out":"none",underline:"false",weight:"normal"},e.domList=new Array,e}function qn(){var e=null!==Je&&Je.apply(this,arguments)||this;return e.matchedGraphs=new Qe.Data.GenericList,e.defaults={"unit-filter":"","index-filter":"","low-surcharge":0,"high-surcharge":0,"low-extension":0,"high-extension":0,interpolation:"linear",stroke:"","stroke-width":"",fill:"transparent"},e}function Kn(){var e=null!==$e&&$e.apply(this,arguments)||this;return e.defaults={type:"",dimension:"",color:"",position:"exact"},e}function Zn(){var e=null!==tt&&tt.apply(this,arguments)||this;return e.defaults={selection:"keep on-top",aggregate:!1},e}function Qn(){return null!==rt&&rt.apply(this,arguments)||this}function Jn(){var e=ot.call(this)||this;return e.CONST_VALUE=2,e.defaults={"modulo-divisor":1,"modulo-bias":0,"position-filter":"begin header inner end",expansion:"inner header",orientation:"row column","stroke-width":1,stroke:"#000",layer:"on-top"},e.dom=null,e.verticalLineGroup=null,e.horizontalLineGroup=null,e.vInnerExpHeaderLineGroup=null,e.vInnerExpInnerLineGroup=null,e.highlighterHeaderLineGroup=null,e.highlighterInnerLineGroup=null,e.hHeaderLineGroup=null,e.line=new nt.Shape.Line.Lines(e),e.hasHorizontalLines=!1,e.hasVericalLines=!1,e.dummyColCreated=!1,e.hLinesToMove=[],e.iLinesToMove=[],e.colIndex=-1,e.resizeLimit=-1,e.hLineIndex=-1,e.iLineIndex=-1,e.prevDeltaX=-1,e.resizeStartX=0,e}function $n(){var l=lt.call(this)||this;return l.Templates=new st.Dictionary,l.firstColCurrIndex=0,l.isHilighterVisible=!1,l.DIVISION_FACTOR=2,l.calculateNextSortOrder=function(e,t){for(var i=0,r=e.length,a=0;a<r;a++)e[a].SortDirection>t.None&&i++;return i},l.computeAndUpdateSortOrder=function(e,t,i,r){for(var a,n=e.length,o=t.SortOrder,s=0;s<n;s++)0<(a=e[s]).SortOrder&&o<=a.SortOrder&&(o<a.SortOrder?a.SortOrder--:o===a.SortOrder&&(a.SortOrder=0),l.metaData.tableProps.alwaysShowRecent||l.setSortProps(s,a.SortOrder,a.SortDirection),r.push(a))},l.fireSortCallback=function(e,t){var i=st.Utilities.getDataProvider(l.webRTPUItem,l.metaData.instanceID);i&&"function"==typeof i.sort&&i.sort(e,t)},l.hasCustomSort=function(){var e,t,i=l.columns.length;if(l.metaData.configuration.AllowSort)for(e=0;e<i;e++)if(0<(t=l.columns[e]).SortOrder&&0<t.SortDirection)return!0;return!1},l.showSortDirectionandOrder=function(){var e,t=0,i=l.columns.length;if(l.metaData.configuration.AllowSort)for(t=0;t<i;t++)(e=l.columns[t])&&e.AllowSort&&0<e.SortDirection&&l.setSortProps(t,e.SortOrder,e.SortDirection)},l.computeAndUpdateSortCriteria=function(e){var t=st.getChromEnum("HmiSortDirection"),i=[],r=l.metaData.viewport.visibleColumns,a=r[e];a&&a.AllowSort&&(a.SortDirection=(a.SortDirection+1)%Object.keys(t).length,a.SortDirection>t.None?(0===a.SortOrder&&(a.SortOrder=l.calculateNextSortOrder(r,t)),l.metaData.tableProps.alwaysShowRecent||l.setSortProps(e,a.SortOrder,a.SortDirection),i[0]=a):l.computeAndUpdateSortOrder(r,a,t,i),l.fireSortCallback(i,!0))},l.updateSortOrder=function(e){var t=l.columns[e];t.AllowSort&&0<t.SortDirection&&l.metaData.configuration.AllowSort&&(l.metaData.tableProps.alwaysShowRecent||l.setSortProps(e,t.SortOrder,t.SortDirection),l.fireSortCallback([t],!1))},l.updateSortDirection=function(e){var t=l.columns[e];t.AllowSort&&0<t.SortOrder&&l.metaData.configuration.AllowSort&&(l.metaData.tableProps.alwaysShowRecent||l.setSortProps(e,t.SortOrder,t.SortDirection),l.fireSortCallback([t],!1))},l.columns=[],l}function eo(){var e=null!==ht&&ht.apply(this,arguments)||this;return e.defaults={"input-on-activate":!0,"accept-on-deactivated":!0,"accept-on-completed":!1,"clear-on-invalid-input":!1,"clear-on-activate":!1,"hidden-input":!1},e.dirtyList=new Array,e}function to(){var e=ct.call(this)||this;return e.templateInstance=null,e.Templates=new dt.Dictionary,e.defaults={width:0,height:0,"horizontal-preference":1,"vertical-preference":-1,"offset-x":0,"offset-y":0,show:"focused"},e.dom=null,e}function io(){var e=null!==mt&&mt.apply(this,arguments)||this;return e.Templates=new pt.Dictionary,e}function ro(){var e=gt.call(this)||this;return e.defaults={},e}function ao(){var e=ft.call(this)||this;return e.Templates=new Tt.Dictionary,e.clonedCollection=[],e}function no(){var e=null!==Dt&&Dt.apply(this,arguments)||this;return e.Templates=new yt.Dictionary,e}function oo(){var e=null!==bt&&bt.apply(this,arguments)||this;return e.defaults={"ruler-filter":"regular min max","indicator-filter":"primary","alignment-horizontal":"0","alignment-vertical":"0",alignment:"","content-width":0,"content-height":0},e.Templates=new St.Dictionary,e}function so(){var e=vt.call(this)||this;return e.defaults={stroke:"#000000","stroke-width":"1","low-extension":"0","high-extension":"0"},e.dom=null,e}function lo(){var e=null!==At&&At.apply(this,arguments)||this;return e.defaults={origin:"0","maximum-sections":"10",extend:"none",type:"linear","auto-scale-mode":"decimal"},e.Features=new Array,e.timezone=-1,e}function uo(e){this.scale=e}function ho(e){this.scale=e}function co(){var e=xt.call(this)||this;return e.defaults={},e}function po(){var e=null!==It&&It.apply(this,arguments)||this;return e.Templates=new Et.Dictionary,e}function mo(){var e=Bt.call(this)||this;return e.Templates=new Rt.Dictionary,e.isTooltipShown=!1,e.dom=null,e}function go(){this.items=[]}function To(){}function fo(e,t,i){this.attributes=e,this.rtpuItem=t,this.template=i,this.FONTNAME="Name",this.FONTSIZE="Size",this.FONTWEIGHT="Weight",this.SIEMENS_SANS="Siemens Sans",this.flowLineFeatureInstances={},this.dim={width:0,height:0},this.isCompactMode=!1,this._zoomFactor=1,this.activeData=[],this.operandData=[],this._diagrams=[],this.elemToActivateOnReRender=[],this.diagramType=e.type,this.startX=+e["start-x"],this.startY=+e["start-y"]}function yo(e,t,i){this.decoratorPosition=0,this.dt=e,this.currentDiagram=t,this.type=this.dt.DecoratorType,this.subType=this.dt.DecoratorSubType,this.metaData=i,this.linkRef=this.goToStep.bind(this)}function Do(){}function So(){return Ft.call(this)||this}function bo(){return Ht.call(this)||this}function Co(){return Ot.call(this)||this}function vo(){return Nt.call(this)||this}function _o(){return kt.call(this)||this}function Po(){return Wt.call(this)||this}function Ao(){}function wo(){}function Vo(){var e=null!==Kt&&Kt.apply(this,arguments)||this;return e.Events=new Xt.Dictionary,e.defaults=Vo.default,e.registeredEvents=new Array,e}function xo(){var e=null!==Jt&&Jt.apply(this,arguments)||this;return e.defaults=xo.default,e}function Eo(e){this.highlighterHideColor="rgba(139,102,139,0)",this.highlighterVisibleColor="rgba(139,102,139,0.4)",this.isGridLineHilighterVisible=!1,this.me=e}function Io(){var e=null!==ti&&ti.apply(this,arguments)||this;return e.defaults=Io.default,e}function Ro(){return null!==ai&&ai.apply(this,arguments)||this}function Bo(){var e=null!==si&&si.apply(this,arguments)||this;return e.defaults=Bo.default,e}function Lo(){var e=null!==hi&&hi.apply(this,arguments)||this;return e.defaults=Lo.default,e}function Mo(){var e=null!==pi&&pi.apply(this,arguments)||this;return e.defaults=Mo.default,e}function Fo(){var e=null!==Ti&&Ti.apply(this,arguments)||this;return e.defaults=Fo.default,e}function Ho(){var e=null!==Di&&Di.apply(this,arguments)||this;return e.defaults=Ho.default,e}function Oo(){var r=null!==Ci&&Ci.apply(this,arguments)||this;return r.defaults={condition:"true"},r.origin=0,r.collisionDetection=function(e){for(var t=0;t<e.length-1;t++){var i=t+1;if(Math.abs(e[i][0]-e[t][0])<(e[t][1]+e[i][1])/2){e[i-=t<e.length-2?0:1][2].parentNode.removeChild(e[i][2]),e.splice(i,1),r.collisionDetection(e);break}}},r}function No(e,t){this._rect=new _i.Structure.Rectangle,this._axesArea=[],this.hasAxis=function(){return 0<this._axesArea.length},this.calculateHeight=function(){for(var e,t=this._rect.height=0;t<this._axesArea.length;++t)e=this._axesArea[t],this._rect.height+=e.calculateHeight();return this._rect.height+=this._lineWidth/2,this._rect.height},this.getHeight=function(){return this._rect.height},this.setHeight=function(e){var t,i=0,r=this._axesArea.length;switch(this._rect.height=e,this.alignment){case vi.Data.GraphAlignment.Right:case vi.Data.GraphAlignment.Left:for(t=0;t<r;++t)this._axesArea[t].setHeight(e);break;case vi.Data.GraphAlignment.Top:case vi.Data.GraphAlignment.Bottom:for(t=0;t<r-1;++t)i+=this._axesArea[t].getHeight();0<r&&this._axesArea[r-1].setHeight(e-i-this._lineWidth/2)}},this.calculateWidth=function(){for(var e,t=this._rect.width=0;t<this._axesArea.length;++t)e=this._axesArea[t],this._rect.width+=e.calculateWidth();return this._rect.width+=this._lineWidth/2,this._rect.width},this.getWidth=function(){return this._rect.width},this.setWidth=function(e){this._rect.width=e;var t,i=0,r=this._axesArea.length;switch(this.alignment){case vi.Data.GraphAlignment.Right:case vi.Data.GraphAlignment.Left:for(t=0;t<r-1;++t)i+=this._axesArea[t].getWidth();0<r&&this._axesArea[r-1].setWidth(e-i-this._lineWidth/2);break;case vi.Data.GraphAlignment.Top:case vi.Data.GraphAlignment.Bottom:for(t=0;t<r;++t)this._axesArea[t].setWidth(e)}},this.getLeft=function(){return this._rect.left},this.setLeft=function(e){for(var t,i,r=e,a=this._axesArea.length,n=0;n<a;n++)switch(this.alignment){case vi.Data.GraphAlignment.Right:this._axesArea[n].setLeft(r),r+=this._axesArea[n].getWidth();break;case vi.Data.GraphAlignment.Left:for(t=r,i=a-1;n<i;i--)r+=this._axesArea[i].getWidth();this._axesArea[n].setLeft(r+this._lineWidth/2),r=t;break;case vi.Data.GraphAlignment.Top:case vi.Data.GraphAlignment.Bottom:this._axesArea[n].setLeft(r)}this._rect.left=e},this.getTop=function(){return this._rect.top},this.setTop=function(e){for(var t,i,r=e,a=this._axesArea.length,n=0;n<a;n++)switch(this.alignment){case vi.Data.GraphAlignment.Top:for(t=r,i=a-1;n<i;i--)r+=this._axesArea[i].getHeight();this._axesArea[n].setTop(r+this._lineWidth/2),r=t;break;case vi.Data.GraphAlignment.Bottom:this._axesArea[n].setTop(r),r+=this._axesArea[n].getHeight();break;case vi.Data.GraphAlignment.Right:case vi.Data.GraphAlignment.Left:this._axesArea[n].setTop(r)}this._rect.top=e},this.getLeftRightBound=function(e){var t;switch(this.alignment){case vi.Data.GraphAlignment.Left:if(e<0)t=this._rect.left;else if(0===e)t=this._rect.left+this._rect.width;else if(t=this._rect.left,e<=this._axesArea.length){var i=void 0,r=0,a=this._axesArea.length;for(i=0;i<a;i++)if(0<this._axesArea[i].getWidth()&&r++,r===e){t=this._axesArea[i].getLeft();break}}break;case vi.Data.GraphAlignment.Right:if(e<0)t=this._rect.left+this._rect.width;else if(0===e)t=this._rect.left;else if(t=this._rect.left+this._rect.width,e<=this._axesArea.length){var n,i=void 0,r=0,o=this._axesArea.length;for(i=0;i<o;i++)if(0<(n=this._axesArea[i].getWidth())&&r++,r===e){t=this._axesArea[i].getLeft()+n;break}}break;default:t=this._rect.left}return t},this.getTopBottomBound=function(e){var t;switch(this.alignment){case vi.Data.GraphAlignment.Top:if(e<0)t=this._rect.top;else if(0===e)t=this._rect.top+this._rect.height;else if(t=this._rect.top,e<=this._axesArea.length){var i=void 0,r=0,a=this._axesArea.length;for(i=0;i<a;i++)if(0<this._axesArea[i].getHeight()&&r++,r===e){t=this._axesArea[i].getTop();break}}break;case vi.Data.GraphAlignment.Bottom:if(e<0)t=this._rect.top+this._rect.height;else if(0===e)t=this._rect.top;else if(t=this._rect.top+this._rect.height,e<=this._axesArea.length){var n,i=void 0,r=0,o=this._axesArea.length;for(i=0;i<o;i++)if(0<(n=this._axesArea[i].getHeight())&&r++,r===e){t=this._axesArea[i].getTop()+n;break}}break;default:t=this._rect.top}return t},this.setTrendIndicatorRect=function(e,t){var i,r,a,n,o,s={},l={},u=0,h=this._lineWidth/2,d=3*h;if(0<(a=e.bottomAxes.length))for(u=(r=e.bottomAxisAreaHeight/a)-d,o=0;o<a;++o)i=new _i.Structure.Rectangle,e.bottomAxisAreaHeight>h&&(t?(i.top=this._rect.top+this._rect.height+h+(a-(1+o))*(r+this._lineWidth),i.height=u):(i.left=this._rect.left+this._rect.width+h+(a-(1+o))*(r+this._lineWidth),i.width=u),s[e.bottomAxes[o]]=i);if(0<(a=e.topAxes.length))for(u=(r=e.topAxisAreaHeight/a)-d,o=0;o<a;++o)i=new _i.Structure.Rectangle,e.topAxisAreaHeight>h&&(t?(i.top=this._rect.top-e.topAxisAreaHeight+h+o*(r+this._lineWidth),i.height=u):(i.left=this._rect.left-e.topAxisAreaHeight+h+o*(r+this._lineWidth),i.width=u),l[e.topAxes[o]]=i);for(n=0;n<this._axesArea.length;++n)this._axesArea[n].setTrendIndicatorRect({topTrendIndicatorRects:l,bottomTrendIndicatorRects:s})},this.addAxisArea=function(e){this._axesArea.push(e)},this.getVisibleAxisAreaIds=function(){for(var e,t=[],i=0;i<this._axesArea.length;++i)!1!==(e=this._axesArea[i].getAxisId())&&t.push(e);return t},this.cleanUp=function(){for(var e=0;e<this._axesArea.length;++e)this._axesArea[e].cleanUp();this._axesArea=null,this._rect=null},this.alignment=e,this._lineWidth=t}function ko(){var e=null!==xi&&xi.apply(this,arguments)||this;return e.defaults={count:"1",condition:"true"},e}function Wo(e){this._lineWidth=0,this._areaDrawn=!0,this.SCROLLBAR_WIDTH=17,this._rect=new Ii.Structure.Rectangle,this._valueScrollbarWidth=0,this._timeScrollbarWidth=0,this._createAxisCollection=function(){for(var e=0,t=Ii.Structure.AxisArea,i=this.trendWindow.getIsLeftOrRight(),r=i?this.trendWindow.topAxes:this.trendWindow.leftAxes,e=r.length,a=0;a<e;++a)this.topAxisArea.addAxisArea(new t(r[a]));for(e=(r=i?this.trendWindow.bottomAxes:this.trendWindow.rightAxes).length,a=0;a<e;++a)this.bottomAxisArea.addAxisArea(new t(r[a]));for(e=(r=i?this.trendWindow.leftAxes:this.trendWindow.bottomAxes).length,a=0;a<e;++a)this.leftAxisArea.addAxisArea(new t(r[a]));for(e=(r=i?this.trendWindow.rightAxes:this.trendWindow.topAxes).length,a=0;a<e;++a)this.rightAxisArea.addAxisArea(new t(r[a]))},this.calculateAxisAreaWidth=function(){this.leftAxisArea.calculateWidth(),this.rightAxisArea.calculateWidth()},this.calculateAxisAreaHeight=function(){this.topAxisArea.calculateHeight(),this.bottomAxisArea.calculateHeight()},this.draw=function(e){var t=this.trendWindowArea.rect,i=null;return this._topAxisAreaSVGGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._bottomAxisAreaSVGGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._leftAxisAreaSVGGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._rightAxisAreaSVGGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._trendWindowAreaSVGGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._trendAreaRect=Ii.Shape.SvgShape.CreateSvgElement("rect",{stroke:this.trendWindow.getTrendViewLineColor(),"stroke-width":this._lineWidth,fill:this.trendWindow.backColor,"fill-opacity":1,class:"lineColorClass",x:t.left,y:t.top,width:t.width,height:t.height}),this._areaDrawn?(i=!1,this.bottomAxisArea.draw(this._bottomAxisAreaSVGGroup)&&this.topAxisArea.draw(this._topAxisAreaSVGGroup)&&this.leftAxisArea.draw(this._leftAxisAreaSVGGroup)&&this.rightAxisArea.draw(this._rightAxisAreaSVGGroup)&&(this.trendWindowArea.draw(this._trendWindowAreaSVGGroup,this._trendAreaRect),this.trendWindow.drawScrollbars(),e.appendChild(this._trendAreaRect),e.appendChild(this._topAxisAreaSVGGroup),e.appendChild(this._bottomAxisAreaSVGGroup),e.appendChild(this._leftAxisAreaSVGGroup),e.appendChild(this._rightAxisAreaSVGGroup),e.appendChild(this._trendWindowAreaSVGGroup),i=!0)):(this.trendWindowArea.draw(this._trendWindowAreaSVGGroup,this._trendAreaRect),e.appendChild(this._trendWindowAreaSVGGroup)),i},this.update=function(){var e=this.trendWindowArea.rect,t=!0;return this._trendAreaRect&&(this._trendAreaRect.setAttributeNS(null,"x",e.left),this._trendAreaRect.setAttributeNS(null,"y",e.top),this._trendAreaRect.setAttributeNS(null,"height",e.height),this._trendAreaRect.setAttributeNS(null,"width",e.width),this._areaDrawn)&&(this.bottomAxisArea.update(this._bottomAxisAreaSVGGroup)&&this.topAxisArea.update(this._topAxisAreaSVGGroup)&&this.leftAxisArea.update(this._leftAxisAreaSVGGroup)&&this.rightAxisArea.update(this._rightAxisAreaSVGGroup)?(this.trendWindowArea.update(this._trendWindowAreaSVGGroup),this.trendWindow.getRedrawForScrollbars()?this.trendWindow.drawScrollbars():this.trendWindow.updateScrollbars()):t=!1),t},this.cleanUp=function(){this._rect=this._topAxisAreaSVGGroup=this._bottomAxisAreaSVGGroup=this._leftAxisAreaSVGGroup=this._rightAxisAreaSVGGroup=this._trendWindowAreaSVGGroup=this._trendAreaRect=null,this.leftAxisArea.cleanUp(),this.rightAxisArea.cleanUp(),this.bottomAxisArea.cleanUp(),this.topAxisArea.cleanUp(),this.trendWindowArea.cleanUp(),this.leftAxisArea=this.rightAxisArea=this.bottomAxisArea=this.topAxisArea=this.trendWindowArea=this.trendWindow=null},this.trendWindow=e,this.trendWindowArea=new Ii.Structure.GraphAreaWindow(this.trendWindow),this.leftAxisArea=new Ii.Structure.AxisAreaCollection(Ei.Data.GraphAlignment.Left,this._lineWidth),this.rightAxisArea=new Ii.Structure.AxisAreaCollection(Ei.Data.GraphAlignment.Right,this._lineWidth),this.bottomAxisArea=new Ii.Structure.AxisAreaCollection(Ei.Data.GraphAlignment.Bottom,this._lineWidth),this.topAxisArea=new Ii.Structure.AxisAreaCollection(Ei.Data.GraphAlignment.Top,this._lineWidth),e.getMinMaxRulerExtent=this._getMinMaxRulerExtent.bind(this),e.getRulerBounds=this._getRulerBoundaries.bind(this),this._createAxisCollection()}function Go(){var e=null!==Mi&&Mi.apply(this,arguments)||this;return e.defaults={condition:"true"},e}function Uo(){var e=null!==Oi&&Oi.apply(this,arguments)||this;return e.defaults={origin:"0",condition:"true"},e}function zo(){var e=null!==Wi&&Wi.apply(this,arguments)||this;return e.defaults={"begin-value":"scale-begin","end-value":"scale-end",condition:"true"},e}function jo(){var e=null!==zi&&zi.apply(this,arguments)||this;return e.defaults={condition:"true"},e.thresholdMode={Upper:1,Lower:2,Normal:3,Minimum:4,Maximum:5},e}function E(e,t){this._diagramID=e,this.metaData=t,this.lines={},this.branches={},this.functions={},this._titleText={},this.isNegated=!1,this.operandData=[],this._selectionFbdCallBackRef=this.fbdSelectionHandler.bind(this),this.dataHandler=new ji.FBDRTDataHandler(this)}function Yo(e){this.diag=e,this.activeData=[]}function Xo(e,t){this.masterData=e,this.metaData=t,this.minBoxWidth=80,this.minHeaderHeight=22,this.headerPadding=4,this.inputs={},this.outputs={},this.x=0,this.y=0,this.title=null,this.titleHeight=0,this.content="",this.isSelected=!1,this.id=this.masterData.Key,this.height=0;var i,e=Xi.getSystemPart("HmiBlockSymbolSystemPart"),e=this.metaData.updateMissingBlockSubParts(e),r=(this.setUpConnectors(),this.masterData.Data.Content),r=(this.calculateWidthOfBox(r.Text),this.header=new qi.FBDOperandMetaData(t,r.Text,e.HeaderFont,r.Value,r.hasValue,e.ContentFont,this.width,null==(i=r.Address)?void 0:i.Value,null==(i=r.Address)?void 0:i.Fore),this.headerHeight=this.header.height,this.masterData.Data.Header);r&&(this.title=new qi.FBDOperandMetaData(t,r.Text,e.TitleFont,r.Value,r.hasValue,e.ContentFont,this.width,null==(i=r.Address)?void 0:i.Value,null==(t=r.Address)?void 0:t.Fore),this.titleHeight=this.title.height),this.positionConnectors()}function qo(e,t,i,r,a,n,o){this.block=e,this.pin=t,this.text=r,this.metaData=a,this.type=n,this.width=qo.CONN_WIDTH,this.isNegated=!1;t=Ki.getSystemPart("HmiBlockSymbolSystemPart"),t=this.metaData.updateMissingBlockSubParts(t);this.operand=new Zi.FBDOperandMetaData(this.metaData,i.Text,t.ContentFont,i.Value,i.hasValue,t.ContentFont,qo.OPERAND_WIDTH,null==(r=i.Address)?void 0:r.Value,null==(a=i.Address)?void 0:a.Fore,i.Back,i.Fore),this.height=this.operand.height,this.initFlowLine(),this.id=e.id,this.isNegated=o}function Ko(e,t){this.masterData=e,this.metaData=t,this.inputs={},this.outputs={},this.x=0,this.y=0,this.titleHeight=0,this.headerHeight=0,this.content="",this.isSelected=!1,this.id=this.masterData.Key,this.setUpConnectors();e=Ji.FlowLineState.Normal,t=Ji.FlowLineType.solid;this.flowLineFeature=this.metaData.flowLineFeatureInstances[e+t],this.width=+this.flowLineFeature.Attributes[Ji.LineParam.StrokeWidth],this.decoratorSubType=this.masterData.Data.DecoratorSubType,this.height=this.firstInPin.height}function Zo(e,t){this.elementList=e,this.diagram=t}function Qo(e,t,i,r,a,n,o,s,l,u,h){this.metaData=e,this.infoFont=i,this.value=r,this.hasValue=a,this.contentFont=n,this.width=o,this.address=s,this.addressForeColor=l,this.infoBackColor=u,this.infoForeColor=h,this.calculateHeight(t)}function I(e,t){this._diagramID=e,this.metaData=t,this._contacts={},this._coils={},this._lines={},this._branches={},this._functions={},this._titleText={},this._activeData=[],this.operandData=[],this._selectionLogicCallBackRef=this.logicSelectionHandler.bind(this),this._selectionFunctionCallBackRef=this.functionSelectionHandler.bind(this),this.dataHandler=new tr.LADRTHandler(this)}function Jo(e){this.diag=e}function $o(e,t,i){this.masterData=e,this.metaData=t,this.type=i,this.id=this.masterData.Key,this._subType=e.SubType,this.headerOperand=new ar.OperandMetaData(this.metaData,this.masterData.Header.Text,!1,this.masterData.Header.Value,this.masterData.Header.hasValue,null==(t=this.masterData.Header.Address)?void 0:t.Value,null==(i=this.masterData.Header.Address)?void 0:i.Fore,this.masterData.Header.Back,this.masterData.Header.Fore),this.masterData.Footer&&(this.footerOperand=new ar.OperandMetaData(this.metaData,this.masterData.Footer.Text,!0,this.masterData.Footer.Value,this.masterData.Footer.hasValue,null==(e=this.masterData.Footer.Address)?void 0:e.Value,null==(t=this.masterData.Footer.Address)?void 0:t.Fore,this.masterData.Footer.Back,this.masterData.Footer.Fore)),this.contentText=null!=(i=this.masterData.Value)?i:"",this.setStrokeStyle(),this.setWidth(),this.setHeight(),this.activeStatus=nr.None}function es(e,t,i,r,a,n,o,s,l){this.metaData=e,this.isFooter=i,this.value=r,this.hasValue=a,this.address=n,this.addressForeColor=o,this.textBackColor=s,this.textForeColor=l;e=or.getSystemPart("HmiLogicSymbolSystemPart");this.logicSystemPart=this.metaData.updateMissingLogicSubParts(e),this.calculateHeight(t),this.backColor=e.HeaderBackColor,this.foreColor=e.HeaderForeColor,this.textBackColor=this.textBackColor||"",this.textForeColor=this.textForeColor||""}function ts(e,t){this.masterData=e,this.metaData=t,this.id=this.masterData.Key,this.x1=this.x2=this.metaData.startX;this.defaultFlowLineFeature=this.metaData.flowLineFeatureInstances.normalsolid}function is(e,t,i){this.textContent=e,this.metaData=t,this.type=i,this.x=this.metaData.startX;e=lr.getSystemPart("HmiLogicSymbolSystemPart"),e=this.metaData.updateMissingLogicSubParts(e),t=lr.getTextHeight("X",e.HeaderFont),i=lr.getTextWidth("X",e.HeaderFont);this.height=t+is.TEXT_PADDING,this.width=i*this.textContent.length}function rs(e,t){this.masterData=e,this.isSelected=!1,this.setStartYPos=function(e){this.y=e},this.getStartYPos=function(){return this.y},this.getHeight=function(){return this.height},this.getEndPos=function(){return this.y+this.height},this.setStartXPos=function(e){this.x=e},this.getNormalizedXPos=function(){return this.x+(+this.dom.getAttribute("width")-this.width)/2},this.metaData=t,this.id=this.masterData.Key,this.height=0,this.masterData.Data.Header&&(this.header=e.Data.Header),this.setBlockDim(),this.masterData.Data.Content&&this.trimmedContent()}function as(e,t,i,r){this.masterData=e,this.orientation=r,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.activatedLine=[],this.diagram=t,this.metaData=i,this.id=this.masterData.Key,this.subType=this.masterData.SubType,this.domArray=[]}function ns(e,t,i,r){var a=this,r=(this.masterData=e,this.metaData=i,this.orientation=r,this.strokeDashArray=null,this.inActiveLine=!1,this.setStartYPos=function(e){this.y1=e,this.orientation===mr.Orientation.horizontal?this.y2=this.y1:this.y2=this.getY2Pos()},this.setEndPos=function(e){this.y2=e},this.getEndPos=function(){return this.y2},this.getStartYPos=function(){return this.y1},this.setStartXPos=function(e){this.x1=e,this.orientation===mr.Orientation.vertical&&(this.x2=this.x1)},this.setEndXPos=function(e){this.x2=e},this.getStartXPos=function(){return this.x1},this.getY2Pos=function(){for(var e=0,t=0;t<this.decorators.length;t++)0===t?((this.decorators[t].DecoratorType===mr.FlowLineDecoratorType.Transition||this.decorators[t].DecoratorType===mr.FlowLineDecoratorType.Links&&this.decorators[t].DecoratorSubType===mr.FlowLineDecoratorSubType.JumpIn)&&(this.decoratorElements[t].decoratorPosition=e+ns.DEF_FLOWLINE_LENGTH),(this.decorators[t].DecoratorType===mr.FlowLineDecoratorType.Terminal||this.decorators[t].DecoratorType===mr.FlowLineDecoratorType.Links&&this.decorators[t].DecoratorSubType===mr.FlowLineDecoratorSubType.JumpOut)&&(this.decoratorElements[t].decoratorPosition=e+2*ns.DEF_FLOWLINE_LENGTH),this.decorators[t].DecoratorType===mr.FlowLineDecoratorType.Links&&this.decorators[t].DecoratorSubType===mr.FlowLineDecoratorSubType.JumpIn?e+=ns.DEF_FLOWLINE_LENGTH:e+=2*ns.DEF_FLOWLINE_LENGTH):this.decoratorElements[t].decoratorPosition=e+=ns.DEF_FLOWLINE_LENGTH;return 0<this.decorators.length&&this.decorators[this.decorators.length-1].DecoratorType===mr.FlowLineDecoratorType.Links&&this.decorators[this.decorators.length-1].DecoratorSubType===mr.FlowLineDecoratorSubType.JumpIn&&(e+=ns.DEF_FLOWLINE_LENGTH),this.y1+(e=e||ns.DEF_FLOWLINE_LENGTH)},this.id=this.masterData.Key,this.currentDiagram=t,this.decorators=null!=(e=this.masterData.Decorator)?e:[],this.decoratorElements=[],this.decorators.forEach(function(e){a.decoratorElements.push(new mr.FlowLineDecoratorElement(e,a.currentDiagram,i))}),this.masterData.State&&this.masterData.State.LineState||"normal"),t=this.masterData.State&&this.masterData.State.LineStyle||"solid";"InActive"===this.masterData.SubType&&(this.inActiveLine=!0),this.flowLineFeature=this.metaData.flowLineFeatureInstances[r+t]}function R(e,t){this._diagramID=e,this.metaData=t,this._blocks={},this.flowLines={},this.branches={},this._errorHeight=40,this._errorWidth=20,this._selectionBlockCallBackRef=this.blockSelectionHandler.bind(this),this.dataHandler=new Tr.StepRTHandler(this),this._activeBlocks=[]}function os(e){this.diag=e}function ss(e){this.radius=0,this.angle=0,this.alignmentOffset=0,this.labels=e,this.elementProvider=new yr.Data.SvgElementProvider("text",this.labels.dom)}function ls(){return null!==br&&br.apply(this,arguments)||this}function us(e){this.alignmentOffset=0,this.alignmentOffsetX=0,this.alignmentOffsetY=0,this.markers=e,this.elementProvider=new Cr.Data.SvgElementProvider("g",this.markers.dom,this.createNodeContentCallback.bind(this),this.recycleNodeContentCallback.bind(this))}function hs(){return null!==vr&&vr.apply(this,arguments)||this}function ds(e){this.ribbons=e,this.elementProvider=new _r.Data.SvgElementProvider("path",this.ribbons.dom)}function cs(){return null!==wr&&wr.apply(this,arguments)||this}function ps(){return null!==xr&&xr.apply(this,arguments)||this}function ms(e){this.ticks=e,this.elementProvider=new Er.Data.SvgElementProvider("line",this.ticks.dom)}function gs(e){this.horizontalAlignment=0,this.verticalAlignment=0,this.posX=0,this.posY=0,this.labels=e,this.elementProvider=new Ir.Data.SvgElementProvider("text",this.labels.dom)}function Ts(){var e=null!==Lr&&Lr.apply(this,arguments)||this;return e.numberOfLines=1,e.secondProvider=new Br.Data.SvgElementProvider("text",e.labels.dom),e}function fs(e){this.markers=e,this.elementProvider=new Mr.Data.SvgElementProvider("g",this.markers.dom,this.createNodeContentCallback.bind(this),this.recycleNodeContentCallback.bind(this))}function ys(){return null!==Fr&&Fr.apply(this,arguments)||this}function Ds(e){this.gradientId=null,this.ribbons=e,this.elementProvider=new Hr.Data.SvgElementProvider("path",this.ribbons.dom)}function Ss(){return null!==kr&&kr.apply(this,arguments)||this}function bs(){return null!==Gr&&Gr.apply(this,arguments)||this}function Cs(e){this.ticks=e,this.elementProvider=new Ur.Data.SvgElementProvider("line",this.ticks.dom)}function vs(e){this.autoMeasure=e}function _s(e){this.division=e}function Ps(e){this.marker=e}function As(e){this.measure=e}function ws(e){this.range=e}function Vs(e){this.thresholds=e}function xs(e,t){this.parentSVG=e,this.metaData=t,this.bufferHeight=40,this.bufferWidth=50,this.blockXPadding=10,this.flowLineLength=40,this.boxHeightPadding=10,this.startPosition=0,this.maxLeftPos=0,this.maxTopPos=0,this.connPadding=20}function Es(e){this.metaData=e,this.partialSequenceList=[],this.x=0,this.y=0}function Is(e,t){this.parentSVG=e,this.metaData=t,this.bufferHeight=40,this.bufferWidth=50,this.preBufferLengthBranchBegin=4,this.operandPadding=20}function Rs(){this.x=0,this.y=0,this.height=0,this.width=0,this.elements=[]}function Bs(e,t){this.parentSVG=e,this.metaData=t,this.bufferHeight=50,this.bufferWidth=50,this.pendingStackElements=[],this.columns=[]}function Ls(e){this.autoMeasure=e}function Ms(e){this.division=e}function Fs(e){this.marker=e}function Hs(e){this.measure=e}function Os(e){this.range=e}function Ns(e){this.thresholds=e}function ks(){window.requestAnimationFrame(pa),ua=!0}function Ws(){this.Attributes={},this.Features=new Array,this.initialized=!1,this.Methods=new ma.Dictionary,this.Templates={},this.defaults=Ws.default}function Gs(){var e=null!==Ta&&Ta.apply(this,arguments)||this;return e.defaults=Gs.default,e}function Us(){this.Attributes={},this.Features=new Array,this.initialized=!1,this.Methods=new fa.Dictionary,this.Templates={}}function zs(){var e=null!==Da&&Da.apply(this,arguments)||this;return e.defaults={"area-spacing":0,"shift-axes":!1,"show-ruler":!1,"show-selector-rulers":!1,timezone:-1,online:!0,"start-y":0,"start-x":0},e.TemplateId="",e.Attributes={},e.Features=new Array,e.initialized=!1,e}function js(){var e=null!==Ca&&Ca.apply(this,arguments)||this;return e.defaults=js.default,e.selectedIndex=-1,e.Features=new Array,e.Methods=new ba.Dictionary,e}function Ys(){}function Xs(e,t){_a(e,t)}function qs(){var e=null!==La&&La.apply(this,arguments)||this;return e.defaults={"start-x":0,"start-y":0,type:Ba.Data.FlowDiagramType.Step},e.TemplateId="",e.Attributes={},e.Features=new Array,e}function Ks(){var e=null!==Fa&&Fa.apply(this,arguments)||this;return e.defaults=Ks.default,e.subtemplatePool=[],e.isScrollingNeeded=!1,e.scrollbarWidth=Ma.getSystemPart("ScrollBarSystemPart").Thickness,e.currentScrollbarValue=1,e}function Zs(){var e=null!==Oa&&Oa.apply(this,arguments)||this;return e.defaults=Zs.default,e.Methods=new Ha.Dictionary,e}function B(){var e=null!==Na&&Na.apply(this,arguments)||this;return e.defaults={"start-x":0,"start-y":0},e.Attributes={},e.Features=new Array,e.TemplateId="",e.modifiedProperty=[],e.prevDataInstance={},e.updateConfig=!1,e.appendDummyElement=!1,e.isCreateVertScrollBarCalled=!1,e.prevRowIndex=-1,e.swipeId=0,e.deltaHeight=0,e.deltaWidth=0,e.oldAutoScroll=!0,e.WIDTH_FACTOR=20,e.SIZE_FACTOR=20,e.columnsTypeChanged=!1,e.boundedSetValue=e.setValue.bind(e),e}function L(){var e=null!==ka&&ka.apply(this,arguments)||this;return e.defaults=Wa,e._hmiFieldDataTypeEnum=P.getHmiFieldDataTypeEnum(),e.timeZonePreference=1,e._isDateTimeFormat=!1,e._isTimeSpanFormat=!1,e._isBooleanFormat=!1,e._inputInProgress=!1,e._inputCaptureAdded=!1,e._inputModified=!1,e._textDetails={wrappedTexts:{}},e._eventCbs={startInputCapture:null,keyPress:null,keyDown:null,stopPropagationHandler:null,onInputModified:null},e._dirtyList=new Array,e._isInitialFontAttributesRead=!1,e._isVerticalScrollbarVisible=!1,e._isHorizontalScrollbarVisible=!1,e._verticalScrollbarWidth=P.getSystemPart("ScrollBarSystemPart").Thickness,e._horizontalScrollbarHeight=P.getSystemPart("ScrollBarSystemPart").Thickness,e._verticalScrollbarBase=null,e._horizontalScrollbarBase=null,e._verticalScrollbarTemplateInstance=null,e._horizontalScrollbarTemplateInstance=null,e._lineHeight=0,e._totalTextHeight=0,e._longestTextLine=0,e._activeTextDOMNodes=[],e._textPositionY=[],e._textPositionX=[],e._originPadding={top:0,bottom:0,left:0,right:0},e._isFirstTime=!0,e}function M(){}(x=(x=(x=x.Lib||(x.Lib={})).NVEs||(x.NVEs={})).Data||(x.Data={})).Cordinates=function(){this.x=0,this.y=0},x.Dimension=En,x.Colors=In,Se=e=e||{},t=Se.Lib||(Se.Lib={}),be=t.NVEs||(t.NVEs={}),Rn.prototype.transformData=function(e){var t;0===e.connDetails.length&&0<e.list.length&&"Line"===e.list[0].Type?(t={Key:e.list[0].Key,Type:"FunctionTransition",Data:{DecoratorSubType:e.list[0].Decorator[0].DecoratorSubType,Parameters:{Input:e.list[0].Data.Parameters.Input,Output:[]}}},e.list[0].Decorator[0].Data&&e.list[0].Decorator[0].Data.Content&&(t.Data.Parameters.Input[0].Text=e.list[0].Decorator[0].Data.Content),e.list[0]=t,e.connDetails.push({From:e.list[0].Key,To:e.list[0].Key,FromPin:e.list[0].Data.Parameters.Input[0].Key})):this.findBranchDetails(e)},Rn.prototype.findBranchDetails=function(i){for(var r={},a={},n={},e=0,t=i.list;e<t.length;e++)!function(t){var e;i.connDetails.forEach(function(e){e.From===t.Key?r.hasOwnProperty(t.Key)?r[t.Key][0].FromPin===e.FromPin&&r[t.Key].push({To:e.To,ToPin:e.ToPin}):r[t.Key]=[{To:e.To,ToPin:e.ToPin,FromPin:e.FromPin}]:e.To===t.Key&&(a.hasOwnProperty(t.Key)?a[t.Key][0].ToPin===e.ToPin&&a[t.Key].push({From:e.From,ToPin:e.ToPin}):a[t.Key]=[{From:e.From,ToPin:e.ToPin}])}),r[t.Key]&&1<r[t.Key].length&&(n[t.Key]=[],(e=n[t.Key]).push.apply(e,r[t.Key]))}(t[e]);this.transformOpenBranch(i,n)},Rn.prototype.transformOpenBranch=function(i,e){var r,t,a=i.list,n=0;for(t in e)!function(t){e.hasOwnProperty(t)&&(r="ILBranch_O"+ ++n,a.push({Key:r,Type:"Branch",SubType:"Begin"}),i.connDetails.forEach(function(e){e.From===t&&(e.To=r)}),e[t].forEach(function(e){i.connDetails.push({From:r,To:e.To,ToPin:e.ToPin})}))}(t)},Rn.prototype.populateEntities=function(e){var t,i,r=0,a=Se.Lib.NVEs.Data.FlowDiagramElementType,n=e.list;if(n)for(t=n.length,r=0;r<t;r++)n[r]&&((i=n[r]).Type===a.Branch?e.addBranch(i,this.metaData):i.Type===a.Line?e.addFlowLine(i,this.metaData):i.Type===a.Function?e.addFunction(i,this.metaData):e.addFunctionContact(i,this.metaData))},Rn.prototype.parseData=function(e){var t=new be.Data.FBDModel(this.metaData.getNextDiagramId(),this.metaData);return t.titleText={Key:e.Name.Key,Value:e.Name.Value},t.errorDescription=e.ErrorDescription,e.ErrorDescription||(t.connDetails=e.ConnectionsList,t.list=e.ElementsList,this.transformData(t),this.populateEntities(t)),t},Rn.prototype.remove=function(){this.metaData=null},be.FBDDataHandler=Rn,x=(x=e=e||{}).Lib||(x.Lib={}),Ce=x.NVEs||(x.NVEs={}),Bn.prototype.initHandlers=function(){var e;this.hammerInstance||(e=window.Hammer)&&(this.hammerInstance=new e.Manager(this.flowDiagram.dom,{domEvents:!0}),this.panEvent=new e.Pan({event:"pan",pointers:1,direction:e.DIRECTION_ALL,threshold:1}),this.hammerInstance.add(this.panEvent))},Bn.prototype.initVScrollHanlders=function(){var e,t=this;this.initHandlers(),this.hammerInstance.on("panup",function(e){t.onPanVertical(e)}),this.hammerInstance.on("pandown",function(e){t.onPanVertical(e)}),null!=(e=null==(e=null==(e=null==(e=null==(e=this.flowDiagram)?void 0:e.dom)?void 0:e.parentElement)?void 0:e.parentElement)?void 0:e.parentElement)&&e.addEventListener("wheel",function(e){e.preventDefault(),t.onMouseScroll(e)})},Bn.prototype.unInitVScrollHandlers=function(){var e,t=this;this.hammerInstance.off("panup"),this.hammerInstance.off("pandown"),null!=(e=null==(e=null==(e=null==(e=null==(e=this.flowDiagram)?void 0:e.dom)?void 0:e.parentElement)?void 0:e.parentElement)?void 0:e.parentElement)&&e.removeEventListener("wheel",function(e){e.preventDefault(),t.onMouseScroll(e)})},Bn.prototype.initHScrollHanlders=function(){var t=this;this.initHandlers(),this.hammerInstance.on("panleft",function(e){t.onPanHoriz(e)}),this.hammerInstance.on("panright",function(e){t.onPanHoriz(e)})},Bn.prototype.unitHScrollHanlders=function(){this.hammerInstance.off("panleft"),this.hammerInstance.off("panright")},Bn.prototype.unInitHandlers=function(){this.hammerInstance&&(this.hammerInstance.remove(this.panEvent),this.hammerInstance=null)},Bn.prototype.onPanVertical=function(e){var t=this.flowDiagram.viewBox.y-e.deltaY;this.doScrollVertical(e.deltaY<0,this.flowDiagram.viewBox.y,t)},Bn.prototype.onPanHoriz=function(e){var t=this.flowDiagram.viewBox.x-e.deltaX;this.doScrollHoriz(e.deltaX<0,this.flowDiagram.viewBox.x,t)},Bn.prototype.onMouseScroll=function(e){var t;e.shiftKey?(t=this.flowDiagram.viewBox.x+e.deltaY,this.doScrollHoriz(0<e.deltaY,this.flowDiagram.viewBox.x,t)):(t=this.flowDiagram.viewBox.y+e.deltaY,this.doScrollVertical(0<e.deltaY,this.flowDiagram.viewBox.y,t)),e.stopPropagation()},Bn.prototype.doScrollVertical=function(e,t,i){e?t+this.flowDiagram.height<this.diagHeight&&this.changeVScroll(i):0<t&&this.changeVScroll(i=i<0?0:i)},Bn.prototype.doScrollHoriz=function(e,t,i){e?t+(this.flowDiagram.width-this.isVertScrolling?this.flowDiagram.width-Bn.SCROLLBAR_WIDTH:this.flowDiagram.width)<this.diagWidth&&this.changeHScroll(i):0<t&&this.changeHScroll(i=i<0?0:i)},Bn.prototype.loadVertScrollBar=function(e,t){void 0===t&&(t=0),this.diagHeight=e,this.vertScrollBarInstance?(this.vertScrollBarInstance.setHmiProps(this.flowDiagram.height,"HmiProps.Height"),this.vertScrollBarInstance.setHmiProps(this.flowDiagram.height,"HmiProps.VisibleValueRange"),this.vertScrollBarInstance.setHmiProps(e,"HmiProps.EndValue"),this.vertScrollBarInstance.setHmiProps(Math.floor(e/+this.flowDiagram.height),"HmiProps.SmallStepValueRange"),this.vertScrollBarInstance.update()):(e=Ce.Utilities.createScrollBarObj(this.flowDiagram,"Vertical",{Height:this.flowDiagram.height,Width:Bn.SCROLLBAR_WIDTH,BeginValue:0,EndValue:e,VisibleValueRange:Math.floor(this.flowDiagram.height),SmallStepValueRange:Math.floor(e/+this.flowDiagram.height),CurrentValue:t,cbOnChanged:this.vScrollValueChanged.bind(this),cbOnCommand:this.onScrollCommand.bind(this),cbOnTemplateLoaded:this.vScrollTemplateLoaded.bind(this)}),Ce.loadSubTemplate(this.flowDiagram.RTPUItem.RootNode,e,"ScrollBarSystemPart",e.props.RenderingTemplate,e.cbOnChanged,e.cbOnTemplateLoaded),this.isVertScrolling=!0,this.initVScrollHanlders(),this.changeVScroll(t))},Bn.prototype.loadHorizScrollBar=function(e,t){void 0===t&&(t=0),this.diagWidth=e;var i=this.isVertScrolling?this.flowDiagram.width-Bn.SCROLLBAR_WIDTH:this.flowDiagram.width;this.horizScrollBarInstance?(this.horizScrollBarInstance.setHmiProps(i,"HmiProps.Width"),this.horizScrollBarInstance.setHmiProps(i,"HmiProps.VisibleValueRange"),this.horizScrollBarInstance.setHmiProps(e,"HmiProps.EndValue"),this.horizScrollBarInstance.setHmiProps(Math.floor(e/+i),"HmiProps.SmallStepValueRange"),this.horizScrollBarInstance.update()):(e=Ce.Utilities.createScrollBarObj(this.flowDiagram,"Horizontal",{Height:Bn.SCROLLBAR_WIDTH,Width:i,BeginValue:0,EndValue:e,VisibleValueRange:Math.floor(i),SmallStepValueRange:Math.floor(e/+i),CurrentValue:t,cbOnChanged:this.hScrollValueChanged.bind(this),cbOnTemplateLoaded:this.hScrollTemplateLoaded.bind(this),cbOnCommand:this.onScrollCommand.bind(this)}),Ce.loadSubTemplate(this.flowDiagram.RTPUItem.RootNode,e,"ScrollBarSystemPart",e.props.RenderingTemplate,e.cbOnChanged,e.cbOnTemplateLoaded),this.initHScrollHanlders(),this.changeHScroll(t))},Bn.prototype.setHScrollBarPosition=function(){this.horizScrollBarInstance&&(this.horizScrollBarInstance.RootNode.setAttribute("x",0),this.horizScrollBarInstance.RootNode.setAttribute("y",this.flowDiagram.height-Bn.SCROLLBAR_WIDTH))},Bn.prototype.hScrollTemplateLoaded=function(e,t){this.horizScrollBarInstance=t,this.setHScrollBarPosition()},Bn.prototype.hScrollValueChanged=function(e,t){this.flowDiagram&&this.flowDiagram.viewBox&&(this.flowDiagram.viewBox.x=t/this.flowDiagram.metaData.zoomFactor)},Bn.prototype.setVScrollBarPosition=function(){this.vertScrollBarInstance&&(this.vertScrollBarInstance.RootNode.setAttribute("x",this.flowDiagram.width-Bn.SCROLLBAR_WIDTH),this.vertScrollBarInstance.RootNode.setAttribute("y",0))},Bn.prototype.vScrollTemplateLoaded=function(e,t){this.vertScrollBarInstance=t,this.setVScrollBarPosition()},Bn.prototype.vScrollValueChanged=function(e,t){this.flowDiagram&&this.flowDiagram.viewBox&&(this.flowDiagram.viewBox.y=t/this.flowDiagram.metaData.zoomFactor)},Bn.prototype.onScrollCommand=function(){},Bn.prototype.changeVScroll=function(e){e+this.flowDiagram.height>=this.diagHeight&&(e=this.diagHeight-this.flowDiagram.height)<0&&(e=0),this.vertScrollBarInstance&&(this.vertScrollBarInstance.setHmiProps(e,"HmiProps.CurrentValue"),this.vertScrollBarInstance.update()),this.vScrollValueChanged(null,e)},Bn.prototype.changeHScroll=function(e){e+this.flowDiagram.width>=this.diagWidth&&(e=this.diagWidth-this.flowDiagram.width)<0&&(e=0),this.horizScrollBarInstance&&(this.horizScrollBarInstance.setHmiProps(e,"HmiProps.CurrentValue"),this.horizScrollBarInstance.update()),this.hScrollValueChanged(null,e)},Bn.prototype.removeHorizScrollBar=function(){this.horizScrollBarInstance&&(this.unitHScrollHanlders(),this.changeHScroll(0),this.horizScrollBarInstance.remove(!0,!0,!1),this.horizScrollBarInstance=null)},Bn.prototype.removeVertScrollBar=function(){this.vertScrollBarInstance&&(this.unInitVScrollHandlers(),this.changeVScroll(0),this.vertScrollBarInstance.remove(!0,!0,!1),this.vertScrollBarInstance=null,this.isVertScrolling=!1)},Bn.prototype.getScrollYPos=function(){return this.vertScrollBarInstance?this.flowDiagram.viewBox.y:0},Bn.prototype.getScrollXPos=function(){return this.horizScrollBarInstance?this.flowDiagram.viewBox.x:0},Bn.prototype.remove=function(){this.removeHorizScrollBar(),this.removeVertScrollBar(),this.unInitHandlers()},Bn.SCROLLBAR_WIDTH=20,Ce.FlowDiagramScrollHandler=Bn,ve=e=e||{},t=ve.Lib||(ve.Lib={}),_e=t.NVEs||(t.NVEs={}),Ln.prototype.onZoom=function(e){(.7<=e&&this.flowDiagram.metaData.zoomFactor<=.7||e<=.7&&.7<=this.flowDiagram.metaData.zoomFactor)&&this.flowDiagram.metaData.diagramType===ve.Lib.NVEs.Data.FlowDiagramType.Step&&(this.flowDiagram.metaData.isCompactMode=e<=.7,this.reDraw()),this.flowDiagram.metaData.zoomFactor=e,this.flowDiagram.viewBox&&(this.flowDiagram.viewBox.width=this.flowDiagram.width/e,this.flowDiagram.viewBox.height=this.flowDiagram.height/e),this.handleScrollBars()},Ln.prototype.storeOnReDraw=function(){var e=new _e.Data.FlowDiagramStateData;this.flowDiagram.metaData.diagramType===ve.Lib.NVEs.Data.FlowDiagramType.Step&&(e.activeBlockDetails=this.flowDiagram.renderer.getActiveBlockDetails(),e.elementsToActivate=this.flowDiagram.metaData.elemToActivateOnReRender),_e.Data.FlowDiagramStateStore.store(this.flowDiagram.RTPUItem.Store.props.ElementID,this.flowDiagram.metaData.diagramType,e)},Ln.prototype.reSetAfterReDraw=function(i){var e=_e.Data.FlowDiagramStateStore.retrieve(this.flowDiagram.RTPUItem.Store.props.ElementID,this.flowDiagram.metaData.diagramType);if(this.flowDiagram.metaData.diagramType===ve.Lib.NVEs.Data.FlowDiagramType.Step){if(0<e.activeBlockDetails.length){for(var t=[],r=0,a=e.activeBlockDetails;r<a.length;r++){var n=a[r];t.push({Key:n.blockId,Type:"Block",Data:{isActive:!0,Fore:n.foreColor,Back:n.backColor}})}i.setActiveStatus(t)}0<e.elementsToActivate.length&&e.elementsToActivate.forEach(function(e){var t=i.getElementDetails(e.id);t instanceof _e.Data.FlowLineElement?t.updateActivationStatus(!0):t instanceof _e.Data.BranchElement&&(e=i.getElementDetails(e.ref),t.updateActivationStatus(!0,e))})}},Ln.prototype.reDraw=function(){var t=this;if(this.flowDiagram&&this.flowDiagram.dom)for(;this.flowDiagram.dom.firstChild;)this.flowDiagram.dom.removeChild(this.flowDiagram.dom.firstChild);var e=$a(this.flowDiagram.metaData.diagrams);this.storeOnReDraw(),this.flowDiagram.metaData.clearDiagrams(),e.forEach(function(e){e.reset(),t.flowDiagram.renderer.remove(),t.flowDiagram.handleLoadData(e),t.reSetAfterReDraw(e)})},Ln.prototype.handleScrollBars=function(){this.flowDiagram.height<this.flowDiagram.renderer.totalHeight?this.flowDiagram.getScrollHandler().loadVertScrollBar(this.flowDiagram.renderer.totalHeight):this.flowDiagram.getScrollHandler().removeVertScrollBar(),this.flowDiagram.width<this.flowDiagram.renderer.totalWidth?this.flowDiagram.getScrollHandler().loadHorizScrollBar(this.flowDiagram.renderer.totalWidth):this.flowDiagram.getScrollHandler().removeHorizScrollBar()},Ln.prototype.remove=function(){this.flowDiagram=null},_e.FlowDiagramZoomHandler=Ln,Pe=e=e||{},x=Pe.Lib||(Pe.Lib={}),Ae=x.NVEs||(x.NVEs={}),Mn.prototype.transformData=function(t){var i,r=Pe.Lib.NVEs.Data.FlowDiagramElementType,e=t.list,a=e.filter(function(e){return"Powerrail"===e.Key}),n=(0<=a.length&&(i=a[0]),[]);t.connDetails.forEach(function(e){e.From===i.Key&&n.push({To:e.To,ToPin:e.ToPin})}),1<n.length&&(e.push({Key:"ILBranch1",Type:"Branch",SubType:"Begin"}),t.connDetails.forEach(function(e){e.From===i.Key&&(e.To="ILBranch1")}),n.forEach(function(e){t.connDetails.push({From:"ILBranch1",To:e.To,ToPin:e.ToPin})})),t.list.forEach(function(e){e.Type===r.Function&&(t.connDetails.unshift({From:e.Key,To:e.Key,ToPin:e.Data.Parameters.Output[0].Key}),t.connDetails.push({From:e.Key,To:e.Key,FromPin:e.Data.Parameters.Input[0].Key}))}),this.transformBranchInOut(t)},Mn.prototype.transformBranchInOut=function(e){var t=e.list.filter(function(e){return"End"===e.SubType}),i=[];t.forEach(function(t){1<e.connDetails.filter(function(e){return e.From===t.Key}).length&&i.push(t.Key)}),i.forEach(function(t){e.list.push({Key:"ILBranch_"+t,Type:"Branch",SubType:"Begin"}),e.connDetails.forEach(function(e){e.From===t&&(e.From="ILBranch_"+t)}),e.connDetails.push({From:t,To:"ILBranch_"+t})})},Mn.prototype.populateEntities=function(e){var t,i,r=0,a=Pe.Lib.NVEs.Data.FlowDiagramElementType,n=e.list;if(n)for(t=n.length,r=0;r<t;r++)n[r]&&((i=n[r]).Type===a.PowerRail?e.addPowerRail(i,this.metaData):i.Type===a.Contact?e.addContact(i,this.metaData):i.Type===a.Coil?e.addCoil(i,this.metaData):i.Type===a.Branch?e.addBranch(i,this.metaData):i.Type===a.Line?e.addFlowLine(i,this.metaData):e.addFunction(i,this.metaData))},Mn.prototype.parseData=function(e){var t=new Ae.Data.LADModel(this.metaData.getNextDiagramId(),this.metaData);return t.titleText={Key:e.Name.Key,Value:e.Name.Value},t.errorDescription=e.ErrorDescription,e.ErrorDescription||(t.connDetails=e.ConnectionsList,t.list=e.ElementsList,this.transformData(t),this.populateEntities(t)),t},Mn.prototype.remove=function(){this.metaData=null},Ae.LADDataHandler=Mn,we=e=e||{},t=we.Lib||(we.Lib={}),Ve=t.NVEs||(t.NVEs={}),Fn.prototype.transformData=function(n){var o=[],s=0;n.connDetails.forEach(function(e){var t,i,r=n.getElementType(e.From),a=n.getElementType(e.To);r===Ve.Data.FlowDiagramElementType.Block&&a===Ve.Data.FlowDiagramElementType.Branch||r===Ve.Data.FlowDiagramElementType.Branch&&a===Ve.Data.FlowDiagramElementType.Block||r===Ve.Data.FlowDiagramElementType.Branch&&a===Ve.Data.FlowDiagramElementType.Branch?(i=void 0,t="IL"+s,o.push({From:e.From,To:t}),r===Ve.Data.FlowDiagramElementType.Branch&&a===Ve.Data.FlowDiagramElementType.Branch?(r="IL"+s+1,i={Key:"",Type:Ve.Data.FlowDiagramElementType.Line},o.push({From:t,To:r}),o.push({From:r,To:e.To}),i.Key=r,n.list.push(i),s++):o.push({From:t,To:e.To}),(i={Key:"",Type:Ve.Data.FlowDiagramElementType.Line}).Key=t,n.list.push(i),s++):o.push(e)}),n.connDetails=o},Fn.prototype.populateEntities=function(e){for(var t,i=0,r=we.Lib.NVEs.Data.FlowDiagramElementType,a=e.list,n=a.length,i=0;i<n;i++)a[i]&&((t=a[i]).Type===r.Line?e.addFlowLine(t,this.metaData):t.Type===r.Block?e.addBlock(t,this.metaData):t.Type===r.Branch&&e.addBranch(t,this.metaData))},Fn.prototype.parseData=function(e){var t=new Ve.Data.StepDiagramModel(this.metaData.getNextDiagramId(),this.metaData);return t.connDetails=e.ConnectionsList,t.errorDescription=e.ErrorDescription,t.list=e.ElementsList,this.transformData(t),this.populateEntities(t),t},Fn.prototype.remove=function(){this.metaData=null},Ve.StepDiagramDataHandler=Fn,x=(x=e=e||{}).Lib||(x.Lib={}),x=(xe=x.NVEs||(x.NVEs={})).Features||(xe.Features={}),Ee=x.FeatureBase,i(Hn,Ee),Hn.prototype.draw=function(e,t){return this.metaData=t,void 0===this.dom&&(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),this.show=this.Attributes.show,this.lowSurcharge=parseInt(this.Attributes["low-surcharge"],10),this.highSurcharge=parseInt(this.Attributes["high-surcharge"],10),this.lowExtension=parseInt(this.Attributes["low-extension"],10),this.highExtension=parseInt(this.Attributes["high-extension"],10),xe.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.dom},Hn.prototype.redraw=function(e,t){this.draw(e,t)},x.AreaGridlines=Hn,t=(t=e=e||{}).Lib||(t.Lib={}),t=(Ie=t.NVEs||(t.NVEs={})).Features||(Ie.Features={}),Re=t.FeatureBase,i(On,Re),On.prototype.draw=function(e,t){var i,r=null,a=0;if(this.data=t,Ie.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);for(this.webRTPUItem=e,i=this.Features.length,a=0;a<i;a++)r=this.Features[a].draw(e,t);return this.dom=r},On.prototype.redraw=function(e,t){this.draw(e,t)},On.prototype.matchAxes=function(e,t){for(var i=this.Features.length,r=0;r<i;r++)this.Features[r].matchAxes(e,t)},On.prototype.unmatchAxes=function(e){for(var t=this.Features.length,i=0;i<t;i++)this.Features[i].unmatchAxes(e)},t.Axes=On,x=(x=e=e||{}).Lib||(x.Lib={}),Be=x.NVEs||(x.NVEs={}),Le=Be.Features||(Be.Features={}),Me=Le.FeatureBase,i(Nn,Me),Nn.prototype.draw=function(e,t){var i,r;for(this.metaData=t,void 0===this.dom&&(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),Be.Utilities.mergeWithDefaults(this.Attributes,this.Parent.Attributes),Be.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.areaFilter=this.Attributes["area-filter"],this.typeFilter=this.Attributes["type-filter"],this.positionFilter=this.Attributes["position-filter"],this.indexFilter=this.Attributes["index-filter"],this.unitFilter=this.Attributes["unit-filter"],this.lowSurcharge=parseInt(this.Attributes["low-surcharge"],10),this.highSurcharge=parseInt(this.Attributes["high-surcharge"],10),this.lowExtension=parseInt(this.Attributes["low-extension"],10),this.highExtension=parseInt(this.Attributes["high-extension"],10),this.widthCalculated="calculated"===this.Attributes.width||parseInt(this.Attributes.width,10),i=this.Features.length,r=0;r<i;r++)this.Features[r]instanceof Le.AreaGridlines&&this.Features[r].draw(e,this.metaData);return this.dom},Nn.prototype.redraw=function(e,t){this.draw(e,t)},Nn.prototype.propertyChanged=function(e){var t,i,r=Be.Data.ChartTemplateAttributes;if(e===r.AlwaysShowRecent)for(t=this.matchedAxes.items.length,i=0;i<t;i++)this.matchedAxes.items[i].updateAttributes(e,this.Attributes[e])},Nn.prototype._filterByIndexAndUnit=function(e){for(var t,i=this.matchedAxes,r=this.indexFilter.split(" "),a=this.unitFilter.split(" "),n=e.length,o=0;o<n;o++)t=e[o],(""===this.indexFilter||-1<r.indexOf(o.toString()))&&(""===this.unitFilter||-1<a.indexOf(t.unit))&&-1===i.tryAdd(t)&&t.addFeaturesAndAttributes(this.Features,this.Attributes)},Nn.prototype.matchAxes=function(e,t){for(var i,r,a=this.Parent.Parent.trendView.trendObjectType===Be.Data.TrendObjectType.Online,n=this.areaFilter.split(" "),o=this.typeFilter.split(" "),s=this.positionFilter.split(" "),l=void 0===t?(r=0,e.length):(r=t)+1;r<l;r++)i=e[r],(""===this.areaFilter||-1<n.indexOf(r.toString()))&&((""===this.typeFilter||-1<o.indexOf("value"))&&((""===this.positionFilter||-1<s.indexOf("left"))&&this._filterByIndexAndUnit(i.leftAxes),(""===this.positionFilter||-1<s.indexOf("right"))&&this._filterByIndexAndUnit(i.rightAxes),!1==a)&&((""===this.positionFilter||-1<s.indexOf("top"))&&this._filterByIndexAndUnit(i.topAxes),""===this.positionFilter||-1<s.indexOf("bottom"))&&this._filterByIndexAndUnit(i.bottomAxes),a)&&(""===this.typeFilter||-1<o.indexOf("time"))&&((""===this.positionFilter||-1<s.indexOf("top"))&&this._filterByIndexAndUnit(i.topAxes),""===this.positionFilter||-1<s.indexOf("bottom"))&&this._filterByIndexAndUnit(i.bottomAxes)},Nn.prototype.unmatchAxes=function(e){var t,i,r;if(e)for(i=e.length,t=0;t<i;t++)(r=e[t].getXAxes().concat(e[t].getYAxes())).forEach(function(e){-1<this.tryRemove(e)&&e.cleanScale()},this.matchedAxes);else{for(i=(r=this.matchedAxes.items).length,t=0;t<i;t++)r[t].cleanScale();this.matchedAxes.clear()}},Nn.prototype.remove=function(){this.matchedAxes.clear(),Me.prototype.remove.call(this)},Le.Axis=Nn,t=(t=e=e||{}).Lib||(t.Lib={}),t=(Fe=t.NVEs||(t.NVEs={})).Features||(Fe.Features={}),He=t.FeatureBase,i(kn,He),kn.prototype.draw=function(e,t){return this.webRTPUItem=e,this.metaData=t,(this.metaData.blockFeatureInstance=this).dom},kn.prototype.redraw=function(e){this.draw(e,this.metaData)},kn.prototype.render=function(e){var t=Fe.getSystemPart("HmiBlockSymbolSystemPart"),t=this.metaData.updateMissingBlockSubParts(t),i={Content:{TitleTag:e instanceof Fe.Data.FunctionBlockElement&&null!=(i=e.title)&&i.value?e.title.value:"",TitleHasTag:!!(e instanceof Fe.Data.FunctionBlockElement&&(null!=(i=e.title)&&i.value||null!=(i=e.title)&&i.hasValue)),TitleAddress:e instanceof Fe.Data.FunctionBlockElement&&null!=(i=e.title)&&i.address?e.title.address:"",TitleAddressFore:e instanceof Fe.Data.FunctionBlockElement&&null!=(i=e.title)&&i.addressForeColor?e.title.addressForeColor:"",TitleText:e instanceof Fe.Data.FunctionBlockElement&&null!=(i=e.title)&&i.infoText?e.title.infoText:"",TitleTextHeight:e instanceof Fe.Data.FunctionBlockElement&&null!=(i=e.title)&&i.infoText?e.title.getInfoTextHeight(e.title.infoText):0,TitleHeight:e instanceof Fe.Data.BlockElement?0:e.titleHeight,HeaderAddress:null!=(i=e instanceof Fe.Data.FunctionBlockElement&&e.header.address)?i:"",HeaderAddressFore:null!=(i=e instanceof Fe.Data.FunctionBlockElement&&e.header.addressForeColor)?i:"",HeaderText:e instanceof Fe.Data.FunctionBlockElement?e.header.infoText:e.header,HeaderHeight:e.headerHeight,BlockHeight:e.height,BlockWidth:e.width,ContentText:e.content,ContentHeight:e.contentHeight,IsHorizontal:!(e instanceof Fe.Data.BlockElement),LineColor:e instanceof Fe.Data.BlockElement?null:this.metaData.flowLineFeatureInstances.normalsolid.Attributes.stroke,HeaderFontSize:e instanceof Fe.Data.BlockElement?this.metaData.isCompactMode?20:t.HeaderFont.Size:16,InActive:!1,IsSelected:e.isSelected,IsDashAllowed:!1},Colors:{}},t=Fe.Utilities.cloneObj(t);return this.metaData.isCompactMode&&e instanceof Fe.Data.BlockElement&&(t.ContentFont.Size=20),t.Width=this.Attributes["content-width"],t.Height=this.Attributes["content-height"],this.webRTPUItem.createSubtemplate(this,this.Templates["block-details"],t,i,t.Width,t.Height)},kn.prototype.remove=function(){this.metaData=null,He.prototype.remove.call(this)},t.Block=kn,x=(x=e=e||{}).Lib||(x.Lib={}),x=(Oe=x.NVEs||(x.NVEs={})).Features||(Oe.Features={}),Ne=x.FeatureBase,i(Wn,Ne),Wn.prototype.draw=function(e,t){if(this.coloringMode=Oe.getChromEnum("HmiGridColoringMode"),this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=t.columnBackgoundGroup;this.columnBackGrounds=[],this.metaData=t,this.drawBackgroundRect(e,t);for(var i=0;i<this.Features.length;i++)this.dom.appendChild(this.Features[i].draw(e,t));return this.dom},Wn.prototype.updateOnColResize=function(e,t){for(var i,r,a,n=this.metaData.viewport.getColumns(),o=this.columnBackGrounds.length,s=e;s<o;s++)r=this.columnBackGrounds[s],s===e?(a=n[s].Width,r.setHmiProps(a,"HmiProps.Width"),r.update()):(i=(this.metaData.viewport.autocompleteColumnVisible&&s===this.columnBackGrounds.length-1&&(a=r.RootScope.Properties.HmiProps.Width-t,r.setHmiProps(a,"HmiProps.Width"),r.update()),parseFloat(r.RootNode.getAttribute("x"))+t),r.RootNode.setAttribute("x",i))},Wn.prototype.drawBackgroundRect=function(e,t){var i=t.viewport.getColumns(),r=Oe.getSystemPart("BackgroundSystemPart"),a=t.tableProps.hasColumnHeader?t.tableProps.cellHeight:0,n=t.configuration.BackColor,o=t.configuration.AlternateBackColor,s=t.configuration.ForeColor,l=t.configuration.AlternateForeColor,u=t.viewport.getColumnCount(),h=0,d=0;for(r.Height=t.tableProps.height-t.tableProps.headerHeight,d=t.tableProps.hasRowHeader?this.metaData.tableProps.rowHeaderWidth:0,t.viewport.autocompleteColumnVisible&&(u+=1);h<u;h++){var c,p,m=i[h],g=Oe.Utilities.cloneObj(r);m?(c=i[h].BackColor,p=i[h].ForeColor,g.Width=i[h].Width,this.metaData.configuration.ColoringMode===this.coloringMode.Columns?(g.Color=t.helper.isEven(h)?Oe.getMergedColor([c,n]):Oe.getMergedColor([c,o]),g.Fore=t.helper.isEven(h)?Oe.getMergedColor([p,s]):Oe.getMergedColor([p,l])):(g.Color=c,g.Fore=p)):(g.Width=t.tableProps.width-d-t.tableProps.rightBorder/2,this.metaData.configuration.ColoringMode===this.coloringMode.Columns&&(g.Color=t.helper.isEven(h)?n:o,g.Fore=t.helper.isEven(h)?s:l)),(c=e.createSubtemplate(this,this.Templates[""],g,null,g.Width,g.Height)).RootNode.setAttribute("x",d),c.RootNode.setAttribute("y",a),this.dom.appendChild(c.RootNode),this.columnBackGrounds.push(c),d+=m?m.Width:0}},Wn.prototype.onPropertyChange=function(e,t){var i,r,a=this.metaData.configuration.BackColor,n=this.metaData.configuration.AlternateBackColor,o=this.metaData.configuration.ForeColor,s=this.metaData.configuration.AlternateForeColor,l=this.metaData.viewport.getColumns();if(this.columnBackGrounds)switch(i=this.columnBackGrounds.length,e){case"ColoringMode":case"ForeColor":case"BackColor":case"AlternateBackColor":case"AlternateForeColor":for(r=0;r<i;r++){var u,h,d,c=l[r],p=this.columnBackGrounds[r];c?(c=l[r].BackColor,u=l[r].ForeColor,this.metaData.configuration.ColoringMode===this.coloringMode.Columns?(h=this.metaData.helper.isEven(r)?Oe.getMergedColor([c,a]):Oe.getMergedColor([c,n]),d=this.metaData.helper.isEven(r)?Oe.getMergedColor([u,o]):Oe.getMergedColor([c,s]),p.setHmiProps(h,"HmiProps.Color"),p.setHmiProps(d,"HmiProps.Fore")):(p.setHmiProps(c,"HmiProps.Color"),p.setHmiProps(u,"HmiProps.Fore"))):this.metaData.configuration.ColoringMode===this.coloringMode.Columns&&(p.setHmiProps(this.metaData.helper.isEven(r)?a:n,"HmiProps.Color"),p.setHmiProps(this.metaData.helper.isEven(r)?o:s,"HmiProps.Fore")),p.update()}}},Wn.prototype.redraw=function(e,t){this.draw(e,t)},Wn.prototype.remove=function(){var e,t;if(this.columnBackGrounds){for(e=this.columnBackGrounds.length,t=0;t<e;t++)this.columnBackGrounds[t].remove(!1,!0,!1),this.columnBackGrounds[t]=null;this.columnBackGrounds=null}this.metaData=null,Ne.prototype.remove.call(this)},x.ColumnBackGround=Wn,ke=e=e||{},t=ke.Lib||(ke.Lib={}),t=(D=t.NVEs||(t.NVEs={})).Features||(D.Features={}),We=t.FeatureBase,i(Gn,We),Gn.prototype.dataModified=function(e,t,i){var r=D.Utilities.getDataProvider(this.webRTPUItem,this.metaData.instanceID);"function"==typeof r.modifyEntry&&r.modifyEntry(e,t+this.metaData.viewport.getColumnStartIndex(),i)},Gn.prototype.draw=function(e,t){var i;return this.coloringMode=D.getChromEnum("HmiGridColoringMode"),this.colorStore=new D.Data.ColorStore(t,this.coloringMode),this.clonedColCollection=[],this.clonedColTemplateCollection=[],this.rowGroups=[],this.dom?(this.metaData.columnConfig=[],(i=this.dom.parentNode)&&(i.removeChild(this.dom),this.dom=document.createElementNS("http://www.w3.org/2000/svg","svg"))):(this.dom=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.clearEditing()),this.metaData=t,this.webRTPUItem=e,this.metaData.dataTemplateGroup.appendChild(this.dom),this.requestBuildDataRows(),this.dom},Gn.prototype.requestBuildDataRows=function(){var t=this;this.metaData.timerRef=setTimeout(function(){var e;t.metaData&&((e=t.metaData.viewport.getSize())>t.rowGroups.length?(e=5<e-t.rowGroups.length?5:e-t.rowGroups.length,t.dom.appendChild(t.buildDataRows(t.rowGroups.length+e)),t.requestBuildDataRows()):(clearTimeout(t.metaData.timerRef),t.metaData.timerRef=-1))},0)},Gn.prototype.buildDataRows=function(e){var t,i,r,a,n,o,s,l,u,h,d,c=0,p=this.rowGroups.length,m=document.createDocumentFragment(),g=D.getSystemPart("DataCellSystemPart"),T=document.createElementNS("http://www.w3.org/2000/svg","g"),f=this.metaData.configuration,c=(d=this.metaData.viewport.getColumns()).length,y=(m.appendChild(T),this.rowGroups.push(T),r=this.metaData.tableProps.rowHeaderWidth+this.metaData.tableProps.leftBorder/2,this.metaData.viewport.autocompleteColumnVisible&&(c+=1),this.metaData.tableProps.headerHeight+this.metaData.tableProps.topBorder/2);for(0<p&&(y+=p*this.metaData.tableProps.cellHeight),l=0;l<c;l++){for(t=y,(i=D.Utilities.cloneObj(g)).Font=D.Utilities.cloneObj(f.Font),i.Content=D.Utilities.cloneObj(g.Content),i.Height=this.metaData.tableProps.cellHeight,(o=d[l])?(i.Width=o.Width,i.Content.HorizontalTextAlignment=o.Content.HorizontalTextAlignment,i.Content.ContentMode=o.Content.ContentMode,i.Content.TextTrimming=o.Content.TextTrimming,i.Content.VerticalTextAlignment=o.Content.VerticalTextAlignment,i.Content.Spacing=o.Content.Spacing,i.Content.SplitRatio=o.Content.SplitRatio,i.Content.TextPosition=o.Content.TextPosition,i.Content.GraphicStretchMode=o.Content.GraphicStretchMode):i.Width=this.metaData.tableProps.width-r-this.metaData.tableProps.rightBorder/2,this.clonedColCollection[l]?(a=this.clonedColCollection[l],h=this.clonedColTemplateCollection[l]):(this.clonedColCollection.push(a=[]),h=this.webRTPUItem.createSubtemplate(this,this.Templates["cell-view"],i,null,i.Width,i.Height),this.clonedColTemplateCollection.push(h)),u=p;u<e;u++)s=new ke.Lib.NVEs.Data.DataContract,n=this.colorStore.getCellColor(o,this.metaData.viewport.autocompleteColumnVisible&&l===c-1,l,u),s.Colors.Fore=n.Fore,s.Colors.Back=n.Back,n=h.clone(s),s=null,n.RootNode.setAttribute("y",t),n.RootNode.setAttribute("x",r),a[u]=n,void 0===(s=this.rowGroups[u])?((s=T.cloneNode()).appendChild(n.RootNode),m.appendChild(s),this.rowGroups[u]=s):s.appendChild(n.RootNode),t+=this.metaData.tableProps.cellHeight;r+=i.Width,o=i=null}return m},Gn.prototype.getCellColors=function(e,t,i,r,a,n,o){var s,l={Fore:0,Back:0};return!a&&i&&(s=this.colorStore.getCellColor(i,r,t,e)),this.metaData.configuration.ColoringMode===this.coloringMode.None?r?(l.Fore=this.metaData.configuration.ForeColor,l.Back=this.metaData.configuration.BackColor):(a&&(this.mixColor(i),s=this.metaData.columnConfig[i.Name]),s&&(l=o?this.getSelectionColor(i,t,e,n):this.getBackForeColor(n,s))):(!r&&a&&(this.mixColor(i),s=this.metaData.columnConfig[i.Name]),this.metaData.configuration.ColoringMode===this.coloringMode.Columns?this.metaData.helper.isEven(t)?r?(l.Fore=this.metaData.configuration.ForeColor,l.Back=this.metaData.configuration.BackColor):s&&(l=o?this.getSelectionColor(i,t,e,n):this.getBackForeColor(n,s)):r?(l.Fore=this.metaData.configuration.AlternateForeColor,l.Back=this.metaData.configuration.AlternateBackColor):s&&(l=o?this.getSelectionColor(i,t,e,n):this.getAlternateBackForeColor(n,s)):this.metaData.helper.isEven(e)?r?(l.Fore=this.metaData.configuration.ForeColor,l.Back=this.metaData.configuration.BackColor):s&&(l=o?this.getSelectionColor(i,t,e,n):this.getBackForeColor(n,s)):r?(l.Fore=this.metaData.configuration.AlternateForeColor,l.Back=this.metaData.configuration.AlternateBackColor):s&&(l=o?this.getSelectionColor(i,t,e,n):this.getAlternateBackForeColor(n,s))),l},Gn.prototype.getSelectionColor=function(e,t,i,r,a,n,o){void 0===o&&(o=!1);var s,e=this.colorStore.getCellColor(e,!1,t,i,!1),l=new D.Data.Colors;return this.useMessageColor?(this.mergedDataColors[i]||(this.mergedDataColors[i]=[]),a&&!o?((s={}).dataBackColor=D.getMergedColor([(void 0===a.Back?e:a).Back,e.Back]),s.dataForeColor=D.getMergedColor([(void 0===a.Fore?e:a).Fore,e.Fore]),s.altDataBackColor=D.getMergedColor([void 0===a.Back?e.AlternateBack:a.Back,e.AlternateBack]),s.altDataForeColor=D.getMergedColor([void 0===a.Fore?e.AlternateFore:a.Fore,e.AlternateFore]),this.mergedDataColors[i][n]=s):n?s=this.mergedDataColors[i][n]:((s={}).dataBackColor=e.Back,s.dataForeColor=e.Fore,s.altDataBackColor=e.AlternateBack,s.altDataForeColor=e.AlternateFore),l.Back=D.getMergedColor([this.metaData.configuration.SelectionBackColor,s.dataBackColor]),l.Fore=D.getMergedColor([this.metaData.configuration.SelectionForeColor,s.dataForeColor]),l.AlternateBack=D.getMergedColor([this.metaData.configuration.SelectionBackColor,s.altDataBackColor]),l.AlternateFore=D.getMergedColor([this.metaData.configuration.SelectionForeColor,s.altDataForeColor])):(l.Back=D.getMergedColor([this.metaData.configuration.SelectionBackColor,e.Back]),l.Fore=D.getMergedColor([this.metaData.configuration.SelectionForeColor,e.Fore]),l.AlternateBack=D.getMergedColor([this.metaData.configuration.SelectionBackColor,e.AlternateBack]),l.AlternateFore=D.getMergedColor([this.metaData.configuration.SelectionForeColor,e.AlternateFore])),o=this.metaData.configuration.ColoringMode===this.coloringMode.Rows?i:this.metaData.configuration.ColoringMode===this.coloringMode.Columns?t:0,this.metaData.helper.isEven(o)?r?{Fore:l.Back,Back:l.Fore}:{Fore:l.Fore,Back:l.Back}:r?{Fore:l.AlternateBack,Back:l.AlternateFore}:{Fore:l.AlternateFore,Back:l.AlternateBack}},Gn.prototype.getBackForeColor=function(e,t){var i={Fore:0,Back:0};return e?(i.Fore=t.Back,i.Back=t.Fore):(i.Back=t.Back,i.Fore=t.Fore),i},Gn.prototype.getAlternateBackForeColor=function(e,t){var i={Fore:0,Back:0};return e?(i.Fore=t.AlternateBack,i.Back=t.AlternateFore):(i.Fore=t.AlternateFore,i.Back=t.AlternateBack),i},Gn.prototype.getMessageColorForCell=function(e,t,i,r,a,n,o){void 0===o&&(o=!1);var s,e=this.colorStore.getCellColor(e,!1,t,i,!1);return this.mergedDataColors[i]||(this.mergedDataColors[i]=[]),a&&!o?((s={}).dataBackColor=D.getMergedColor([(void 0===a.Back?e:a).Back,e.Back]),s.dataForeColor=D.getMergedColor([(void 0===a.Fore?e:a).Fore,e.Fore]),s.altDataBackColor=D.getMergedColor([void 0===a.Back?e.AlternateBack:a.Back,e.AlternateBack]),s.altDataForeColor=D.getMergedColor([void 0===a.Fore?e.AlternateFore:a.Fore,e.AlternateFore]),this.mergedDataColors[i][n]=s):s=this.mergedDataColors[i][n],r?{Fore:s.dataBackColor,Back:s.dataForeColor}:(o=this.getIndex(t,i),this.metaData.helper.isEven(o)?{Back:s.dataBackColor,Fore:s.dataForeColor}:{Back:s.altDataBackColor,Fore:s.altDataForeColor})},Gn.prototype.getIndex=function(e,t){return this.metaData.configuration.ColoringMode===this.coloringMode.Rows?t:this.metaData.configuration.ColoringMode===this.coloringMode.Columns?e:0},Gn.prototype.mixColor=function(e){var t={Back:"",Fore:"",AlternateBack:"",AlternateFore:""},i=e.BackColor,r=e.ForeColor;t.Back=D.getMergedColor([e.BackColor,this.metaData.configuration.BackColor]),t.Fore=D.getMergedColor([e.ForeColor,this.metaData.configuration.ForeColor]),t.AlternateBack=D.getMergedColor([i,this.metaData.configuration.AlternateBackColor]),t.AlternateFore=D.getMergedColor([r,this.metaData.configuration.AlternateForeColor]),this.metaData.columnConfig[e.Name]=t},Gn.prototype.setHeirarchicalDataProps=function(e,t,i){e.Content.IsExpandable?(t.setDataContent({RowID:i}),t.setDataContent({IsExpandable:e.Content.IsExpandable}),t.setDataContent({CurrentDepth:e.Content.CurrentDepth}),t.setDataContent({IsExpanded:e.Content.IsExpanded})):(t.setDataContent({IsExpandable:!1}),t.setDataContent({CurrentDepth:e.Content.CurrentDepth}),t.setDataContent({IsExpanded:!1}))},Gn.prototype.loadData=function(e,t,i,r,a){void 0===r&&(r=!0),void 0===a&&(a=!1);var n,o,s,l,u,h,d=0,c=this.metaData.viewport.getColumnCount(),p=this.metaData.viewport.getColumns(),m={selectedRows:[],shiftSelectedIndices:[],cellSelection:[]};for(e.length>this.rowGroups.length&&this.dom.appendChild(this.buildDataRows(e.length)),this.mergedDataColors=[],this.flashingStat||(this.flashingStat={index:[],phase:[]}),this.flashingStat.index=[];t<=i;t++)if((o=e[t])&&(l=!1,h=o.Content.isSelected&&this.metaData.configuration.GridSelectionMode&&(!this.metaData.tableProps.alwaysShowRecent||a),o.Content.FLASHING&&(this.flashingStat.index.push(t),0<this.flashingStat.phase.length)&&void 0===(l=this.flashingStat.phase[this.flashingStat.index.indexOf(t)])&&(l=o.Content.phase,this.flashingStat.phase.push(l)),h&&(m.selectedRows.push(t),o.Content.shiftSelected&&m.shiftSelectedIndices.push(t),o.Content.selectedCellColumnIndices)&&0<o.Content.selectedCellColumnIndices.length&&m.cellSelection.push(o.Content.selectedCellColumnIndices),c))for(s={isCellSelected:h&&!a,isFlashing:l,startIndex:t},d=0;d<c;d++)s.colIndex=d,(n=this.clonedColCollection[d][t])&&(this.setDataContractProps(n,o,p,r,s),u=this.metaData.viewport,o.Content.hasOwnProperty("IsExpandable")&&1===u.visibleColumns[d].DetailedParameterControlBlock&&this.setHeirarchicalDataProps(o,n,t),n.update());return m},Gn.prototype.setDataContractProps=function(e,t,i,r,a){var n,o,s=a.isCellSelected,l=a.isFlashing,u=a.startIndex,a=a.colIndex,h=t.Content[i[a].Name],d=this.metaData.selectionDetail.getCellSelection(u);t.Colors&&(n=t.Colors.hasOwnProperty("Back"),o=t.Colors.hasOwnProperty("Fore")),o=t.Colors&&(t.Colors[i[a].Name]||n||o)?(d?s=-1<d.cellIndex.indexOf(a)&&r:this.metaData.configuration.SelectFullRow||(s=!1),this.useMessageColor=!0,n=n||o?t.Colors:t.Colors[i[a].Name],s?this.getSelectionColor(i[a],a,u,l,n,i[a].Name):this.getMessageColorForCell(i[a],a,u,l,n,i[a].Name)):(this.useMessageColor=!1,d?s=-1<d.cellIndex.indexOf(a)&&r:this.metaData.configuration.SelectFullRow||(s=!1),s?this.getSelectionColor(i[a],a,u,l):this.getCellColors(u,a,i[a],!1,!1,l,!1)),!h&&""!==h||(this.setDataContentForGraphicAndText(h,e),"string"!=typeof h&&"number"!=typeof h)||this.setDataContentText(e,h),o&&e.setDataColors(o)},Gn.prototype.setDataContentForGraphicAndText=function(e,t){e.graphic?(t.setDataContent({Graphic:e.graphic}),e.text?this.setDataContentText(t,e.text):this.setDataContentText(t,"")):(t.setDataContent({Graphic:{Url:"",Width:0,Height:0}}),this.setDataContentText(t,e.text))},Gn.prototype.setDataContentText=function(e,t){"string"==typeof t&&e.setDataContent({IsMultiLine:D.isMultiLine(t)}),e.setDataContent({Data:t})},Gn.prototype.clearDataRows=function(e,t){for(var i,r,a,n=this.metaData.viewport.getColumnCount(),o=this.metaData.viewport.getColumns();e<t;e++)for(r=0;r<n;r++)a=o[r],a=this.getCellColors(e,r,a,!1,!1,!1,!1),(i=this.clonedColCollection[r][e])&&(i.setDataContent({Graphic:{Url:"",Width:0,Height:0}}),this.setDataContentText(i,""),i.setDataColors(a),i.update());this.mergedDataColors&&(this.mergedDataColors=this.mergedDataColors.splice(e,t)),this.flashingStat&&(this.flashingStat.index=[],this.flashingStat.phase=[])},Gn.prototype.redraw=function(e,t){this.draw(e,t)},Gn.prototype.handleFlashing=function(e){var t,i,r,a,n,o,s,l,u,h,d,c,p=e.length,m=this.metaData.viewport.getColumns(),g=this.metaData.viewport.getColumnCount();for(this.flashingStat||(this.flashingStat={index:[],phase:[]}),a=0;a<p;a++)if(a<=this.metaData.viewport.getDisplayedRowCount()){if(s=e[a],r=this.flashingStat.index.indexOf(s.rowIndex),void 0===this.flashingStat.phase[r]?this.flashingStat.phase.push(s.flash):this.flashingStat.phase[r]=s.flash,n=this.metaData.selectionDetail.isRowSelected(s.rowIndex)&&!this.metaData.tableProps.alwaysShowRecent,l=[],o=this.metaData.selectionDetail.getCellSelection(s.rowIndex))for(i=o.cellIndex.length,t=0;t<i;t++)l.push(this.metaData.viewport.getColumnIndexHavingActualIndex(o.cellIndex[t]));for(c=0;c<g;c++)this.clonedColCollection[c]&&(o?n=-1<l.indexOf(c):this.metaData.configuration.SelectFullRow||(n=!1),h=this.clonedColCollection[c][s.rowIndex])&&(d=m[c].Name,s.colors&&s.colors[d]?(this.useMessageColor=!0,this.mergedDataColors&&this.mergedDataColors[s.rowIndex]&&(u=(u=this.mergedDataColors[s.rowIndex][d])||s.colors[d],u=n?this.getSelectionColor(m[c],c,s.rowIndex,s.flash,u,d,!0):this.getMessageColorForCell(m[c],c,s.rowIndex,s.flash,u,d,!0),this.updateCellColor(u,h))):(this.useMessageColor=!1,d=this.getCellColors(s.rowIndex,c,m[c],!1,!0,s.flash,n),this.updateCellColor(d,h)))}},Gn.prototype.clearSelection=function(e){for(var t,i,r=-1,a=this.metaData.viewport.getColumnCount(),n=e.cellSelection.length,o=0;o<n;o++)for(r=(i=e.cellSelection[o]).rowIndex,a=i.cellIndex.length,t=0;t<a;t++)-1<i.cellIndex[t]&&this.clearCellSelection(r,i.cellIndex[t]);for(n=e.indices.length,o=0;o<n;o++)for(r=e.indices[o],t=0;t<a;t++)this.clearCellSelection(r,t)},Gn.prototype.setSelection=function(e){var t,i,r,a,n,o,s,l,u=-1,h=e.indices.length,d=this.metaData.viewport.getColumns();if(this.metaData.configuration.SelectFullRow)for(r=this.metaData.viewport.getColumnCount(),o=0;o<h;o++)for(u=e.indices[o],l=!1,s=this.flashingStat.index.indexOf(u),this.flashingStat&&-1<s&&this.flashingStat.phase[s]&&(l=!0),this.mergedDataColors[u]?this.useMessageColor=!0:this.useMessageColor=!1,n=0;n<r;n++)this.clonedColCollection[n]&&(i=d[n].Name,this.useMessageColor&&this.mergedDataColors[u][i]?this.useMessageColor=!0:this.useMessageColor=!1,t=this.getSelectionColor(d[n],n,u,l,void 0,i),this.updateCellColor(t,this.clonedColCollection[n][u]));else for(o=0;o<h;o++)if(a=e.cellSelection[o])for(u=a.rowIndex,l=!1,s=this.flashingStat.index.indexOf(u),this.flashingStat&&-1<s&&this.flashingStat.phase[s]&&(l=!0),r=a.cellIndex.length,this.mergedDataColors[u]?this.useMessageColor=!0:this.useMessageColor=!1,n=0;n<r;n++)-1<a.cellIndex[n]&&this.clonedColCollection[a.cellIndex[n]]&&(i=d[n].Name,this.useMessageColor&&this.mergedDataColors[u][i]?this.useMessageColor=!0:this.useMessageColor=!1,t=this.getSelectionColor(d[n],n,u,l,void 0,i),this.updateCellColor(t,this.clonedColCollection[a.cellIndex[n]][u]))},Gn.prototype.clearCellSelection=function(e,t){var i,r,a;this.clonedColCollection[t]&&(this.flashingStat&&this.flashingStat.index&&(r=this.flashingStat.index.indexOf(e)),this.flashingStat&&-1<r&&this.flashingStat.phase[r]&&(a=!0),r=this.metaData.viewport.getColumns()[t],this.mergedDataColors&&this.mergedDataColors[e]?this.useMessageColor=!0:this.useMessageColor=!1,this.useMessageColor&&(i=this.mergedDataColors[e][r.Name],this.useMessageColor=!!i),i=i?a?this.metaData.helper.isEven(e)?{Fore:i.dataBackColor,Back:i.dataForeColor}:{Fore:i.altDataBackColor,Back:i.altDataForeColor}:this.metaData.helper.isEven(e)?{Back:i.dataBackColor,Fore:i.dataForeColor}:{Back:i.altDataBackColor,Fore:i.altDataForeColor}:this.getCellColors(e,t,r,!1,!0,a,!1),this.updateCellColor(i,this.clonedColCollection[t][e]))},Gn.prototype.updateCellColor=function(e,t){t&&(t.setDataColors(e),t.update())},Gn.prototype.updateCellValue=function(e,t,i){e&&(this.setDataContentText(e,t),i)&&e.update()},Gn.prototype.updateOnColResize=function(e,t){for(var i,r,a,n=this.metaData.viewport.getColumns(),o=this.clonedColCollection.length,s=e;s<o;s++)s===e?(a=n[s].Width,(r=this.clonedColCollection[s][0]).setHmiProps(a,"HmiProps.Width"),r.update()):(i=(this.metaData.viewport.autocompleteColumnVisible&&s===this.clonedColCollection.length-1?(a=(r=this.clonedColCollection[s][0]).RootScope.Properties.HmiProps.Width-t,r.setHmiProps(a,"HmiProps.Width"),r.update()):r=this.clonedColCollection[s][0],parseFloat(r.RootNode.getAttribute("x"))+t),this.updateAttributesOfCells(this.clonedColCollection[s],["x"],[i]))},Gn.prototype.updateAttributesOfCells=function(e,t,i){for(var r,a,n=e.length,o=t.length,s=0;s<n;s++)for(a=e[s],r=0;r<o;r++)a.RootNode.setAttribute(t[r],i[r])},Gn.prototype.reorderColumnData=function(e,t){this.clonedColCollection.splice(e,0,this.clonedColCollection.splice(t,1)[0]),this.updateColor()},Gn.prototype.updateXPosOnColReorder=function(e,t){this.updateAttributesOfCells(this.clonedColCollection[e],["x"],[t])},Gn.prototype.updateColor=function(){var e,t,i,r,a=this.metaData.viewport.getColumnCount(),n=this.metaData.viewport.getSize(),o=this.metaData.viewport.getColumns();for(this.metaData.viewport.autocompleteColumnVisible&&a++,e=0;e<n;e++)for(t=0;t<a;t++)i=this.hasSpecialColor(e,t),i=(r=o[t])?i.useDataColor?i.selection?this.getSelectionColor(o[t],t,e,i.flashing,null,r.Name,!0):this.getMessageColorForCell(o[t],t,e,i.flashing,null,r.Name,!0):this.getCellColors(e,t,r,!1,!0,!1,!1):this.getCellColors(e,t,r,!0,!0,!1,!1),(r=this.clonedColCollection[t][e]).setDataColors(i),r.update()},Gn.prototype.onPropertyChanged=function(e,t,i,r){var a,n,o,s,l,u,h,d,c,p,m=D.Utilities.getDataProvider(this.webRTPUItem,this.metaData.instanceID);switch(e){case"ColoringMode":case"ForeColor":case"BackColor":case"AlternateBackColor":case"AlternateForeColor":for(d=this.metaData.viewport.getColumnCount(),a=this.metaData.viewport.getSize(),s=this.metaData.viewport.getColumns(),this.metaData.viewport.autocompleteColumnVisible&&d++,n=0;n<a;n++)for(p=0;p<d;p++)(o=s[p])?(this.mixColor(o),!(c=this.hasSpecialColor(n,p)).useDataColor&&(l=this.getCellColors(n,p,o,!1,!0,c.flashing,c.selection),u=this.clonedColCollection&&this.clonedColCollection[p]&&this.clonedColCollection[p][n]?this.clonedColCollection[p][n]:u)&&(u.setDataColors(l),u.update())):(l=this.getCellColors(n,p,o,!0,!0,!1,!1),(u=this.clonedColCollection&&this.clonedColCollection[p]&&this.clonedColCollection[p][n]?this.clonedColCollection[p][n]:u)&&(u.setDataColors(l),u.update()));break;case"SelectionForeColor":case"SelectionBackColor":for(d=this.metaData.viewport.getColumnCount(),a=this.metaData.viewport.getSize(),s=this.metaData.viewport.getColumns(),n=0;n<a;n++)for(p=0;p<d;p++)o=s[p],(c=this.hasSpecialColor(n,p)).selection&&(l=this.getCellColors(n,p,o,!1,!0,c.flashing,c.selection),u=this.clonedColCollection[p][n])&&(u.setDataColors(l),u.update());break;case"SplitRatio":case"ContentMode":case"TextPosition":case"GraphicStretchMode":case"Spacing":break;case"HorizontalTextAlignment":case"TextTrimming":case"VerticalTextAlignment":(a=this.metaData.viewport.getSize())&&(this.clonedColCollection[i][0].setHmiProps(r,"HmiProps.Content"),this.clonedColCollection[i][0].update());break;case"OutputFormat":0<this.metaData.viewport.getDisplayedRowCount()&&this.clearDataRows(0,this.metaData.viewport.getDisplayedRowCount()),h=m.requestRange(this.metaData.viewport.getStartIndex(),this.metaData.viewport.getEndIndex()),this.loadData(h,0,h.length-1);break;case"AllowSort":m&&"function"==typeof m.sort&&t&&m.sort();break;case"Italic":case"Name":case"Size":case"Weight":case"Underline":case"StrikeOut":if(d=this.metaData.viewport.getColumnCount(),a=this.metaData.viewport.getSize())for(p=0;p<d;p++)(u=this.clonedColCollection[p][0])&&(u.setHmiProps(r,"HmiProps.Font"),u.update())}},Gn.prototype.hasSpecialColor=function(e,t){var i,r={flashing:!1,selection:!1,usemessageColor:!1,useDataColor:!1};return this.flashingStat&&-1<(i=this.flashingStat.index.indexOf(e))&&this.flashingStat.phase.length&&this.flashingStat.phase[i]&&(r.flashing=!0),this.metaData.tableProps.alwaysShowRecent||((i=this.metaData.selectionDetail.getCellSelection(e))&&-1<i.cellIndex.indexOf(t)||this.metaData.configuration.SelectFullRow&&this.metaData.selectionDetail.isRowSelected(e))&&(r.selection=!0),this.useMessageColor&&(r.usemessageColor=!0),this.useMessageColor&&this.mergedDataColors&&this.mergedDataColors[e]&&(r.useDataColor=!0),r},Gn.prototype.remove=function(){var e,t,i,r,a;if(clearTimeout(this.metaData.timerRef),this.clonedColCollection){for(i=this.clonedColCollection.length,e=0;e<i;e++){for(r=this.clonedColCollection[e].length,a=this.clonedColCollection[e],t=0;t<r;t++)a[t].remove(!1,!0,!1),this.clonedColCollection[e][t]=null;this.clonedColCollection[e]=null}this.clonedColCollection=null}if(0<this.rowGroups.length)for(t=0;t<r;t++)this.rowGroups[t].parentNode&&this.rowGroups[t].parentNode.removeChild(this.rowGroups[t]);if(this.clonedColTemplateCollection){for(i=this.clonedColTemplateCollection.length,e=0;e<i;e++)this.clonedColTemplateCollection[e].remove(!1,!0,!1);this.clonedColTemplateCollection=null}this.editHandler&&(this.editHandler.cleanup(),this.editHandler=null),this.rowGroups=null,this.metaData=null,this.mergedDataColors=null,this.flashingStat=null,We.prototype.remove.call(this)},t.DataTemplates=Gn,x=(x=e=e||{}).Lib||(x.Lib={}),x=(Ge=x.NVEs||(x.NVEs={})).Features||(Ge.Features={}),Ue=x.FeatureBase,i(Un,Ue),Un.prototype.draw=function(e,t){for(var i=0,r=(void 0===this.dom&&(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),this.data=t,Ge.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.Attributes["line-state"]+this.Attributes["line-style"]),a=(this.data.flowLineFeatureInstances[r]=this).Features.length,i=0;i<a;i++)this.Features[i].draw(e,t);return this.dom},Un.prototype.redraw=function(e){this.draw(e,this.data)},Un.prototype.remove=function(){for(var e in this.data=null,this.decoratorFeatureInstance)delete this.decoratorFeatureInstance[e];this.decoratorFeatureInstance=null,Ue.prototype.remove.call(this)},x.FlowLine=Un,t=(t=e=e||{}).Lib||(t.Lib={}),ze=t.NVEs||(t.NVEs={}),je=ze.Features||(ze.Features={}),Ye=je.FeatureBase,i(zn,Ye),zn.prototype.draw=function(e,t){void 0===this.dom&&(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),ze.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.metaData=t;t=this.Attributes["decorator-type"];return(this.Parent.decoratorFeatureInstance[t]=this).dom},zn.prototype.renderIODecorator=function(e,t,i,r){var a,n,o;if(this.getAttribute("show-text"))return a=ze.getTextHeight("X",i),a=e.split(/\n/).length*a,n=new ze.TextField,(o=new ze.Features.Font).Attributes.scope=i,n.Features.push(o),n.Attributes.height=a,n.Attributes["fore-color"]=t,n.Attributes.target=" ",n.Attributes.width=r,n.Attributes.value=e,n.Attributes.enabled=!1,n.Attributes["read-only"]=!0,n.Attributes["multi-line"]=!0,n.Attributes["horizontal-text-alignment"]=this.getAttribute("decorator-type")===ze.Data.FlowLineDecoratorType.Input?"right":"left",n.Attributes["vertical-text-alignment"]="bottom",n.Attributes["horizontal-scrollbar-visibility"]="collapsed",n.Attributes["vertical-scrollbar-visibility"]="collapsed",n.Attributes["text-trimming"]="character-ellipsis",this.dom=n.create(this.metaData.rtpuItem),{dom:this.dom,textField:n}},zn.prototype.render=function(e,t,i){this.dom=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.dom.setAttribute("width",zn.DECORATOR_LAYOUT_DIM.toString()),this.dom.setAttribute("height",zn.DECORATOR_LAYOUT_DIM.toString());var r=ze.getSystemPart("HmiBlockSymbolSystemPart"),a=(r=this.metaData.updateMissingBlockSubParts(r)).ContentFont,e=ze.getRGBAcolor(e.metaData.rtpuItem.Store.props.LineColors.NormalLine),e=this.getAttribute("symbol-color")?this.getAttribute("symbol-color"):e,n="symbol-dimension";if(this.metaData.isCompactMode&&(r.HeaderFont.Size=20,r.ContentFont.Size=20),this.getAttribute("symbol-type")===ze.Data.SymbolType.circle){var o=this.getAttribute(n)?+this.getAttribute(n):16;je.Shape.SvgShape.CreateSvgElement("circle",{cx:75,cy:75,r:o/2,fill:e,id:"circle",appendTo:this.dom})}else if(this.getAttribute("symbol-type")===ze.Data.SymbolType.line){if(this.metaData.diagramType===ze.Data.FlowDiagramType.Step){var o=this.getAttribute(n)?+this.getAttribute(n):2;if(je.Shape.SvgShape.CreateSvgElement("rect",{x:60,y:75,height:o,width:30,stroke:ze.getRGBAcolor(r.BorderColor),"stroke-width":1,fill:e,appendTo:this.dom}),this.getAttribute("show-text")){var s,l=ze.getTextHeight("X",a),u=zn.DECORATOR_LAYOUT_DIM/2-15-8,h=Math.floor((60-l)/l),d=ze.textWrap(t.Data.Content,u,a),c=void 0;""==t.Data.Content||this.metaData.isCompactMode?c=zn.DECORATOR_LAYOUT_DIM/2:1==(s=Math.min(h,d.length))?c=zn.DECORATOR_LAYOUT_DIM/2-l/2:2==s&&(c=zn.DECORATOR_LAYOUT_DIM/2-l),this.outerDiv=je.Shape.SvgShape.CreateSvgElement("g",{id:"textGroup",class:i,transform:"translate(98,"+c+")",appendTo:this.dom}),je.Shape.SvgShape.CreateSvgElement("text",{id:"text",dx:0,displayText:t.Data.Header,"font-size":r.HeaderFont.Size,"font-family":r.HeaderFont.Name,fill:ze.getRGBAcolor(r.ContentForeColor),"dominant-baseline":"middle",appendTo:this.outerDiv});if(!this.metaData.isCompactMode){d.length>h&&(d[h-1]=d[h-1]+"",d[h-1]=ze.textEllipsis(d[h-1],u,a)),this.transitiontext=je.Shape.SvgShape.CreateSvgElement("text",{"dominant-baseline":"middle","font-size":r.ContentFont.Size,"font-family":r.ContentFont.Name,fill:ze.getRGBAcolor(r.ContentForeColor),appendTo:this.outerDiv});for(var p=0;p<h;p++)je.Shape.SvgShape.CreateSvgElement("tspan",{y:l+p*l,x:0,appendTo:this.transitiontext}).textContent=d[p]}}}}else this.getAttribute("symbol-type")===ze.Data.SymbolType.arrow&&t.DecoratorSubType===ze.Data.FlowLineDecoratorSubType.JumpOut?(o=this.getAttribute(n)?+this.getAttribute(n):16,je.Shape.SvgShape.CreateSvgElement("path",{d:"M "+(75-o/2)+" 75 L 75 "+(75+o)+" L "+(75+o/2)+" 75 z",fill:e,appendTo:this.dom}),this.getAttribute("show-text")&&je.Shape.SvgShape.CreateSvgElement("text",{id:"jumpOutText",dx:75-o/2,dy:75+o+8,displayText:i,"font-weight":"bold","font-family":a.Name,"font-size":16,fill:ze.getRGBAcolor(this.metaData.rtpuItem.Store.props.FocusColor),"dominant-baseline":"hanging","text-decoration":"underline",appendTo:this.dom})):this.getAttribute("symbol-type")===ze.Data.SymbolType.arrow&&t.DecoratorSubType===ze.Data.FlowLineDecoratorSubType.JumpIn&&(o=this.getAttribute(n)?+this.getAttribute(n):16,je.Shape.SvgShape.CreateSvgElement("path",{d:"M 75 75 L "+(75+o)+" "+(75-o/2)+" L "+(75+o)+" "+(75+o/2)+" z",fill:e,appendTo:this.dom}),je.Shape.SvgShape.CreateSvgElement("line",{x1:75+o,y1:75,x2:105,y2:75,stroke:e,"stroke-width":this.Parent.getAttribute("stroke-width"),appendTo:this.dom}),this.getAttribute("show-text"))&&je.Shape.SvgShape.CreateSvgElement("text",{id:"text",dx:113,dy:75,displayText:i,"font-size":a.Size,"font-family":a.Name,"dominant-baseline":"middle",fill:ze.getRGBAcolor(r.ContentForeColor),appendTo:this.dom});return this.dom},zn.prototype.renderTerminalDecorator=function(e,t,i,r){this.dom=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.dom.setAttribute("width",zn.DECORATOR_LAYOUT_DIM.toString()),this.dom.setAttribute("height",zn.DECORATOR_LAYOUT_DIM.toString());var a=ze.getSystemPart("HmiBlockSymbolSystemPart"),n=(a=this.metaData.updateMissingBlockSubParts(a)).ContentFont,a=a.ContentForeColor,o=+this.getAttribute("symbol-dimension");return this.appendVerticalLine(this.dom,o,e,i,t),r&&this.getAttribute("show-text")&&this.appendText(this.dom,r,n,a),this.dom},zn.prototype.appendVerticalLine=function(e,t,i,r,a){var n=zn.DECORATOR_LAYOUT_DIM/2;je.Shape.SvgShape.CreateSvgElement("line",{x1:n,y1:n-t,x2:n,y2:n+t,stroke:i,"stroke-width":r,"stroke-dasharray":a,appendTo:e})},zn.prototype.appendText=function(e,t,i,r){var a=zn.DECORATOR_LAYOUT_DIM/2;je.Shape.SvgShape.CreateSvgElement("text",{x:10+a,y:a,displayText:t,"font-size":i.Size,"font-family":i.Name,"dominant-baseline":"middle",fill:ze.getRGBAcolor(r),appendTo:e})},zn.prototype.redraw=function(e){this.draw(e,this.metaData)},zn.prototype.remove=function(){this.container=null,this.metaData=null,this.removeDomELements(this.transitiontext),this.removeDomELements(this.outerDiv),this.transitiontext=null,this.outerDiv=null,Ye.prototype.remove.call(this)},zn.prototype.removeDomELements=function(e){if(e){for(;e.firstChild;)e.removeChild(e.firstChild);e.parentNode&&e.parentNode.removeChild(e)}},zn.DECORATOR_LAYOUT_DIM=150,je.FlowLineDecorator=zn,x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Features||(x.Features={}),Xe=x.FeatureBase,i(jn,Xe),jn.prototype.draw=function(e,t){var i,r=0;if(this.data=t,this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);for(this.webRTPUItem=e,i=this.Features.length,r=0;r<i;r++)this.Features[r].draw(e,this.data);return this.dom},jn.prototype.redraw=function(e){this.draw(e,this.data)},jn.prototype.remove=function(){this.data=null,Xe.prototype.remove.call(this)},x.FlowLines=jn,t=(t=e=e||{}).Lib||(t.Lib={}),t=(qe=t.NVEs||(t.NVEs={})).Features||(qe.Features={}),Yn.prototype.propertyChanged=function(e){this.metaData&&this.metaData.dirtyList.indexOf(this)<0&&this.metaData.dirtyList.push(this)},Yn.prototype.remove=function(){for(var e=0;e<this.Features.length;e++)this.Features[e].remove()},Yn.prototype.getAttribute=function(e){return this.Attributes[e]},Yn.prototype.applyVisibility=function(){return qe.Utilities.convertToBool(this.getAttribute("condition"))?(this.dom.setAttributeNS(null,"visibility","inherit"),!0):(this.dom.setAttributeNS(null,"visibility","hidden"),!1)},t.NVEFeatureBase=Yn,x=(x=e=e||{}).Lib||(x.Lib={}),x=(Ke=x.NVEs||(x.NVEs={})).Features||(Ke.Features={}),Ze=x.NVEFeatureBase,i(Xn,Ze),Xn.prototype.draw=function(e,t){return document.createElementNS("http://www.w3.org/2000/svg","g")},Xn.prototype.addFontAttributesToDomNode=function(e,t,i){return this.Attributes=Ke.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.domList.indexOf(i)<0&&this.domList.push(i),this.dom=i,this.metaData=t,this.webRTPUItem=e,this.mergeWithScope(),this.checkAndConvertEnums(),this.isValid()&&(this.dom.setAttributeNS(null,"font-family",'"'+this.getAttribute("name")+'"'),this.dom.setAttributeNS(null,"font-size",this.getAttribute("size")),this.dom.setAttributeNS(null,"font-style",this.getFontStyleSVG()),this.dom.setAttributeNS(null,"text-decoration",this.getTextDecoration()),this.dom.setAttributeNS(null,"font-weight",this.getWeightSVG())),this.dom},Xn.prototype.reset=function(){this.domList=new Array},Xn.prototype.redraw=function(){this.domList.forEach(function(e){this.addFontAttributesToDomNode(this.webRTPUItem,this.metaData,e)},this)},Xn.prototype.checkAndConvertEnums=function(){var e;"number"==typeof this.Attributes["strike-out"]&&(null!=(e=Ke.Utilities.getEnumKeyByValue("HmiFontStrikeOut",this.Attributes["strike-out"]))?this.Attributes["strike-out"]=e:Ke.trace(Ke.enumTraceMode.Warning,"Can't draw a Font Object with invalid enum for strike-out")),"number"==typeof this.Attributes.weight&&(null!=(e=Ke.Utilities.getEnumKeyByValue("HmiFontWeight",this.Attributes.weight))?this.Attributes.weight=e:Ke.trace(Ke.enumTraceMode.Warning,"Can't draw a Font Object with invalid enum for weight"))},Xn.prototype.isValid=function(){return this.Attributes.name&&"string"==typeof this.Attributes.name?null==this.Attributes["strike-out"]||"string"!=typeof this.Attributes["strike-out"]&&"boolean"!=typeof this.Attributes["strike-out"]?(Ke.trace(Ke.enumTraceMode.Warning,"Can't draw a Font Object with invalid strike-out"),!1):!this.Attributes.weight||"string"!=typeof this.Attributes.weight&&"number"!=typeof this.Attributes.weight?(Ke.trace(Ke.enumTraceMode.Warning,"Can't draw a Font Object with invalid weight"),!1):null===Ke.Utilities.convertToBool(this.Attributes.italic)?(Ke.trace(Ke.enumTraceMode.Warning,"Can't draw a Font Object with invalid italic"),!1):null!==Ke.Utilities.convertToBool(this.Attributes.underline)||(Ke.trace(Ke.enumTraceMode.Warning,"Can't draw a Font Object with invalid underline"),!1):(Ke.trace(Ke.enumTraceMode.Warning,"Can't draw a Font Object with invalid name"),!1)},Xn.prototype.getWeightSVG=function(){var e,t=this.getAttribute("weight");if("string"==typeof t)switch(t.toLowerCase()){case"thin":e="100";break;case"extralight":e="200";break;case"light":e="300";break;case"normal":e="400";break;case"medium":e="500";break;case"semibold":e="600";break;case"bold":e="700";break;case"extrabold":e="800";break;case"heavy":e="900";break;default:e="400"}else e=t;return e},Xn.prototype.getTextDecoration=function(){var e="",t=this.getAttribute("strike-out");return Ke.Utilities.convertToBool(this.getAttribute("underline"))&&(e+="underline "),0<=["single","true",!0].indexOf(t)&&(e+="line-through "),(e=0==e.length?"none":e).trim()},Xn.prototype.mergeWithScope=function(){var e=this.getAttribute("scope");null!=e&&(null!=e.Name&&(this.Attributes.name=e.Name),null!=e.Size&&(this.Attributes.size=e.Size),null!=e.Italic&&(this.Attributes.italic=e.Italic),null!=e.StrikeOut&&(this.Attributes["strike-out"]=e.StrikeOut),null!=e.Underline&&(this.Attributes.underline=e.Underline),null!=e.Weight)&&(this.Attributes.weight=e.Weight)},Xn.prototype.getFontStyleSVG=function(){return Ke.Utilities.convertToBool(this.getAttribute("italic"))?"italic":"normal"},Xn.prototype.getWebRHAttributes=function(){return{Size:this.getAttribute("size"),Italic:this.getAttribute("italic"),Weight:this.getAttribute("weight"),Name:this.getAttribute("name"),Underline:this.getAttribute("underline"),StrikeOut:this.getAttribute("strike-out")}},x.Font=Xn,t=(t=e=e||{}).Lib||(t.Lib={}),t=(Qe=t.NVEs||(t.NVEs={})).Features||(Qe.Features={}),Je=t.FeatureBase,i(qn,Je),qn.prototype.draw=function(e,t){var i,r=0;for(this.metaData=t,this.webRTPUItem=e,this.indexFilter=this.Attributes["index-filter"],void 0===this.indexFilter&&(this.indexFilter=this.defaults["index-filter"]),this.unitFilter=this.Attributes["unit-filter"],void 0===this.unitFilter&&(this.unitFilter=this.defaults["unit-filter"]),this.lowSurcharge=parseInt(this.Attributes["low-surcharge"],10),this.highSurcharge=parseInt(this.Attributes["high-surcharge"],10),this.lowExtension=parseInt(this.Attributes["low-extension"],10),this.highExtension=parseInt(this.Attributes["high-extension"],10),this.interpolation=this.Attributes.interpolation,this.stroke=Qe.getRGBAcolor(this.Attributes.stroke),this.strokewidth=parseInt(this.Attributes["stroke-width"],10),this.fill=this.Attributes.fill,this.dom=null,i=this.Features.length,r=0;r<i;r++)this.Features[r]instanceof Qe.Features.Tooltip?Qe.isAppModeRuntime()&&(this.tooltip=this.Features[r],this.tooltip.draw(this.webRTPUItem,this.metaData)):this.Features[r]instanceof Qe.Features.GraphMarker&&(this.graphMarker=this.Features[r]);return this.dom},qn.prototype.redraw=function(e,t){this.draw(e,t)},qn.prototype.matchGraphs=function(e){for(var t,i,r,a,n=e.length,o=this.matchedGraphs,s=this.indexFilter.split(" "),l=this.unitFilter.split(" "),u=0;u<n;u++)for(a=(t=e[u]).trends.length,r=0;r<a;r++)i=t.trends[r],(""===this.indexFilter||-1<s.indexOf(r.toString()))&&(""===this.unitFilter||-1<l.indexOf(i.unit))&&(o.tryAdd(i),i.updateTrendAttrs(this.Attributes),this.graphMarker&&i.updateMarkerAttrs(this.graphMarker.Attributes),this.tooltip)&&i.addTooltipInfo(this.tooltip)},qn.prototype.unmatchGraphs=function(e){var t,i;if(e)for(i=e.length,t=0;t<i;t++)e[t].trends.forEach(function(e){-1<this.tryRemove(e)&&e.removeTemplateAttrs()},this.matchedGraphs);else for(t=(i=this.matchedGraphs.items.length)-1;0<=t;t--)this.matchedGraphs.items[t].removeTemplateAttrs(),this.matchedGraphs.removeByIndex(t)},qn.prototype.remove=function(){this.matchedGraphs.clear(),this.metaData=null,Je.prototype.remove.call(this)},t.Graph=qn,x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Features||(x.Features={}),$e=x.FeatureBase,i(Kn,$e),Kn.prototype.draw=function(e,t){return this.data=t,this.webRTPUItem=e,this.dom=null,this.dom},Kn.prototype.redraw=function(e,t){this.draw(e,t)},Kn.prototype.updateMarkerAttrs=function(e){for(var t=e.length,i=0;i<t;i++)e[i].updateMarkerAttrs(this.Attributes)},x.GraphMarker=Kn,t=(t=e=e||{}).Lib||(t.Lib={}),t=(et=t.NVEs||(t.NVEs={})).Features||(et.Features={}),tt=t.FeatureBase,i(Zn,tt),Zn.prototype.draw=function(e,t){var i,r,a=null,n=0;for(this.data=t,et.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.webRTPUItem=e,i=this.Features.length,n=0;n<i;n++)a=this.Features[n].draw(e,t);return this.dom=a,r=this.Attributes.selection.split(" "),this.bringOnTop=-1<r.indexOf("on-top"),this.keepSelection=-1<r.indexOf("keep"),a},Zn.prototype.redraw=function(e,t){this.draw(e,t)},Zn.prototype.propertyChanged=function(e){"selection"===e&&(e=void 0,e=this.Attributes.selection.split(" "),this.bringOnTop=-1<e.indexOf("on-top"),this.keepSelection=-1<e.indexOf("keep"),this.Parent.trendView.graphsSelectionChanged())},Zn.prototype.matchGraphs=function(e){for(var t=this.Features.length,i=0;i<t;i++)this.Features[i].matchGraphs(e)},Zn.prototype.unmatchGraphs=function(e){for(var t=this.Features.length,i=0;i<t;i++)this.Features[i].unmatchGraphs(e)},t.Graphs=Zn,x=(x=e=e||{}).Lib||(x.Lib={}),x=(it=x.NVEs||(x.NVEs={})).Features||(it.Features={}),rt=x.FeatureBase,i(Qn,rt),Qn.prototype.draw=function(e,t){return this.data=t,void 0===this.dom&&(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),this.attrs=this.data.gridlineAttrs,this.layer=t.gridLineLayer.getGridLineCollectionByLayer(this.attrs.layer),this.attrs.isRow&&(this.calVLineConfigurations(),this.layer.hasVerticalLines=!0),this.attrs.isColumn&&(this.calHLineConfigurations(),this.layer.hasHorizontalLines=!0),this.dom},Qn.prototype.redraw=function(e,t){this.draw(e,t)},Qn.prototype.calVLineConfigurations=function(){var e,t,i=null,r=0,a=0,n=-1,o=0,s=this.data.tableProps,l=s.rowHeaderWidth;if(0===s.hHeaderWidth&&(s.height,this.layer.bottomBorder,this.layer.topBorder,s.headerHeight),this.attrs.isBegin&&(a=this.attrs.strokeWidth/2,this.attrs.isExpInner&&((i=new it.Data.LineConfig).x1=a,i.x2=a,i.y1=s.headerHeight,i.y2=s.height-this.layer.bottomBorder,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vBeginExpInner=i),this.attrs.isExpHeader)&&((i=new it.Data.LineConfig).x1=a,i.x2=a,i.y1=0,i.y2=s.headerHeight+s.hHeaderWidth,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vBeginExpHeader=i),this.attrs.isEnd&&(a=s.width-this.layer.rightBorder/2,this.attrs.isExpHeader&&((i=new it.Data.LineConfig).x1=a,i.x2=a,i.y1=0,i.y2=i.y1+s.cellHeight,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vEndExpHeader=i),this.attrs.isExpInner)&&((i=new it.Data.LineConfig).x1=a,i.x2=a,i.y1=s.headerHeight,i.y2=s.height-this.layer.bottomBorder,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vEndExpInner=i),this.attrs.isHeader&&s.hasRowHeader&&(a=l+s.leftBorder/2,this.attrs.isExpHeader&&((i=new it.Data.LineConfig).x1=a,i.x2=a,i.y1=0,i.y2=s.cellHeight,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vHeaderExpHeader=i),this.attrs.isExpInner)&&((i=new it.Data.LineConfig).x1=a,i.x2=a,i.y1=s.headerHeight,i.y2=s.height-this.layer.bottomBorder,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vHeaderExpInner=i),this.attrs.isInner)for(e=this.data.viewport.getColumns(),t=this.data.viewport.getColumnCount();r<t;r++)a=l+(o+=e[r].Width)+s.leftBorder/2,this.attrs.isExpInner&&((i=new it.Data.LineConfig).x1=a,i.x2=a,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.y1=s.headerHeight,i.y2=s.height-this.layer.bottomBorder,i.layer=this.layer,this.lineRequired(r))&&(-1===(n=this.layer.vInnerLineIndex.indexOf(r))?(i.colIndex=r,this.layer.vInnerLineIndex.push(r),this.layer.vInnerExpInner.push(i)):this.layer.vInnerExpInner[n]=i),this.attrs.isExpHeader&&s.hasColumnHeader&&((i=new it.Data.LineConfig).x1=a,i.x2=a,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.y1=0,i.y2=i.y1+s.cellHeight,i.layer=this.layer,this.lineRequired(r))&&(-1===(n=this.layer.vHeaderLineIndex.indexOf(r))?(i.colIndex=r,this.layer.vInnerExpHeader.push(i),this.layer.vHeaderLineIndex.push(r)):this.layer.vInnerExpHeader[n]=i)},Qn.prototype.calHLineConfigurations=function(){var e,t=null,i=0,r=0,a=-1,n=this.data.tableProps;n.rowHeaderWidth;if(this.attrs.isBegin&&(r=this.attrs.strokeWidth/2,this.attrs.isExpHeader&&((t=new it.Data.LineConfig).x1=0,t.x2=this.layer.leftBorder+n.rowHeaderWidth,t.y1=r,t.y2=r,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hBeginExpHeader=t),this.attrs.isExpInner)&&((t=new it.Data.LineConfig).x1=n.rowHeaderWidth,t.x2=n.width,t.y1=r,t.y2=r,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hBeginExpInner=t),this.attrs.isEnd&&(this.attrs.isExpHeader&&((t=new it.Data.LineConfig).x1=0,t.x2=this.layer.leftBorder+n.rowHeaderWidth,t.y1=n.height-this.layer.bottomBorder/2,t.y2=t.y1,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hEndExpHeader=t),this.attrs.isExpInner)&&((t=new it.Data.LineConfig).x1=n.rowHeaderWidth,t.x2=n.width,t.y1=n.height-this.layer.bottomBorder/2,t.y2=t.y1,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hEndExpInner=t),this.attrs.isHeader&&n.hasColumnHeader&&(r=n.headerHeight+n.topBorder/2,this.attrs.isExpHeader&&((t=new it.Data.LineConfig).x1=0,t.x2=n.rowHeaderWidth,t.y1=r,t.y2=r,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hHeaderExpHeader=t),this.attrs.isExpInner)&&((t=new it.Data.LineConfig).x1=n.rowHeaderWidth,t.x2=n.width-this.layer.rightBorder,t.y1=r,t.y2=r,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hHeaderExpInner=t),this.attrs.isInner)for(e=this.data.viewport.getSize(),i=n.hasColumnHeader?1:0;i<e;i++)r=(i+1)*n.cellHeight+n.topBorder/2,this.attrs.isExpHeader&&n.hasRowHeader&&((t=new it.Data.LineConfig).x1=0,t.x2=n.rowHeaderWidth,t.y1=r,t.y2=r,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.lineRequired(i))&&(-1===(a=this.layer.hHeaderLineIndex.indexOf(i))?(this.layer.hInnerExpHeader.push(t),this.layer.hHeaderLineIndex.push(i)):this.layer.hInnerExpHeader[a]=t),this.attrs.isExpInner&&((t=new it.Data.LineConfig).x1=n.rowHeaderWidth,t.x2=n.width-this.layer.rightBorder,t.y1=r,t.y2=r,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.lineRequired(i))&&(-1===(a=this.layer.hInnerLineIndex.indexOf(i))?(this.layer.hInnerExpInner.push(t),this.layer.hInnerLineIndex.push(i)):this.layer.hInnerExpInner[a]=t)},Qn.prototype.lineRequired=function(e){return this.attrs.bias===it.Data.BiasType.Odd?e%2&&(e+1)%this.attrs.divisor==0:this.attrs.bias===it.Data.BiasType.Even?e%2==0&&(e+1)%this.attrs.divisor==1:(e+1)%this.attrs.divisor==0},Qn.prototype.remove=function(){this.layer.remove(),this.data=null,rt.prototype.remove.call(this)},x.Gridline=Qn,t=(t=e=e||{}).Lib||(t.Lib={}),at=t.NVEs||(t.NVEs={}),nt=at.Features||(at.Features={}),ot=nt.FeatureBase,i(Jn,ot),Jn.prototype.draw=function(e,t){var i,r=null,a=0;if(this.data=t,this.dom){for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.lineConfig.clearCollection()}for(this.resetGroups(),this.webRTPUItem=e,i=this.Features.length,this.setAttributeDetails(i),a=0;a<i;a++)t.gridlineAttrs=this.attributes[a],r=this.Features[a].draw(e,t);return this.dom=r,this.drawLineLayerWise(),r},Jn.prototype.drawLineLayerWise=function(){this.lineConfig=this.data.gridLineLayer.getGridLineCollectionByLayer("on-columns"),this.lineConfig&&this.data.gridLineLayer.onColumnsGroup&&this.drawLines(this.data.gridLineLayer.onColumnsGroup,"on-columns"),this.lineConfig=this.data.gridLineLayer.getGridLineCollectionByLayer("on-rows"),this.lineConfig&&this.data.gridLineLayer.onRowsColumnsGroup&&this.drawLines(this.data.gridLineLayer.onRowsColumnsGroup,"on-rows"),this.lineConfig=this.data.gridLineLayer.getGridLineCollectionByLayer("background"),this.lineConfig&&this.data.gridLineLayer.inBackgroundGroup&&this.drawLines(this.data.gridLineLayer.inBackgroundGroup,"background"),this.lineConfig=this.data.gridLineLayer.getGridLineCollectionByLayer("on-top"),this.lineConfig&&this.data.gridLineLayer.onTopGroup&&this.drawLines(this.data.gridLineLayer.onTopGroup,"on-top")},Jn.prototype.onEnabledChanged=function(){this.data.configuration.HeaderSettings.AllowColumnResize&&this.webRTPUItem.Store.props.Enabled?this.highlighterHeaderLineGroup.setAttribute("cursor","e-resize"):this.highlighterHeaderLineGroup.setAttribute("cursor","auto")},Jn.prototype.drawLines=function(e,t){this.lineConfig.hasVerticalLines&&(this.verticalLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.verticalLineGroup.setAttribute("id",t+"Verticallinegroup"),e.appendChild(this.verticalLineGroup),this.vInnerExpHeaderLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.vInnerExpHeaderLineGroup.setAttribute("id",t+"VInnerExpHeaderLineGroup"),e.appendChild(this.vInnerExpHeaderLineGroup),this.vInnerExpInnerLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.vInnerExpInnerLineGroup.setAttribute("id",t+"VInnerExpInnerLineGroup"),e.appendChild(this.vInnerExpInnerLineGroup),this.highlighterHeaderLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.highlighterHeaderLineGroup.setAttribute("id","highlighterHeaderLineGroup"),this.data.configuration.HeaderSettings.AllowColumnResize&&!1!==this.webRTPUItem.Store.props.Enabled&&this.highlighterHeaderLineGroup.setAttribute("cursor","e-resize"),e.appendChild(this.highlighterHeaderLineGroup),this.highlighterInnerLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.highlighterInnerLineGroup.setAttribute("id","highlighterInnerLineGroup"),e.appendChild(this.highlighterInnerLineGroup)),this.lineConfig.hasHorizontalLines&&(this.horizontalLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.horizontalLineGroup.setAttribute("id",t+"Horizontallinegroup"),e.appendChild(this.horizontalLineGroup),this.hHeaderLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.hHeaderLineGroup.setAttribute("id",t+"hHeaderLineGroup"),e.appendChild(this.hHeaderLineGroup)),this.line.draw(),this.line.drawHighlighterLines()},Jn.prototype.redraw=function(e,t){this.draw(e,t)},Jn.prototype.setHeaderAndInnerAttrs=function(e,t){e.isHeader=-1<t.indexOf("header")?1:0,e.isInner=-1<t.indexOf("inner")?1:0,e.isEnd=-1<t.indexOf("end")?1:0,e.isBegin=-1<t.indexOf("begin")?1:0},Jn.prototype.setRowAttrs=function(e,t,i){e.isBegin&&(i.rightBorder=t,"on-top"===e.layer)&&(this.data.tableProps.rightBorder=t>this.data.tableProps.rightBorder?t:this.data.tableProps.rightBorder),e.isEnd&&(i.leftBorder=t,"on-top"===e.layer)&&(this.data.tableProps.leftBorder=t>this.data.tableProps.leftBorder?t:this.data.tableProps.leftBorder)},Jn.prototype.setColAttrs=function(e,t,i){e.isBegin&&(i.topBorder=t,"on-top"===e.layer)&&(this.data.tableProps.topBorder=t>this.data.tableProps.topBorder?t:this.data.tableProps.topBorder),e.isEnd&&(i.bottomBorder=t,"on-top"===e.layer)&&(this.data.tableProps.bottomBorder=t>this.data.tableProps.bottomBorder?t:this.data.tableProps.bottomBorder)},Jn.prototype.setAttributeDetails=function(e){var t,i,r,a,n,o,s;for(this.attributes=[],t=0;t<e;t++)o={},(s=this.Features[t]).Attributes=at.Utilities.mergeWithDefaults(s.Attributes,this.defaults),a=s.Attributes.orientation.toLowerCase().trim().split(/[\s,]+/),n=s.Attributes.expansion.toLowerCase().trim().split(/[\s,]+/),i=s.Attributes["position-filter"].toLowerCase().trim().split(/[\s,]+/),r=parseInt(s.Attributes["stroke-width"],10),o.strokeColor=s.Attributes.stroke,o.divisor=parseInt(s.Attributes["modulo-divisor"],10),o.bias=parseInt(s.Attributes["modulo-bias"],10),o.strokeWidth=r,o.layer=s.Attributes.layer,"on-top"!==o.layer||this.data.gridLineLayer.onTopGroup?"on-columns"!==o.layer||this.data.gridLineLayer.onColumnsGroup?"on-rows"!==o.layer||this.data.gridLineLayer.onRowsColumnsGroup?"background"!==o.layer||this.data.gridLineLayer.inBackgroundGroup||(this.data.gridLineLayer.inBackgroundGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.data.gridLineLayer.inBackgroundGroup.setAttribute("id","layerBackground")):(this.data.gridLineLayer.onRowsColumnsGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.data.gridLineLayer.onRowsColumnsGroup.setAttribute("id","layerRows")):(this.data.gridLineLayer.onColumnsGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.data.gridLineLayer.onColumnsGroup.setAttribute("id","layerColumns")):(this.data.gridLineLayer.onTopGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.data.gridLineLayer.onTopGroup.setAttribute("id","layerTop")),s=this.data.gridLineLayer.getGridLineCollectionByLayer(o.layer),o.isRow=-1<a.indexOf("row")?1:0,o.isColumn=-1<a.indexOf("column")?1:0,o.isExpHeader="header"===n[0]||"header"===n[1],o.isExpInner="inner"===n[0]||"inner"===n[1],(o.isExpHeader||o.isExpInner&&!o.isExpHeader)&&this.setHeaderAndInnerAttrs(o,i),o.isRow&&this.setRowAttrs(o,r,s),o.isColumn&&this.setColAttrs(o,r,s),this.attributes.push(o)},Jn.prototype.getAttributeDetails=function(){return this.attributes},Jn.prototype.resetGroups=function(){if(this.data.gridLineLayer.onColumnsGroup)for(;this.data.gridLineLayer.onColumnsGroup.firstChild;)this.data.gridLineLayer.onColumnsGroup.removeChild(this.data.gridLineLayer.onColumnsGroup.firstChild);if(this.data.gridLineLayer.onRowsColumnsGroup)for(;this.data.gridLineLayer.onRowsColumnsGroup.firstChild;)this.data.gridLineLayer.onRowsColumnsGroup.removeChild(this.data.gridLineLayer.onRowsColumnsGroup.firstChild);if(this.data.gridLineLayer.inBackgroundGroup)for(;this.data.gridLineLayer.inBackgroundGroup.firstChild;)this.data.gridLineLayer.inBackgroundGroup.removeChild(this.data.gridLineLayer.inBackgroundGroup.firstChild);if(this.data.gridLineLayer.onTopGroup)for(;this.data.gridLineLayer.onTopGroup.firstChild;)this.data.gridLineLayer.onTopGroup.removeChild(this.data.gridLineLayer.onTopGroup.firstChild)},Jn.prototype.swipeBeyondHorizLimit=function(e){this.hLinesToMove=[],this.iLinesToMove=[];for(var t,i,r,a,n=this.lineConfig.vInnerExpInner.length,o=this.lineConfig.vInnerExpHeader.length,s=0;s<o;s++)this.lineConfig.vInnerExpHeader[s]&&this.lineConfig.vInnerExpHeader[s].x1>=this.resizeStartX&&(this.hLinesToMove.push(s),this.lineConfig.vInnerExpHeader[s].x1===this.resizeStartX)&&(this.colIndex=this.lineConfig.vInnerExpHeader[s].colIndex,this.hLineIndex=s);for(s=0;s<n;s++)this.lineConfig.vInnerExpInner[s]&&this.lineConfig.vInnerExpInner[s].x1>=this.resizeStartX&&(this.iLinesToMove.push(s),this.lineConfig.vInnerExpInner[s].x1===this.resizeStartX)&&(this.iLineIndex=s);var l=e.deltaX-this.prevDeltaX;if(this.resizeStartX+=l,this.prevDeltaX=e.deltaX,this.data.tableProps.isRowHeaderActionAllowed)for(this.lineConfig.vHeaderExpHeader&&this.lineConfig.vHeaderExpHeader.x1>=this.resizeStartX&&this.lineConfig.vHeaderExpHeader.x1===this.resizeStartX&&(this.colIndex=this.lineConfig.vHeaderExpHeader[s].colIndex,this.lineConfig.vHeaderExpHeader.x1=this.lineConfig.vHeaderExpHeader.x1+l,this.lineConfig.vHeaderExpHeader.x2=this.lineConfig.vHeaderExpHeader.x1),this.lineConfig.vHeaderExpInner&&this.lineConfig.vHeaderExpInner.x1>=this.resizeStartX&&this.lineConfig.vHeaderExpInner.x1===this.resizeStartX&&(this.lineConfig.vHeaderExpInner.x1=this.lineConfig.vHeaderExpInner.x1+l,this.lineConfig.vHeaderExpInner.x2=this.lineConfig.vHeaderExpInner.x1),this.data.featureList.RecordHeader.updateOnColResize(l),s=0;s<this.lineConfig.hInnerExpHeader.length;s++)this.lineConfig.hInnerExpHeader[s].x2=this.lineConfig.hInnerExpHeader[s].x2+l;for(s=0;s<this.hLinesToMove.length;s++)a=this.hLinesToMove[s],this.lineConfig.vInnerExpHeader[a].x1=this.lineConfig.vInnerExpHeader[a].x1+l,this.lineConfig.vInnerExpHeader[a].x2=this.lineConfig.vInnerExpHeader[a].x1;for(s=0;s<this.iLinesToMove.length;s++)a=this.iLinesToMove[s],this.lineConfig.vInnerExpInner[a].x1=this.lineConfig.vInnerExpInner[a].x1+l,this.lineConfig.vInnerExpInner[a].x2=this.lineConfig.vInnerExpInner[a].x1;var u=this.data.viewport.getColumnCount();0<=this.colIndex&&(r=this.data.viewport.autocompleteColumnVisible,this.data.featureList.Header.updateOnColResize(this.colIndex,l),this.data.featureList.DataTemplates.updateOnColResize(this.colIndex,l),this.data.featureList.ColumnBackGround.updateOnColResize(this.colIndex,l),t=this.data.viewport.getViewportSelection(this.data.selectionDetail.getSelection())),this.line.setAttribute("onResize",""),this.data.viewport.setTotalVisibleColumns(this.data.configuration),this.data.viewport.updateVisibleColumns(this.Parent.prevDataInstance.columnIndex),this.Parent.createHorScrollBar(),u===this.data.viewport.getColumnCount()&&r===this.data.viewport.autocompleteColumnVisible||(this.Parent.reloadOnColumnResize(e.target),this.line.showHighlighterLine(this.hLineIndex,this.iLineIndex),i=!0),i||this.data.tableProps.alwaysShowRecent||-1===t.rowIndex||(this.data.featureList.SelectionBorder.clearBorder(),this.data.featureList.SelectionBorder.createBorder(t))},Jn.prototype.handleEvents=function(e,t,i){var r;if("mousedown"===t.type||"touchstart"===t.type){if(this.hLinesToMove=[],this.iLinesToMove=[],this.resizeStartX=parseFloat(e.getAttribute("x1")),this.lineConfig.vHeaderExpHeader&&this.lineConfig.vHeaderExpHeader.x1===this.resizeStartX)this.data.tableProps.isRowHeaderAction=!0,this.data.tableProps.allowRowHeaderResize&&this.data.tableProps.hasRowHeader&&(this.getColResizeLowerLimit(),this.data.tableProps.isRowHeaderActionAllowed=!0);else{for(this.data.tableProps.isRowHeaderAction=!1,this.data.tableProps.isRowHeaderActionAllowed=!1,r=0;r<this.lineConfig.vInnerExpHeader.length;r++)if(this.lineConfig.vInnerExpHeader[r].x1===this.resizeStartX){this.colIndex=this.lineConfig.vInnerExpHeader[r].colIndex,this.hLineIndex=r,this.getColResizeLowerLimit();break}for(r=0;r<this.lineConfig.vInnerExpInner.length;r++)if(this.lineConfig.vInnerExpInner[r].x1===this.resizeStartX){this.iLineIndex=r;break}}this.line.showHighlighterLine(this.hLineIndex,this.iLineIndex)}else"mouseup"===t.type||"touchend"===t.type||"panend"===t.type?(this.line.showHideHighlighterLine(this.hLineIndex,this.iLineIndex,!0),this.line.removeHighlighterLine(this.hLineIndex,this.iLineIndex),this.hLinesToMove=[],this.iLinesToMove=[],this.colIndex=-1,this.hLineIndex=-1,this.iLineIndex=-1,this.resizeLimit=-1,this.prevDeltaX=-1,this.data.tableProps.isRowHeaderAction=!1,this.data.tableProps.isRowHeaderActionAllowed=!1):"panright"!==t.type&&"panleft"!==t.type||(0===t.which?(this.line.removeHighlighterLine(this.hLineIndex,this.iLineIndex),this.hLinesToMove=[],this.iLinesToMove=[],this.colIndex=-1,this.hLineIndex=-1,this.iLineIndex=-1,this.resizeLimit=-1,this.prevDeltaX=-1,this.data.tableProps.isRowHeaderAction=!1,this.data.tableProps.isRowHeaderActionAllowed=!1):0<this.hLinesToMove.length&&i.x<this.resizeLimit||i.x>this.data.tableProps.width-5||(i.y<0||i.y>this.data.tableProps.height?this.line.showHideHighlighterLine(this.hLineIndex,this.iLineIndex,!1):0<i.y&&i.y<this.data.tableProps.height&&!this.line.isGridLineHilighterVisible?this.line.showHideHighlighterLine(this.hLineIndex,this.iLineIndex,!0):i.x>=this.resizeLimit&&this.swipeBeyondHorizLimit(t)))},Jn.prototype.getColResizeLowerLimit=function(){var e,t;if(this.data.tableProps.isRowHeaderAction)this.data.tableProps.isRowHeaderActionAllowed&&(this.resizeLimit=this.data.tableProps.leftBorder/this.CONST_VALUE+this.data.configuration.GridLineWidth,this.data.tableProps.allowRowHeaderResize||(this.resizeLimit+=this.data.tableProps.rowHeaderWidth));else if(t=this.data.viewport.getColumns()[this.colIndex],0===this.colIndex&&0===t.MinimumWidth)this.resizeLimit=this.data.tableProps.rowHeaderWidth+this.data.tableProps.leftBorder/this.CONST_VALUE+this.data.configuration.GridLineWidth;else if(0<this.colIndex)for(e=0;e<this.lineConfig.vInnerExpHeader.length;e++)this.lineConfig.vInnerExpHeader[e].colIndex===this.colIndex-1&&(this.resizeLimit=this.lineConfig.vInnerExpHeader[e].x1+this.data.configuration.GridLineWidth)},Jn.prototype.updateLinePositions=function(e,t){var i,r,a;for(this.hLinesToMove=[],this.iLinesToMove=[];e<=t;e++){for(i=0;i<this.lineConfig.vInnerExpHeader.length;i++)this.lineConfig.vInnerExpHeader[i].colIndex===e&&this.hLinesToMove.push(i);for(i=0;i<this.lineConfig.vInnerExpInner.length;i++)this.lineConfig.vInnerExpInner[i].colIndex===e&&this.iLinesToMove.push(i)}for(i=0;i<this.hLinesToMove.length;i++)a=this.lineConfig.vInnerExpHeader[this.hLinesToMove[i]],r=this.data.tableProps.rowHeaderWidth+a.strokeWidth/this.CONST_VALUE+this.data.tableProps.getTotalColumnWidth(this.data,a.colIndex+1),a.x1=r,a.x2=r;for(i=0;i<this.iLinesToMove.length;i++)a=this.lineConfig.vInnerExpInner[this.iLinesToMove[i]],r=this.data.tableProps.rowHeaderWidth+a.strokeWidth/this.CONST_VALUE+this.data.tableProps.getTotalColumnWidth(this.data,a.colIndex+1),a.x1=r,a.x2=r;this.line.setAttribute("onResize","")},Jn.prototype.setGridLineVisibility=function(e,t){for(var i=0;i<t;i++)this.Features[i].Attributes.orientation=e===at.getChromEnum("HmiSimpleGridLine").None?"":e===at.getChromEnum("HmiSimpleGridLine").Vertical?"row":e===at.getChromEnum("HmiSimpleGridLine").Horizontal?"column":3===e?"row column":""},Jn.prototype.onPropertyChange=function(e,t){var i,r=this.Features.length;switch(e){case"GridLineColor":for(t=at.getRGBAcolor(t),i=0;i<r;i++)i===this.CONST_VALUE&&(this.Features[i].Attributes.stroke=t);this.line.setAttribute(e,t);break;case"GridLineWidth":for(i=0;i<r;i++)i<this.CONST_VALUE&&(this.Features[i].Attributes["stroke-width"]=t);this.line.setAttribute(e,t);break;case"GridLineVisibility":this.setGridLineVisibility(t,r),this.draw(this.webRTPUItem,this.data);break;default:for(t=at.getRGBAcolor(t),i=0;i<r;i++)i<this.CONST_VALUE&&(this.Features[i].Attributes.stroke=t);this.line.setAttribute(e,t)}},Jn.prototype.remove=function(){this.verticalLineGroup=null,this.horizontalLineGroup=null,this.vInnerExpHeaderLineGroup=null,this.vInnerExpInnerLineGroup=null,this.highlighterHeaderLineGroup=null,this.highlighterInnerLineGroup=null,this.line.remove(),this.line=null,this.lineConfig.remove(),this.lineConfig=null,this.hasHorizontalLines=!1,this.hasVericalLines=!1,this.dummyColCreated=!1,this.hLinesToMove=null,this.iLinesToMove=null,this.colIndex=-1,this.resizeLimit=-1,this.hLineIndex=-1,this.iLineIndex=-1,this.data=null,ot.prototype.remove.call(this)},nt.Gridlines=Jn,x=(x=e=e||{}).Lib||(x.Lib={}),x=(st=x.NVEs||(x.NVEs={})).Features||(st.Features={}),lt=x.FeatureBase,i($n,lt),$n.prototype.setSortProps=function(e,t,i){this.headerCollection&&(e=this.headerCollection[e])&&(null!==t&&e.setHmiProps(t,"HmiProps.SortOrder"),null!==i&&e.setHmiProps(i,"HmiProps.SortDirection"),e.update())},$n.prototype.updateHeaderTextOrFont=function(e){var t,i,r,a,n;if(void 0!==e)-1<(e=this.metaData.tableProps.getVisibleColIndex(this.metaData,e))&&(!(t=this.columns[e])||""!==t.Header.Text&&void 0!==t.Header.Text||(i=t.Name,this.headerCollection&&((r=this.headerCollection[e]).setHmiProps(i,"HmiProps.Text"),r.update())));else for(i=this.metaData.configuration.HeaderSettings.Font,a=this.headerCollection.length,n=0;n<a;n++)this.headerCollection&&((r=this.headerCollection[n]).setHmiProps(i,"HmiProps.Font"),r.update())},$n.prototype.onEnabledChanged=function(){var e=this.metaData.configuration.HeaderSettings.AllowColumnReorder&&!1!==this.webRTPUItem.Store.props.Enabled;this.metaData.headerGroup;e?this.dom.setAttribute("cursor","move"):this.dom.setAttribute("cursor","auto")},$n.prototype.draw=function(e,t){var i,r,a,n,o,s,l,u,h,d=0,c=st.getChromEnum("HmiContentMode"),p=st.getChromEnum("HmiGraphicStretchMode"),m=st.getChromEnum("HmiDataGridHeaderType");if(this.dom)for(this.dom=t.headerGroup;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=t.headerGroup,this.webRTPUItem=e;if(this.metaData=t,this.columns=this.metaData.viewport.getColumns(),this.metaData.tableProps.hasColumnHeader)for(o=this.metaData.configuration,this.headerCollection=[],d=this.metaData.tableProps.rowHeaderWidth+this.metaData.tableProps.leftBorder/this.DIVISION_FACTOR,i=this.columns.length,s=st.getSystemPart("HeaderCellSystemPart"),this.metaData.viewport.autocompleteColumnVisible&&(i=this.columns.length+1),l=this.metaData.tableProps.topBorder/this.DIVISION_FACTOR,r=0;r<i;r++)a=this.columns[r],(n=st.Utilities.cloneObj(s)).Content=st.Utilities.cloneObj(s.Content),n.Font=st.Utilities.cloneObj(o.HeaderSettings.Font),a?(u=void 0===a.SortDirection?0:a.SortDirection,h=void 0===a.SortOrder?0:a.SortOrder,this.metaData.tableProps.alwaysShowRecent?(n.SortDirection=0,n.SortOrder=0):(n.SortDirection=u,n.SortOrder=h),n.AllowSort=a.AllowSort,n.Content.ContentMode=a.Header.Content.ContentMode,this.metaData.configuration.HeaderSettings.ColumnHeaderType===m.Index?n.Text=a.ActualIndex:this.metaData.configuration.HeaderSettings.ColumnHeaderType===m.Content&&(n.Text=a.Header.Text,this.metaData.tableProps.latestProjectVersion&&(n.Name=a.Name),n.Graphic=a.Header.Graphic),n.Content.HorizontalTextAlignment=a.Header.Content.HorizontalTextAlignment,n.Content.TextTrimming=a.Header.Content.TextTrimming,n.Content.VerticalTextAlignment=a.Header.Content.VerticalTextAlignment,n.Content.Spacing=a.Header.Content.Spacing,n.Content.SplitRatio=a.Header.Content.SplitRatio,n.Content.TextPosition=a.Header.Content.TextPosition,n.Content.GraphicStretchMode=a.Header.Content.GraphicStretchMode,n.Width=a.Width):(n.Text="",n.Width=this.metaData.tableProps.width-d-this.metaData.tableProps.rightBorder/this.DIVISION_FACTOR),n.ForeColor=o.HeaderSettings.HeaderForeColor,n.BackColor=o.HeaderSettings.HeaderBackColor,n.Height=this.metaData.tableProps.cellHeight,(u=e.createSubtemplate(this,this.Templates[""],n,null,n.Width,n.Height)).RootNode.setAttribute("x",d),u.RootNode.setAttribute("y",l),d+=n.Width,this.dom.appendChild(u.RootNode),this.headerCollection[r]=u,a&&a.Header.Content.ContentMode!==c.Text&&""!==a.Header.Graphic&&a.Header.Content.GraphicStretchMode===p.None&&st.loadImage(this.webRTPUItem.Store,a.Header.Graphic,this.onGraphicLoaded.bind(this),{columnIndex:r});return this.dom},$n.prototype.createHighlighter=function(e,t){var i,r;this.removeHighlighterHeaderGroup(),(r=(i=this.headerCollection[e].RootNode.cloneNode(!0)).getElementsByTagName("rect")[0]).setAttribute("fill",st.getRGBAcolor(this.metaData.configuration.SelectionBackColor)),r.setAttribute("opacity","0.8"),i.setAttribute("x",parseFloat(i.getAttribute("x"))+t.deltaX),i.setAttribute("y",parseFloat(this.Parent.dom.getAttribute("y"))),i.setAttribute("pointer-events","none"),i.getElementsByTagName("text")[1].textContent=this.columns[e].Header.Text,void 0===this.metaData.highlighterGroup&&(this.metaData.highlighterGroup=document.createElementNS("http://www.w3.org/2000/svg","g")),this.metaData.highlighterGroup.appendChild(i),this.Parent.dom.parentElement.appendChild(this.metaData.highlighterGroup)},$n.prototype.onGraphicLoaded=function(e,t){var i,r,a;this.headerCollection&&(i=this.headerCollection[t.params.columnIndex],a=this.columns[t.params.columnIndex],r=this.metaData.tableProps.cellHeight,r=t.h>r?r:t.h,a=a.Width,a=t.w>a?a:t.w,i.setHmiProps(r,"HmiProps.GraphicHeight"),i.setHmiProps(a,"HmiProps.GraphicWidth"),i.update())},$n.prototype.redraw=function(e,t){this.headerCollection=[],this.draw(e,t)},$n.prototype.setSelection=function(e){var t={Fore:this.metaData.configuration.HeaderSettings.HeaderSelectionForeColor,Back:this.metaData.configuration.HeaderSettings.HeaderSelectionBackColor};this.updateCellColor([e],t)},$n.prototype.reorderColumns=function(e,t){var i,r=this.columns[e].Index,a=this.columns[t].Index;for(this.metaData.configuration.Columns.splice(r,0,this.metaData.configuration.Columns.splice(a,1)[0]),this.metaData.viewport.setTotalVisibleColumns(this.metaData.configuration,!1),this.metaData.viewport.updateVisibleColumns(this.Parent.prevDataInstance.columnIndex),this.columns=this.metaData.viewport.getColumns(),this.headerCollection.splice(e,0,this.headerCollection.splice(t,1)[0]),this.metaData.featureList.DataTemplates.reorderColumnData(e,t),e===this.firstColCurrIndex?this.firstColCurrIndex=t:t===this.firstColCurrIndex&&(this.firstColCurrIndex=e),a=e<t?(r=e,t):(r=t,e),this.metaData.featureList.Gridlines.updateLinePositions(r,a);r<=a;r++)i=this.metaData.tableProps.rowHeaderWidth+this.metaData.tableProps.leftBorder/this.DIVISION_FACTOR+this.metaData.tableProps.getTotalColumnWidth(this.metaData,r),this.headerCollection[r].RootNode.setAttribute("x",i),this.metaData.featureList.DataTemplates.updateXPosOnColReorder(r,i);this.metaData.featureList.ColumnBackGround&&this.metaData.featureList.ColumnBackGround.draw(this.webRTPUItem,this.metaData)},$n.prototype.updateHeaderColor=function(e){var t,i=this.metaData.selectionDetail.getSelection().columnIndex,r=this.metaData.viewport.getColumnCount();if(this.headerCollection)for(r+=this.metaData.viewport.autocompleteColumnVisible?1:0,t=0;t<r;t++)i!==t&&this.updateCellColor([t],e)},$n.prototype.updateSelectedHeaderColor=function(e){var t,i=this.metaData.viewport.getColumnCount(),r=this.metaData.selectionDetail.getSelection().columnIndex;if(this.headerCollection)for(t=0;t<i;t++)if(r===t){this.updateCellColor([t],e);break}},$n.prototype.updateOnColResize=function(e,t){for(var i,r,a,n,o=this.headerCollection.length,s=e<0?0:e;s<o;s++)s===e?(i=this.columns[s].Index,-1<(n=this.metaData.configuration.Columns[i].Width+t)&&(this.metaData.configuration.Columns[i].Width=n,(r=this.headerCollection[s]).RootNode.setAttribute("width",n),r.setHmiProps(n,"HmiProps.Width"),r.update(),this.metaData.viewport.updateVisibleColumns(this.Parent.prevDataInstance.columnIndex),n=st.Utilities.getDataProvider(this.webRTPUItem,this.metaData.instanceID))&&"function"==typeof n.updateColumnWidth&&n.updateColumnWidth(i)):this.metaData.viewport.autocompleteColumnVisible&&s===this.headerCollection.length-1?(r=this.headerCollection[s],a=parseFloat(r.RootNode.getAttribute("x"))+t,-1<(n=r.RootScope.Properties.HmiProps.Width-t)&&(r.RootNode.setAttribute("x",a),r.RootNode.setAttribute("width",n),r.setHmiProps(n,"HmiProps.Width"),r.update())):(r=this.headerCollection[s],a=parseFloat(r.RootNode.getAttribute("x"))+t,r.RootNode.setAttribute("x",a))},$n.prototype.updateCellColor=function(e,t){for(var i,r=e.length,a=0;a<r;a++)e[a]<0||(i=this.headerCollection[e[a]])&&(t.Back&&i.setHmiProps(t.Back,"HmiProps.BackColor"),t.Fore&&i.setHmiProps(t.Fore,"HmiProps.ForeColor"),i.update())},$n.prototype.updateTextAndGraphicProperty=function(e,t,i){var r;this.headerCollection&&(t=this.metaData.tableProps.getVisibleColIndex(this.metaData,t),i?-1<t&&""!==e&&(r=this.headerCollection[t],st.loadImage(this.webRTPUItem.Store,e,this.onGraphicLoaded.bind(this),{columnIndex:t}),r.setHmiProps(e,"HmiProps.Graphic")):-1<t&&""!==e&&(this.metaData.configuration.HeaderSettings.ColumnHeaderType!==st.getChromEnum("HmiDataGridHeaderType").Index||!isNaN(e))&&((r=this.headerCollection[t]).setHmiProps(e,"HmiProps.Text"),r.update()))},$n.prototype.updateContentRelatedProps=function(e,t,i,r){switch(e){case"SplitRatio":case"ContentMode":case"TextPosition":case"GraphicStretchMode":case"VerticalTextAlignment":case"HorizontalTextAlignment":case"Spacing":case"TextTrimming":this.headerCollection&&-1<(t=this.metaData.tableProps.getVisibleColIndex(this.metaData,t))&&(this.headerCollection[t].setHmiProps(i,"HmiProps.Content"),this.headerCollection[t].update()),r=!0}return r},$n.prototype.onPropertyChanged=function(e,t,i,r){var a,n=!1;if(!(n=this.updateContentRelatedProps(e,i,r,n)))switch(e){case"Text":this.updateTextAndGraphicProperty(t,i,!1),n=!0;break;case"Graphic":this.updateTextAndGraphicProperty(t,i,!0),n=!0;break;case"HeaderSelectionBackColor":this.updateSelectedHeaderColor({Back:t});break;case"HeaderSelectionForeColor":this.updateSelectedHeaderColor({Fore:t});break;case"HeaderForeColor":this.updateHeaderColor({Fore:t}),n=!0;break;case"HeaderBackColor":this.updateHeaderColor({Back:t}),n=!0;break;case"ColumnHeaderType":case"Visible":case"Width":case"OutputFormat":case"MinimumWidth":case"MaximumWidth":this.Parent.resizeControl=!0,this.Parent.update(),n=!0;break;case"SortDirection":a=this.metaData.viewport.getColumnIndexByActualIndex(i),this.updateSortDirection(a),n=!0;break;case"SortOrder":a=this.metaData.viewport.getColumnIndexByActualIndex(i),this.updateSortOrder(a),n=!0;break;case"Italic":case"Name":case"Size":case"Weight":case"Underline":case"StrikeOut":this.updateHeaderTextOrFont(i),n=!0}return n},$n.prototype.showHideHighlighterHeaderGroup=function(e,t){var i="none";t?(i="BLOCK",this.isHilighterVisible=!0):this.isHilighterVisible=!1,this.metaData.highlighterGroup&&(this.metaData.highlighterGroup.style.display=i)},$n.prototype.removeHighlighterHeaderGroup=function(){if(this.metaData.highlighterGroup)for(;this.metaData.highlighterGroup.firstChild;)this.metaData.highlighterGroup.removeChild(this.metaData.highlighterGroup.firstChild)},$n.prototype.clearAllSortCriteria=function(){for(var e=this.columns?this.columns.length:0,t=0;t<e;t++)(0<this.columns[t].SortOrder||0<this.columns[t].SortDirection)&&this.setSortProps(t,0,0)},$n.prototype.clearSelection=function(e){var t={Fore:this.metaData.configuration.HeaderSettings.HeaderForeColor,Back:this.metaData.configuration.HeaderSettings.HeaderBackColor};this.updateCellColor([e],t)},$n.prototype.remove=function(e){var t,i;if(void 0===e&&(e=!0),this.headerCollection){for(i=this.headerCollection.length,t=0;t<i;t++)this.headerCollection[t].remove(!1,!0,!1),this.headerCollection[t]=null;this.headerCollection=null,this.columns=null,this.metaData=null,e&&lt.prototype.remove.call(this)}},x.Header=$n,t=(t=e=e||{}).Lib||(t.Lib={}),t=(ut=t.NVEs||(t.NVEs={})).Features||(ut.Features={}),ht=t.NVEFeatureBase,i(eo,ht),eo.prototype.draw=function(e,t){return this.metaData=t,document.createElementNS("http://www.w3.org/2000/svg","g")},eo.prototype.redraw=function(e,t){this.dirtyList=[],this.draw(e,t)},eo.prototype.getProperty=function(e){e=(void 0!==this.Attributes[e]?this.Attributes:this.defaults)[e];return e},eo.prototype.isValid=function(){return!0},eo.prototype.getDisplayText=function(e,t,i){var r,a,n,o,s=0,l=i||{};if(this.mergeWithDefaultsAndScope(),Array.isArray(t))if(this.getProperty("hidden-input")){for(r="",n=t.length,a=0;a<n;a++){if(o=t[a],0<a&&!0!==l[a-1]&&(r+="*",s++),s+=o.length,!e&&6<s){r="******";break}r+=o.replace(/(.|\n)/g,"*")}r=[r]}else r=t;else r=t.toString(),this.getProperty("hidden-input")&&(r=(r=!e&&6<r.length?r.substr(0,6):r).replace(/(.|\n)/g,"*"));return r},eo.prototype.getInitialInput=function(e){var t="";return this.mergeWithDefaultsAndScope(),this.getProperty("clear-on-activate")||null!=e&&(t=e),t},eo.prototype._getBoolValue=function(e){return e=null!=e?ut.Utilities.convertToBool(e):e},eo.prototype.mergeWithDefaultsAndScope=function(){var e=this.getAttribute("scope");this.Attributes["input-on-activate"]=this._getBoolValue(this.Attributes["input-on-activate"]),this.Attributes["accept-on-deactivated"]=this._getBoolValue(this.Attributes["accept-on-deactivated"]),this.Attributes["accept-on-completed"]=this._getBoolValue(this.Attributes["accept-on-completed"]),this.Attributes["clear-on-invalid-input"]=this._getBoolValue(this.Attributes["clear-on-invalid-input"]),this.Attributes["clear-on-activate"]=this._getBoolValue(this.Attributes["clear-on-activate"]),this.Attributes["hidden-input"]=this._getBoolValue(this.Attributes["hidden-input"]),null!=e&&(null!=e.InputOnActivate&&(this.defaults["input-on-activate"]=e.InputOnActivate),null!=e.AcceptOnDeactivated&&(this.defaults["accept-on-deactivated"]=e.AcceptOnDeactivated),null!=e.AcceptOnCompleted&&(this.defaults["accept-on-completed"]=e.AcceptOnCompleted),null!=e.ClearOnInvalidInput&&(this.defaults["clear-on-invalid-input"]=e.ClearOnInvalidInput),null!=e.ClearOnActivate&&(this.defaults["clear-on-activate"]=e.ClearOnActivate),null!=e.HiddenInput)&&(this.defaults["hidden-input"]=e.HiddenInput)},eo.prototype.propertyChanged=function(e){-1===this.dirtyList.indexOf(e)&&this.dirtyList.push(e),ht.prototype.propertyChanged.call(this,e)},eo.prototype.setMetaData=function(e){this.metaData=e},t.InputBehavior=eo,x=(x=e=e||{}).Lib||(x.Lib={}),x=(dt=x.NVEs||(x.NVEs={})).Features||(dt.Features={}),ct=x.FeatureBase,i(to,ct),to.prototype.draw=function(e,t){return dt.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.Attributes["horizontal-preference"]<-1&&(this.Attributes["horizontal-preference"]=-1),1<this.Attributes["horizontal-preference"]&&(this.Attributes["horizontal-preference"]=1),this.Attributes["vertical-preference"]<-1&&(this.Attributes["vertical-preference"]=-1),1<this.Attributes["vertical-preference"]&&(this.Attributes["vertical-preference"]=1),this.inputHintPart=dt.getSystemPart("HmiInputHintSystemPart"),this.inputHintPart.Width=this.Attributes.width,this.inputHintPart.Height=this.Attributes.height,this.inputHintPart.VerticalAlignment=this.Attributes["vertical-preference"],this.inputHintPart.HorizontalAlignment=this.Attributes["horizontal-preference"],this.inputHintPart.OffsetX=this.Attributes["offset-x"],this.inputHintPart.OffsetY=this.Attributes["offset-y"],this.item=e,this.dom},to.prototype.redraw=function(e,t){this.draw(e,t)},to.prototype.setInputHintDivDomAttributes=function(e,t,i,r){var a;return null===this.templateInstance&&this.createTemplateInstance(),(a=document.createElement("div")).style.position="absolute",a.style.pointerEvents="none",a.style.zIndex="2000",a.style.left=window.scrollX+t+.5*(parseFloat(this.Attributes["horizontal-preference"])+1)*r+parseInt(this.Attributes["offset-x"],10)+"px",a.style.top=window.scrollY+e-this.Attributes.height+.5*(parseFloat(this.Attributes["vertical-preference"])+1)*i+parseInt(this.Attributes["offset-y"],10)+"px",a},to.prototype.setInputHintSvgAttributes=function(e,t){null===this.templateInstance&&this.createTemplateInstance();var i=this.dom,t=.5*(parseFloat(this.Attributes["horizontal-preference"])+1)*t+parseInt(this.Attributes["offset-x"],10),e=-this.Attributes.height+.5*(parseFloat(this.Attributes["vertical-preference"])+1)*e+parseInt(this.Attributes["offset-y"],10);return i.setAttribute("x",t.toString()),i.setAttribute("y",e.toString()),i},to.prototype.createTemplateInstance=function(){this.templateInstance=this.item.createSubtemplate(this,this.Templates["inputHint-details"],this.inputHintPart,null,this.inputHintPart.Width,this.inputHintPart.Height),this.dom=this.templateInstance.RootNode},to.prototype.remove=function(){this.templateInstance=null,this.dom=null,this.Templates=null,this.inputHintPart=null,this.item=null,ct.prototype.remove.call(this)},x.InputHint=to,t=(t=e=e||{}).Lib||(t.Lib={}),t=(pt=t.NVEs||(t.NVEs={})).Features||(pt.Features={}),mt=t.FeatureBase,i(io,mt),io.prototype.draw=function(e,t){return pt.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.webRTPUItem=e,this.metaData=t,(this.metaData.logicFeatureInstance=this).dom},io.prototype.redraw=function(e){this.draw(e,this.metaData)},io.prototype.render=function(e){var t=pt.getSystemPart("HmiLogicSymbolSystemPart"),t=this.metaData.updateMissingLogicSubParts(t),i=this.metaData.flowLineFeatureInstances.inactivedash,r=this.metaData.flowLineFeatureInstances.normalsolid,a={Content:{HeaderTag:null!=(a=e.headerOperand.value)?a:"",HeaderAddress:null!=(a=e.headerOperand.address)?a:"",HeaderAddressForeColor:pt.getRGBAcolor(e.headerOperand.addressForeColor),HeaderText:e.headerOperand.infoText,FooterTag:null!=(a=null==(a=e.footerOperand)?void 0:a.value)?a:"",FooterAddress:null!=(a=null==(a=e.footerOperand)?void 0:a.address)?a:"",FooterAddressForeColor:null!=(a=e.footerOperand)&&a.addressForeColor?pt.getRGBAcolor(e.footerOperand.addressForeColor):"",FooterText:null!=(a=null==(a=e.footerOperand)?void 0:a.infoText)?a:"",HeaderBackColor:e.headerOperand.backColor,HeaderForeColor:e.headerOperand.foreColor,HeaderOperandBackColor:null!=(a=e.headerOperand.textBackColor)?a:"",HeaderOperandForeColor:null!=(a=e.headerOperand.textForeColor)?a:"",FooterOperandBackColor:null!=(a=null==(a=e.footerOperand)?void 0:a.textBackColor)?a:"",FooterOperandForeColor:null!=(a=null==(a=e.footerOperand)?void 0:a.textForeColor)?a:"",FooterBackColor:null!=(a=null==(a=e.footerOperand)?void 0:a.backColor)?a:e.headerOperand.backColor,FooterForeColor:null!=(a=null==(a=e.footerOperand)?void 0:a.foreColor)?a:e.headerOperand.foreColor,ContentText:e.contentText,ContentWidth:e.contentWidth,ContentHeight:e.contentHeight,Stroke:e.stroke,StrokeWidth:e.strokeWidth,InActiveStroke:(i||r).Attributes.stroke,Type:e.type===pt.Data.LogicElementType.Contact?"input":"output",ActiveStatus:e.activeStatus,IsDashAllowed:!!i},Colors:{}},r=pt.Utilities.cloneObj(t);return r.Width=e.width,r.Height=e.height,r.ContentFont.Size=e.contentFontSize,this.webRTPUItem.createSubtemplate(this,this.Templates["logic-details"],r,a,r.Width,r.Height)},io.prototype.remove=function(){this.metaData=null,mt.prototype.remove.call(this)},t.Logic=io,x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Features||(x.Features={}),gt=x.FeatureBase,i(ro,gt),ro.prototype.draw=function(e,t){return null},ro.prototype.redraw=function(e,t){},x.Properties=ro,t=(t=e=e||{}).Lib||(t.Lib={}),t=(Tt=t.NVEs||(t.NVEs={})).Features||(Tt.Features={}),ft=t.FeatureBase,i(ao,ft),ao.prototype.draw=function(e,t){var i,r,a,n,o=0;if(this.dom)for(this.dom=t.recordHeaderGroup;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=t.recordHeaderGroup,this.webRTPUItem=e;for(this.data=t,this.xPos=this.data.tableProps.leftBorder/2,this.yPos=this.data.tableProps.topBorder/2,e=this.data.configuration,this.headerCellSystemPart=Tt.getSystemPart("HeaderCellSystemPart"),this.headerCellSystemPart.Width=this.data.tableProps.rowHeaderWidth,this.headerCellSystemPart.Height=this.data.tableProps.cellHeight,this.headerCellSystemPart.Font=Tt.Utilities.cloneObj(this.data.configuration.HeaderSettings.Font),this.headerCellSystemPart.Content.HorizontalTextAlignment=1,this.headerCellSystemPart.ForeColor=e.HeaderSettings.HeaderForeColor,this.headerCellSystemPart.BackColor=e.HeaderSettings.HeaderBackColor,i=this.data.viewport.getSize(),t.tableProps.hasColumnHeader?(n={Content:{Index:""}},i++):(n={Content:{Index:1}},o=1),a=this.webRTPUItem.createSubtemplate(this,this.Templates["header-view"],this.headerCellSystemPart,null,this.headerCellSystemPart.Width,this.headerCellSystemPart.Height),this.clonedCollection=[],this.clonedCollection.push(a),r=0;r<i;r++)this.clonedCollection[r]=this.createCell(r,a,n=null===n?{Content:{Index:r+o}}:n),n=null;return this.clearSelectionCells(),this.dom},ao.prototype.createCell=function(e,t,i){t=t.clone(i);return t.RootNode.setAttribute("x",this.xPos),t.RootNode.setAttribute("y",e*this.data.tableProps.cellHeight+this.yPos),t.RootNode.style.position="absolute",t.RootNode.style.left="1px",this.dom.appendChild(t.RootNode),t},ao.prototype.redraw=function(e,t){this.draw(e,t)},ao.prototype.remove=function(e){var t,i;if(void 0===e&&(e=!0),this.clonedCollection){for(i=this.clonedCollection.length,t=0;t<i;t++)this.clonedCollection[t].remove(!1,!0,!1),this.clonedCollection[t]=null;this.clonedCollection=null,e&&(this.data=null,ft.prototype.remove.call(this)),this.clearSelectionCells(),this.headerCellSystemPart=null}},ao.prototype.clearSelectionCells=function(){var e,t;if(this.selectedCell&&(this.selectedCell.remove(!1,!0,!1),this.selectedCell=null),this.selectedCells){for(t=this.selectedCells.length,e=0;e<t;e++)this.selectedCells[e].remove(!1,!0,!1),this.selectedCells[e]=null;this.selectedCells=null}},ao.prototype.updateCellData=function(e,t){var i;this.data.tableProps.hasColumnHeader&&e++,i=this.clonedCollection[e],t?i.setDataContent({Index:t.toString()}):i.setDataContent({Index:e.toString()}),i.update()},ao.prototype.clearSelection=function(e,t){var i,r,a,n,o=Array.isArray(e)?e:e.indices;if(o)for(i=o.length,a=this.data.tableProps.hasColumnHeader?1:0,this.data.viewport.getStartIndex(),r=0;r<i;r++)this.selectedCells&&this.selectedCells[r]&&null!==this.selectedCells[r].RootNode.parentNode&&(this.dom.removeChild(this.selectedCells[r].RootNode),n=this.clonedCollection[o[r]+a])&&n.RootNode&&this.dom.appendChild(n.RootNode);t&&this.clearSelectionCells()},ao.prototype.setSelection=function(e){var t,i,r,a,n,o,s,l=Array.isArray(e)?e:e.indices;if(l)for(this.selectedCell||(this.selectedCells=[],(e=Tt.Utilities.cloneObj(this.headerCellSystemPart)).Font=Tt.Utilities.cloneObj(this.data.configuration.HeaderSettings.Font),e.Content=Tt.Utilities.cloneObj(this.headerCellSystemPart.Content),e.Text="",e.Width=this.data.tableProps.rowHeaderWidth,e.Height=this.data.tableProps.cellHeight,e.Content.HorizontalTextAlignment=1,e.ForeColor=this.data.configuration.HeaderSettings.HeaderSelectionForeColor,e.BackColor=this.data.configuration.HeaderSettings.HeaderSelectionBackColor,this.selectedCell=this.webRTPUItem.createSubtemplate(this,this.Templates["header-view"],e,null,e.Width,e.Height)),this.data.configuration.GridSelectionMode&&(t=l.length),a=this.data.viewport.getStartIndex(),s=this.data.tableProps.hasColumnHeader?1:0,i=0;i<t;i++)-1!==(o=l[i]+s)&&(this.clonedCollection&&this.clonedCollection[o]&&this.clonedCollection[o].RootNode&&this.dom.removeChild(this.clonedCollection[o].RootNode),void 0===(r=this.selectedCells[i])?(n={Content:{Index:l[i]+a+1}},this.selectedCells[i]=this.createCell(o,this.selectedCell,n)):(r.setDataContent({Index:l[i]+a+1}),r.RootNode.setAttribute("x",this.xPos),r.RootNode.setAttribute("y",o*this.data.tableProps.cellHeight+this.yPos),r.RootNode.style.position="absolute",r.RootNode.style.left="1px",r.update(),this.dom.appendChild(r.RootNode)))},ao.prototype.updateRowCellColor=function(e,t,i){var r,a,n,o=Array.isArray(t)?t:t.indices,s=1;if(i?this.selectedCells:this.clonedCollection)for(this.data.tableProps.hasColumnHeader||(s=0),a=o.length,t.isSelectAll&&(n=this.clonedCollection[0],e&&(e.Fore&&n.setHmiProps(e.Fore,"HmiProps.ForeColor"),e.Back)&&n.setHmiProps(e.Back,"HmiProps.BackColor"),n.update()),r=0;r<a;r++)(n=i?this.selectedCells[r]:this.clonedCollection[o[r]+s])&&(e&&(e.Fore&&n.setHmiProps(e.Fore,"HmiProps.ForeColor"),e.Back)&&n.setHmiProps(e.Back,"HmiProps.BackColor"),n.update())},ao.prototype.updateHeaderColor=function(e){var t,i=this.data.selectionDetail.getSelection().indices,r=this.data.viewport.getSize();if(this.clonedCollection)for(this.data.tableProps.hasColumnHeader&&++r,t=0;t<r;t++)-1===i.indexOf(t)&&this.updateRowCellColor(e,[t])},ao.prototype.onPropertyChange=function(e,t){var i,r=this.data.selectionDetail.getSelection().indices,a=this.data.viewport.getSize();switch(e){case"RowHeaderType":this.Parent.resizeControl=!0,this.Parent.update();break;case"HeaderBackColor":t={Back:this.data.configuration.HeaderSettings.HeaderBackColor},this.updateHeaderColor(t);break;case"HeaderForeColor":t={Fore:this.data.configuration.HeaderSettings.HeaderForeColor},this.updateHeaderColor(t);break;case"HeaderSelectionBackColor":t={Back:this.data.configuration.HeaderSettings.HeaderSelectionBackColor},this.updateRowCellColor(t,r,!0);break;case"HeaderSelectionForeColor":t={Fore:this.data.configuration.HeaderSettings.HeaderSelectionForeColor},this.updateRowCellColor(t,r,!0);break;case"Italic":case"Name":case"Size":case"Weight":case"Underline":case"StrikeOut":t=this.data.configuration.HeaderSettings.Font,this.data.tableProps.hasColumnHeader&&++a,a&&this.clonedCollection&&((i=this.clonedCollection[0]).setHmiProps(t,"HmiProps.Font"),i.update())}},ao.prototype.updateOnColResize=function(e){var t,i,r,a=this.data.tableProps.rowHeaderWidth+e;if(-1<a&&(this.data.tableProps.rowHeaderWidth=a,(i=this.clonedCollection[0]).RootNode.setAttribute("width",a),i.setHmiProps(a,"HmiProps.Width"),i.update(),this.selectedCells))for(t=0;t<this.selectedCells.length;t++)(r=this.selectedCells[t]).RootNode.setAttribute("width",a),r.setHmiProps(a,"HmiProps.Width"),r.update();this.data.featureList.Header.updateOnColResize(-1,e)},ao.prototype.handleResize=function(e){var t=this.clonedCollection.length;if((e=this.data.tableProps.hasColumnHeader?e+1:e)<0){e=t-Math.abs(e),this.clonedCollection.splice(e,t);for(var i=t-1;e<=i;i--)this.dom.removeChild(this.dom.childNodes[i])}},t.RecordHeader=ao,x=(x=e=e||{}).Lib||(x.Lib={}),x=(yt=x.NVEs||(x.NVEs={})).Features||(yt.Features={}),Dt=x.FeatureBase,i(no,Dt),no.prototype.draw=function(e,t){if(this.coloringMode=yt.getChromEnum("HmiGridColoringMode"),this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=t.rowBackgoundGroup;this.metaData=t,this.clearTemplates(),this.rowBackGrounds=[],this.drawBackgroundRect(t,e);for(var i=0;i<this.Features.length;i++)this.dom.appendChild(this.Features[i].draw(e,t));return this.dom},no.prototype.redraw=function(e,t){this.draw(e,t)},no.prototype.onPropertyChange=function(e,t){var i,r,a;if(this.rowBackGrounds)if(i=this.rowBackGrounds.length,this.metaData.configuration.ColoringMode===this.coloringMode.Rows){if("BackColor"===e)for(r=0;r<i;r++)this.metaData.helper.isEven(r)&&((a=this.rowBackGrounds[r]).setHmiProps(t,"HmiProps.Color"),a.update());else if("AlternateBackColor"===e)for(r=0;r<i;r++)this.metaData.helper.isEven(r)||((a=this.rowBackGrounds[r]).setHmiProps(t,"HmiProps.Color"),a.update())}else if("BackColor"===e)for(r=0;r<i;r++)(a=this.rowBackGrounds[r]).setHmiProps(t,"HmiProps.Color"),a.update()},no.prototype.remove=function(){this.clearTemplates(),this.metaData=null,Dt.prototype.remove.call(this)},no.prototype.clearTemplates=function(){var e,t;if(this.rowBackGrounds){for(e=this.rowBackGrounds.length,t=0;t<e;t++)this.rowBackGrounds[t].remove(!1,!0,!1),this.rowBackGrounds[t]=null;this.rowBackGrounds=null}this.rowbackground=null,this.altRowbackground=null},no.prototype.drawBackgroundRect=function(e,t){var i,r,a,n,o=0,s=e.configuration.BackColor,l=e.configuration.AlternateBackColor,u=e.viewport.getSize(),h=yt.getSystemPart("BackgroundSystemPart");for(h.Height=e.tableProps.cellHeight,a=(e.tableProps.hasColumnHeader?e.tableProps.cellHeight:0)+this.metaData.tableProps.topBorder/2,n=(e.tableProps.hasRowHeader?this.metaData.tableProps.rowHeaderWidth:0)+this.metaData.tableProps.leftBorder/2,h.Width=e.tableProps.width-(this.metaData.tableProps.leftBorder/2+this.metaData.tableProps.rightBorder/2),o=0;o<u;o++)i=yt.Utilities.cloneObj(h),r=o*e.tableProps.cellHeight+a,(i=this.metaData.configuration.ColoringMode!==this.coloringMode.Rows||e.helper.isEven(o)?(i.Color=s,this.evenRow(t,i)):(i.Color=l,this.oddRow(t,i))).RootNode.setAttribute("x",n),i.RootNode.setAttribute("y",r),this.dom.appendChild(i.RootNode),this.rowBackGrounds.push(i)},no.prototype.evenRow=function(e,t){return this.rowbackground?this.rowbackground.clone():(this.rowbackground=e.createSubtemplate(this,this.Templates[""],t,null,t.Width,t.Height),this.rowbackground)},no.prototype.oddRow=function(e,t){return this.altRowbackground?this.altRowbackground.clone():(this.altRowbackground=e.createSubtemplate(this,this.Templates[""],t,null,t.Width,t.Height),this.altRowbackground)},x.RowBackground=no,t=(t=e=e||{}).Lib||(t.Lib={}),t=(St=t.NVEs||(t.NVEs={})).Features||(St.Features={}),bt=t.FeatureBase,i(oo,bt),oo.prototype.draw=function(e,t){return St.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.metaData=t,this.rulerFilter=this.Attributes["ruler-filter"],this.indicatorFilter=this.Attributes["indicator-filter"],this.contentWidth=this.Attributes["content-width"],this.contentHeight=this.Attributes["content-height"],this.dom},oo.prototype.drawRuler=function(e,t,i,r,a){this.webRTPUItem=e;var e=St.Utilities.getProjectMajorVersion(this.webRTPUItem),n=St.getSystemPart("RulerIndicatorSystemPart"),i=(17<=e||""===e||i===St.Data.TrendObjectType.Function?this.useOldStyle=!1:this.useOldStyle=!0,e={Content:{Text1:"",ID:"",RotationAngle:"(0)",positionX:1,positionY:1},Colors:{Fore:"FFFF0000",Back:"FFFFFF00"}},this.useOldStyle?(a&&(e.Content.ID=a),this.myTemplate=this.webRTPUItem.createSubtemplate(this,this.Templates["ruler-details"],n,e)):(t?(n.Height=this.contentHeight,n.Width=this.contentWidth):(n.Height=this.contentWidth,n.Width=this.contentHeight),r&&(n.Orientation=r),n.OutputFormat="",this.rulerPosition=n.RulerPosition=0,this.myTemplate=this.webRTPUItem.createSubtemplate(this,this.Templates["ruler-details"],n,e,n.Width,n.Height)),document.createElementNS("http://www.w3.org/2000/svg","g"));return i.appendChild(this.myTemplate.RootNode),this.useOldStyle||this.myTemplate.RootNode.setAttribute("id",a),i},oo.prototype.redraw=function(e,t){this.draw(e,t)},oo.prototype.remove=function(){bt.prototype.remove.call(this)},oo.prototype.addRuler=function(e){for(var t=0;t<e.length;t++)e[t].addRulerToArea(this)},oo.prototype.matchRuler=function(e,t,i){for(var r,a,n,o,s=[],l={},u=(l.contentWidth=this.contentWidth,l.contentHeight=this.contentHeight,St.getChromEnum("HmiOrientation")),h=e.length,d=this.rulerFilter.split(" "),c=this.indicatorFilter.split(" "),p=0;p<h;p++)if(r=(n=e[p].getRulerView()).getRulerType(),s=e[p].trends,a=e[p]._trendView.trendObjectType,-1<c.indexOf("primary")&&(e[p].setRulerIndicatorFeature(this),-1<d.indexOf("regular"))&&(a===St.Data.TrendObjectType.Function?(i?(r.regularvertical.dom=this.drawRuler(t,i,a,u.Vertical,n._ruler1._rulerAttr.id),l.rulerPosition=this.rulerPosition,l.useOldStyle=this.useOldStyle,r.regularvertical.setRulerData(this.myTemplate,r.regularvertical.dom,l),this.myTemplate=null,r.regularhorizontal.dom=this.drawRuler(t,i,a,void 0,n._rulerHoriz._rulerAttr.id)):(l.contentWidth=this.contentWidth,l.contentHeight=this.contentHeight,r.regularvertical.dom=this.drawRuler(t,i,a,void 0,n._ruler1._rulerAttr.id),r.regularvertical.setRulerData(this.myTemplate,r.regularvertical.dom,l),this.myTemplate=null,r.regularhorizontal.dom=this.drawRuler(t,i,a,u.Vertical,n._rulerHoriz._rulerAttr.id)),r.regularhorizontal.setRulerData(this.myTemplate,r.regularhorizontal.dom,l)):(r.regularvertical.dom=this.drawRuler(t,i,a,u.Vertical,n._ruler1._rulerAttr.id),l.rulerPosition=this.rulerPosition,l.useOldStyle=this.useOldStyle,r.regularvertical.setRulerData(this.myTemplate,r.regularvertical.dom,l)),this.myTemplate=null),-1<c.indexOf("secondary")&&-1<d.indexOf("regular"))for(e[p].getTrendView().secondaryRulerIndicatorFeature=this,l.rulerPosition=this.rulerPosition,l.useOldStyle=this.useOldStyle,o=0;o<s.length;o++)s[o].secondaryRulerToolTipTemplate=[],s[o].setRulerData(l)},oo.prototype.loadSecondaryToolTip=function(e,t,i){for(var r,a,n,o,s=t.length,l=0;l<s;l++)for(n=t[l].trends,o=0;o<n.length;o++)for(r=0;r<2;r++)a=this.drawRuler(e,i.isLeftOrRight(),i.trendObjectType),this.useOldStyle||this.myTemplate.RootNode.parentNode.setAttribute("display","none"),n[o].secondaryRulerToolTipTemplate[r]=this.myTemplate,t[l].setSecondaryIndicatorData(a),this.myTemplate=null},oo.prototype.loadStatisticRulerIndicator=function(e,t){var i=this.rulerFilter.split(" "),e=e.getRulerView(),r=e.getRulerType(),a={},n=t.isLeftOrRight(),t=t.trendObjectType,o=St.getChromEnum("HmiOrientation");r.min.dom||(a.contentWidth=this.contentWidth,a.contentHeight=this.contentHeight,-1<i.indexOf("min")&&(r.min.dom=this.drawRuler(this.webRTPUItem,n,t,o.Vertical,e._rulerStat1._rulerAttr.id),a.rulerPosition=this.rulerPosition,a.useOldStyle=this.useOldStyle,r.min.setRulerData(this.myTemplate,r.min.dom,a),this.myTemplate=null),-1<i.indexOf("max")&&(r.max.dom=this.drawRuler(this.webRTPUItem,n,t,o.Vertical,e._rulerStat2._rulerAttr.id),a.rulerPosition=this.rulerPosition,a.useOldStyle=this.useOldStyle,r.max.setRulerData(this.myTemplate,r.max.dom,a),this.myTemplate=null))},t.RulerIndicator=oo,x=(x=e=e||{}).Lib||(x.Lib={}),x=(Ct=x.NVEs||(x.NVEs={})).Features||(Ct.Features={}),vt=x.FeatureBase,i(so,vt),so.prototype.draw=function(e,t){var i,r=null,a=0;if(this.data=t,this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);for(this.webRTPUItem=e,i=this.Features.length,this.Attributes.hasOwnProperty("low-extension")||(this.Attributes["low-extension"]=this.defaults["low-extension"]),this.Attributes.hasOwnProperty("high-extension")||(this.Attributes["high-extension"]=this.defaults["high-extension"]),a=0;a<i;a++)r=this.Features[a].draw(e,t);return this.dom=r},so.prototype.redraw=function(e,t){this.draw(e,t)},so.prototype.templatePropertyCheck=function(e){var t,i,r,a,n,o,s=e.length;for(this.trendAreas=e,r=0;r<s;r++)a=(o=e[r].getRulerView()).getRulerType(),n=o.getRulerGrad(),o=o.getStatisticRulerGrad(),this.Attributes.stroke&&(e[r].templateStroke=!0,t=Ct.getRGBAcolor(this.Attributes.stroke),i=Ct.getDarkercolor(this.Attributes.stroke,.7),n.childNodes[0].setAttributeNS(null,"stop-color",t),n.childNodes[1].setAttributeNS(null,"stop-color",i),o.childNodes[0].setAttributeNS(null,"stop-color",t),o.childNodes[1].setAttributeNS(null,"stop-color",i),a.regular.setRulerColor(this.Attributes.stroke),a.min.setRulerColor(this.Attributes.stroke),a.max.setRulerColor(this.Attributes.stroke)),this.Attributes["stroke-width"]&&(e[r].templateStrokeWidth=!0,a.regular.setRulerWidth(Number(this.Attributes["stroke-width"])),a.min.setRulerWidth(Number(this.Attributes["stroke-width"])),a.max.setRulerWidth(Number(this.Attributes["stroke-width"])))},so.prototype.propertyChanged=function(e){switch(e){case"low-extension":case"high-extension":for(var t=void 0,i=this.trendAreas.length,t=0;t<i;t++)this.trendAreas[t].updateRulerExtent()}},so.prototype.remove=function(){this.trendAreas=new Array,vt.prototype.remove.call(this)},x.Rulers=so,t=(t=e=e||{}).Lib||(t.Lib={}),_t=t.NVEs||(t.NVEs={}),Pt=_t.Features||(_t.Features={}),At=Pt.NVEFeatureBase,i(lo,At),lo.prototype.draw=function(e,t){if(this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=document.createElementNS("http://www.w3.org/2000/svg","g");this.metaData=t,this.webRTPUItem=e,this.checkAndConvertEnums();var i=this.getAttribute("type");if(i&&"string"==typeof i&&(i=i.replace("-","")),t.setCalculationMethod(i),this.Attributes=_t.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.implementation||(this.metaData.NVE instanceof _t.StraightDial?this.implementation=new Pt.ScaleStraight(this):this.metaData.NVE instanceof _t.ArcDial&&(this.implementation=new Pt.ScaleArc(this))),t.scaleBegin=parseFloat(this.getAttribute("begin-value")),t.scaleEnd=parseFloat(this.getAttribute("end-value")),t.beginSurcharge=parseFloat(this.Parent.Attributes["begin-surcharge"]),t.endSurcharge=parseFloat(this.Parent.Attributes["end-surcharge"]),t.timezone=this.timezone,this.isValid())for(var r=0;r<this.Features.length;r++)this.dom.appendChild(this.Features[r].draw(e,t));return(this.dom.scale=this).dom},lo.prototype.checkAndConvertEnums=function(){var e;"number"==typeof this.Attributes.type&&(null!=(e=_t.Utilities.getEnumKeyByValue("HmiScalingType",this.Attributes.type))?this.Attributes.type=e:_t.trace(_t.enumTraceMode.Warning,"Can't draw a Scale with invalid enum for type"))},lo.prototype.isValid=function(){var e=parseFloat(this.Attributes["begin-value"]),t=parseFloat(this.Attributes["end-value"]);return isNaN(e)?(_t.trace(_t.enumTraceMode.Warning,"Can't draw a Scale with invalid begin-value"),!1):isNaN(t)?(_t.trace(_t.enumTraceMode.Warning,"Can't draw a Scale with invalid end-value"),!1):isNaN(parseInt(this.Attributes.origin))?(_t.trace(_t.enumTraceMode.Warning,"Can't draw a Scale with invalid origin"),!1):this.Attributes.extend&&"string"==typeof this.Attributes.extend?isNaN(parseInt(this.Attributes["maximum-sections"]))?(_t.trace(_t.enumTraceMode.Warning,"Can't draw a Scale with invalid maximum-sections"),!1):Math.abs(t-e)<=Math.exp(-20)?(_t.trace(_t.enumTraceMode.Warning,"Begin and end value are too close for the scale to be visible."),!1):this.Attributes.type&&"string"==typeof this.Attributes.type?!(!this.Attributes["auto-scale-mode"]||"string"!=typeof this.Attributes["auto-scale-mode"])||(_t.trace(_t.enumTraceMode.Warning,"Can't draw a Scale with invalid auto-scale-mode"),!1):(_t.trace(_t.enumTraceMode.Warning,"Can't draw a Scale with invalid type"),!1):(_t.trace(_t.enumTraceMode.Warning,"Can't draw a Scale with invalid extend"),!1)},lo.prototype.redraw=function(e,t){this.draw(e,t)},lo.prototype.getPoles=function(e){return this.implementation.getPoles(e)},lo.prototype.getStructure=function(){return this.implementation.getStructure()},lo.prototype.getValueAtPosition=function(e,t,i){return this.implementation.getValueAtPosition(e,t,i=void 0===i?!1:i)},lo.prototype.getPositionForValue=function(e){return this.implementation.getPositionForValue(e)},lo.prototype.getValueRange=function(){return this.implementation.getValueRange()},lo.prototype.getSpacing=function(e,t){var i=1,r=parseFloat(this.getAttribute("maximum-sections")),t=(t-e<0&&(i=-1),this.normalize(t-e));return i*this.normalize(t/r)},lo.prototype.normalize=function(e){var t=Math.floor(Math.log(Math.abs(e))/Math.LN10),e=Math.abs(e)/Math.pow(10,t),e=e<=1?1:e<=2?2:e<=5?5:10;return e*Math.pow(10,t)},Pt.Scale=lo,x=(x=e=e||{}).Lib||(x.Lib={}),x=(wt=x.NVEs||(x.NVEs={})).Features||(wt.Features={}),uo.prototype.getStructure=function(){var e=this.scale.Parent.getStructure(),t=e.getSections(),i=new Array,r=parseFloat(this.scale.getAttribute("begin-value")),a=parseFloat(this.scale.getAttribute("end-value")),n=this.scale.getAttribute("extend"),o=("none"!=n&&(s=this.scale.getSpacing(r,a),o=Math.floor(r/s)*s,s=Math.ceil(a/s)*s,"both"===n?(r=o,a=s):"begin"===n?r=o:"end"===n&&(a=s)),new wt.Data.SectionArc(t[0].centerX,t[0].centerY,t[0].beginAngle,t[0].endAngle,t[0].radius,r,a)),n=(i.push(o),this.getScalePoles(i,r,a)),s=new wt.Data.HierarchyLevel(i,n,this.scale);return t[0].children=s,e},uo.prototype.getPoles=function(e){var t=new Array,i=new wt.Data.PoleArc(e[0].centerX,e[0].centerY,e[0].radius,e[0].beginAngle,e[0].beginValue),e=new wt.Data.PoleArc(e[0].centerX,e[0].centerY,e[0].radius,e[0].endAngle,e[0].endValue);return t.push(i),t.push(e),t},uo.prototype.getScalePoles=function(e,t,i){var r=new Array,t=new wt.Data.PoleArc(e[0].centerX,e[0].centerY,e[0].radius,e[0].beginAngle,t),e=new wt.Data.PoleArc(e[0].centerX,e[0].centerY,e[0].radius,e[0].endAngle,i);return r.push(t),r.push(e),r},uo.prototype.getValueAtPosition=function(e,t,i){void 0===i&&(i=!1);var r=this.scale.Parent,a=r.getStructure().getSections()[0],n=r.getOffsetToSVGElement(),o=r.getCurrentValueForHmiProp("HmiProps.RotationAngle")||0,r={x:(r.getCurrentValueForHmiProp("HmiProps.RotationCenterX")||0)+n.x,y:(r.getCurrentValueForHmiProp("HmiProps.RotationCenterY")||0)+n.y,angle:null},n={x:e,y:t,angle:null},e=(0!=o&&(n=wt.Geometry.Calculations.rotatePoint(n,-o*wt.Geometry.degree,r)),Math.atan2(n.y-a.centerY,n.x-a.centerX)/wt.Geometry.degree);return e<0&&(e+=360),i&&(t=this.getAngleForValue(this.scale.metaData.scaleBegin,a,this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd),o=this.getAngleForValue(this.scale.metaData.scaleEnd,a,this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd),e=wt.Utilities.restrictToRange(e,t,o)),wt.Calculations.createCalc(this.scale.metaData.calcMethod).calcByPosition(e,a.beginAngle,a.endAngle,this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd)},uo.prototype.getAngleForValue=function(e,t,i,r){return wt.Calculations.createCalc(this.scale.metaData.calcMethod).calcByValue(e,t.beginAngle,t.endAngle,i,r)},uo.prototype.getPositionForValue=function(e){var t=this.scale.Parent.getStructure().getSections()[0],i=parseFloat(this.scale.getAttribute("begin-value")),r=parseFloat(this.scale.getAttribute("end-value")),e=this.getAngleForValue(e,t,i,r);return wt.Geometry.Calculations.getPointOnArc(e*wt.Geometry.degree,t.radius,t.centerX,t.centerY)},uo.prototype.getValueRange=function(){var e=this.getStructure().getPoles();return Math.abs(e[0].angle-e[1].angle)},x.ScaleArc=uo,t=(t=e=e||{}).Lib||(t.Lib={}),t=(Vt=t.NVEs||(t.NVEs={})).Features||(Vt.Features={}),ho.prototype.getPoles=function(e){var t=new Array;return t.push(new Vt.Data.PoleStraight(e[0].beginX,e[0].beginY,e[0].beginValue)),t.push(new Vt.Data.PoleStraight(e[0].endX,e[0].endY,e[0].endValue)),t},ho.prototype.getScalePoles=function(e,t,i){var r=new Array;return r.push(new Vt.Data.PoleStraight(e[0].beginX,e[0].beginY,t)),r.push(new Vt.Data.PoleStraight(e[0].endX,e[0].endY,i)),r},ho.prototype.getStructure=function(){var e=this.scale.Parent.getStructure(),t=e.getSections(),i=new Array,r=parseFloat(this.scale.getAttribute("begin-value")),a=parseFloat(this.scale.getAttribute("end-value")),n=this.scale.getAttribute("extend"),o=("none"!=n&&(s=this.scale.getSpacing(r,a),o=Math.floor(r/s)*s,s=Math.ceil(a/s)*s,"both"===n?(r=o,a=s):"begin"===n?r=o:"end"===n&&(a=s)),new Vt.Data.SectionStraight(t[0].beginX,t[0].beginY,t[0].endX,t[0].endY,r,a)),n=(i.push(o),this.getScalePoles(i,r,a)),s=new Vt.Data.HierarchyLevel(i,n,this.scale);return t[0].children=s,e},ho.prototype.getValueAtPosition=function(e,t,i){void 0===i&&(i=!1);var r,a,n=this.getStructure().getSections()[0].children,o=Vt.Calculations.createCalc(this.scale.metaData.calcMethod),n=n.getPoles();return this.scale.metaData.isVertical?(i&&(r=this.scale.getPositionForValue(Math.min(this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd)).y,a=this.scale.getPositionForValue(Math.max(this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd)).y,t=Vt.Utilities.restrictToRange(t,r,a)),o.calcByPosition(t,n[0].y,n[1].y,n[0].value,n[1].value)):(i&&(r=this.scale.getPositionForValue(Math.min(this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd)).x,a=this.scale.getPositionForValue(Math.max(this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd)).x,e=Vt.Utilities.restrictToRange(e,r,a)),o.calcByPosition(e,n[0].x,n[1].x,n[0].value,n[1].value))},ho.prototype.getPositionForValue=function(e){var t=this.getStructure().getSections()[0].children,i=Vt.Calculations.createCalc(this.scale.metaData.calcMethod),t=t.getPoles();return this.scale.metaData.isVertical?{x:t[0].x,y:i.calcByValue(e,t[0].y,t[1].y,t[0].value,t[1].value),angle:null}:{x:i.calcByValue(e,t[0].x,t[1].x,t[0].value,t[1].value),y:t[0].y,angle:null}},ho.prototype.getValueRange=function(){var e=this.getStructure().getPoles();return this.scale.metaData.isVertical?Math.abs(e[0].y-e[1].y):Math.abs(e[0].x-e[1].x)},t.ScaleStraight=ho,x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Features||(x.Features={}),xt=x.FeatureBase,i(co,xt),co.prototype.draw=function(e,t){return null},co.prototype.redraw=function(e,t){},x.Select=co,t=(t=e=e||{}).Lib||(t.Lib={}),t=(Et=t.NVEs||(t.NVEs={})).Features||(Et.Features={}),It=t.FeatureBase,i(po,It),po.prototype.draw=function(e,t){var i,r,a;if(this.dom?this.clearBorder():(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g"),this.dom.setAttribute("id","selectionBorderGroup"),(a=this.Parent.getHorScrollBarSVGNode())?this.Parent.dom.insertBefore(this.dom,a):this.Parent.dom.appendChild(this.dom),t.selectionBorderGroup=this.dom),this.webRTPUItem=e,this.data=t,this.selectionBorders=[],this.Features)for(r=this.Features.length,i=0;i<r;i++)this.dom.appendChild(this.Features[i].draw(e,t));return this.dom},po.prototype.drawRect=function(e){var t=Et.getSystemPart("SelectionSystemPart");t.BorderWidth=this.data.configuration.SelectionBorderWidth,t.BorderColor=this.data.configuration.SelectionBorderColor,t.Width=e.width,t.Height=e.height,(t=this.webRTPUItem.createSubtemplate(this,this.Templates[""],t,null,t.Width,t.Height)).RootNode.setAttribute("x",e.x-this.data.configuration.SelectionBorderWidth/2),t.RootNode.setAttribute("y",e.y-this.data.configuration.SelectionBorderWidth/2),t.RootNode.setAttribute("height",e.height+this.data.configuration.SelectionBorderWidth),t.RootNode.setAttribute("width",e.width+this.data.configuration.SelectionBorderWidth),this.dom.appendChild(t.RootNode),this.selectionBorders.push(t)},po.prototype.createBorderOnSelectFullRow=function(e,t){for(var i=e.indices.length,r=e.indices[0],a=e.indices[0],n=1;n<i;n++)a=(e.indices[n]===a+1&&-1<e.shiftSelection.indices.indexOf(e.indices[n])||(this.calculateBorderDimesion(t,r,a,!1,0,this.data.viewport.getColumnCount()-1),this.drawRect(t),r=e.indices[n]),e.indices[n]);this.calculateBorderDimesion(t,r,a,!1,0,this.data.viewport.getColumnCount()-1),this.drawRect(t)},po.prototype.createBorder=function(e){var t,i,r,a,n,o=0,s=0,l=0,u=e;if(0<u.indices.length)if(t={x:0,y:0,width:0,height:0},e=u.shiftSelection,this.data.configuration.SelectFullRow)this.createBorderOnSelectFullRow(u,t);else if(-1!==e.endIndex&&-1!==e.startIndex){for(o=(a=u.cellSelection.sort(function(e,t){return e.rowIndex-t.rowIndex})).length,i=u.indices[0],r=u.indices[0],n=-1<u.shiftSelection.indices.indexOf(r),s=1;s<o;s++)l=0,n=n&&-1<u.shiftSelection.indices.indexOf(r+1),r=(u.indices[s]===r+1&&n||(this.calculateBorderDimesion(t,i,r,!0,a[l].cellIndex[0],a[l].cellIndex[a[l].cellIndex.length-1]),this.drawRect(t),i=u.indices[s]),u.indices[s]),l++;this.calculateBorderDimesion(t,i,r,!0,a[l].cellIndex[0],a[l].cellIndex[a[l].cellIndex.length-1]),this.drawRect(t)}else for(o=(a=u.cellSelection).length,s=0;s<o;s++)this.drawRectForCell(0,a[s],t,!0)},po.prototype.drawRectForCell=function(e,t,i,r){for(var a=t.cellIndex.length;e<a;e++)-1<t.cellIndex[e]&&(this.calculateBorderDimesion(i,t.rowIndex,t.rowIndex,r,t.cellIndex[e],t.cellIndex[e]),this.drawRect(i))},po.prototype.calculateBorderDimesion=function(e,t,i,r,a,n){e.y=t*this.data.tableProps.cellHeight+this.data.tableProps.headerHeight+this.data.tableProps.topBorder/2,e.height=(Math.abs(i-t)+1)*this.data.tableProps.cellHeight,-1!==a&&-1!==n&&(r?(e.x=this.data.tableProps.rowHeaderWidth+this.data.tableProps.leftBorder/2+this.data.helper.getColumnWidthTillIndex(a-1),e.width=this.data.helper.getColumnWidthByIndex(a,n)):(e.x=this.data.tableProps.leftBorder/2,e.width=this.data.helper.getVisibleColumnWidth()+this.data.tableProps.rowHeaderWidth))},po.prototype.redraw=function(e,t){this.draw(e,t)},po.prototype.onPropertyChanged=function(e,t){var i,r;if(this.selectionBorders)switch(i=this.selectionBorders.length,r=0,e){case"SelectionBorderWidth":for(;r<i;r++)this.selectionBorders[r].setHmiProps(t,"HmiProps.BorderWidth"),this.selectionBorders[r].update();break;case"SelectionBorderColor":for(;r<i;r++)this.selectionBorders[r].setHmiProps(t,"HmiProps.BorderColor"),this.selectionBorders[r].update()}},po.prototype.clearBorder=function(){var e,t;if(this.selectionBorders)for(e=this.selectionBorders.length,t=0;t<e;t++)this.selectionBorders[t].remove(!1,!0,!1);if(this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild)},po.prototype.remove=function(){var e,t;if(this.selectionBorders){for(t=this.selectionBorders.length,e=0;e<t;e++)this.selectionBorders[e].remove(!1,!0,!1),this.selectionBorders[e]=null;this.selectionBorders=null}this.data=null,this.dim=null,It.prototype.remove.call(this)},t.SelectionBorder=po,x=(x=e=e||{}).Lib||(x.Lib={}),x=(Rt=x.NVEs||(x.NVEs={})).Features||(Rt.Features={}),Bt=x.FeatureBase,i(mo,Bt),mo.prototype.draw=function(e,t){this.webRTPUItem=e;var i=Rt.Utilities.getProjectMajorVersion(e);return 17<=i||""===i||"FunctionTrendControl"===e.Store.props.Type?this.useOldStyle=!1:this.useOldStyle=!0,this.dom},mo.prototype.redraw=function(e,t){this.draw(e,t)},mo.prototype.remove=function(){this.templateInstance&&this.templateInstance.remove(),this.templateInstance=null,this.Templates=null,this.tooltipPart=null,Bt.prototype.remove.call(this)},mo.prototype.loadToolTipTemplate=function(){this.dom||(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g"),this.Parent.Parent.Parent.trendView.svgTooltipGroup.appendChild(this.dom),this.tooltipPart=Rt.getSystemPart("TooltipSystemPart"),this.tooltipPart.Content.VerticalTextAlignment=0,this.useOldStyle?(this.tooltipPart.BackColor="rgba(255,0,0,1)",this.tooltipPart.ForeColor="rgba(0,0,0,1)",this.tooltipPart.Font.Size=12,this.tooltipPart.Font.Weight="700",this.tooltipPart.Font.Name="Serif",this.tooltipPart.Font.Italic=!1,this.tooltipPart.Font.Underline=!1,this.tooltipPart.Font.StrikeOut=0,this.tooltipPart.Content.HorizontalTextAlignment=0,this.tooltipPart.Graphic="",this.tooltipPart.Text=""):(this.tooltipPart.HorizontalAlignment=Rt.getChromEnum("HmiHorizontalAlignment").Left,this.tooltipPart.VerticalAlignment=Rt.getChromEnum("HmiVerticalAlignment").Top,this.tooltipPart.Height=1e3,this.tooltipPart.Width=1e3),this.templateInstance=this.webRTPUItem.createSubtemplate(this,this.Templates[""],this.tooltipPart,null,1e3,1e3),this.templateInstance.RootNode.setAttribute("x",0),this.templateInstance.RootNode.setAttribute("y",0),this.dom.appendChild(this.templateInstance.RootNode),this.dom.setAttribute("display","none"))},mo.prototype.setToolTipValueData=function(e){var t,i,r=0,a=0,n="",o=Rt.getChromEnum("HmiMarkerType"),s=(this.loadToolTipTemplate(),Rt.Utilities.getInvertedColor(e.trendData.trendAreaBackColor));switch(this.templateInstance.setHmiProps(s,"HmiProps.BackColor"),this.templateInstance.setHmiProps(e.trendData.trendAreaBackColor,"HmiProps.ForeColor"),e.trendData.markerStyle){case o.Square:case o.Graphic:e.highlighterGroup.childNodes[1].setAttribute("x",e.tempX-e.trendData.markerWidth/2),e.highlighterGroup.childNodes[1].setAttribute("y",e.tempY-e.trendData.markerWidth/2),e.highlighterGroup.childNodes[1].setAttribute("height",e.trendData.markerWidth),e.highlighterGroup.childNodes[1].setAttribute("width",e.trendData.markerWidth),e.highlighterGroup.childNodes[1].setAttribute("fill",e.trendData.markerColor),e.highlighterGroup.childNodes[1].setAttribute("visibility","visible");break;case o.Point:case o.Circle:case o.None:e.highlighterGroup.childNodes[0].setAttribute("r",e.trendData.markerWidth/2),e.highlighterGroup.childNodes[0].setAttribute("fill",e.trendData.markerColor),e.highlighterGroup.childNodes[0].setAttribute("cx",e.tempX),e.highlighterGroup.childNodes[0].setAttribute("cy",e.tempY),e.highlighterGroup.childNodes[0].setAttribute("visibility","visible")}var s=this.createTooltipImage({TrendRectBackColor:e.trendData.trendWindowColor,Stroke:e.trendData.trendColor,StrokeDashArray:e.trendData.lineStyle,MarkerType:e.trendData.markerStyle,MarkerColor:e.trendData.markerColor,MarkerGraphic:e.trendData.graphicMarkerSrc}),o=(this.templateInstance.setHmiProps(s,"HmiProps.Graphic"),1===e.xAxisValue.length?e.xAxisValue[0]:e.xAxisValue[0]+","+e.xAxisValue[1]),n=o+""+e.yAxisValue,r=3*Rt.getTextHeight(e.yAxisValue,this.tooltipPart.Font),s=(e.header&&(n=(s=Rt.textEllipsis(e.header,500,this.tooltipPart.Font))+""+n,r+=Rt.getTextHeight(s,this.tooltipPart.Font),a=Rt.getTextWidth(s,this.tooltipPart.Font)),this.templateInstance.setHmiProps(n,"HmiProps.Text"),this.useOldStyle?Rt.getTextWidth(e.xAxisValue,this.tooltipPart.Font):Rt.getTextWidth(o,this.tooltipPart.Font)),n=Rt.getTextWidth(e.yAxisValue,this.tooltipPart.Font),o=Math.max(s,n,a)+30;this.useOldStyle&&(this.templateInstance.setHmiProps(r+10,"HmiProps.Height"),this.templateInstance.setHmiProps(o,"HmiProps.Width"),this.templateInstance.RootNode.setAttribute("width",o+4),this.templateInstance.RootNode.setAttribute("height",r+20)),void 0!==e.tempX&&void 0!==e.tempY&&(e.tempX+=mo.POINTER_SPACING,e.tempY+=mo.POINTER_SPACING,t=e.tempX,i=e.tempY),e.tempX+o>e.boundaryRect.left+e.boundaryRect.width&&(t=e.tempX-o-2*mo.POINTER_SPACING),parseInt(e.tempY+r,10)>e.boundaryRect.top+e.boundaryRect.height&&(i=e.tempY-r-2*mo.POINTER_SPACING),this._setAnimationTimer(t,i,this.dom),this.dom.setAttribute("display","inherit"),this.templateInstance.update(),e.highlighterGroup.setAttribute("visibility","visible"),this.isTooltipShown=!0},mo.prototype.hideToolTip=function(e){this.dom.setAttribute("display","none"),e.setAttribute("visibility","hidden"),e.childNodes[1].setAttribute("visibility","hidden"),e.childNodes[0].setAttribute("visibility","hidden"),this.isTooltipShown=!1},mo.prototype._setAnimationTimer=function(e,t,i){i.setAttribute("transform","translate("+e+","+t+") scale(1 , 1) ")},mo.prototype.createTooltipImage=function(e){var t=Rt.getChromEnum("HmiMarkerType"),i=Rt.getChromEnum("HmiDashType"),r=document.createElement("canvas"),a=(r.setAttribute("height",20),r.setAttribute("width",40),r.getContext("2d"));switch(a.beginPath(),a.fillStyle=e.TrendRectBackColor,a.fillRect(10,5,20,10),e.StrokeDashArray){case i.Dash:a.setLineDash([10,5]);break;case i.Dot:a.setLineDash([5,5]);break;case i.DashDot:a.setLineDash([5,5,10,5]);break;case i.DashDotDot:a.setLineDash([10,5,5,5,5,5])}return a.strokeStyle=e.Stroke,a.lineWidth=2,a.moveTo(10,10),a.lineTo(30,10),a.stroke(),e.MarkerType===t.Square?(a.fillStyle=e.MarkerColor,a.fillRect(16,6.5,7,7)):e.MarkerType===t.Graphic?((i=new Image(7,7)).setAttribute("x",16),i.setAttribute("y",6.5),i.setAttribute("src",e.MarkerGraphic),a.drawImage(i,16,6.5,7,7)):(a.beginPath(),a.fillStyle=e.MarkerType===t.None?e.Stroke:e.MarkerColor,a.arc(20,10,4,0,2*Math.PI),a.fill()),r.toDataURL("image/png").replace(/^base64,/,"")},mo.POINTER_SPACING=5,x.Tooltip=mo,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Utils||(t.Utils={}),go.prototype.enqueue=function(e){return this.items.push(e)},go.prototype.dequeue=function(){if(0<this.items.length)return this.items.shift()},go.prototype.peek=function(){return this.items[this.items.length-1]},go.prototype.isEmpty=function(){return 0==this.items.length},go.prototype.size=function(){return this.items.length},go.prototype.clear=function(){this.items=[]},t.Queue=go,x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Data||(x.Data={}),To.store=function(e,t,i){To._storage[e]||(To._storage[e]={}),To._storage[e][t]=i},To.retrieve=function(e,t){var i=To._storage[e][t];return delete To._storage[e][t],i},To._storage={identifier:0,map:null},x.FlowDiagramStateStore=To,x.FlowDiagramStateData=function(){},t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Data||(t.Data={}),Object.defineProperty(fo.prototype,"zoomFactor",{get:function(){return this._zoomFactor},set:function(e){this._zoomFactor=e},enumerable:!1,configurable:!0}),Object.defineProperty(fo.prototype,"diagrams",{get:function(){return this._diagrams},enumerable:!1,configurable:!0}),fo.prototype.addDiagram=function(e){this._diagrams.push(e)},fo.prototype.unloadDiagrams=function(){for(var e=0;e<this._diagrams.length;e++)this._diagrams[e].remove(),this._diagrams.splice(e)},fo.prototype.remove=function(){for(var e in this.flowLineFeatureInstances)delete this.flowLineFeatureInstances[e];this.flowLineFeatureInstances=null,this.blockFeatureInstance=null,this.logicFeatureInstance=null,this.scrollHandler.remove(),this.scrollHandler=null,this._diagrams=null,this.dp=null,this.dim=null},fo.prototype.clearDiagrams=function(){this._diagrams.length=0},fo.prototype.getNextDiagramId=function(){return this._diagrams.length+1},fo.prototype.updateMissingBlockSubParts=function(e){return this.updateBlockContentFont(e),this.updateBlockHeaderFont(e),this.updateBlockTitleFont(e),e},fo.prototype.updateMissingLogicSubParts=function(e){return this.updateLogicContentFont(e),this.updateLogicHeaderFont(e),e},fo.prototype.updateBlockContentFont=function(e){e=e.ContentFont;e&&(e[this.FONTNAME]=this.SIEMENS_SANS,e[this.FONTSIZE]=14,e[this.FONTWEIGHT]=400)},fo.prototype.updateBlockHeaderFont=function(e){e=e.HeaderFont;e&&(e[this.FONTNAME]=this.SIEMENS_SANS,e[this.FONTSIZE]=14,e[this.FONTWEIGHT]=700)},fo.prototype.updateBlockTitleFont=function(e){e=e.TitleFont;e&&(e[this.FONTNAME]=this.SIEMENS_SANS,e[this.FONTSIZE]=14,e[this.FONTWEIGHT]=400)},fo.prototype.updateLogicHeaderFont=function(e){e=e.HeaderFont;e&&(e[this.FONTNAME]=this.SIEMENS_SANS,e[this.FONTSIZE]=14,e[this.FONTWEIGHT]=400)},fo.prototype.updateLogicContentFont=function(e){e=e.ContentFont;e&&(e[this.FONTNAME]=this.SIEMENS_SANS,e[this.FONTSIZE]=14,e[this.FONTWEIGHT]=700)},fo.prototype.getDiagram=function(t){var i;return this.diagrams.every(function(e){return!e.getTitleText().hasOwnProperty(t)||(i=e,!1)}),i},fo.OFFSET=30,fo.Space_Between_Blocks=40,t.FlowDiagramMetaData=fo,x=(x=e=e||{}).Lib||(x.Lib={}),Lt=x.NVEs||(x.NVEs={}),b=Lt.Data||(Lt.Data={}),yo.prototype.render=function(e,t){var i,r,a,n=Lt.Features.FlowLineDecorator.DECORATOR_LAYOUT_DIM/2;return this.metaData.diagramType===b.FlowDiagramType.Step?(r="",this.type===b.FlowLineDecoratorType.Transition?r=this.dt.Data.Content:this.type===b.FlowLineDecoratorType.Links&&this.subType===b.FlowLineDecoratorSubType.JumpOut?r=(null==(i=null==(i=null==(a=this.currentDiagram)?void 0:a.getBlockData)?void 0:i.call(a,this.dt.Key))?void 0:i.header)||this.dt.Key:this.type===b.FlowLineDecoratorType.Links&&this.subType===b.FlowLineDecoratorSubType.JumpIn&&(r=this.dt.Key),this.decoratorDOM=t.decoratorFeatureInstance[this.type].render(e,this.dt,r),this.type===b.FlowLineDecoratorType.Links&&this.subType===b.FlowLineDecoratorSubType.JumpIn?(this.decoratorDOM.setAttribute("y",e.y1-n+this.decoratorPosition),this.decoratorDOM.setAttribute("x",e.x1-n+2)):(this.decoratorDOM.setAttribute("y",e.y1-n+this.decoratorPosition),this.decoratorDOM.setAttribute("x",e.x1-n))):this.dt.DecoratorType===b.FlowLineDecoratorType.Terminal?(a=t.decoratorFeatureInstance[this.type])&&(a.Attributes["symbol-dimension"]=this.subType===b.FlowLineDecoratorSubType.Step?3:6,this.decoratorDOM=a.renderTerminalDecorator(e.stroke,e.strokeDashArray,e.strokeWidth,null==(i=this.dt.Data)?void 0:i.Content),this.decoratorDOM)&&(this.decoratorDOM.setAttribute("y",e.y2-n),this.decoratorDOM.setAttribute("x",e.x2-n)):this.renderIODecorator(e,t),this.decoratorDOM},yo.prototype.renderIODecorator=function(e,t){var i,r,a,n,o,s,l,u,h,d,c,p;"input"!==this.dt.DecoratorType&&"output"!==this.dt.DecoratorType||(i=Lt.getSystemPart("HmiBlockSymbolSystemPart"),r=(i=this.metaData.updateMissingBlockSubParts(i)).ContentFont,this.dt.Data.Content instanceof b.FBDOperandMetaData?(a=this.dt.Data.Content,s=Lt.getTextHeight("X",r),c=e.y1,p=this.type===b.FlowLineDecoratorType.Input?e.x1-b.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING-b.FunctionConnectorElement.OPERAND_WIDTH:e.x2+b.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING,this.decoratorDOM=Lt.Features.Shape.SvgShape.CreateSvgElement("g"),a.infoText&&(l=(u=t.decoratorFeatureInstance[this.type].renderIODecorator(a.infoText,a.infoForeColor?Lt.getRGBAcolor(a.infoForeColor):Lt.getRGBAcolor(i.ContentForeColor),r,b.FunctionConnectorElement.OPERAND_WIDTH)).dom,u=u.textField,h=+l.firstElementChild.getAttribute("width"),d=+l.firstElementChild.getAttribute("height"),c=e.y1-d,l.firstElementChild.setAttribute("y",c.toString()),p=this.type===b.FlowLineDecoratorType.Input?e.x1-h-b.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING:e.x2+b.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING,l.firstElementChild.setAttribute("x",p.toString()),u.Attributes["start-x"]=p,u.Attributes["start-y"]=c,(this.dt.Data.Type===b.ConnectorType.Input&&"input"===this.type||this.dt.Data.Type===b.ConnectorType.Output&&"output"===this.type)&&(l.firstElementChild.setAttribute("id",this.dt.Data.BlockId+" "+this.dt.Data.PinId),l.firstElementChild.setAttribute("className","ClickableIODecorator")),a.infoBackColor&&(o=Lt.getTextWidth(a.infoText,r,!(n=void 0))+b.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING,n=this.type===b.FlowLineDecoratorType.Input?b.FunctionConnectorElement.OPERAND_WIDTH-o+p+b.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING/2:p-b.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING/2,o=Lt.Features.Shape.SvgShape.CreateSvgElement("rect",{fill:Lt.getRGBAcolor(a.infoBackColor),height:d+yo.PADDING/2,width:o,x:n,y:c}),l.prepend(o)),this.decoratorDOM=l),a.address&&(c-=s,l=this.getIODecoratorDOM(t,a.address,Lt.getRGBAcolor(a.addressForeColor),r,b.FunctionConnectorElement.OPERAND_WIDTH,p,c),this.decoratorDOM.appendChild(l)),a.value&&(c-=s,n=b.FunctionConnectorElement.OPERAND_WIDTH,l=this.getIODecoratorDOM(t,a.value.toString(),Lt.getRGBAcolor(i.ContentForeColor),r,n,p,c),a=n<(s=Lt.getTextWidth(a.value,r))?n:s,n=this.type===b.FlowLineDecoratorType.Input?e.x1-a-b.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING:e.x2+b.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING,o=Lt.Features.Shape.SvgShape.CreateSvgElement("rect",{fill:Lt.getRGBAcolor(i.HeaderBackColor),height:l.firstElementChild.getAttribute("height"),width:a,x:n,y:l.firstElementChild.getAttribute("y")}),l.prepend(o),this.decoratorDOM.appendChild(l))):(l=(s=t.decoratorFeatureInstance[this.type].renderIODecorator(this.dt.Data.Content,Lt.getRGBAcolor(i.ContentForeColor),r,b.FunctionConnectorElement.OPERAND_WIDTH)).dom,u=s.textField,h=+l.firstElementChild.getAttribute("width"),d=+l.firstElementChild.getAttribute("height"),c=e.y1-d,l.firstElementChild.setAttribute("y",c.toString()),p=this.type===b.FlowLineDecoratorType.Input?e.x1-h-b.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING:e.x2+b.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING,l.firstElementChild.setAttribute("x",p.toString()),u.Attributes["start-x"]=p,u.Attributes["start-y"]=c,this.decoratorDOM=l))},yo.prototype.getIODecoratorDOM=function(e,t,i,r,a,n,o){e=e.decoratorFeatureInstance[this.type].renderIODecorator(t,i,r,a),t=e.dom,i=e.textField;return t.firstElementChild.setAttribute("y",o.toString()),t.firstElementChild.setAttribute("x",n.toString()),i.Attributes["start-x"]=n,i.Attributes["start-y"]=o,t},yo.prototype.update=function(e,t){return this.decoratorDOM.parentNode.removeChild(this.decoratorDOM),this.decoratorDOM=this.render(e,t),this.decoratorDOM},yo.prototype.addPointer=function(){this.style.cursor="pointer"},yo.prototype.goToStep=function(){var e=this.currentDiagram.getBlockData(this.dt.Key);!e&&this.metaData.dp&&this.metaData.dp.onRequestNewData&&"function"==typeof this.metaData.dp.onRequestNewData?this.metaData.dp.onRequestNewData(Lt.Utilities.toInitialCap(this.metaData.diagramType),this.dt.Key):(this.metaData.diagrams.forEach(function(e){e.clearPrevSelectedBlock()}),this.currentDiagram.updateSelectedBlock(this.dt.Key),this.metaData.scrollHandler.changeVScroll((e.y-b.FlowDiagramMetaData.OFFSET)*this.metaData.zoomFactor),this.metaData.scrollHandler.changeHScroll((e.getNormalizedXPos()-b.FlowDiagramMetaData.OFFSET)*this.metaData.zoomFactor))},yo.prototype.registerLinkClick=function(){var e=this.decoratorDOM.getElementById("jumpOutText");e&&(e.addEventListener("mouseover",this.addPointer),e.addEventListener("click",this.linkRef))},yo.prototype.unregisterLinkClick=function(){var e=this.decoratorDOM.getElementById("jumpOutText");e&&(e.removeEventListener("mouseover",this.addPointer),e.style.cursor="default",e.removeEventListener("click",this.linkRef))},yo.prototype.handleAutoMode=function(e){e?this.unregisterLinkClick():this.registerLinkClick()},yo.prototype.remove=function(){if(this.type===b.FlowLineDecoratorType.Links&&this.subType===b.FlowLineDecoratorSubType.JumpOut&&this.unregisterLinkClick(),this.linkRef=null,this.decoratorDOM){for(;this.decoratorDOM.firstChild;)this.decoratorDOM.removeChild(this.decoratorDOM.firstChild);this.decoratorDOM.parentNode&&this.decoratorDOM.parentNode.removeChild(this.decoratorDOM),this.decoratorDOM=null}this.currentDiagram=null,this.metaData=null},yo.PADDING=4,b.FlowLineDecoratorElement=yo,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Calculations||(t.Calculations={}),Do.prototype.calcFactor=function(e,t,i){return i==t?42:(e-t)/(i-t)},Do.prototype.calcValue=function(e,t,i){return e*(i-t)+t},Do.prototype.shiftScaleIntoPositiveRange=function(e,t,i){var r=Math.min(i,t,e),a=r<1?.01:1;return{value:e-=r-a,start:t-=r-a,end:i-=r-a}},Do.prototype.prepareLogValues=function(e,t,i){var r=this.shiftScaleIntoPositiveRange(e,t,i);return e=r.value,i=r.end,{value:e,start:t=r.start,end:i}},Do.prototype.unprepareLogValue=function(e,t,i){i=Math.min(i,t);return e+i-(i<1?.01:1)},t.CalculationBase=Do,((x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Calculations||(x.Calculations={})).createCalc=function(e){return new e},t=(t=e=e||{}).Lib||(t.Lib={}),t=(Mt=t.NVEs||(t.NVEs={})).Calculations||(Mt.Calculations={}),Ft=t.CalculationBase,i(So,Ft),So.prototype.calcByValue=function(e,t,i,r,a){e=this.prepareLogValues(e,r,a),r=Math.pow(e.start,3),a=Math.pow(e.end,3),e=Math.pow(e.value,3),e=this.calcFactor(e,r,a);return this.calcValue(e,t,i)},So.prototype.calcByPosition=function(e,t,i,r,a){var n=this.prepareLogValues(r,r,a),e=this.calcFactor(e,t,i),t=Math.pow(n.start,3),i=Math.pow(n.end,3),n=this.calcValue(e,t,i),e=Mt.Utilities.cubicRoot(n);return this.unprepareLogValue(e,r,a)},t.CubicCalculation=So,(x=(x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Calculations||(x.Calculations={})).Helper||(x.Helper={})).getGCF=function(e,t){return 0===t?e:this.getGCF(t,e%t)},x.getLCM=function(e,t){return e/this.getGCF(e,t)*t},x.getLCMOfNums=function(e){return 1<e.length?(e.push(this.getLCM(e.shift(),e.shift())),this.getLCMOfNums(e)):e[0]},t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Calculations||(t.Calculations={}),Ht=t.CalculationBase,i(bo,Ht),bo.prototype.calcByValue=function(e,t,i,r,a){return this.calcFactor(e,r,a)*(i-t)+t},bo.prototype.calcByPosition=function(e,t,i,r,a){e=this.calcFactor(e,t,i);return this.calcValue(e,r,a)},t.LinearCalculation=bo,x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Calculations||(x.Calculations={}),Ot=x.CalculationBase,i(Co,Ot),Co.prototype.calcByValue=function(e,t,i,r,a){var n=this.prepareLogValues(e,r,a),n=(e=n.value,a=n.end,r=n.start,Math.log(r)/Math.LN10),r=Math.log(a)/Math.LN10,a=Math.log(e)/Math.LN10,e=this.calcFactor(a,n,r);return this.calcValue(e,t,i)},Co.prototype.calcByPosition=function(e,t,i,r,a){var n=this.prepareLogValues(r,r,a),e=this.calcFactor(e,t,i),t=Math.log(n.start)/Math.LN10,i=Math.log(n.end)/Math.LN10,n=this.calcValue(e,t,i),e=Math.pow(10,n);return this.unprepareLogValue(e,r,a)},x.LogarithmicCalculation=Co,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Calculations||(t.Calculations={}),Nt=t.CalculationBase,i(vo,Nt),vo.prototype.calcByValue=function(e,t,i,r,a){var n=this.prepareLogValues(e=a-e+r,r,a),n=(e=n.value,a=n.end,r=n.start,Math.log(r)/Math.LN10),r=Math.log(a)/Math.LN10,a=Math.log(e)/Math.LN10,e=this.calcFactor(a,r,n);return this.calcValue(e,t,i)},vo.prototype.calcByPosition=function(e,t,i,r,a){var n=this.prepareLogValues(r,r,a),e=this.calcFactor(e,t,i),t=Math.log(n.start)/Math.LN10,i=Math.log(n.end)/Math.LN10,n=this.calcValue(e,i,t),e=Math.pow(10,n);return a+r-this.unprepareLogValue(e,r,a)},t.NegativeLogarithmicCalculation=vo,x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Calculations||(x.Calculations={}),kt=x.CalculationBase,i(_o,kt),_o.prototype.calcByValue=function(e,t,i,r,a){e=this.prepareLogValues(e,r,a),r=e.start*e.start,a=e.end*e.end,e=e.value*e.value,e=this.calcFactor(e,r,a);return this.calcValue(e,t,i)},_o.prototype.calcByPosition=function(e,t,i,r,a){var n=this.prepareLogValues(r,r,a),e=this.calcFactor(e,t,i),t=n.start*n.start,i=n.end*n.end,n=this.calcValue(e,t,i),e=Math.sqrt(n);return this.unprepareLogValue(e,r,a)},x.QuadraticCalculation=_o,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Calculations||(t.Calculations={}),Gt=Math.tan(-.45*Math.PI),Ut=Math.tan(.45*Math.PI),Wt=t.CalculationBase,i(Po,Wt),Po.prototype.calcByValue=function(e,t,i,r,a){e=this.scaleValue(e,r,a),r=e.value,a=e.start,e=e.end,a=Math.atan(a),e=Math.atan(e),r=Math.atan(r),r=this.calcFactor(r,a,e);return this.calcValue(r,t,i)},Po.prototype.calcByPosition=function(e,t,i,r,a){var t=this.calcFactor(e,t,i),i=this.scaleValue(e,r,a),e=i.start,i=i.end,e=Math.atan(e),i=Math.atan(i),t=this.calcValue(t,i,e),i=Math.tan(t),e=Math.min(a,r),t=(r-e)/(Ut-Gt),n=(a-e)/(Ut-Gt);return a+r-((i+(Math.max(n,t)-Math.min(n,t))/2)*(Ut-Gt)+e)},Po.prototype.scaleValue=function(e,t,i){var r=Math.min(i,t),a=(t-r)/(Ut-Gt),n=(i-r)/(Ut-Gt),r=(e-r)/(Ut-Gt),o=(Math.max(n,a)-Math.min(n,a))/2;return{value:e=r-o,start:t=a-o,end:i=n-o}},t.TangentCalculation=Po,x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={}),(zt=x.Geometry||(x.Geometry={})).degree=Math.PI/180,Ao.distance=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},Ao.getCenterPoint=function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2,angle:null}},Ao.getPointAt=function(e,t,i){return{x:(e.x+i*t.x)/(i+1),y:(e.y+i*t.y)/(i+1),angle:null}},Ao.getPointOnArc=function(e,t,i,r){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e),angle:e}},Ao.rotatePoint=function(e,t,i){return{x:(e.x-i.x)*Math.cos(t)-(e.y-i.y)*Math.sin(t)+i.x,y:(e.x-i.x)*Math.sin(t)+(e.y-i.y)*Math.cos(t)+i.y,angle:null}},Ao.abs=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},Ao.getRadiusAtAngle=function(e,t,i,r,a){return r+(a-r)*(e-t)/(i-t)},Ao.det=function(e,t,i,r){return e*r-t*i},Ao.getEllipseIntersectionPoint=function(e,t,i,r){var t={x:t.y-e.y,y:e.x-t.x},a=Ao.abs(t);return r?{x:e.x+i*t.x/a,y:e.y+i*t.y/a,angle:e.angle}:{x:e.x-i*t.x/a,y:e.y-i*t.y/a,angle:e.angle}},Ao.getCornerCenterPoint=function(e,t,i,r){e={x:e.x-t.x,y:e.y-t.y},t=Ao.abs(e);return{x:i.x+e.x*r/t,y:i.y+e.y*r/t,angle:null}},Ao.getTangentPoint=function(e,t,i,r){var e={x:e.x-t.x,y:e.y-t.y},a=Ao.abs(e),n=i.x-t.x,i=i.y-t.y,n=Math.sqrt(n*n+i*i-r*r);return{x:t.x+e.x*n/a,y:t.y+e.y*n/a,angle:null}},Ao.getSubDivisionPoints=function(e,t,i,r,a,n,o){if(e.angle=i,t.angle=r,Math.abs(i-r)<20*zt.degree||e.x===t.x&&e.y===t.y)return[e,t];var s=[],l=void 0,u=void 0,h=void 0,d=void 0,d=i<r?(l=i,u=r,h=e,t):(l=r,u=i,h=t,e);s.push(h);for(var c=l+20*zt.degree;c<u;){var p=Ao.getRadiusAtAngle(c,i,r,a,n),p={x:o.x+p*Math.cos(c),y:o.y+p*Math.sin(c),angle:c};s.push(p),c+=20*zt.degree}return s.push(d),r<i&&s.reverse(),s},Ao.getRoundedArcCorner=function(e,t,i,r,a,n,o){var s,l,u,h;return a?Ao.distance(t,i[i.length-2])<r?2<i.length&&Ao.distance(t,i[i.length-3])>=r&&(i[i.length-2],s=i[i.length-3],i.splice(1,1)):(i[i.length-2],s=t):Ao.distance(t,i[1])<r?2<i.length&&Ao.distance(t,i[2])>=r&&(i[1],s=i[2],i.splice(-1,1)):s=i[1],s?(0<r&&(t.x!=o.x||t.y!=o.y)?(l=Ao.getEllipseIntersectionPoint(t,o,r,n),u=Ao.getCornerCenterPoint(e,t,l,r),h=Ao.getTangentPoint(e,t,u,r)):l=u=h=t,a?i[i.length-1]=l:i[0]=l,{ellipseIntersectionPoint:l,tangentPoint:h,modifiedArc:i}):null},Ao.getControlPoints=function(e,t,i){for(var r=new Array,a=Ao.distance(i,e),n=Ao.distance(i,t),o=new Array,s=0;s<=3;s++)o.push({x:(a+s/3*(n-a))*Math.cos(e.angle+s/3*(t.angle-e.angle))+i.x,y:(a+s/3*(n-a))*Math.sin(e.angle+s/3*(t.angle-e.angle))+i.y,angle:null});var l=o[1].x-8/27*o[0].x-1/27*o[3].x,u=o[1].y-8/27*o[0].y-1/27*o[3].y,h=o[2].x-1/27*o[0].x-8/27*o[3].x,d=o[2].y-1/27*o[0].y-8/27*o[3].y;return r.push({x:6.75*(4*l/9-2*h/9),y:6.75*(4*u/9-2*d/9),angle:null}),r.push({x:6.75*(2*-l/9+4*h/9),y:6.75*(2*-u/9+4*d/9),angle:null}),r},Ao.getHypothenuse=function(e,t){return e=Math.pow(e,2),t=Math.pow(t,2),Math.sqrt(e+t)},zt.Calculations=Ao,((t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Geometry||(t.Geometry={})).Point=function(e,t){void 0===t&&(t=0),this.x=e=void 0===e?0:e,this.y=t},((x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Geometry||(x.Geometry={})).RoundedArcCorner=function(){},t=(t=e=e||{}).Lib||(t.Lib={}),jt=t.NVEs||(t.NVEs={}),Yt=jt.Geometry||(jt.Geometry={}),wo.drawRoundedCorner=function(e,t,i,r,a){var n,o,s,l,u,h;return r?(n=new Yt.Point,o=new Yt.Point,s=Yt.Calculations.distance(e,t),l=Yt.Calculations.distance(t,i),a=a?"1":"0",r=Math.min(r,s/2,l/2),h=Math.acos(((e.x-t.x)*(i.x-t.x)+(e.y-t.y)*(i.y-t.y))/(s*l)),u=Math.sin(h/2),h=Math.sin((Math.PI-h)/2),n.x=t.x+(e.x-t.x)*r*h/(s*u),n.y=t.y+(e.y-t.y)*r*h/(s*u),o.x=t.x+(i.x-t.x)*r*h/(l*u),o.y=t.y+(i.y-t.y)*r*h/(l*u)," L "+jt.Utilities.preprocessCoordinateForSVG(n.x)+" "+jt.Utilities.preprocessCoordinateForSVG(n.y)+" A "+jt.Utilities.preprocessCoordinateForSVG(r)+" "+jt.Utilities.preprocessCoordinateForSVG(r)+" 0 0 "+a+" "+jt.Utilities.preprocessCoordinateForSVG(o.x)+" "+jt.Utilities.preprocessCoordinateForSVG(o.y)):wo.drawLineTo(t)},wo.drawArc=function(e,t,i){void 0===i&&(i=!1);for(var r="",a=1;a<e.length;a++)r+=" "+wo.drawPartialArc(e[a-1],e[a],t,i);return r},wo.drawPartialArc=function(e,t,i,r){if(void 0===r&&(r=!1),e.x===t.x&&e.y===t.y)return"";for(var a="C",n=0,o=Yt.Calculations.getControlPoints(e,t,i);n<o.length;n++){var s=o[n];a+=" "+jt.Utilities.preprocessCoordinateForSVG(s.x,r)+" "+jt.Utilities.preprocessCoordinateForSVG(s.y,r)+","}return a+=jt.Utilities.preprocessCoordinateForSVG(t.x,r)+" "+jt.Utilities.preprocessCoordinateForSVG(t.y,r)},wo.drawArcToTarget=function(e,t,i){return" A "+e+" "+e+" 0 0 1 "+jt.Utilities.preprocessCoordinateForSVG(t.x,i=void 0===i?!1:i)+" "+jt.Utilities.preprocessCoordinateForSVG(t.y,i)},wo.drawLineTo=function(e,t){return" L "+jt.Utilities.preprocessCoordinateForSVG(e.x,t=void 0===t?!1:t)+" "+jt.Utilities.preprocessCoordinateForSVG(e.y,t)},wo.moveTo=function(e,t){return"M "+jt.Utilities.preprocessCoordinateForSVG(e.x,t=void 0===t?!1:t)+" "+jt.Utilities.preprocessCoordinateForSVG(e.y,t)},wo.returnToStart=function(){return" Z"},Yt.Svg=wo,((x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Geometry||(x.Geometry={})).Vector=function(){},t=(t=e=e||{}).Lib||(t.Lib={}),Xt=t.NVEs||(t.NVEs={}),qt=Xt.Features||(Xt.Features={}),t=qt.Shape||(qt.Shape={}),Kt=qt.NVEFeatureBase,i(Vo,Kt),Vo.prototype.draw=function(e,t){if(this.metaData=t,this.webRTPUItem=e,this.Attributes=Xt.Utilities.mergeWithDefaults(this.Attributes,this.defaults),!this.dom)for(var i in this.dom=document.createElementNS("http://www.w3.org/2000/svg","g"),this.Events)this.Events.hasOwnProperty(i)&&(i=this.Events[i],this.registerAndActivateEvent(this.dom,e,i));return this.applyVisibility(),this.dom},Vo.prototype.redraw=function(e,t){this.draw(e,t)},Vo.prototype.hasEvents=function(){return 0<this.registeredEvents.length},Vo.prototype.isValid=function(){return isNaN(parseInt(this.Attributes.offset))?(Xt.trace(Xt.enumTraceMode.Warning,"Can't draw a Shape Object with invalid offset"),!1):isNaN(parseInt(this.Attributes["modulo-divisor"]))?(Xt.trace(Xt.enumTraceMode.Warning,"Can't draw a Shape Object with invalid modulo-divisor"),!1):isNaN(parseInt(this.Attributes["modulo-bias"]))?(Xt.trace(Xt.enumTraceMode.Warning,"Can't draw a Shape Object with invalid modulo-bias"),!1):this.Attributes["position-filter"]&&"string"==typeof this.Attributes["position-filter"]?null!==Xt.Utilities.convertToBool(this.Attributes.condition)||(Xt.trace(Xt.enumTraceMode.Warning,"Can't draw a Shape Object with invalid condition"),!1):(Xt.trace(Xt.enumTraceMode.Warning,"Can't draw a Shape Object with invalid position-filter"),!1)},Vo.prototype.remove=function(){this.removeEvents(),Kt.prototype.remove.call(this)},Vo.prototype.applyFilters=function(e){var t=parseFloat(this.getAttribute("modulo-divisor")),i=parseFloat(this.getAttribute("modulo-bias")),r=(this.getAttribute("modulo")&&(r=this.getAttribute("modulo").split(" "),t=parseFloat(r[0]),i=parseFloat(r[1])),this.applyModuloFilter(e,t,i),this.getAttribute("position-filter"));r&&this.applyPositionFilter(e,r),this.getAttribute("index-filter")&&this.applyIndexFilter(e,parseFloat(this.getAttribute("index-filter"))),this.getAttribute("threshold-filter")&&(t=this.getAttribute("threshold-filter").split(" "),this.applyThreshFilter(e,t)),this.getAttribute("threshold-index-filter")&&(i=parseFloat(this.getAttribute("threshold-index-filter")),this.applyThresholdIndexFilter(e,i))},Vo.prototype.getThresholdMode=function(e){var t,i=this.Parent;switch(e){case"lower":t=i.thresholdMode.Lower;break;case"upper":t=i.thresholdMode.Upper;break;case"out":t=i.thresholdMode.Minimum;break;case"in":t=i.thresholdMode.Maximum;break;default:t=i.thresholdMode.Normal}return t},Vo.prototype.applyThresholdIndexFilter=function(e,t){if(this.Parent instanceof qt.Structure.Thresholds){for(var i,r=0;r<e.length;r++)if(this.isDataPartOfScrope(["normal"],e[r])){i=r;break}if(0<=(t+=i)&&t<e.length)for(r=0;r<e.length;r++)r!=t&&(e[r].isVisible=!1)}},Vo.prototype.applyThreshFilter=function(e,t){if(this.Parent instanceof qt.Structure.Thresholds)for(var i=0;i<e.length;i++)this.isDataPartOfScrope(t,e[i])||(e[i].isVisible=!1)},Vo.prototype.isDataPartOfScrope=function(e,t){for(var i=this.getBeginAndEndSection(t),r=this.Parent.getAttribute("config"),a=0;a<e.length;a++)for(var n=this.getThresholdMode(e[a]),o=0;o<r.length;o++){var s=parseFloat(r[o].BeginValue),l=parseFloat(r[o].EndValue);if(parseFloat(r[o].ThresholdMode)===n&&i[0]>=s&&i[1]<=l)return!0}return!1},Vo.prototype.getBeginAndEndSection=function(e){var t;return e instanceof Xt.Data.PoleStraight?t=[e.value,e.value]:e instanceof Xt.Data.SectionStraight&&(t=[e.beginValue,e.endValue]),t},Vo.prototype.applyPositionFilter=function(e,t){t=t.split(" ").filter(function(e){return 0<=["inner","begin","end","regular"].indexOf(e)||(Xt.trace(Xt.enumTraceMode.Warning,"Wrong position-filter: "+e),!1)});if(0<t.length&&(1!==t.length||"regular"!==t[0])){if(-1===t.indexOf("inner")&&-1===t.indexOf("regular"))for(var i=e.length-2;0<i;i--)e[i].isVisible=!1;0<e.length&&(-1===t.indexOf("begin")?e[0].isVisible=!1:e[0].isVisible=!0,1<e.length)&&(-1===t.indexOf("end")?e[e.length-1].isVisible=!1:e[e.length-1].isVisible=!0)}},Vo.prototype.applyModuloFilter=function(e,t,i){if(!isNaN(t)&&!isNaN(i))for(var r=0;r<e.length;r++)r%t!=i&&(e[r].isVisible=!1)},Vo.prototype.applyIndexFilter=function(e,t){for(var i=0;i<e.length;i++)i!=t&&(e[i].isVisible=!1)},Vo.prototype.removeEvents=function(){for(var e=0;e<this.registeredEvents.length;e++){var t=this.registeredEvents[e];t&&t.link?t.evt.deactivate(t.link):Xt.trace(Xt.enumTraceMode.Warning,"Found invalid Event")}this.registeredEvents=new Array},Vo.prototype.registerAndActivateEvent=function(e,t,i){this.registeredEvents.push({link:i.activate(e,t,this),evt:i})},Vo.default={},t.ShapeBase=Vo,x=(x=e=e||{}).Lib||(x.Lib={}),x=(Zt=x.NVEs||(x.NVEs={})).Features||(Zt.Features={}),Qt=x.Shape||(x.Shape={}),Jt=Qt.ShapeBase,i(xo,Jt),xo.prototype.draw=function(e,t){return this.callSuperDraw(e,t),this.implementation||(this.metaData.NVE instanceof Zt.StraightDial?this.implementation=new Qt.StraightDial.LabelsStraight(this):this.metaData.NVE instanceof Zt.ArcDial&&(this.implementation=new Qt.ArcDial.LabelsArc(this))),this.isValid()&&this.implementation.draw(),this.dom},xo.prototype.isValid=function(){return this.Attributes["output-format"]&&"string"==typeof this.Attributes["output-format"]?this.Attributes.fill&&"string"==typeof this.Attributes.fill?isNaN(parseInt(this.Attributes.angle))?(Zt.trace(Zt.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid angle"),!1):!this.Attributes["alignment-horizontal"]||isNaN(parseInt(this.Attributes["alignment-horizontal"]))?(Zt.trace(Zt.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid alignment-horizontal"),!1):!this.Attributes["alignment-vertical"]||isNaN(parseInt(this.Attributes["alignment-vertical"]))?(Zt.trace(Zt.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid alignment-vertical"),!1):this.Attributes.alignment&&"string"!=typeof this.Attributes.alignment?(Zt.trace(Zt.enumTraceMode.Warning,"Can't draw a Labels Object with invalid alignment"),!1):this.Attributes["alignment-mode"]&&"string"==typeof this.Attributes["alignment-mode"]?Jt.prototype.isValid.call(this):(Zt.trace(Zt.enumTraceMode.Warning,"Can't draw a Labels Object with invalid alignment-mode"),!1):(Zt.trace(Zt.enumTraceMode.Warning,"Can't draw a Labels Object with invalid fill"),!1):(Zt.trace(Zt.enumTraceMode.Warning,"Can't draw a Labels Object with invalid output-format"),!1)},xo.prototype.callSuperDraw=function(e,t){Jt.prototype.draw.call(this,e,t)},xo.default={fill:"black",angle:"0","alignment-mode":"regular","alignment-horizontal":"0","alignment-vertical":"0","output-format":"{S}",offset:"0",condition:"true","modulo-divisor":"1","modulo-bias":"0","position-filter":"regular"},Qt.Labels=xo,t=(t=e=e||{}).Lib||(t.Lib={}),t=(t=(t=($t=t.NVEs||(t.NVEs={})).Features||($t.Features={})).Shape||(t.Shape={})).Line||(t.Line={}),Eo.prototype.draw=function(){var e,t=this.me.lineConfig.mergeVBeginEndLineConfigs(),i=this.me.lineConfig.mergeHLineConfigs(),r=this.me.lineConfig.getVInnerExpInner(),a=this.me.lineConfig.getVInnerExpHeader(),n=this.me.lineConfig.mergeHBeginEndHeaderLineConfigs(),o=this.me.lineConfig.getHInnerExpHeader(),t=(0<t.length&&(this.vBeginEndElementProvider=new $t.Data.SvgElementProvider("line",this.me.verticalLineGroup),this.vBeginEndElementProvider.reset(),e=this.vBeginEndElementProvider.getFreeNodes(t.length),this.vBeginEndElementProvider.finish(),this.setAttr(e,t,null)),this.me.lineConfig.vHeaderExpHeader),s=this.me.lineConfig.vHeaderExpInner;t&&(this.vHeaderExpHeaderElementProvider=new $t.Data.SvgElementProvider("line",this.me.verticalLineGroup),this.vHeaderExpHeaderElementProvider.reset(),e=this.vHeaderExpHeaderElementProvider.getFreeNodes(1),this.vHeaderExpHeaderElementProvider.finish(),this.setAttr(e,[t],null)),s&&(this.vHeaderExpInnerElementProvider=new $t.Data.SvgElementProvider("line",this.me.verticalLineGroup),this.vHeaderExpInnerElementProvider.reset(),e=this.vHeaderExpInnerElementProvider.getFreeNodes(1),this.vHeaderExpInnerElementProvider.finish(),this.setAttr(e,[s],null)),0<i.length&&(this.hLineElementProvider=new $t.Data.SvgElementProvider("line",this.me.horizontalLineGroup),this.hLineElementProvider.reset(),e=this.hLineElementProvider.getFreeNodes(i.length),this.hLineElementProvider.finish(),this.setAttr(e,i,null)),0<r.length&&(this.vInnerExpInnerElementProvider=new $t.Data.SvgElementProvider("line",this.me.vInnerExpInnerLineGroup),this.vInnerExpInnerElementProvider.reset(),e=this.vInnerExpInnerElementProvider.getFreeNodes(r.length),this.vInnerExpInnerElementProvider.finish(),this.setAttr(e,r,null)),0<a.length&&(this.vInnerExpHeaderElementProvider=new $t.Data.SvgElementProvider("line",this.me.vInnerExpHeaderLineGroup),this.vInnerExpHeaderElementProvider.reset(),e=this.vInnerExpHeaderElementProvider.getFreeNodes(a.length),this.vInnerExpHeaderElementProvider.finish(),this.setAttr(e,a,null)),0<n.length&&(this.hBeginEndHeaderElementProvider=new $t.Data.SvgElementProvider("line",this.me.hHeaderLineGroup),this.hBeginEndHeaderElementProvider.reset(),e=this.hBeginEndHeaderElementProvider.getFreeNodes(n.length),this.hBeginEndHeaderElementProvider.finish(),this.setAttr(e,n,null)),0<o.length&&(this.hInnerExpHeaderElementProvider=new $t.Data.SvgElementProvider("line",this.me.hHeaderLineGroup),this.hInnerExpHeaderElementProvider.reset(),e=this.hInnerExpHeaderElementProvider.getFreeNodes(o.length),this.hInnerExpHeaderElementProvider.finish(),this.setAttr(e,o,null))},Eo.prototype.setAttr=function(e,t,i){for(var r,a,n=e.length,o=0;o<n;o++)a=e[o],t?(r=t[o],a.setAttribute("x1",r.x1.toString()),a.setAttribute("x2",r.x2.toString()),a.setAttribute("y1",r.y1.toString()),a.setAttribute("y2",r.y2.toString()),a.setAttribute("stroke",r.stroke),a.setAttribute("stroke-width",r.strokeWidth)):a.setAttribute(i.name,i.value.toString())},Eo.prototype.setAttribute=function(e,t){var i={name:"",value:""};switch(e){case"HeaderGridLineColor":i.name="stroke",i.value=t,this.updateLines(i,"Header");break;case"GridLineWidth":i.name="stroke-width",i.value=t,this.updateLines(i,"All");break;case"GridLineColor":i.name="stroke",i.value=t,this.updateLines(i,"data");break;case"onResize":this.updateLines(i,"onResize")}},Eo.prototype.vInnerElementProvider=function(e){var t,i,r=[],a=[],n=this.me.iLinesToMove.length,o=(this.me.data.tableProps.isRowHeaderActionAllowed&&(r=this.vHeaderExpInnerElementProvider.getActiveNodes(),e.name="x1",e.value=this.me.lineConfig.vHeaderExpInner.x1.toString(),this.setAttr([r[0]],null,e),this.highlighterHeaderExpInnerElementProvider&&this.setAttr([this.highlighterHeaderExpInnerElementProvider.getActiveNodes()[0]],null,e),e.name="x2",this.setAttr([r[0]],null,e),this.highlighterHeaderExpInnerElementProvider)&&this.setAttr([this.highlighterHeaderExpInnerElementProvider.getActiveNodes()[0]],null,e),this.me.lineConfig.vInnerExpInner);for(this.vInnerExpInnerElementProvider&&(r=this.vInnerExpInnerElementProvider.getActiveNodes()),this.highlighterInnerExpInnerElementProvider&&(a=this.highlighterInnerExpInnerElementProvider.getActiveNodes()),t=0;t<n;t++)i=this.me.iLinesToMove[t],e.name="x1",e.value=o[i].x1.toString(),this.setAttr([r[i]],null,e),e.name="x2",this.setAttr([r[i]],null,e),this.highlighterInnerExpInnerElementProvider&&(this.setAttr([a[i]],null,e),e.name="x1",this.setAttr([a[i]],null,e))},Eo.prototype.updateLines=function(e,t){var i,r,a,n,o,s=[],l=[];switch(t){case"Header":this.updateGridLines(e);break;case"data":this.hLineElementProvider&&0<(s=this.hLineElementProvider.getActiveNodes()).length&&this.setAttr(s,null,e),this.vInnerExpInnerElementProvider&&0<(s=this.vInnerExpInnerElementProvider.getActiveNodes()).length&&this.setAttr(s,null,e);break;case"onResize":if(this.me.data.tableProps.isRowHeaderActionAllowed)for(this.vHeaderExpHeaderElementProvider&&(s=this.vHeaderExpHeaderElementProvider.getActiveNodes()),this.highlighterHeaderExpHeaderElementProvider&&(l=this.highlighterHeaderExpHeaderElementProvider.getActiveNodes()),e.name="x1",e.value=this.me.lineConfig.vHeaderExpHeader.x1.toString(),this.setAttr([s[0]],null,e),l&&this.setAttr([l[0]],null,e),e.name="x2",this.setAttr([s[0]],null,e),l&&this.setAttr([l[0]],null,e),i=(o=this.me.lineConfig.hInnerExpHeader).length,s=this.hInnerExpHeaderElementProvider.getActiveNodes(),a=0;a<i;a++)e.name="x2",e.value=o[a].x2.toString(),this.setAttr([s[a]],null,e);for(n=this.me.lineConfig.vInnerExpHeader,this.vInnerExpHeaderElementProvider&&(s=this.vInnerExpHeaderElementProvider.getActiveNodes()),this.highlighterInnerExpHeaderElementProvider&&(l=this.highlighterInnerExpHeaderElementProvider.getActiveNodes()),i=this.me.hLinesToMove.length,r=0;r<i;r++)a=this.me.hLinesToMove[r],e.name="x1",e.value=n[a].x1.toString(),this.setAttr([s[a]],null,e),e.name="x2",this.setAttr([s[a]],null,e),l&&(this.setAttr([l[a]],null,e),e.name="x1",this.setAttr([l[a]],null,e));this.vInnerElementProvider(e);break;default:this.updateGridLines(e),this.hLineElementProvider&&0<(s=this.hLineElementProvider.getActiveNodes()).length&&this.setAttr(s,null,e),this.vInnerExpInnerElementProvider&&0<(s=this.vInnerExpInnerElementProvider.getActiveNodes()).length&&this.setAttr(s,null,e)}},Eo.prototype.updateGridLines=function(e){var t=[];this.vInnerExpHeaderElementProvider&&0<(t=this.vInnerExpHeaderElementProvider.getActiveNodes()).length&&this.setAttr(t,null,e),this.vBeginEndElementProvider&&0<(t=this.vBeginEndElementProvider.getActiveNodes()).length&&this.setAttr(t,null,e),this.vHeaderExpHeaderElementProvider&&(t=this.vHeaderExpHeaderElementProvider.getActiveNodes()),0<(t=this.vHeaderExpInnerElementProvider?[].concat(t,this.vHeaderExpInnerElementProvider.getActiveNodes()):t).length&&this.setAttr(t,null,e),this.hBeginEndHeaderElementProvider&&0<(t=this.hBeginEndHeaderElementProvider.getActiveNodes()).length&&this.setAttr(t,null,e),this.hInnerExpHeaderElementProvider&&0<(t=this.hInnerExpHeaderElementProvider.getActiveNodes()).length&&this.setAttr(t,null,e)},Eo.prototype.createLines=function(e,t){var e=new $t.Data.SvgElementProvider("line",e),i=(e.reset(),e.getFreeNodes(t.length));return e.finish(),this.setAttr(i,t,null),e},Eo.prototype.getHighlighterLineConfigs=function(e){for(var t,i=[],r=0;r<e.length;r++)(t=new $t.Data.LineConfig).x1=e[r].x1,t.x2=e[r].x2,t.y1=e[r].y1,t.y2=e[r].y2,t.stroke=this.highlighterHideColor,t.strokeWidth=12,i.push(t);return i},Eo.prototype.drawHighlighterLines=function(){var e;this.me.lineConfig.vHeaderExpHeader&&(e=this.getHighlighterLineConfigs([this.me.lineConfig.vHeaderExpHeader]),this.highlighterHeaderExpHeaderElementProvider=this.createLines(this.me.highlighterHeaderLineGroup,e)),e=this.getHighlighterLineConfigs(this.me.lineConfig.vInnerExpHeader),this.highlighterInnerExpHeaderElementProvider=this.createLines(this.me.highlighterHeaderLineGroup,e),this.me.lineConfig.vHeaderExpInner&&(e=this.getHighlighterLineConfigs([this.me.lineConfig.vHeaderExpInner]),this.highlighterHeaderExpInnerElementProvider=this.createLines(this.me.highlighterHeaderLineGroup,e)),e=this.getHighlighterLineConfigs(this.me.lineConfig.vInnerExpInner),this.highlighterInnerExpInnerElementProvider=this.createLines(this.me.highlighterInnerLineGroup,e)},Eo.prototype.showHideHighlighterLine=function(e,t,i){var r="none";i?(r="BLOCK",this.isGridLineHilighterVisible=!0):this.isGridLineHilighterVisible=!1,this.me.data.tableProps.isRowHeaderAction?this.me.data.tableProps.isRowHeaderActionAllowed&&(this.highlighterHeaderExpHeaderElementProvider.getActiveNodes()[0].style.display=r,0<this.highlighterHeaderExpInnerElementProvider.getActiveNodes().length)&&(this.highlighterHeaderExpInnerElementProvider.getActiveNodes()[0].style.display=r):(this.highlighterInnerExpHeaderElementProvider.getActiveNodes()[e].style.display=r,0<this.highlighterInnerExpInnerElementProvider.getActiveNodes().length&&(this.highlighterInnerExpInnerElementProvider.getActiveNodes()[t].style.display=r))},Eo.prototype.showHighlighterLine=function(e,t){this.me.data.tableProps.isRowHeaderAction?this.me.data.tableProps.isRowHeaderActionAllowed&&(this.highlighterHeaderExpHeaderElementProvider.getActiveNodes()[0].setAttribute("stroke",this.highlighterVisibleColor),0<this.highlighterHeaderExpInnerElementProvider.getActiveNodes().length)&&this.highlighterHeaderExpInnerElementProvider.getActiveNodes()[0].setAttribute("stroke",this.highlighterVisibleColor):(this.highlighterInnerExpHeaderElementProvider.getActiveNodes()[e].setAttribute("stroke",this.highlighterVisibleColor),0<this.highlighterInnerExpInnerElementProvider.getActiveNodes().length&&this.highlighterInnerExpInnerElementProvider.getActiveNodes()[t].setAttribute("stroke",this.highlighterVisibleColor))},Eo.prototype.removeHighlighterLine=function(e,t){this.me.data.tableProps.isRowHeaderAction?this.me.data.tableProps.isRowHeaderActionAllowed&&(this.highlighterHeaderExpHeaderElementProvider.getActiveNodes()[0].setAttribute("stroke",this.highlighterHideColor),0<this.highlighterHeaderExpInnerElementProvider.getActiveNodes().length)&&this.highlighterHeaderExpInnerElementProvider.getActiveNodes()[0].setAttribute("stroke",this.highlighterHideColor):(this.highlighterInnerExpHeaderElementProvider.getActiveNodes()[e].setAttribute("stroke",this.highlighterHideColor),0<this.highlighterInnerExpInnerElementProvider.getActiveNodes().length&&this.highlighterInnerExpInnerElementProvider.getActiveNodes()[t].setAttribute("stroke",this.highlighterHideColor))},Eo.prototype.remove=function(){this.vBeginEndElementProvider&&(this.vBeginEndElementProvider.cleanup(),this.vBeginEndElementProvider=null),this.vHeaderExpHeaderElementProvider&&(this.vHeaderExpHeaderElementProvider.cleanup(),this.vHeaderExpHeaderElementProvider=null),this.vHeaderExpInnerElementProvider&&(this.vHeaderExpInnerElementProvider.cleanup(),this.vHeaderExpInnerElementProvider=null),this.hLineElementProvider&&(this.hLineElementProvider.cleanup(),this.hLineElementProvider=null),this.vInnerExpHeaderElementProvider&&(this.vInnerExpHeaderElementProvider.cleanup(),this.vInnerExpHeaderElementProvider=null),this.vInnerExpInnerElementProvider&&(this.vInnerExpInnerElementProvider.cleanup(),this.vInnerExpInnerElementProvider=null),this.highlighterHeaderExpHeaderElementProvider&&(this.highlighterHeaderExpHeaderElementProvider.cleanup(),this.highlighterHeaderExpHeaderElementProvider=null),this.highlighterHeaderExpInnerElementProvider&&(this.highlighterHeaderExpInnerElementProvider.cleanup(),this.highlighterHeaderExpInnerElementProvider=null),this.highlighterInnerExpHeaderElementProvider&&(this.highlighterInnerExpHeaderElementProvider.cleanup(),this.highlighterInnerExpHeaderElementProvider=null),this.highlighterInnerExpInnerElementProvider&&(this.highlighterInnerExpInnerElementProvider.cleanup(),this.highlighterInnerExpInnerElementProvider=null),this.hBeginEndHeaderElementProvider&&(this.hBeginEndHeaderElementProvider.cleanup(),this.hBeginEndHeaderElementProvider=null),this.hInnerExpHeaderElementProvider&&(this.hInnerExpHeaderElementProvider.cleanup(),this.hInnerExpHeaderElementProvider=null),this.me=null},t.Lines=Eo,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(ei=x.NVEs||(x.NVEs={})).Features||(ei.Features={})).Shape||(x.Shape={}),ti=x.ShapeBase,i(Io,ti),Io.prototype.callSuperDraw=function(e,t){ti.prototype.draw.call(this,e,t)},Io.prototype.getAlignments=function(){var e,t=0,i=0;return this.getAttribute("alignment")&&2===(e=this.getAttribute("alignment").split(" ")).length&&(t=parseFloat(e[0]),i=parseFloat(e[1])),void 0!==this.getAttribute("alignment-horizontal")&&(t=parseFloat(this.getAttribute("alignment-horizontal"))),void 0!==this.getAttribute("alignment-vertical")&&(i=parseFloat(this.getAttribute("alignment-vertical"))),{horizontal:t=((t=Math.min(1,Math.max(-1,t)))+1)/2,vertical:i=((i=Math.min(1,Math.max(-1,i)))+1)/2}},Io.prototype.isValid=function(){return this.Attributes["content-width"]?0===parseInt(this.Attributes["content-width"])?(ei.trace(ei.enumTraceMode.Warning,"Can't draw an Pole/SectionMarker with content-width 0"),!1):this.Attributes["content-height"]?0===parseInt(this.Attributes["content-height"])?(ei.trace(ei.enumTraceMode.Warning,"Can't draw an Pole/SectionMarker with content-height 0"),!1):isNaN(parseInt(this.Attributes.angle))?(ei.trace(ei.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid angle"),!1):this.Attributes["alignment-horizontal"]&&isNaN(parseInt(this.Attributes["alignment-horizontal"]))?(ei.trace(ei.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid alignment-horizontal"),!1):this.Attributes["alignment-vertical"]&&isNaN(parseInt(this.Attributes["alignment-vertical"]))?(ei.trace(ei.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid alignment-vertical"),!1):this.Attributes.alignment&&"string"!=typeof this.Attributes.alignment?(ei.trace(ei.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid alignment"),!1):isNaN(parseInt(this.Attributes["origin-x"]))?(ei.trace(ei.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid origin-x"),!1):!isNaN(parseInt(this.Attributes["origin-y"]))||(ei.trace(ei.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid origin-y"),!1):(ei.trace(ei.enumTraceMode.Warning,"Can't draw an Pole/SectionMarker without content-height"),!1):(ei.trace(ei.enumTraceMode.Warning,"Can't draw an Pole/SectionMarker without content-width"),!1)},Io.default={"alignment-mode":"radial",angle:"0","modulo-bias":"0","modulo-divisor":"1",offset:"0","origin-x":"0","origin-y":"0",position:"0","position-filter":"regular",condition:"true"},x.MarkersBase=Io,t=(t=e=e||{}).Lib||(t.Lib={}),t=(ii=t.NVEs||(t.NVEs={})).Features||(ii.Features={}),ri=t.Shape||(t.Shape={}),ai=ri.MarkersBase,i(Ro,ai),Ro.prototype.draw=function(e,t){return this.callSuperDraw(e,t),this.implementation||(this.metaData.NVE instanceof ii.StraightDial?this.implementation=new ri.StraightDial.PoleMarkersStraight(this):this.metaData.NVE instanceof ii.ArcDial&&(this.implementation=new ri.ArcDial.PoleMarkersArc(this))),this.isValid()&&this.implementation.draw(),this.dom},ri.PoleMarkers=Ro,x=(x=e=e||{}).Lib||(x.Lib={}),x=(ni=x.NVEs||(x.NVEs={})).Features||(ni.Features={}),oi=x.Shape||(x.Shape={}),si=oi.ShapeBase,i(Bo,si),Bo.prototype.draw=function(e,t){return si.prototype.draw.call(this,e,t),this.implementation||(this.metaData.NVE instanceof ni.StraightDial?this.implementation=new oi.StraightDial.RibbonsStraight(this):this.metaData.NVE instanceof ni.ArcDial&&(this.implementation=new oi.ArcDial.RibbonsArc(this))),this.isValid()&&this.implementation.draw(),this.dom},Bo.prototype.isValid=function(){return isNaN(parseInt(this.Attributes["begin-stroke-width"]))?(ni.trace(ni.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid begin-stroke-width"),!1):isNaN(parseInt(this.Attributes["end-stroke-width"]))?(ni.trace(ni.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid end-stroke-width"),!1):this.Attributes["stroke-width"]&&isNaN(parseInt(this.Attributes["stroke-width"]))?(ni.trace(ni.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid stroke-width"),!1):this.Attributes["begin-stroke"]&&"string"==typeof this.Attributes["begin-stroke"]?this.Attributes["end-stroke"]&&"string"==typeof this.Attributes["end-stroke"]?this.Attributes.stroke&&"string"!=typeof this.Attributes.stroke?(ni.trace(ni.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid stroke"),!1):isNaN(parseInt(this.Attributes["begin-surcharge"]))?(ni.trace(ni.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid begin-surcharge"),!1):isNaN(parseInt(this.Attributes["end-surcharge"]))?(ni.trace(ni.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid end-surcharge"),!1):this.Attributes.surcharge&&isNaN(parseInt(this.Attributes.surcharge))?(ni.trace(ni.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid surcharge"),!1):isNaN(parseInt(this.Attributes["begin-radius"]))?(ni.trace(ni.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid begin-radius"),!1):isNaN(parseInt(this.Attributes["end-radius"]))?(ni.trace(ni.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid end-radius"),!1):si.prototype.isValid.call(this):(ni.trace(ni.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid end-stroke"),!1):(ni.trace(ni.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid begin-stroke"),!1)},Bo.prototype.getStrokeColors=function(){var e="transparent",t="transparent";return this.getAttribute("begin-stroke")&&(e=this.getAttribute("begin-stroke")),this.getAttribute("end-stroke")&&(t=this.getAttribute("end-stroke")),{begin:e=this.getAttribute("stroke")?t=this.getAttribute("stroke"):e,end:t}},Bo.prototype.getBeginEndParameters=function(e,t){var i,r=NaN,a=NaN;return this.Attributes[e]?1===(i=String(this.Attributes[e]).split(" ")).length?r=a=parseFloat(i[0]):2===i.length&&(r=parseFloat(i[0]),a=parseFloat(i[1])):(r=parseFloat(this.getAttribute("begin-"+e)),a=parseFloat(this.getAttribute("end-"+e))),{begin:r=isNaN(r)?t:r,end:a=isNaN(a)?t:a}},Bo.default={"begin-surcharge":"0","end-surcharge":"0","modulo-divisor":"1","modulo-bias":"0","position-filter":"regular","begin-radius":"0","end-radius":"0",condition:"true",offset:"0","begin-stroke-width":"1","end-stroke-width":"1","begin-stroke":"transparent","end-stroke":"transparent"},oi.Ribbons=Bo,t=(t=e=e||{}).Lib||(t.Lib={}),t=(li=t.NVEs||(t.NVEs={})).Features||(li.Features={}),ui=t.Shape||(t.Shape={}),hi=ui.Labels,i(Lo,hi),Lo.prototype.draw=function(e,t){return hi.prototype.callSuperDraw.call(this,e,t),this.implementation||(this.metaData.NVE instanceof li.StraightDial?this.implementation=new ui.StraightDial.SectionLabelsStraight(this):this.metaData.NVE instanceof li.ArcDial&&(this.implementation=new ui.ArcDial.SectionLabelsArc(this))),this.isValid()&&this.implementation.draw(),this.dom},Lo.prototype.isValid=function(){return isNaN(parseInt(this.getAttribute("position")))?(li.trace(li.enumTraceMode.Warning,"Can't draw a SectionLabels Object with invalid position"),!1):hi.prototype.isValid.call(this)},Lo.default={fill:"black",angle:"0","alignment-mode":"regular","alignment-horizontal":"0","alignment-vertical":"0","output-format":"{S}",offset:"0",position:"0",condition:"true","modulo-divisor":"1","modulo-bias":"0","position-filter":"regular"},ui.SectionLabels=Lo,x=(x=e=e||{}).Lib||(x.Lib={}),x=(di=x.NVEs||(x.NVEs={})).Features||(di.Features={}),ci=x.Shape||(x.Shape={}),pi=ci.MarkersBase,i(Mo,pi),Mo.prototype.draw=function(e,t){return this.callSuperDraw(e,t),this.implementation||(this.metaData.NVE instanceof di.StraightDial?this.implementation=new ci.StraightDial.SectionMarkersStraight(this):this.metaData.NVE instanceof di.ArcDial&&(this.implementation=new ci.ArcDial.SectionMarkersArc(this))),this.isValid()&&this.implementation.draw(),this.dom},Mo.default={"alignment-mode":"radial",angle:"0","modulo-bias":"0","modulo-divisor":"1",offset:"0","origin-x":"0","origin-y":"0",position:"0","position-filter":"regular",condition:"true"},ci.SectionMarkers=Mo,(t=(t=(t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Features||(t.Features={})).Shape||(t.Shape={})).SvgShape||(t.SvgShape={})).CreateSvgElement=function(e,t){var i,r,a=document.createElementNS("http://www.w3.org/2000/svg",e);if(t)for(i in t)if(i)switch(r=t[i],i){case"rect":a.setAttributeNS(null,"x",r.left),a.setAttributeNS(null,"y",r.top),a.setAttributeNS(null,"width",r.width),a.setAttributeNS(null,"height",r.height);break;case"displayText":var n=document.createTextNode(r);a.appendChild(n);break;case"appendTo":r.appendChild(a);break;case"textDecoration":a.style.textDecoration=r;break;default:a.setAttributeNS(null,i,r)}return a},t.SetAttributes=function(e,t){var i,r;for(i in t)if(i)switch(r=t[i],i){case"rect":e.setAttributeNS(null,"x",r.left),e.setAttributeNS(null,"y",r.top),e.setAttributeNS(null,"width",r.width),e.setAttributeNS(null,"height",r.height);break;case"displayText":var a=document.createTextNode(r);e.appendChild(a);break;case"appendTo":r.appendChild(e);break;case"textDecoration":e.style.textDecoration=r;break;default:e.setAttributeNS(null,i,r)}},t.GetElementsByClassName=function(e,t,i){var r,a,n,o,s=[];if(e.getElementsByClassName)s=e.getElementsByClassName(t);else for(i=i||"*",o=(r=e.all||e.getElementsByTagName(i)).length,n=0;n<o;n++)(a=r[n]).className&&-1!==a.className.baseVal.indexOf(t)&&s.push(a);return s.remove=function(){for(var e=this.length-1;0<=e;e--)this[e].parentNode.removeChild(this[e])},s.attr=function(e,t){for(var i=this.length,r=0;r<i;r++)"text-decoration"===e?this[r].style.textDecoration=t:this[r].setAttribute(e,t)},s},t.getElementByIDSafariHack=function(e,t,i){for(var r=e.getElementsByTagName(t),a=r.length,n=0;n<a;n++)if(i===r[n].id)return r[n]},t.updateDOMAttributes=function(e,t){var i,r,a;if(i=e.length)for(a=0;a<i;a++)for(r in t)e[a].setAttribute(r,t[r]);else if(void 0===e.length)for(r in t)e.setAttribute(r,t[r])},t.AddSvgEvents=function(e,t){var i,r;if(t)for(i in t)i&&(r=t[i],e.addEventListener(i,r,!1))},t.RemoveSvgEvents=function(e,t){var i,r;if(t)for(i in t)i&&(r=t[i],e.removeEventListener(i,r,!1))},x=(x=e=e||{}).Lib||(x.Lib={}),x=(mi=x.NVEs||(x.NVEs={})).Features||(mi.Features={}),gi=x.Shape||(x.Shape={}),Ti=gi.ShapeBase,i(Fo,Ti),Fo.prototype.draw=function(e,t){return Ti.prototype.draw.call(this,e,t),this.implementation||(this.metaData.NVE instanceof mi.StraightDial?this.implementation=new gi.StraightDial.TicksStraight(this):this.metaData.NVE instanceof mi.ArcDial&&(this.implementation=new gi.ArcDial.TicksArc(this))),this.isValid()&&this.implementation.draw(),this.dom},Fo.prototype.isValid=function(){return this.Attributes.stroke&&"string"==typeof this.Attributes.stroke?isNaN(parseInt(this.Attributes.length))?(mi.trace(mi.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid length"),!1):isNaN(parseInt(this.Attributes["stroke-width"]))?(mi.trace(mi.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid stroke-width"),!1):Ti.prototype.isValid.call(this):(mi.trace(mi.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid stroke"),!1)},Fo.default={length:"1","stroke-width":"1",stroke:"black","modulo-divisor":"1","modulo-bias":"0",offset:"0","position-filter":"regular",condition:"true"},gi.Ticks=Fo,t=(t=e=e||{}).Lib||(t.Lib={}),fi=t.NVEs||(t.NVEs={}),yi=fi.Features||(fi.Features={}),t=yi.Structure||(yi.Structure={}),Di=yi.NVEFeatureBase,i(Ho,Di),Ho.prototype.draw=function(e,t){return this.metaData=t,this.webRTPUItem=e,this.Attributes=fi.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.prepareDom(),this.applyVisibility(),this.dom},Ho.prototype.prepareDom=function(){if(this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")},Ho.prototype.redraw=function(e,t){this.draw(e,t)},Ho.prototype.getPoles=function(e){return e=e||this.getAllChildrenSections(this.getStructure()),this.metaData.NVE instanceof fi.StraightDial?this.getStraightPoles(e):this.getArcPoles(e)},Ho.prototype.getStraightPoles=function(e){for(var t=new Array,i=0;i<e.length;i++){var r=e[i],a=new fi.Data.PoleStraight(r.beginX,r.beginY,r.beginValue);t.push(a),i==e.length-1&&(a=new fi.Data.PoleStraight(r.endX,r.endY,r.endValue),t.push(a))}return t},Ho.prototype.getArcPoles=function(e){for(var t=new Array,i=0;i<e.length;i++){var r=e[i],a=new fi.Data.PoleArc(r.centerX,r.centerY,r.radius,r.beginAngle,r.beginValue);t.push(a),i==e.length-1&&(a=new fi.Data.PoleArc(r.centerX,r.centerY,r.radius,r.endAngle,r.endValue),t.push(a))}return t},Ho.prototype.getStructure=function(){return new fi.Data.HierarchyLevel(null,null,this)},Ho.prototype.getAllChildrenSections=function(e){for(var t,i=new Array,r=e.getSections(),a=0;a<r.length;a++)null==r[a].children?i.push(r[a]):(t=this.getAllChildrenSections(r[a].children),i=i.concat(t));return i},Ho.prototype.getScaleSections=function(e){var t;return null==e?null:e.structureElement instanceof yi.Scale?e.getSections():(t=0)<(e=e.getSections()).length?this.getScaleSections(e[t].children):void 0},Ho.default={},t.StructureBase=Ho,x=(x=e=e||{}).Lib||(x.Lib={}),x=(Si=x.NVEs||(x.NVEs={})).Features||(Si.Features={}),bi=x.Structure||(x.Structure={}),Ci=bi.StructureBase,i(Oo,Ci),Oo.prototype.draw=function(e,t){Ci.prototype.draw.call(this,e,t);var i=this.Parent;if(this.origin=parseFloat(i.getAttribute("origin")),this.implementation||(this.metaData.NVE instanceof Si.StraightDial?this.implementation=new bi.StraightDial.AutoMeasureStraight(this):this.metaData.NVE instanceof Si.ArcDial&&(this.implementation=new bi.ArcDial.AutoMeasureArc(this))),this.isValid()){for(var r=0;r<this.Features.length;r++)this.dom.appendChild(this.Features[r].draw(e,t));return this.cleanLabelCollisions(),this.dom}},Oo.prototype.getStructure=function(){return this.implementation.getStructure()},Oo.prototype.isValid=function(){return this.Parent instanceof Si.Features.Scale?null!==Si.Utilities.convertToBool(this.Attributes.condition)||(Si.trace(Si.enumTraceMode.Warning,"Can't draw a Automeasure Object with invalid condition"),!1):(Si.trace(Si.enumTraceMode.Error,"Automeasure can only be a direct child of Scale"),!1)},Oo.prototype.cleanLabelCollisions=function(){var t="vertical"===this.getStructure().structureElement.Attributes.orientation?["y","dy",Si.getTextHeight]:["x","dx",Si.getTextWidth];try{var e=this.Features.filter(function(e){return e.defaults.angle}).map(function(t){return t.implementation.elementProvider.activeDomNodes.map(function(e){return[e,t.implementation.getFontWebRHAttributes(t.implementation.labels.Features[0])]})}).reduce(function(e,t){return e.length?e.concat(t):t}).map(function(e){return[Number(e[0].getAttribute(t[0]))+Number(e[0].getAttribute(t[1])),t[2](e[0].innerHTML,e[1]),e[0]]}).sort(function(e,t){return e[0]-t[0]});this.collisionDetection(e)}catch(e){e.message.startsWith("labels.implementation.getFontWebRHAttributes")||Si.trace(Si.enumTraceMode.Warning,"LabelCollision Detection failed")}},bi.AutoMeasure=Oo,((t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Features||(t.Features={})).Structure||(t.Structure={})).AxisArea=function(e){this.calculateHeight=function(){this._axis.trendView.alignmentEnum;var e=this._axis.rect.height=this._axis.getNeededDimension();return this._axis.rect.height&&(this._axis.innerRect.height=this._axis.rect.height-this._axis.trendView.getLineWidth()),e},this.calculateWidth=function(){this._axis.trendView.alignmentEnum;var e=this._axis.rect.width=this._axis.getNeededDimension();return this._axis.rect.width&&(this._axis.innerRect.width=this._axis.rect.width-this._axis.trendView.getLineWidth()),e},this.getAlignment=function(){return this._axis.align},this.getAxisId=function(){return!!this._axis.config.Visible&&this._axis.id},this.getHeight=function(){return this._axis.config.Visible?this._axis.rect.height:0},this.getWidth=function(){return this._axis.config.Visible?this._axis.rect.width:0},this.draw=function(e){return this._axis.svgParent=e,this._axis.config.Visible?this._axis.draw():this._axis.drawInvisibleAxis()},this.update=function(e){return this._axis.update()},this.setHeight=function(e){this._axis.trendView.alignmentEnum;(this._axis.rect.height=e)&&(this._axis.innerRect.height=e-this._axis.trendView.getLineWidth())},this.setWidth=function(e){this._axis.trendView.alignmentEnum;(this._axis.rect.width=e)&&(this._axis.innerRect.width=e-this._axis.trendView.getLineWidth())},this.setLeft=function(e){this._axis.trendView.alignmentEnum;this._axis.rect.left=e,this._axis.innerRect.left=e+this._axis.trendView.getLineWidth()/2},this.setTop=function(e){this._axis.trendView.alignmentEnum;this._axis.rect.top=e,this._axis.innerRect.top=e+this._axis.trendView.getLineWidth()/2},this.getLeft=function(){return this._axis.rect.left},this.getTop=function(){return this._axis.rect.top},this.cleanUp=function(){this._axis=null},this._axis=e},x=(x=e=e||{}).Lib||(x.Lib={}),vi=x.NVEs||(x.NVEs={}),_i=vi.Features||(vi.Features={}),x=_i.Structure||(_i.Structure={}),No.prototype.draw=function(e){for(var t=0;t<this._axesArea.length;++t)if(!this._axesArea[t].draw(e))return!1;return!0},No.prototype.update=function(e){for(var t=0;t<this._axesArea.length;++t)if(!this._axesArea[t].update(e))return!1;return!0},x.AxisAreaCollection=No,t=(t=e=e||{}).Lib||(t.Lib={}),Pi=t.NVEs||(t.NVEs={}),((Ai=Pi.Features||(Pi.Features={})).Structure||(Ai.Structure={})).ChartLayouter=function(e){this._trendAreaCollection=[],this._spaceOnLeftAndRight=30,this._layoutDrawn="",this._createTrendAreas=function(){var e,t,i=this._trendView.getDrawableTrendWindow(),r=i.length,a=Ai.Structure.GraphAreaStructure;for(this._trendAreaCollection=[],e=r-1;0<=e;--e)t=new a(i[e]),this._trendAreaCollection.push(t)},this._calculateDim=function(e){var t,i,r,a,n,o,s,l,u,h,d,c,p=0,m=0,g=this._trendView.isLeftOrRight(),T=this._trendView.chart.getAttribute("area-spacing"),f="",y=0,D=this._trendView.yAxesScrollbar?1:0,S=new Ai.Structure.Rectangle,b=Pi.Utilities.getProjectMajorVersion(this._trendView.chart.RTPUItem);if(17<=b||""===b||this._trendView.trendObjectType===Pi.Data.TrendObjectType.Function?(S.height=this._trendView.height,S.width=this._trendView.width,S.left=parseFloat(this._trendView.chart.getAttribute("start-x"))):(S.height=this._trendView.height-this._spaceOnLeftAndRight/2,S.width=this._trendView.width-2*this._spaceOnLeftAndRight,S.left=parseFloat(this._trendView.chart.getAttribute("start-x"))+this._spaceOnLeftAndRight),S.top=parseFloat(this._trendView.chart.getAttribute("start-y")),e)r=this._trendAreaCollection;else for(r=[],t=0;t<this._trendAreaCollection.length;++t)this._trendAreaCollection[t].trendWindowArea.trendWindow.trendWindowDrawn&&r.push(this._trendAreaCollection[t]);for(i=r.length,n=S.height+(i-1)*(0-T),o=S.width+(i-1)*(0-T),s=this._calculateSpacePortion(e),l=S.top,u=S.left+S.width,t=0;t<i;++t)h=(a=r[t]).trendWindowArea.trendWindow,c=g?(a.calculateAxisAreaWidth(),d=a.leftAxisArea.getWidth(),a.rightAxisArea.getWidth()):(a.calculateAxisAreaHeight(),d=a.topAxisArea.getHeight(),a.bottomAxisArea.getHeight()),p<d&&(p=d),m<c&&(m=c),y<(d=h.getMinMaxRulerWidth())&&(y=d);for(p=Pi.ChartBalancer.setAndGetMaxValue(this._trendView.rtoid,this._trendView.layoutBalancerId,0,p),m=Pi.ChartBalancer.setAndGetMaxValue(this._trendView.rtoid,this._trendView.layoutBalancerId,1,m),y=Pi.ChartBalancer.setAndGetMaxValue(this._trendView.rtoid,this._trendView.layoutBalancerId,2,y),D=Pi.ChartBalancer.setAndGetMaxValue(this._trendView.rtoid,this._trendView.layoutBalancerId,3,D),t=0;t<i;++t)h=(a=r[t]).trendWindowArea.trendWindow,g?(S.height=h.config.SizeFactor*n/s,0<t?(S.top=+l,l+=+S.height+T):(S.top=l,l+=S.height+T),a.leftAxisArea.setWidth(p),a.rightAxisArea.setWidth(m)):(S.width=h.config.SizeFactor*o/s,0<t?(S.left=u-S.width+0,u-=+S.width+T):(S.left=u-S.width,u-=S.width+T),a.topAxisArea.setHeight(p),a.bottomAxisArea.setHeight(m)),a.calculateDim(S,y,D)?f+="1":f+="0",g?S.height=0:S.width=0;return f},this._calculateSpacePortion=function(e){for(var t,i=0,r=0;r<this._trendAreaCollection.length;++r)t=this._trendAreaCollection[r].trendWindowArea.trendWindow,(e||t.trendWindowDrawn)&&(i+=parseInt(t.config.SizeFactor,10));return i},this._draw=function(e){for(var t,i,r=0;r<this._trendAreaCollection.length&&(!(i=this._trendAreaCollection[r]).trendWindowArea.trendWindow.trendWindowDrawn||(t=document.createElementNS("http://www.w3.org/2000/svg","g"),e.childNodes[0].appendChild(t),!1!==i.draw(t)));++r);},this._dimCalculator=function(e){var t,i,e=this._calculateDim(e);if(-1<e.indexOf("0")&&"0"!==e)for(t=this._trendAreaCollection.length,i=0;i<t;i++)this._trendAreaCollection[i].trendWindowArea.trendWindow.setLayoutSuccess(!1);return e},this.drawLayout=function(e){var t;if(this._trendView)return this._createTrendAreas(),this._trendView.hasVerticalScrollbar(),-1!==(t=this._dimCalculator(!0)).indexOf("1")?(t.length!==this._trendAreaCollection.length||"0"===t?(this._trendView.createDrawableTrendsCollection(),this._trendView.allAreasDrawn=!1):("0"===this._layoutDrawn&&(this._trendView.clearDrawableTrendAreas(),this._trendView.updateDrawableTrends()),this._trendView.allAreasDrawn=!0),this._draw(e),this._layoutDrawn=t,!0):(this._layoutDrawn=t,this._trendView.allAreasDrawn=!1)},this.updateLayout=function(){var e,t,i;if(this._trendView.hasVerticalScrollbar(),(i=this._dimCalculator(!0))!==this._layoutDrawn)return i.length>this._layoutDrawn.length?this._trendView.saveTrendWindowIndex(this._layoutDrawn.length):"0"===this._layoutDrawn&&this._trendView.saveTrendWindowIndex(0),this._layoutDrawn=i,this._layoutDrawn.length!==this._trendAreaCollection.length||"0"===this._layoutDrawn?this._trendView.allAreasDrawn=!1:this._trendView.allAreasDrawn=!0,!1;for(e=0;e<this._trendAreaCollection.length;++e)if((t=this._trendAreaCollection[e]).trendWindowArea.trendWindow.trendWindowDrawn&&!1===t.update())return this._layoutDrawn;return!0},this.cleanUp=function(){for(var e=0;e<this._trendAreaCollection.length;++e)this._trendAreaCollection[e].cleanUp(),0;this._trendAreaCollection=null,this._trendView=null},this._trendView=e},x=(x=e=e||{}).Lib||(x.Lib={}),x=(wi=x.NVEs||(x.NVEs={})).Features||(wi.Features={}),Vi=x.Structure||(x.Structure={}),xi=Vi.StructureBase,i(ko,xi),ko.prototype.draw=function(e,t){if(xi.prototype.draw.call(this,e,t),this.implementation||(this.metaData.NVE instanceof wi.StraightDial?this.implementation=new Vi.StraightDial.DivisionStraight(this):this.metaData.NVE instanceof wi.ArcDial&&(this.implementation=new Vi.ArcDial.DivisionArc(this))),this.isValid())for(var i=0;i<this.Features.length;i++)this.dom.appendChild(this.Features[i].draw(e,t));return this.dom},ko.prototype.isValid=function(){return isNaN(parseInt(this.Attributes.count))?(wi.trace(wi.enumTraceMode.Warning,"Can't draw a Division without valid count"),!1):null!==wi.Utilities.convertToBool(this.Attributes.condition)||(wi.trace(wi.enumTraceMode.Warning,"Can't draw a Division Object with invalid condition"),!1)},ko.prototype.getStructure=function(){return this.implementation.getStructure()},ko.prototype.getAttribute=function(e){return"count"===e&&parseFloat(this.Attributes[e])<1?"1":this.Attributes[e]},ko.prototype.getMetaData=function(){if(this.metaData)return this.metaData;throw"No metaData available, the draw(...) method needs to be called first."},Vi.Division=ko,t=(t=e=e||{}).Lib||(t.Lib={}),Ei=t.NVEs||(t.NVEs={}),Ii=Ei.Features||(Ei.Features={}),t=Ii.Structure||(Ii.Structure={}),Wo.prototype._getMinMaxRulerExtent=function(){var e=this.trendWindow.getIsLeftOrRight()?this.trendWindowArea.getLeft()+this.trendWindowArea.getWidth()+this.rightAxisArea.getWidth()+this._valueScrollbarWidth:this.topAxisArea.getTop();return e},Wo.prototype._getRulerBoundaries=function(e,t){var i=new Ii.Structure.Rectangle,r=this.trendWindow.getIsLeftOrRight(),a=this.trendWindow.isOnlineTrendControl();return r?(this.topAxisArea.hasAxis()?i.top=this.topAxisArea.getTopBottomBound(e):i.top=this.trendWindowArea.getTop(),this.bottomAxisArea.hasAxis()?i.bottom=this.bottomAxisArea.getTopBottomBound(t):i.bottom=this.trendWindowArea.getTop()+this.trendWindowArea.getHeight(),i.height=i.bottom-i.top,a?(i.left=this.trendWindowArea.getLeft(),i.right=this.trendWindowArea.getLeft()+this.trendWindowArea.getWidth()):(this.leftAxisArea.hasAxis()?i.left=this.leftAxisArea.getLeftRightBound(t):i.left=this.trendWindowArea.getLeft(),this.rightAxisArea.hasAxis()?i.right=this.rightAxisArea.getLeftRightBound(e):i.right=this.trendWindowArea.getLeft()+this.trendWindowArea.getWidth()),i.width=i.right-i.left):(this.leftAxisArea.hasAxis()?i.left=this.leftAxisArea.getLeftRightBound(t):i.left=this.trendWindowArea.getLeft(),this.rightAxisArea.hasAxis()?i.right=this.rightAxisArea.getLeftRightBound(e):i.right=this.trendWindowArea.getLeft()+this.trendWindowArea.getWidth(),i.width=i.right-i.left,a?(i.top=this.trendWindowArea.getTop(),i.bottom=this.trendWindowArea.getTop()+this.trendWindowArea.getHeight()):(this.topAxisArea.hasAxis()?i.top=this.topAxisArea.getTopBottomBound(e):i.top=this.trendWindowArea.getTop(),this.bottomAxisArea.hasAxis()?i.bottom=this.bottomAxisArea.getTopBottomBound(t):i.bottom=this.trendWindowArea.getTop()+this.trendWindowArea.getHeight()),i.height=i.bottom-i.top),i},Wo.prototype.calculateDim=function(e,t,i){var r,a,n,o=null,s=null,l=null,u=null,h=null,d=null,c=this.trendWindow,p=c.getIsLeftOrRight(),m=c.isOnlineTrendControl(),g=c.getRulerHandleWidthHeight().xHeight/2,T=0;return this._timeScrollbarWidth=0,this._valueScrollbarWidth=0,p?(this._rect.left=e.left,this._rect.top=e.top+g,this._rect.height=e.height-g,this._rect.width=e.width-t):(T=m?t:t||g,this._rect.left=e.left,this._rect.top=e.top+T,this._rect.height=e.height-T,this._rect.width=e.width),c.getAxesZoomed().xZoomed&&(this._timeScrollbarWidth=this.SCROLLBAR_WIDTH+this._lineWidth),i&&(this._valueScrollbarWidth=this.SCROLLBAR_WIDTH+this._lineWidth),m=p?0:this._timeScrollbarWidth,t=p?(r=this.bottomAxisArea.calculateHeight()+this._timeScrollbarWidth,a=this.topAxisArea.calculateHeight(),n=this.leftAxisArea.getWidth()+this._valueScrollbarWidth,this.rightAxisArea.getWidth()):(r=this.bottomAxisArea.getHeight()+this._valueScrollbarWidth,a=this.topAxisArea.getHeight(),n=this.leftAxisArea.calculateWidth()+this._timeScrollbarWidth,this.rightAxisArea.calculateWidth()),this.trendWindowArea.setHeight(this._rect.height-(r+a)),this.trendWindowArea.setWidth(this._rect.width-(n+t)),g=this.trendWindowArea.rect,this.leftAxisArea.setHeight(g.height),this.rightAxisArea.setHeight(g.height),this.topAxisArea.setWidth(g.width),this.bottomAxisArea.setWidth(g.width),this.topAxisArea.setLeft(this._rect.left+this.leftAxisArea.getWidth()+m),this.topAxisArea.setTop(this._rect.top),this.leftAxisArea.setLeft(this._rect.left+m),this.leftAxisArea.setTop(this._rect.top+a),this.bottomAxisArea.setLeft(this.topAxisArea.getLeft()),this.bottomAxisArea.setTop(this._rect.top+a+this.leftAxisArea.getHeight()),this.rightAxisArea.setLeft(this.topAxisArea.getLeft()+this.topAxisArea.getWidth()),this.rightAxisArea.setTop(this.leftAxisArea.getTop()),this.trendWindowArea.setLeft(this._rect.left+this.leftAxisArea.getWidth()+m),this.trendWindowArea.setTop(this._rect.top+a),this._valueScrollbarWidth&&(o=p?(h=this.trendWindowArea.getHeight()-this._lineWidth,s=this._rect.top+a+this._lineWidth/2,this.rightAxisArea.getLeft()+this.rightAxisArea.getWidth()):(h=this.trendWindowArea.getWidth()-this._lineWidth,s=this.bottomAxisArea.getTop()+this.bottomAxisArea.getHeight(),this._rect.left+this.leftAxisArea.getWidth()+m+this._lineWidth/2)),this._timeScrollbarWidth&&(l=p?(d=this.trendWindowArea.getWidth()-this._lineWidth,u=this.bottomAxisArea.getTop()+this.bottomAxisArea.getHeight(),this._rect.left+this.leftAxisArea.getWidth()+this._lineWidth/2):(d=this.trendWindowArea.getHeight()-this._lineWidth,u=this._rect.top+a+this._lineWidth/2,this._rect.left+this._lineWidth)),(this._timeScrollbarWidth||this._valueScrollbarWidth)&&c.setScrollbarDim(o,s,l,u,h,d),g.isEmpty()?(this.trendWindowArea.setWidth(this._rect.width),this.trendWindowArea.setHeight(this._rect.height),this._areaDrawn=!1,c.setLayoutSuccess(!1)):(c.setLayoutSuccess(!0),this._areaDrawn=!0),this._areaDrawn},t.GraphAreaStructure=Wo,x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={}),((Ri=x.Features||(x.Features={})).Structure||(Ri.Structure={})).GraphAreaWindow=function(e){this.setHeight=function(e){this.rect.height=e,this.innerRect.height=e-this.trendWindow.getTrendViewLineWidth()},this.setWidth=function(e){this.rect.width=e,this.innerRect.width=e-this.trendWindow.getTrendViewLineWidth()},this.setLeft=function(e){this.rect.left=e,this.innerRect.left=e+this.trendWindow.getTrendViewLineWidth()/2},this.setTop=function(e){this.rect.top=e,this.innerRect.top=e+this.trendWindow.getTrendViewLineWidth()/2},this.getHeight=function(){return this.rect.height},this.getWidth=function(){return this.rect.width},this.getLeft=function(){return this.rect.left},this.getTop=function(){return this.rect.top},this.draw=function(e,t){this.trendWindow&&(this.trendWindow.setSVG(e,t),this.trendWindow.draw())},this.update=function(){this.trendWindow&&this.trendWindow.update()},this.cleanUp=function(){this.trendWindow=this.rect=this.innerRect=null},this.trendWindow=e,this.rect=new Ri.Structure.Rectangle,this.innerRect=new Ri.Structure.Rectangle,e.setRect(this.rect,this.innerRect)},t=(t=e=e||{}).Lib||(t.Lib={}),t=(Bi=t.NVEs||(t.NVEs={})).Features||(Bi.Features={}),Li=t.Structure||(t.Structure={}),Mi=Li.StructureBase,i(Go,Mi),Go.prototype.draw=function(e,t){if(Mi.prototype.draw.call(this,e,t),this.implementation||(this.metaData.NVE instanceof Bi.StraightDial?this.implementation=new Li.StraightDial.MarkerStraight(this):this.metaData.NVE instanceof Bi.ArcDial&&(this.implementation=new Li.ArcDial.MarkerArc(this))),this.Attributes.value=this.getAttribute("value"),this.isValid())for(var i=0;i<this.Features.length;i++){var r=this.Features[i].draw(e,t);this.dom.contains(r)||this.dom.appendChild(r)}return this.dom},Go.prototype.prepareDom=function(){this.dom||(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g"))},Go.prototype.isValid=function(){return isNaN(parseInt(this.Attributes.value))?(Bi.trace(Bi.enumTraceMode.Warning,"Can't draw a Marker without value"),!1):null!==Bi.Utilities.convertToBool(this.Attributes.condition)||(Bi.trace(Bi.enumTraceMode.Warning,"Can't draw a Marker Object with invalid condition"),!1)},Go.prototype.getStructure=function(){return this.implementation.getStructure()},Go.prototype.getAttribute=function(e){var t=this.Parent.getStructure(),i=this.getScaleSections(t);switch(this.Attributes[e]){case"scale-begin":return String(this.metaData.scaleBegin);case"scale-end":return String(this.metaData.scaleEnd);case"begin-surcharge":return String(this.metaData.getBeginSurchargeValue(i[0]));case"end-surcharge":return String(this.metaData.getEndSurchargeValue(i[0]));default:return this.Attributes[e]}},Go.prototype.hasSpecialValue=function(e){return"scale-begin"==this.Attributes[e]||"scale-end"==this.Attributes[e]||"begin-surcharge"==this.Attributes[e]||"end-surcharge"==this.Attributes[e]},Li.Marker=Go,x=(x=e=e||{}).Lib||(x.Lib={}),x=(Fi=x.NVEs||(x.NVEs={})).Features||(Fi.Features={}),Hi=x.Structure||(x.Structure={}),Oi=Hi.StructureBase,i(Uo,Oi),Uo.prototype.draw=function(e,t){if(Oi.prototype.draw.call(this,e,t),this.implementation||(this.metaData.NVE instanceof Fi.StraightDial?this.implementation=new Hi.StraightDial.MeasureStraight(this):this.metaData.NVE instanceof Fi.ArcDial&&(this.implementation=new Hi.ArcDial.MeasureArc(this))),this.isValid())for(var i=0;i<this.Features.length;i++)this.dom.appendChild(this.Features[i].draw(e,t));return this.dom},Uo.prototype.isValid=function(){return isNaN(parseInt(this.Attributes.graduation))?(Fi.trace(Fi.enumTraceMode.Warning,"Can't draw a Measure without graduation"),!1):null!==Fi.Utilities.convertToBool(this.Attributes.condition)||(Fi.trace(Fi.enumTraceMode.Warning,"Can't draw a Measure with invalid condition"),!1)},Uo.prototype.getStructure=function(){return this.implementation.getStructure()},Uo.prototype.calculateTickSpacing=function(e){return Math.abs(Number(this.getAttribute("graduation")))},Hi.Measure=Uo,t=(t=e=e||{}).Lib||(t.Lib={}),t=(Ni=t.NVEs||(t.NVEs={})).Features||(Ni.Features={}),ki=t.Structure||(t.Structure={}),Wi=ki.StructureBase,i(zo,Wi),zo.prototype.draw=function(e,t){if(Wi.prototype.draw.call(this,e,t),this.implementation||(this.metaData.NVE instanceof Ni.StraightDial?this.implementation=new ki.StraightDial.RangeStraight(this):this.metaData.NVE instanceof Ni.ArcDial&&(this.implementation=new ki.ArcDial.RangeArc(this))),this.isValid())for(var i=0;i<this.Features.length;i++)this.dom.appendChild(this.Features[i].draw(e,t));return this.dom},zo.prototype.isValid=function(){return!this.hasSpecialValue("begin-value")&&isNaN(parseInt(this.getAttribute("begin-value")))?(Ni.trace(Ni.enumTraceMode.Warning,"Can't draw a Range without begin-value"),!1):!this.hasSpecialValue("end-value")&&isNaN(parseInt(this.getAttribute("end-value")))?(Ni.trace(Ni.enumTraceMode.Warning,"Can't draw a Range without end-value"),!1):null!==Ni.Utilities.convertToBool(this.getAttribute("condition"))||(Ni.trace(Ni.enumTraceMode.Warning,"Can't draw a Range with invalid condition"),!1)},zo.prototype.getStructure=function(){return this.implementation.getStructure()},zo.prototype.getAttribute=function(e){switch(e){case"begin-value":case"end-value":var t=this.Parent.getStructure(),i=this.getScaleSections(t);switch(this.Attributes[e]){case"scale-begin":return String(this.metaData.scaleBegin);case"scale-end":return String(this.metaData.scaleEnd);case"begin-surcharge":return String(this.metaData.getBeginSurchargeValue(i[0]));case"end-surcharge":return String(this.metaData.getEndSurchargeValue(i[0]));default:return this.Attributes[e]}default:return this.Attributes[e]}},zo.prototype.getPositionFromAttribute=function(e){var t;switch(this.Attributes[e]){case"scale-begin":t=this.metaData.scaleBegin;break;case"scale-end":t=this.metaData.scaleEnd;break;case"begin-surcharge":return this.implementation.getBeginSurchargePosition();case"end-surcharge":return this.implementation.getEndSurchargePosition();default:t=parseFloat(this.Attributes[e])}return t=this.restrictToScale(t),this.implementation.getPosition(t)},zo.prototype.hasSpecialValue=function(e){switch(e){case"begin-value":case"end-value":switch(this.Attributes[e]){case"scale-begin":case"scale-end":case"begin-surcharge":case"end-surcharge":return!0;default:return!1}default:return!1}},zo.prototype.getParentSection=function(){var e=this.Parent.getStructure(),e=this.getScaleSections(e);return e?e[0]:null},zo.prototype.restrictToScale=function(e){var t=this.getParentSection(),i=Math.min(t.beginValue,t.endValue),t=Math.max(t.beginValue,t.endValue);return Math.max(Math.min(e,t),i)},ki.Range=zo,((x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).Features||(x.Features={})).Structure||(x.Structure={})).Rectangle=function(){this.left=0,this.top=0,this.height=0,this.width=0,this.right=0,this.bottom=0,this.Inflate=function(e){e<0?(this.top-=e*=-1,this.left-=e,this.width+=2*e,this.height+=2*e):(this.top+=e/2,this.left+=e/2,this.width-=e,this.height-=e)},this.isEmpty=function(){return this.width<=1||this.height<=1}},t=(t=e=e||{}).Lib||(t.Lib={}),t=(Gi=t.NVEs||(t.NVEs={})).Features||(Gi.Features={}),Ui=t.Structure||(t.Structure={}),zi=Ui.StructureBase,i(jo,zi),jo.prototype.draw=function(e,t){zi.prototype.draw.call(this,e,t),this.implementation||(this.metaData.NVE instanceof Gi.StraightDial?this.implementation=new Ui.StraightDial.ThresholdsStraight(this):this.metaData.NVE instanceof Gi.ArcDial&&(this.implementation=new Ui.ArcDial.ThresholdsArc(this))),this.getAttribute("config")&&this.getAttribute("config").sort(function(e,t){return e.BeginValue-t.BeginValue});for(var i=0;i<this.Features.length;i++)this.dom.appendChild(this.Features[i].draw(e,t));return this.dom},jo.prototype.getStructure=function(){return this.implementation.getStructure()},Ui.Thresholds=jo,x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={}),ji=x.Data||(x.Data={}),Object.defineProperty(E.prototype,"titleText",{set:function(e){this.titleKey=e.Key,this._titleText[e.Key]=new ji.TextElement(e.Value,this.metaData,"title")},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"selectedFbdElement",{get:function(){return this._selectedFbdElement},enumerable:!1,configurable:!0}),E.prototype.getTitleText=function(){return this._titleText},Object.defineProperty(E.prototype,"errorDescription",{set:function(e){e&&(this._errorDescription=new ji.TextElement(e,this.metaData,"error"))},enumerable:!1,configurable:!0}),E.prototype.getErrorDescription=function(){return this._errorDescription},Object.defineProperty(E.prototype,"diagramID",{get:function(){return this._diagramID},enumerable:!1,configurable:!0}),E.prototype.update=function(e){e&&(e.ErrorDescription&&this._errorDescription&&this._errorDescription.update(e.ErrorDescription),e.Name)&&e.Name.Value&&this._titleText&&this._titleText[this.titleKey].update(e.Name.Value)},E.prototype.render=function(e){this.renderTitle(e),this._errorDescription?this.renderError(e):(this.renderBranches(e),this.renderFlowLines(e),this.renderFunction(e)),this.metaData.activeData&&(e=$a(this.metaData.activeData),this.dataHandler.setActiveStatus(e),this.metaData.activeData=null),this.metaData.operandData&&(e=$a(this.metaData.operandData),this.setData(e),this.metaData.operandData=null)},E.prototype.addFlowLine=function(e,t){t=new ji.FlowLineElement(e,this,t,ji.Orientation.horizontal);this.lines[e.Key]=t},E.prototype.addBranch=function(e,t){t=new ji.BranchElement(e,this,t,ji.Orientation.vertical);this.branches[e.Key]=t},E.prototype.addFunction=function(e,t){t=new ji.FunctionBlockElement(e,t);this.functions[e.Key]=t},E.prototype.addFunctionContact=function(e,t){t=new ji.FunctionTransitionElement(e,t);this.functions[e.Key]=t},E.prototype.setStartYPos=function(e){this._yPos=e,this._titleText[this.titleKey].setStartYPos(this._yPos),this._errorDescription&&this._errorDescription.setStartYPos(this._titleText[this.titleKey].y+10)},E.prototype.setLayoutProps=function(e,t){this._height=t,this._width=e},Object.defineProperty(E.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),E.prototype.getStartYPos=function(){return this._yPos},E.prototype.getStartElement=function(){var e=null,t=null;for(this.list&&0<this.list.length&&(e=this.getElementDetails(this.list[0].Key));e;)for(var i in t=e,e=null,t.outputs)if(e=this.getNextBlockElement(t.id,i))break;return t},E.prototype.getLastElement=function(e){for(var t,i=this.getElementDetails(e);i;)for(var r in t=i,i=null,t.outputs)if(i=this.getNextBlockElement(t.id,r))break;return t},E.prototype.renderTitle=function(e){this._titleText[this.titleKey].render(e)},E.prototype.renderError=function(e){this._errorDescription.render(e)},E.prototype.renderBranches=function(e){for(var t in this.branches){t=this.getElementDetails(t);e.contains(this.branchParentGroup)||this.createElementsParentGroup(e,"branchParentGroup"),t.render(this.branchParentGroup)}},E.prototype.renderFlowLines=function(e){for(var t in this.lines){t=this.lines[t];e.contains(this.lineParentGroup)||this.createElementsParentGroup(e,"lineParentGroup"),t.render(this.lineParentGroup)}},E.prototype.getParent=function(t){var i=null;return this.connDetails.every(function(e){return e.To!==t||(i=e.From,!1)}),this.getElementDetails(i)},E.prototype.renderFunction=function(e){for(var t in this.functions){t=this.getElementDetails(t);e.contains(this.functionParentGroup)||this.createElementsParentGroup(e,"functionParentGroup"),t.render(this.functionParentGroup)}},E.prototype.getElementDetails=function(e,t){return this.branches[e]||(this.functions[e]?t?this.functions[e].getConnector(t):this.functions[e]:this.lines[e]||void 0)},E.prototype.createElementsParentGroup=function(e,t){this[t]=document.createElementNS("http://www.w3.org/2000/svg","g"),this[t].setAttribute("class",t),e.appendChild(this[t])},E.prototype.getNextBlockElement=function(e,t){e=this.getNextConnection(e,t);return e?!(t=this.getElementDetails(e.id))||t instanceof ji.FunctionBlockElement?t:this.getNextBlockElement(t.id):null},E.prototype.getNextElement=function(e,t){e=this.getNextConnection(e,t);return e?this.getElementDetails(e.id,null==e?void 0:e.toPin):null},E.prototype.getNextLayoutElement=function(e,t){e=this.getNextConnection(e,t);if(e){t=this.getElementDetails(e.id);if(t instanceof ji.FunctionBlockElement||t instanceof ji.BranchElement)return t}return null},E.prototype.getPrevLayoutElement=function(e,t){e=this.getPrevConnection(e,t);return e?this.getElementDetails(e.id):null},E.prototype.getChildren=function(t){var i=this,r=[];return this.connDetails.forEach(function(e){e.From===t&&(e=i.getElementDetails(e.To),r.push(e))}),r},E.prototype.getLastChild=function(t){var i=this,r=null;return this.connDetails.forEach(function(e){e.From===t&&(r=i.getElementDetails(e.To,e.ToPin))}),r},E.prototype.getNextConnection=function(t,i){var r=null;return this.connDetails.every(function(e){return!!(e.From!==t||i&&e.FromPin!==i)||!(r={id:e.To,toPin:e.ToPin})}),r},E.prototype.getPrevElement=function(e,t){e=this.getPrevConnection(e,t);return e?this.getElementDetails(e.id,e.fromPin):null},E.prototype.getPrevConnection=function(t,i){var r=null;return this.connDetails.every(function(e){return!!(e.To!==t||i&&e.ToPin!==i)||!(r={id:e.From,fromPin:e.FromPin})}),r},E.prototype.setActiveStatus=function(e){this.dataHandler.setActiveStatus(e)},E.prototype.getEndYPos=function(){return this._errorDescription?this._errorDescription.getStartYPos():this._yPos?this._yPos+this._height:this._titleText[this.titleKey].height},E.prototype.unRegisterForFbdSelection=function(){this.functionParentGroup&&this.functionParentGroup.removeEventListener("click",this._selectionFbdCallBackRef)},E.prototype.registerForFbdSelection=function(){this.functionParentGroup&&this.functionParentGroup.addEventListener("click",this._selectionFbdCallBackRef)},E.prototype.setFbdSelectionHandlerCallBack=function(e){this._fbdSelectionHandler=e},E.prototype.fbdSelectionHandler=function(e){var e=e&&e.target.parentElement.parentElement;"ClickableIODecorator"===e.getAttribute("className")&&(e=e.id.split(" "),this._fbdSelectionHandler(e[0],e[1],this._diagramID))},E.prototype.clearPrevFbdSelection=function(){this._selectedFbdElement&&(this._selectedFbdElement=null)},E.prototype.updateSelectedFbdElement=function(e,t,i){e&&(this._selectedFbdElement=this.getElementDetails(e),this.metaData.dp.setSelectedBlockId("FBD",{diagTitle:i,blockId:e,pinName:t}))},E.prototype.setData=function(e){for(var t=0,i=this.operandData=e;t<i.length;t++){var r=i[t];this.dataHandler.setData(r)}},E.prototype.getActiveData=function(){return this.dataHandler.getActiveStatus()},E.prototype.getOperandData=function(){return this.operandData},E.prototype.getInitialBlock=function(){var e=null,t=[];for(o in this.functions){var i,r=!1;for(i in this.connDetails)if(this.connDetails[i].To===this.functions[o].id){r=!0;break}r||t.push(this.functions[o])}for(var a=0,n=t;a<n.length;a++){var o=n[a];(!e||o.getStartXPos()<e.getStartXPos()&&o.getStartYPos()<e.getStartYPos())&&(e=o)}return e},E.prototype.remove=function(){for(var e in this.branches)this.branches[e].remove();for(var t in this.lines)this.lines[t].remove();for(var i in this.functions)this.functions[i].remove();this._titleText[this.titleKey].remove(),this.dataHandler.remove(),this._errorDescription&&this._errorDescription.remove(),this.operandData=null,this.connDetails=null,this.list=null,this.branchParentGroup=null,this.lineParentGroup=null,this.functionParentGroup=null,this.dataHandler=null,this._fbdSelectionHandler=null,this._selectedFbdElement=null,this._selectionFbdCallBackRef=null},ji.FBDModel=E,t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={}),Yi=t.Data||(t.Data={}),Yo.prototype.setActiveStatus=function(e){0<e.length&&(this.activeData=$a(this.activeData,e));for(var t=0,i=e;t<i.length;t++){var r=i[t],a=this.diag.getElementDetails(r.Key,r.Pin);a&&(a.updateActivationStatus(r.Data.isActive),a instanceof Yi.FunctionConnectorElement)&&((a=this.diag.getNextElement(a.id,a.pin))instanceof Yi.FlowLineElement||a instanceof Yi.FunctionTransitionElement&&"Transition"===a.decoratorSubType||a instanceof Yi.BranchElement)&&a.updateActivationStatus(r.Data.isActive)}},Yo.prototype.getActiveStatus=function(){return this.activeData},Yo.prototype.setData=function(e){var t=this.diag.getElementDetails(e.Key,e.Pin);t&&t.updateOperandData(e)},Yo.prototype.remove=function(){this.activeData=null},Yi.FBDRTDataHandler=Yo,x=(x=e=e||{}).Lib||(x.Lib={}),Xi=x.NVEs||(x.NVEs={}),qi=Xi.Data||(Xi.Data={}),Xo.prototype.setUpConnectors=function(){var i=this;this.masterData.Data.Parameters.Input&&0!==this.masterData.Data.Parameters.Input.length&&this.masterData.Data.Parameters.Input.forEach(function(e){var t=new qi.FunctionConnectorElement(i,e.Key,e.Operand,e.Text,i.metaData,qi.ConnectorType.Input,e.IsNegated);i.inputs[e.Key]=t,i.firstInPin||(i.firstInPin=t)}),this.masterData.Data.Parameters.Output&&0!==this.masterData.Data.Parameters.Output.length&&this.masterData.Data.Parameters.Output.forEach(function(e){var t=new qi.FunctionConnectorElement(i,e.Key,e.Operand,e.Text,i.metaData,qi.ConnectorType.Output,e.IsNegated);i.outputs[e.Key]=t,i.firstOutPin||(i.firstOutPin=t)})},Xo.prototype.calculateWidthOfBox=function(e){var t,i,r=Xi.getSystemPart("HmiBlockSymbolSystemPart"),r=this.metaData.updateMissingBlockSubParts(r),a=0,n=0;for(t in this.inputs)a=Math.max(this.inputs[t].getFormalTextWidth(),a);for(i in this.outputs)n=Math.max(this.outputs[i].getFormalTextWidth(),n);this.width=Math.max(Xi.getTextWidth(e,r.HeaderFont,!0)+20+4,a+n+4*qi.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING,this.minBoxWidth)},Xo.prototype.positionConnectors=function(){this.firstInPin&&(this.firstInPin.yPos=this.titleHeight+this.headerHeight+qi.FunctionConnectorElement.CONN_PADDING),this.firstOutPin&&(this.firstOutPin.yPos=this.titleHeight+this.headerHeight+qi.FunctionConnectorElement.CONN_PADDING)},Xo.prototype.getStartXPos=function(){return this.x},Xo.prototype.setStartXPos=function(e){for(var t in this.x=e,this.inputs)this.inputs[t].x1=e-qi.FunctionConnectorElement.CONN_WIDTH,this.inputs[t].x2=e;for(var i in this.outputs)this.outputs[i].x1=e+this.width,this.outputs[i].x2=e+this.width+qi.FunctionConnectorElement.CONN_WIDTH},Xo.prototype.setStartYPos=function(e){this.y=e},Xo.prototype.getStartYPos=function(){return this.y},Object.defineProperty(Xo.prototype,"innerHeight",{get:function(){return this.height},enumerable:!1,configurable:!0}),Xo.prototype.getConnector=function(e){return this.inputs[e]||this.outputs[e]},Xo.prototype.getDownConnector=function(e){return this.getDownPinConnector(this.inputs,e)||this.getDownPinConnector(this.outputs,e)},Xo.prototype.getUpConnector=function(e){return this.getUpPinConnector(this.inputs,e)||this.getDownPinConnector(this.outputs,e)},Xo.prototype.hasOperand=function(e){if("input"===e){for(var t in this.inputs)if(0<this.inputs[t].operand.infoText.length)return!0}else for(var i in this.outputs)if(0<this.outputs[i].operand.infoText.length)return!0},Xo.prototype.updateOperandData=function(e){e=e.Operand.Value;this.title.updateTagValue(e),this.blockTemplate.setDataContent({TitleTag:e}),this.blockTemplate.update()},Xo.prototype.getDownPinConnector=function(e,t){var i,r=null,a=!1;for(i in e)if(t===i)a=!0;else if(a){r=e[i];break}return r},Xo.prototype.getUpPinConnector=function(t,i){var r=null,a=!1;return Object.keys(t).reverse().every(function(e){if(i===e)a=!0;else if(a)return r=t[e],!1;return!0}),r},Object.defineProperty(Xo.prototype,"isProcessed",{get:function(){return this._isProcessed},set:function(e){if(!e){for(var t in this.inputs)this.inputs[t].isProcessed=e;for(var t in this.outputs)this.outputs[t].isProcessed=e}this._isProcessed=e},enumerable:!1,configurable:!0}),Object.defineProperty(Xo.prototype,"linePos",{get:function(){return Math.max(this.firstInPin.yPos+this.firstInPin.height,this.firstOutPin.yPos+this.firstOutPin.height)},set:function(e){this.y=e-this.firstInPin.height-this.headerHeight-this.titleHeight-qi.FunctionConnectorElement.CONN_PADDING},enumerable:!1,configurable:!0}),Xo.prototype.resizeBlock=function(e){var t=this.titleHeight+this.headerHeight+this.minHeaderHeight;this.height=e=e<t?t:e,this.contentHeight=this.height-this.headerHeight-this.titleHeight},Xo.prototype.render=function(e){for(var t in this.blockTemplate=this.metaData.blockFeatureInstance.render(this),this.dom=this.blockTemplate.RootNode,this.dom.setAttribute("x",this.x),this.dom.setAttribute("y",this.y),e.appendChild(this.dom),this.inputs)this.inputs[t].render(e);for(var i in this.outputs)this.outputs[i].render(e)},Xo.prototype.updateActivationStatus=function(e){var t,i,r=!1,a=this.metaData.flowLineFeatureInstances.normalsolid;this.blockTemplate.setDataContent({InActive:!e}),e?a=this.metaData.flowLineFeatureInstances[(t="active")+(i="solid")]:this.metaData.flowLineFeatureInstances[(t="inactive")+(i="dash")]&&(a=this.metaData.flowLineFeatureInstances[t+i],r=!0),this.blockTemplate.setDataContent({LineColor:a.Attributes.stroke}),this.blockTemplate.setDataContent({IsDashAllowed:r}),this.blockTemplate.update()},Xo.prototype.remove=function(){for(var e in this.inputs)this.inputs[e].remove();for(var t in this.outputs)this.outputs[t].remove();this.firstInPin=null,this.firstOutPin=null,this.inputs=null,this.outputs=null,this.dom=null,this.blockTemplate.remove(),this.blockTemplate=null},qi.FunctionBlockElement=Xo,t=(t=e=e||{}).Lib||(t.Lib={}),Ki=t.NVEs||(t.NVEs={}),Zi=Ki.Data||(Ki.Data={}),qo.prototype.initFlowLine=function(){var e=this.getLineDecorators();this.line=new Zi.FlowLineElement({Key:this.pin,Decorator:e},null,this.metaData,Zi.Orientation.horizontal)},qo.prototype.getLineDecorators=function(){var e=[];return(this.type===Zi.ConnectorType.Input||this.type===Zi.ConnectorType.Output&&this.text)&&e.push({DecoratorType:"input",Data:{Content:this.type===Zi.ConnectorType.Input?this.operand:this.text,Type:this.type,BlockId:this.block.id,PinId:this.pin}}),(this.type===Zi.ConnectorType.Input&&this.text||this.type===Zi.ConnectorType.Output)&&e.push({DecoratorType:"output",Data:{Content:this.type===Zi.ConnectorType.Input?this.text:this.operand,Type:this.type,BlockId:this.block.id,PinId:this.pin}}),e},qo.prototype.getFormalTextWidth=function(){var e=Ki.getSystemPart("HmiBlockSymbolSystemPart"),e=this.metaData.updateMissingBlockSubParts(e);return Ki.getTextWidth(this.text,e.ContentFont)},qo.prototype.setStartYPos=function(e){this===this.block.firstInPin||this===this.block.firstOutPin?this.yPos=e+this.block.titleHeight+this.block.headerHeight+qo.CONN_PADDING:this.yPos=e+qo.CONN_PADDING},qo.prototype.setStartXPos=function(e){this.type===Zi.ConnectorType.Input&&(e=e+qo.CONN_WIDTH,this.block.getStartXPos()<e?this.block.setStartXPos(e):(this.x1=this.block.getStartXPos()-qo.CONN_WIDTH,this.x2=this.block.getStartXPos()))},qo.prototype.setEndXPos=function(e){this.x2=e},Object.defineProperty(qo.prototype,"innerHeight",{get:function(){return this.height},enumerable:!1,configurable:!0}),qo.prototype.getStartYPos=function(){return this.yPos},qo.prototype.getStartXPos=function(){return this.x1},Object.defineProperty(qo.prototype,"linePos",{get:function(){return this.yPos+this.height},set:function(e){this.yPos=this.yPos+(e-this.linePos),this.block.resizeBlock(Math.max(this.block.height,this.yPos+this.height-this.block.getStartYPos()+qo.CONN_PADDING))},enumerable:!1,configurable:!0}),qo.prototype.render=function(e){var t,i,r;this.parent=e,this.line.setStartYPos(this.yPos+this.height),this.line.setStartXPos(this.x1),this.line.setEndXPos(this.x2),this.isNegated&&(i=(t=this.getNegatedSymbolDim()).radius,r=t.negationStrokeWidth,t=t.lineMargin,i=2*i+r,r=this.metaData.flowLineFeatureInstances.normalsolid.Attributes.stroke,this.drawNegatedSymbol(r,!1),"Input"===this.type&&this.line.setEndXPos(this.x2-(i+t)),"Output"===this.type)&&this.line.setStartXPos(this.x1+(i+t)),this.line.render(e)},qo.prototype.updateActivationStatus=function(e){var t,i,r,a;this.line.updateActivationStatus(e),this.isNegated&&(t=void 0,i=!1,i=this.type===Zi.ConnectorType.Output&&!e||this.type===Zi.ConnectorType.Input&&e?(a=Zi.FlowLineState.InActive,r=Zi.FlowLineType.dash,t=null!=(e=this.metaData.flowLineFeatureInstances[a+r])?e:this.metaData.flowLineFeatureInstances.normalsolid,!0):(a=Zi.FlowLineState.Active,r=Zi.FlowLineType.solid,t=null!=(e=this.metaData.flowLineFeatureInstances[a+r])?e:this.metaData.flowLineFeatureInstances["normal"+r],!1),a=t.Attributes.stroke,this.negatedDOM.parentElement.removeChild(this.negatedDOM),this.drawNegatedSymbol(a,i))},qo.prototype.drawNegatedSymbol=function(e,t){var i=this.getNegatedSymbolDim(),r=i.radius,i=i.negationStrokeWidth,a=0;"Input"===this.type?a=this.x2-r-i:"Output"===this.type&&(a=this.x1+2*r),this.negatedDOM=Ki.Features.Shape.SvgShape.CreateSvgElement(Zi.SymbolType.circle,{fill:"none",stroke:e,"stroke-width":i,"stroke-dasharray":t?5:null,cx:a,cy:this.yPos+this.height,r:r.toString(),appendTo:this.parent})},qo.prototype.updateOperandData=function(e){this.operand.updateTagValue(e.Operand.Value);var t=this.operand.updateColor(e.Operand.Back,e.Operand.Fore),i=t.back,t=t.fore;e.Operand.Back=i,e.Operand.Fore=t,this.line.updateDecorators()},qo.prototype.getNegatedSymbolDim=function(){return{radius:3,negationStrokeWidth:2,lineMargin:1}},qo.prototype.remove=function(){this.line.remove(),this.line=null,this.operand=null,this.parent=null,this.negatedDOM=null},qo.CONN_PADDING=10,qo.TEXT_TO_SYMBOL_PADDING=10,qo.CONN_WIDTH=20,qo.OPERAND_WIDTH=100,Zi.FunctionConnectorElement=qo,x=(x=e=e||{}).Lib||(x.Lib={}),Qi=x.NVEs||(x.NVEs={}),Ji=Qi.Data||(Qi.Data={}),Ko.prototype.setUpConnectors=function(){var i=this;this.masterData.Data.Parameters.Input&&0!==this.masterData.Data.Parameters.Input.length&&this.masterData.Data.Parameters.Input.forEach(function(e){var t=new Ji.FunctionConnectorElement(i,e.Key,e.Operand,e.Text,i.metaData,Ji.ConnectorType.Input,e.IsNegated);i.inputs[e.Key]=t,i.firstInPin||(i.firstInPin=t)}),this.masterData.Data.Parameters.Output&&0!==this.masterData.Data.Parameters.Output.length&&this.masterData.Data.Parameters.Output.forEach(function(e){var t=new Ji.FunctionConnectorElement(i,e.Key,e.Operand,e.Text,i.metaData,Ji.ConnectorType.Output,e.IsNegated);i.outputs[e.Key]=t,i.firstOutPin||(i.firstOutPin=t)})},Ko.prototype.getStartXPos=function(){return this.x},Ko.prototype.setStartXPos=function(e){for(var t in this.x=e,this.inputs)this.inputs[t].x1=e-Ko.CONN_WIDTH,this.inputs[t].x2=e;for(var i in this.outputs)this.outputs[i].x1=e+this.width,this.outputs[i].x2=e+this.width+Ko.CONN_WIDTH},Ko.prototype.setStartYPos=function(e){this.y=e},Ko.prototype.getStartYPos=function(){return this.y},Ko.prototype.getConnector=function(e){return this.inputs[e]||this.outputs[e]},Ko.prototype.getDownConnector=function(e){return this.getDownPinConnector(this.inputs,e)||this.getDownPinConnector(this.outputs,e)},Ko.prototype.getUpConnector=function(e){return this.getUpPinConnector(this.inputs,e)||this.getDownPinConnector(this.outputs,e)},Ko.prototype.getDownPinConnector=function(e,t){var i,r=null,a=!1;for(i in e)if(t===i)a=!0;else if(a){r=e[i];break}return r},Ko.prototype.getUpPinConnector=function(t,i){var r=null,a=!1;return Object.keys(t).reverse().every(function(e){if(i===e)a=!0;else if(a)return r=t[e],!1;return!0}),r},Ko.prototype.resizeBlock=function(e){var t=Math.max(null==(t=this.firstInPin)?void 0:t.height,50,e);this.height=t},Ko.prototype.render=function(e){var t,i,r=this.flowLineFeature.Attributes[Ji.LineParam.Stroke],a=this.flowLineFeature.Attributes[Ji.LineParam.StrokeWidth];for(t in this.dom=this.appendLine(r,a,null),e.appendChild(this.dom),this.inputs)this.inputs[t].render(e);for(i in this.outputs)this.outputs[i].render(e)},Ko.prototype.appendLine=function(e,t,i){var r=Qi.Features.Shape.SvgShape.CreateSvgElement(Ji.SymbolType.line);return r.setAttribute("y1",this.getLineStartPos()),r.setAttribute("y2",this.getLineEndPos()),r.setAttribute("x1",this.x),r.setAttribute("x2",this.x),r.setAttribute(Ji.LineParam.StrokeWidth,t),r.setAttribute(Ji.LineParam.Stroke,e),r.setAttribute(Ji.LineParam.StrokeDashArray,i),r},Ko.prototype.getLineStartPos=function(){var e,t=this.y;return this.decoratorSubType&&(e=this.decoratorSubType===Ji.FlowLineDecoratorSubType.Step?6:12,t=this.firstInPin.yPos+this.firstInPin.height-e/2),t},Ko.prototype.getLineEndPos=function(){var e,t=this.y+this.height;return this.decoratorSubType&&(e=this.decoratorSubType===Ji.FlowLineDecoratorSubType.Step?6:12,t=this.firstInPin.yPos+this.firstInPin.height+e/2),t},Ko.prototype.updateActivationStatus=function(e){var t=null,e=(e?(i=Ji.FlowLineState.Active,r=Ji.FlowLineType.solid):(i=Ji.FlowLineState.InActive,r=Ji.FlowLineType.dash,t="5"),this.metaData.flowLineFeatureInstances[i+r]),i=(e&&(this.flowLineFeature=e),this.flowLineFeature.Attributes[Ji.LineParam.Stroke]),r=+this.flowLineFeature.Attributes[Ji.LineParam.StrokeWidth];this.dom.setAttribute(Ji.LineParam.StrokeWidth,r),this.dom.setAttribute(Ji.LineParam.Stroke,i),this.dom.setAttribute(Ji.LineParam.StrokeDashArray,t)},Ko.prototype.remove=function(){for(var e in this.inputs)this.inputs[e].remove();for(var t in this.outputs)this.outputs[t].remove();this.dom=null,this.flowLineFeature=null},Ko.CONN_WIDTH=50,Ji.FunctionTransitionElement=Ko,t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={}),$i=t.Data||(t.Data={}),Object.defineProperty(Zo.prototype,"left",{get:function(){return this.startElement.getStartXPos()},enumerable:!1,configurable:!0}),Object.defineProperty(Zo.prototype,"right",{get:function(){return this.endElement.getStartXPos()+this.endElement.width},enumerable:!1,configurable:!0}),Object.defineProperty(Zo.prototype,"startElement",{get:function(){return this.elementList[0]},enumerable:!1,configurable:!0}),Object.defineProperty(Zo.prototype,"endElement",{get:function(){return this.elementList[this.elementList.length-1]},enumerable:!1,configurable:!0}),Zo.prototype.intersects=function(e,t){return this.left<t&&e<this.right},Zo.prototype.getDownPosBetween=function(e,t){for(var i=0,r=0,a=0,n=this.elementList;a<n.length;a++){var o=n[a];i<(r=o.getStartXPos()+o.width>e&&o.getStartXPos()<t?o.getStartYPos()+o.innerHeight:r)&&(i=r)}return i},Object.defineProperty(Zo.prototype,"TopPos",{set:function(e){this.y=e;for(var t,i=0,r=0,a=this.elementList;r<a.length;r++)((n=a[r])instanceof $i.LogicElement||n instanceof $i.FunctionBlockElement||n instanceof $i.FunctionConnectorElement)&&(n.setStartYPos(e),i=Math.max(i,n.linePos));for(var n,o=0,s=this.elementList;o<s.length;o++)(n=s[o])instanceof $i.LogicElement||n instanceof $i.FunctionBlockElement||n instanceof $i.FunctionConnectorElement?n.linePos=i:n instanceof $i.BranchElement?n.subType===$i.BranchSubType.Begin?1===this.diagram.getProcessedElements(n.id).length?n.setStartYPos(i):n.setEndYPos(i):n.subType===$i.BranchSubType.End&&(this.diagram.getPrevGuardian(t.id,n.id)?n.setEndYPos(i):n.setStartYPos(i)):n instanceof $i.FlowLineElement&&(i=0===i?this.y+$i.LADModel.MIN_HEIGHT/2:i,n.setStartYPos(i)),t=n},enumerable:!1,configurable:!0}),$i.BranchInfo=Zo,x=(x=e=e||{}).Lib||(x.Lib={}),x=(er=x.NVEs||(x.NVEs={})).Data||(er.Data={}),Qo.prototype.updateTagValue=function(e){this.value=e},Qo.prototype.updateColor=function(e,t){return this.infoBackColor=null!=e?e:this.infoBackColor,this.infoForeColor=null!=t?t:this.infoForeColor,{back:this.infoBackColor,fore:this.infoForeColor}},Qo.prototype.calculateHeight=function(e){var e=this.getInfoTextHeight(e),t=er.getTextHeight("X",this.contentFont);this.height=this.address?t+Qo.TEXT_TO_SYMBOL_PADDING:0,this.height+=(this.hasValue||this.value?t+Qo.TEXT_TO_SYMBOL_PADDING:0)+e+Qo.TEXT_TO_SYMBOL_PADDING},Qo.prototype.getInfoTextHeight=function(e){for(var t=er.getTextHeight("X",this.infoFont),i=[],r=e.split("\n"),a=0;a<r.length;a++)i.push.apply(i,er.textWrap(r[a],this.width,this.infoFont,/[^\.|_]+|(\.|_)/g));return this.infoText=i.join("\n"),i.length*t},Qo.MAX_TEXT_WIDTH=100,Qo.TEXT_TO_SYMBOL_PADDING=4,x.FBDOperandMetaData=Qo,t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={}),tr=t.Data||(t.Data={}),Object.defineProperty(I.prototype,"connDetails",{get:function(){return this._connDetails},set:function(e){this._connDetails=e},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"diagramID",{get:function(){return this._diagramID},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"titleText",{set:function(e){this.titleKey=e.Key,this._titleText[e.Key]=new tr.TextElement(e.Value,this.metaData,"title")},enumerable:!1,configurable:!0}),I.prototype.getTitleText=function(){return this._titleText},Object.defineProperty(I.prototype,"errorDescription",{set:function(e){e&&(this._errorDescription=new tr.TextElement(e,this.metaData,"error"))},enumerable:!1,configurable:!0}),I.prototype.getErrorDescription=function(){return this._errorDescription},Object.defineProperty(I.prototype,"flowLines",{get:function(){return this._lines},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"selectedLogicElement",{get:function(){return this._selectedLogicElement},enumerable:!1,configurable:!0}),I.prototype.setStartYPos=function(e){this._yPos=e,this._titleText[this.titleKey].setStartYPos(e),this._errorDescription&&this._errorDescription.setStartYPos(this._titleText[this.titleKey].y+10)},I.prototype.getStartYPos=function(){return this._yPos},I.prototype.getEndYPos=function(){return this._powerRail?this._powerRail.y2:this._errorDescription?this._errorDescription.getStartYPos():this._titleText[this.titleKey].height},Object.defineProperty(I.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),I.prototype.setLayoutProps=function(e,t){this._height=t,this._width=e},I.prototype.reset=function(){for(var e in this._powerRail.isProcessed=!1,this._contacts)this._contacts[e].isProcessed=!1;for(var t in this._coils)this._coils[t].isProcessed=!1;for(var i in this._lines)this._lines[i].isProcessed=!1;for(var r in this._functions)this._functions[r].isProcessed=!1;for(var a in this._branches)this._branches[a].clearNodes()},I.prototype.update=function(e){e&&(e.ErrorDescription&&this._errorDescription&&this._errorDescription.update(e.ErrorDescription),e.Name)&&e.Name.Value&&this._titleText&&this._titleText[this.titleKey].update(e.Name.Value)},I.prototype.render=function(e){this.renderTitle(e),this._errorDescription?this.renderError(e):(this.renderCoils(e),this.renderBranches(e),this.renderPowerRail(e),this.renderFlowLines(e),this.renderContacts(e),this.renderFunction(e)),this.metaData.activeData&&(e=$a(this.metaData.activeData),this.setActiveStatus(e),this.metaData.activeData=null),this.metaData.operandData&&(e=$a(this.metaData.operandData),this.setData(e),this.metaData.operandData=null)},I.prototype.addPowerRail=function(e,t){e=new tr.PowerRailElement(e,t);this._powerRail=e},I.prototype.addContact=function(e,t){t=new tr.LogicElement(e,t,tr.LogicElementType.Contact);this._contacts[e.Key]=t},I.prototype.addCoil=function(e,t){t=new tr.LogicElement(e,t,tr.LogicElementType.Coil);this._coils[e.Key]=t},I.prototype.addFlowLine=function(e,t){t=new tr.FlowLineElement(e,this,t,tr.Orientation.horizontal);this._lines[e.Key]=t},I.prototype.addBranch=function(e,t){t=new tr.BranchElement(e,this,t,tr.Orientation.vertical);this._branches[e.Key]=t},I.prototype.addFunction=function(e,t){t=new tr.FunctionBlockElement(e,t);this._functions[e.Key]=t},I.prototype.getStartElement=function(){if(this._powerRail)return this._powerRail.id},I.prototype.getElementDetails=function(e,t){return this._powerRail&&this._powerRail.id===e?this._powerRail:this._contacts[e]||this._coils[e]||this._lines[e]||this._branches[e]||(this._functions[e]?t?this._functions[e].getConnector(t):this._functions[e]:void 0)},I.prototype.getNextLogicElement=function(e){var e=this.getNextConnection(e),t=e.id,e=e.toPin;return t?(e=this.getElementDetails(t,e))instanceof tr.FlowLineElement||e instanceof tr.PowerRailElement?this.getNextLogicElement(t):e:null},I.prototype.getNextUnProcessedElement=function(e){var t=null;return this.getChildren(e).every(function(e){return!!e.isProcessed||(t=e,!1)}),t},I.prototype.getUnProcessedElements=function(e){var t=[];return this.getChildren(e).forEach(function(e){e.isProcessed||t.push(e)}),t},I.prototype.getProcessedElements=function(e){var t=[];return this.getChildren(e).forEach(function(e){e.isProcessed&&t.push(e)}),t},I.prototype.getGuardians=function(t){var i=[];return this.connDetails.forEach(function(e){return e.To===t&&i.push(e.From),!0}),i},I.prototype.getNextElement=function(e,t){e=this.getNextConnection(e,t);return e?this.getElementDetails(e.id,e.toPin):null},I.prototype.getPrevElement=function(e,t){e=this.getPrevConnection(e,t);return e?this.getElementDetails(e.id,e.fromPin):null},I.prototype.isInPinConnected=function(t,i){var r=!1;return this.connDetails.every(function(e){return e.To!==t||e.ToPin!==i||!(r=!0)}),r},I.prototype.isOutPinConnected=function(t,i){var r=!1;return this.connDetails.every(function(e){return e.From!==t||e.ToPin!==i||!(r=!0)}),r},I.prototype.getNextConnection=function(t,i){var r={id:"",toPin:""};return this.connDetails.every(function(e){return!!(e.From!==t||i&&e.FromPin!==i)||!(r={id:e.To,toPin:e.ToPin})}),r},I.prototype.getPrevConnection=function(t,i){var r=null;return this.connDetails.every(function(e){return!!(e.To!==t||i&&e.ToPin!==i)||!(r={id:e.From,fromPin:e.FromPin})}),r},I.prototype.getChildren=function(t,i){var r=this,a=[];return this.connDetails.forEach(function(e){e.From===t&&(i&&e.FromPin===i||!i)&&(e=r.getElementDetails(e.To,e.ToPin),a.push(e))}),a},I.prototype.getPrevGuardian=function(t,i){var r=null;return this.connDetails.every(function(e){return e.To===i&&e.From!==t?(r=e.From,!0):e.To!==i||e.From!==t}),this.getElementDetails(r)},I.prototype.renderTitle=function(e){this._titleText[this.titleKey].render(e)},I.prototype.renderError=function(e){this._errorDescription.render(e)},I.prototype.renderContacts=function(e){for(var t in this._contacts){t=this.getElementDetails(t);e.contains(this.contactParentGroup)||this.createElementsParentGroup(e,"contactParentGroup"),t.render(this.contactParentGroup)}},I.prototype.renderCoils=function(e){for(var t in this._coils){t=this.getElementDetails(t);e.contains(this.coilParentGroup)||this.createElementsParentGroup(e,"coilParentGroup"),t.render(this.coilParentGroup)}},I.prototype.renderBranches=function(e){for(var t in this._branches){t=this.getElementDetails(t);e.contains(this.branchParentGroup)||this.createElementsParentGroup(e,"branchParentGroup"),t.render(this.branchParentGroup)}},I.prototype.renderFlowLines=function(e){for(var t in this._lines){t=this.getElementDetails(t);e.contains(this.lineParentGroup)||this.createElementsParentGroup(e,"lineParentGroup"),t.render(this.lineParentGroup)}},I.prototype.renderFunction=function(e){for(var t in this._functions){t=this.getElementDetails(t);e.contains(this.functionParentGroup)||this.createElementsParentGroup(e,"functionParentGroup"),t.render(this.functionParentGroup)}},I.prototype.renderPowerRail=function(e){this._powerRail&&(this._powerRail.y1=this._yPos+this._titleText[this.titleKey].height,this._powerRail.y2=this._yPos+this._titleText[this.titleKey].height+this._height,this._powerRail.render(e))},I.prototype.createElementsParentGroup=function(e,t){this[t]=document.createElementNS("http://www.w3.org/2000/svg","g"),this[t].setAttribute("class",t),e.appendChild(this[t])},I.prototype.unRegisterForLogicSelection=function(){this.contactParentGroup&&this.contactParentGroup.removeEventListener("click",this._selectionLogicCallBackRef),this.functionParentGroup&&this.functionParentGroup.removeEventListener("click",this._selectionFunctionCallBackRef)},I.prototype.registerForLogicSelection=function(){this.contactParentGroup&&this.contactParentGroup.addEventListener("click",this._selectionLogicCallBackRef),this.functionParentGroup&&this.functionParentGroup.addEventListener("click",this._selectionFunctionCallBackRef)},I.prototype.setSelectionHandlerCallBack=function(e){this._selectionHandler=e},I.prototype.logicSelectionHandler=function(e){e&&"text"===e.target.nodeName&&0<(e=this.findParentElementWithId(e,e.target)).length&&this._selectionHandler(e[0],e[1],this._diagramID)},I.prototype.translateCoordinates=function(e,t){var i=t.getScreenCTM(),r=null;return(r=t.createSVGPoint()).x=e.x,r.y=e.y,r=r.matrixTransform(i.inverse()),[e.x=r.x,e.y=r.y]},I.prototype.functionSelectionHandler=function(e){var e=e&&e.target.parentElement.parentElement;"ClickableIODecorator"===e.getAttribute("className")&&(e=e.id.split(" "),this._selectionHandler(e[0],e[1],this._diagramID))},I.prototype.clearPrevSelection=function(){this._selectedLogicElement&&(this._selectedLogicElement=null)},I.prototype.updateSelectedLogicElement=function(e,t,i){e&&(this._selectedLogicElement=this.getElementDetails(e),this.metaData.dp.setSelectedBlockId("LAD",{diagTitle:i,logicId:e,type:t}))},I.prototype.findParentElementWithId=function(e,t){for(var i=this._getMousePos(e);t.parentNode;)if((t=t.parentNode)&&"svg"===t.nodeName){var r,a,n=t.id||"";if(-1<n.indexOf("Part"))return r=this.translateCoordinates(i,t),a=this.getElementDetails(t.id).height/2,[n,r[1]<a?"header":"footer"]}return""},I.prototype._getMousePos=function(e){var t={x:0,y:0};return e.changedTouches?(t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t},I.prototype.setActiveStatus=function(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];this._activeData.push(r),this.dataHandler.setActiveStatus(r)}},I.prototype.getActiveStatus=function(){return this._activeData},I.prototype.setData=function(e){for(var t=0,i=this.operandData=e;t<i.length;t++){var r=i[t];this.dataHandler.setData(r)}},I.prototype.getOperandData=function(){return this.operandData},I.prototype.remove=function(){for(var e in this._contacts)this._contacts[e].remove();for(var t in this._coils)this._coils[t].remove();for(var i in this._branches)this._branches[i].remove();for(var r in this._lines)this._lines[r].remove();for(var a in this._functions)this._functions[a].remove();this._titleText[this.titleKey].remove(),this._errorDescription&&this._errorDescription.remove(),this._powerRail&&this._powerRail.remove(),this._contacts=null,this._coils=null,this._branches=null,this._lines=null,this._functions=null,this._errorDescription=null,this._powerRail=null,this.dataHandler=null,this.titleKey=null,this.coilParentGroup=null,this.contactParentGroup=null,this.branchParentGroup=null,this._connDetails=null,this._list=null,this._activeData=null},I.MIN_HEIGHT=100,tr.LADModel=I,ir=e=e||{},x=(x=ir.Lib||(ir.Lib={})).NVEs||(x.NVEs={}),c=x.Data||(x.Data={}),Jo.prototype.setActiveStatus=function(t){var i=this;this.diag.list.every(function(e){return e.Key!==t.Key||(e.isActivated=t.Data.isActive,i.updateActivationStatus(e.Key,t.Pin,e.isActivated),!1)})},Jo.prototype.updateActivationStatus=function(e,t,i){var r=new ir.Lib.NVEs.Utils.Queue,t=this.diag.getElementDetails(e,t),a=(r.enqueue({element:t,isActive:i}),[]);for(a.push(e+"-"+i);!r.isEmpty();){var n=r.dequeue(),o=n.element,s=n.isActive;if(o instanceof c.PowerRailElement||o instanceof c.FlowLineElement&&!o.inActiveLine||o instanceof c.BranchElement&&o.subType===c.BranchSubType.Begin||o instanceof c.FunctionConnectorElement&&o.type===c.ConnectorType.Output)o.updateActivationStatus(s);else if(o instanceof c.LogicElement)o.id===e?this.setActivationStatus(s,o):this.setPowerFlowStatus(s,o),s=o.isBitCoil?this.diag.getPrevElement(o.id).isActive:o.activeStatus===c.ActivationStatus.Completed||o.activeStatus===c.ActivationStatus.UnBlocked;else if(o instanceof c.BranchElement&&o.subType===c.BranchSubType.End)s=this.updateBranchEndStatus(o);else{if(o instanceof c.FunctionConnectorElement&&o.type===c.ConnectorType.Input||o instanceof c.FunctionBlockElement){o.updateActivationStatus(s);continue}if(o instanceof c.FlowLineElement&&o.inActiveLine)continue}for(var l=0,u=this.diag.getChildren(o.id,o instanceof c.FunctionConnectorElement?o.pin:null);l<u.length;l++){var h=u[l],d=h instanceof c.FunctionConnectorElement?h.pin:"";-1===a.indexOf(h.id+"-"+d+"-"+s)&&(r.enqueue({element:h,isActive:s}),a.push(h.id+"-"+d+"-"+s))}}},Jo.prototype.updateBranchEndStatus=function(e){for(var t=!1,i=this.diag.getGuardians(e.id),r=i.length-1;0<=r;r--){var a=this.diag.getElementDetails(i[r]);if(a.isActive){e.updateActivationStatus(!0,a),t=!0;break}e.updateActivationStatus(!1),t=!1}return t},Jo.prototype.setPowerFlowStatus=function(e,t){var i=t.activeStatus;t.isInvert?i=this.handleInvertPowerStatus(e,t):e?i===c.ActivationStatus.Running?i=c.ActivationStatus.Completed:i!==c.ActivationStatus.InActive&&i!==c.ActivationStatus.None||(i=t.isBitCoil?c.ActivationStatus.NotRunning:c.ActivationStatus.Ready):i===c.ActivationStatus.Ready||i===c.ActivationStatus.None||i===c.ActivationStatus.NotRunning?i=c.ActivationStatus.InActive:i===c.ActivationStatus.Completed&&(i=c.ActivationStatus.Running),t.updateActivationStatus(i)},Jo.prototype.handleInvertPowerStatus=function(e,t){t.activeStatus;return e?c.ActivationStatus.Blocked:c.ActivationStatus.UnBlocked},Jo.prototype.setActivationStatus=function(e,t){var i=t.activeStatus;e?i===c.ActivationStatus.Ready||i===c.ActivationStatus.NotRunning?i=c.ActivationStatus.Completed:i===c.ActivationStatus.InActive&&(i=c.ActivationStatus.Running):i===c.ActivationStatus.Completed?i=t.isBitCoil?c.ActivationStatus.NotRunning:c.ActivationStatus.Ready:i===c.ActivationStatus.Running&&(i=c.ActivationStatus.InActive),t.updateActivationStatus(i)},Jo.prototype.setData=function(e){this.diag.getElementDetails(e.Key,e.Pin).updateOperandData(e)},c.LADRTHandler=Jo,t=(t=e=e||{}).Lib||(t.Lib={}),rr=t.NVEs||(t.NVEs={}),ar=rr.Data||(rr.Data={}),(t=ar.LogicElementType||(ar.LogicElementType={}))[t.Contact=0]="Contact",t[t.Coil=1]="Coil",(t=nr=ar.ActivationStatus||(ar.ActivationStatus={}))[t.None=0]="None",t[t.InActive=1]="InActive",t[t.Ready=2]="Ready",t[t.Running=3]="Running",t[t.Completed=4]="Completed",t[t.Blocked=5]="Blocked",t[t.UnBlocked=6]="UnBlocked",t[t.NotRunning=7]="NotRunning",$o.prototype.calculateContentTextWidth=function(){var e=rr.getSystemPart("HmiLogicSymbolSystemPart"),e=this.metaData.updateMissingLogicSubParts(e),t=this.contentText,e=(this.contentFontSize="/"===t?22:e.ContentFont.Size,e.ContentFont),t=rr.getTextWidth(t,e);this.contentWidth=t=t<30?30:t},$o.prototype.calculateContentTextHeight=function(){var e=rr.getSystemPart("HmiLogicSymbolSystemPart"),e=this.metaData.updateMissingLogicSubParts(e),t=this.contentText.split("\n"),e=(this.contentText=t.join("\n"),rr.getTextHeight("X",e.ContentFont));this.contentHeight=t.length*e+$o.LOGIC_PADDING,this.contentHeight<$o.SYMBOL_HEIGHT&&(this.contentHeight=$o.SYMBOL_HEIGHT)},$o.prototype.setWidth=function(){this._width=Math.max(this.metaData.logicFeatureInstance.Attributes["content-width"],ar.OperandMetaData.MAX_TEXT_WIDTH),this.calculateContentTextWidth()},$o.prototype.setHeight=function(){var e=this.headerOperand.height,t=this.footerOperand?this.footerOperand.height:0,e=(this.calculateContentTextHeight(),2*Math.max(e,t)+this.contentHeight);this._height=Math.max(this.metaData.logicFeatureInstance.Attributes["content-height"],e)},$o.prototype.setStrokeStyle=function(){this.defaultFlowLineFeature=this.metaData.flowLineFeatureInstances.normalsolid,this.stroke=this.defaultFlowLineFeature.Attributes.stroke,this.strokeWidth=+this.defaultFlowLineFeature.Attributes["stroke-width"]},Object.defineProperty($o.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty($o.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty($o.prototype,"innerHeight",{get:function(){return this._height/2+$o.SYMBOL_HEIGHT/2+(this.footerOperand?this.footerOperand.height:0)},enumerable:!1,configurable:!0}),Object.defineProperty($o.prototype,"linePos",{get:function(){return this.y+this._height/2},set:function(e){this.y=this.y+(e-this.linePos)},enumerable:!1,configurable:!0}),Object.defineProperty($o.prototype,"isInvert",{get:function(){return"NOT"===this.contentText},enumerable:!1,configurable:!0}),Object.defineProperty($o.prototype,"isBitCoil",{get:function(){return"BitCoil"===this._subType},enumerable:!1,configurable:!0}),$o.prototype.setStartXPos=function(e){this.x=e},$o.prototype.getStartXPos=function(){return this.x},$o.prototype.getStartYPos=function(){return this.y},$o.prototype.setStartYPos=function(e){this.y=e},$o.prototype.render=function(e){this.logicTemplate=this.metaData.logicFeatureInstance.render(this),this.dom=this.logicTemplate.RootNode,this.dom.setAttribute("x",this.x),this.dom.setAttribute("y",this.y),this.dom.setAttribute("id",this.id),e.appendChild(this.dom)},$o.prototype.updateOperandData=function(e){var t;this.logicTemplate&&(e.Header&&(e.Header.Value||"0"===String(e.Header.Value))&&(this.headerOperand.updateTagValue(this.logicTemplate,e.Header.Value),t=this.headerOperand.updateColor(this.logicTemplate,e.Header.Back,e.Header.Fore),e.Header.Fore=t.fore,e.Header.Back=t.back),e.Footer&&(e.Footer.Value||"0"===String(e.Footer.Value))&&(this.footerOperand.updateTagValue(this.logicTemplate,e.Footer.Value),t=this.footerOperand.updateColor(this.logicTemplate,e.Footer.Back,e.Footer.Fore),e.Footer.Fore=t.fore,e.Footer.Back=t.back),this.logicTemplate.update())},$o.prototype.updateActivationStatus=function(e){this.activeStatus=e,this.logicTemplate.setDataContent({ActiveStatus:e});e=this.metaData.flowLineFeatureInstances.activesolid||this.defaultFlowLineFeature;this.logicTemplate.setDataContent({Stroke:e.Attributes.stroke}),this.logicTemplate.update()},$o.prototype.remove=function(){this.headerOperand=null,this.footerOperand=null,this.logicTemplate.remove(),this.logicTemplate=null,this.dom=null},$o.SYMBOL_HEIGHT=22,$o.LOGIC_PADDING=4,t=$o,ar.LogicElement=t,x=(x=e=e||{}).Lib||(x.Lib={}),x=(or=x.NVEs||(x.NVEs={})).Data||(or.Data={}),es.prototype.updateTagValue=function(e,t){this.isFooter?e.setDataContent({FooterTag:t}):e.setDataContent({HeaderTag:t})},es.prototype.updateColor=function(e,t,i){return this.textBackColor=null!=t?t:this.textBackColor,this.textForeColor=null!=i?i:this.textForeColor,this.isFooter?(e.setDataContent({FooterOperandBackColor:this.textBackColor}),e.setDataContent({FooterOperandForeColor:this.textForeColor})):(e.setDataContent({HeaderOperandBackColor:this.textBackColor}),e.setDataContent({HeaderOperandForeColor:this.textForeColor})),{back:this.textBackColor,fore:this.textForeColor}},es.prototype.calculateHeight=function(e){var t=or.getTextHeight("X",this.logicSystemPart.HeaderFont),e=this.getInfoTextHeight(e,t);this.height=this.address?t+es.TEXT_TO_SYMBOL_PADDING:0,this.height+=(this.hasValue||this.value?t+es.TEXT_TO_SYMBOL_PADDING:0)+e+es.TEXT_TO_SYMBOL_PADDING},es.prototype.getInfoTextHeight=function(e,t){e=or.textWrap(e,es.MAX_TEXT_WIDTH,this.logicSystemPart.HeaderFont,/[^\.|_]+|(\.|_)/g);return this.infoText=e.join("\n"),e.length*t},es.MAX_TEXT_WIDTH=90,es.TEXT_TO_SYMBOL_PADDING=4,x.OperandMetaData=es,t=(t=e=e||{}).Lib||(t.Lib={}),t=(sr=t.NVEs||(t.NVEs={})).Data||(sr.Data={}),ts.prototype.setHeight=function(){},Object.defineProperty(ts.prototype,"width",{get:function(){return this.x2-this.x1},enumerable:!1,configurable:!0}),ts.prototype.getStartXPos=function(){return this.x1},ts.prototype.getStartYPos=function(){return this.y1},ts.prototype.setStartYPos=function(e){this.y1=e},ts.prototype.setEndYPos=function(e){this.y2=e},Object.defineProperty(ts.prototype,"height",{get:function(){return this.y2-this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(ts.prototype,"innerHeight",{get:function(){return this.height},enumerable:!1,configurable:!0}),ts.prototype.render=function(e){var t=this.defaultFlowLineFeature.Attributes.stroke,i=+this.defaultFlowLineFeature.Attributes["stroke-width"];this.dom=this.appendLine(t,i),e.appendChild(this.dom)},ts.prototype.appendLine=function(e,t){return this.dom=sr.Features.Shape.SvgShape.CreateSvgElement("line"),this.dom.setAttribute("y1",this.y1),this.dom.setAttribute("y2",this.y2),this.dom.setAttribute("x1",this.x1),this.dom.setAttribute("x2",this.x2),this.dom.setAttribute("stroke-width",t),this.dom.setAttribute("stroke",e),this.dom},ts.prototype.updateActivationStatus=function(e){var t;e&&(t=(e=null!=(e=this.metaData.flowLineFeatureInstances.activesolid)?e:this.defaultFlowLineFeature).Attributes.stroke,e=+e.Attributes["stroke-width"],this.dom.setAttribute("stroke-width",e),this.dom.setAttribute("stroke",t))},ts.prototype.remove=function(){if(this.dom){for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.dom=null}},t.PowerRailElement=ts,x=(x=e=e||{}).Lib||(x.Lib={}),x=(lr=x.NVEs||(x.NVEs={})).Data||(lr.Data={}),is.prototype.setStartYPos=function(e){this.y=e+this.height/2},is.prototype.setStartXPos=function(e){this.x=e},is.prototype.getStartYPos=function(){return this.y},is.prototype.update=function(e){this.textDetailsTemplate&&(this.textDetailsTemplate.setDataContent({Text:e}),this.textDetailsTemplate.update())},is.prototype.render=function(e){var t=lr.getSystemPart("HmiLogicSymbolSystemPart"),t=this.metaData.updateMissingLogicSubParts(t),t={Content:{Text:this.textContent,TextFontSize:16,TextFontWeight:"title"===this.type?"bold":t.HeaderFont.Weight,TextFontName:t.HeaderFont.Name}};this.textDetailsTemplate=this.metaData.rtpuItem.createSubtemplate(this,this.metaData.template["text-details"],{},t,this.width,this.height),this.textDetailsTemplate&&this.textDetailsTemplate.RootNode&&(this.dom=this.textDetailsTemplate.RootNode,this.type&&this.dom.setAttribute("class","flowdiagram-"+this.type),this.dom.setAttribute("x",this.x),this.dom.setAttribute("y",this.y),e.appendChild(this.dom))},is.prototype.remove=function(){this.textDetailsTemplate.remove(!1,!0,!1),this.textDetailsTemplate=null,this.dom=null},is.TEXT_PADDING=10,x.TextElement=is,t=(t=e=e||{}).Lib||(t.Lib={}),t=(ur=t.NVEs||(t.NVEs={})).Data||(ur.Data={}),rs.prototype.setBlockDim=function(){this.headerHeight=this.metaData.isCompactMode?61:20,this.contentHeight=this.metaData.isCompactMode?0:41,this.width=120,this.height=this.headerHeight+this.contentHeight},rs.prototype.trimmedContent=function(){var e=ur.getSystemPart("HmiBlockSymbolSystemPart"),e=this.metaData.updateMissingBlockSubParts(e),t=this.masterData.Data.Content,e=e.ContentFont,i=[],r=ur.getTextHeight("X",e);if(0===this.contentHeight)this.content=t;else{var a=Math.floor(this.contentHeight/r),n=[];(n=ur.textWrap(t,this.width,e)).length>a?(n[a-1]=n[a-1]+"",n[a-1]=ur.textEllipsis(n[a-1],this.width,e)):a=n.length;for(var o=0;o<a;o++)i.push(n[o]);this.content=i.join("")}},rs.prototype.render=function(e){this.blockTemplate=this.metaData.blockFeatureInstance.render(this),this.dom=this.blockTemplate.RootNode,this.setStartXPos(this.x-(+this.dom.getAttribute("width")-this.width)/2),this.dom.setAttribute("x",this.x),this.dom.setAttribute("y",this.y),this.dom.setAttribute("id",this.id),e.appendChild(this.dom)},rs.prototype.updateBlockElementText=function(e){this.blockTemplate&&e&&(e.Data.Header&&(this.header=e.Data.Header,this.masterData.Data.Header=this.header),e.Data.Content&&(this.masterData.Data.Content=e.Data.Content,this.trimmedContent()),this.setBlockDim(),this.blockTemplate.setDataContent({HeaderText:this.header}),this.blockTemplate.setDataContent({ContentText:this.content}),this.blockTemplate.update())},rs.prototype.updateSelectionStatus=function(e){this.blockTemplate&&(this.isSelected=e,this.blockTemplate.setDataContent({IsSelected:this.isSelected}),this.blockTemplate.update())},rs.prototype.updateActiveStatus=function(e){e?(this.blockTemplate.setHmiProps(this.activeStateForeColor,"HmiProps.HeaderForeColor"),this.blockTemplate.setHmiProps(this.activeStateForeColor,"HmiProps.ContentForeColor"),this.blockTemplate.setHmiProps(this.activeStateBackColor,"HmiProps.HeaderBackColor"),this.blockTemplate.setHmiProps(this.activeStateBackColor,"HmiProps.ContentBackColor")):(e=ur.getSystemPart("HmiBlockSymbolSystemPart"),e=this.metaData.updateMissingBlockSubParts(e),this.blockTemplate.setHmiProps(e.HeaderForeColor,"HmiProps.HeaderForeColor"),this.blockTemplate.setHmiProps(e.ContentForeColor,"HmiProps.ContentForeColor"),this.blockTemplate.setHmiProps(e.HeaderBackColor,"HmiProps.HeaderBackColor"),this.blockTemplate.setHmiProps(e.ContentBackColor,"HmiProps.ContentBackColor")),this.blockTemplate.update()},rs.prototype.remove=function(){if(this.dom){for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.dom=null}this.blockTemplate.remove(),this.blockTemplate=null,this.metaData=null},t.BlockElement=rs,x=(x=e=e||{}).Lib||(x.Lib={}),hr=x.NVEs||(x.NVEs={}),dr=hr.Data||(hr.Data={}),as.prototype.setStartYPos=function(e){this.y1=e,this.orientation===dr.Orientation.horizontal&&(this.y2=e)},as.prototype.setEndYPos=function(e){this.y2=e},as.prototype.setStartXPos=function(e){this.x1=e,this.orientation===dr.Orientation.vertical&&(this.x2=e)},as.prototype.setEndXPos=function(e){this.x2=e},as.prototype.getStartXPos=function(){return this.x1},as.prototype.getStartYPos=function(){return this.y1},Object.defineProperty(as.prototype,"width",{get:function(){return this.x2-this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(as.prototype,"height",{get:function(){return this.y2-this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(as.prototype,"innerHeight",{get:function(){return this.height},enumerable:!1,configurable:!0}),as.prototype.render=function(e){this.parent=e;var t,i,r=this.masterData.State&&this.masterData.State.LineState||"normal",a=(this.lineStyle=this.masterData.State&&this.masterData.State.LineStyle||"solid",this.metaData.flowLineFeatureInstances[r+this.lineStyle].Attributes.stroke),r=+this.metaData.flowLineFeatureInstances[r+this.lineStyle].Attributes["stroke-width"];this.diagram instanceof dr.StepDiagramModel?(i=this.diagram.getParent(this.id),i=void this.setStartXPos(i.x1),i="Begin"===this.subType?(t=this.diagram.getChildren(this.id))[t.length-1]:this.diagram.getLastGuardian(this.id),this.setEndXPos(i.x2),this.domArray.push(this.appendLine(a,r,null)),e.appendChild(this.domArray[0]),"parallel"===this.lineStyle&&(this.domArray.push(this.appendLine(a,r,"parallel")),e.appendChild(this.domArray[1]))):(this.domArray.push(this.appendLine(a,r,null)),e.appendChild(this.domArray[0]))},as.prototype.appendLine=function(e,t,i){var r=hr.Features.Shape.SvgShape.CreateSvgElement("line");return r.setAttribute("y1",this.y1),r.setAttribute("y2",this.y2),r.setAttribute("x1",this.x1),r.setAttribute("x2",this.x2),"parallel"===i&&("Begin"===this.subType?(r.setAttribute("y1",this.y1+t+1),r.setAttribute("y2",this.y2+t+1)):(r.setAttribute("y1",this.y1-t-1),r.setAttribute("y2",this.y2-t-1))),r.setAttribute("stroke-width",t),r.setAttribute("stroke",e),r},as.prototype.updateActivationStatus=function(e,t){void 0===t&&(t=null);var i,r,a=null,n=(e?(r=this.lineStyle,i=null!=(i=this.metaData.flowLineFeatureInstances["active"+r])?i:this.metaData.flowLineFeatureInstances.normalsolid):(i=this.metaData.flowLineFeatureInstances["inactive"+(r="dash")])?a="5":i=this.metaData.flowLineFeatureInstances.normalsolid,i.Attributes.stroke),o=+i.Attributes["stroke-width"];this.metaData.diagramType===dr.FlowDiagramType.Step?e?0===this.activatedLine.length?(this.createNewActiveLine(n,o,null).setAttribute("x2",t.x1),0<this.domArray.length&&this.createNewActiveLine(n,o,this.lineStyle).setAttribute("x2",t.x1)):+this.activatedLine[0].getAttribute("x2")<t.x1&&this.activatedLine.forEach(function(e){e.setAttribute("x2",t.x1)}):this.clearActiveLine():this.metaData.diagramType===dr.FlowDiagramType.Ladder&&this.subType===dr.BranchSubType.End?e?0===this.activatedLine.length?this.createNewActiveLine(n,o,null).setAttribute("y2",t.y1):+this.activatedLine[0].getAttribute("y2")<t.y1&&this.activatedLine.forEach(function(e){e.setAttribute("y2",t.y1)}):(this.domArray.forEach(function(e){e.setAttribute("stroke-width",o),e.setAttribute("stroke",n),e.setAttribute("stroke-dasharray",a)}),this.clearActiveLine()):this.domArray.forEach(function(e){e.setAttribute("stroke-width",o),e.setAttribute("stroke",n),e.setAttribute("stroke-dasharray",a)})},as.prototype.createNewActiveLine=function(e,t,i){e=this.appendLine(e,t,i);return this.activatedLine.push(e),this.parent.appendChild(e),e},as.prototype.remove=function(){this.clearNodes(),this.metaData=null,this.diagram=null},as.prototype.clearActiveLine=function(){this.activatedLine.forEach(function(e){e.parentElement.removeChild(e)}),this.activatedLine.length=0},as.prototype.clearNodes=function(){this.domArray.length=0,this.activatedLine.length=0},dr.BranchElement=as,cr=e=e||{},t=cr.Lib||(cr.Lib={}),pr=t.NVEs||(t.NVEs={}),mr=pr.Data||(pr.Data={}),Object.defineProperty(ns.prototype,"height",{get:function(){return this.y2-this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(ns.prototype,"innerHeight",{get:function(){return this.height},enumerable:!1,configurable:!0}),Object.defineProperty(ns.prototype,"width",{get:function(){var e;return this.orientation===mr.Orientation.vertical?(e=this.masterData.State&&this.masterData.State.LineState||"normal",+this.metaData.flowLineFeatureInstances[e+"solid"].Attributes["stroke-width"]):this.x2-this.x1},enumerable:!1,configurable:!0}),ns.prototype.render=function(e){this.stroke=this.flowLineFeature.Attributes.stroke,this.strokeWidth=this.flowLineFeature.Attributes["stroke-width"],this.metaData.diagramType===cr.Lib.NVEs.Data.FlowDiagramType.Step&&this.setStartXPos(this.x1+60),this.dom=this.appendLine(),e.appendChild(this.dom),this.renderDecorator(e,this.flowLineFeature)},ns.prototype.renderDecorator=function(t,i){var r=this;this.parent=t,this.decoratorElements.forEach(function(e){e=e.render(r,i);t.appendChild(e)})},ns.prototype.updateDecorators=function(){var t=this;this.decoratorElements.forEach(function(e){e=e.update(t,t.flowLineFeature);t.parent.appendChild(e)})},ns.prototype.updateDecoratorsText=function(e){for(var t,i=this.decoratorElements.length,r=0,r=0;r<i;r++)e[r]&&e[r].Data&&((t=e[r].Data).Header&&(this.decoratorElements[r].dt.Data.Header=t.Header),t.Content&&(this.decoratorElements[r].dt.Data.Content=t.Content),t=this.decoratorElements[r].update(this,this.flowLineFeature),this.parent.appendChild(t))},ns.prototype.appendLine=function(){var e=pr.Features.Shape.SvgShape.CreateSvgElement("line");return e.setAttribute("y1",this.y1),e.setAttribute("y2",this.y2),e.setAttribute("x1",this.x1),e.setAttribute("x2",this.x2),e.setAttribute("stroke-width",this.strokeWidth),e.setAttribute("stroke",this.stroke),this.flowLineFeature===this.metaData.flowLineFeatureInstances.normaldash&&(this.strokeDashArray="5",e.setAttribute("stroke-dasharray",this.strokeDashArray)),e},ns.prototype.updateActivationStatus=function(e){var t;this.isActive=e,this.strokeDashArray=null,e?this.flowLineFeature=null!=(e=this.metaData.flowLineFeatureInstances["active"+(t="solid")])?e:this.metaData.flowLineFeatureInstances["normal"+t]:(e=this.metaData.flowLineFeatureInstances["inactive"+(t="dash")])?(this.flowLineFeature=e,this.strokeDashArray="5"):this.flowLineFeature=this.metaData.flowLineFeatureInstances.normalsolid,this.stroke=this.flowLineFeature.Attributes.stroke,this.strokeWidth=+this.flowLineFeature.Attributes["stroke-width"],this.dom.setAttribute("stroke-width",this.strokeWidth),this.dom.setAttribute("stroke",this.stroke),this.dom.setAttribute("stroke-dasharray",this.strokeDashArray),this.metaData.diagramType!==pr.Data.FlowDiagramType.Step&&this.updateDecorators()},ns.prototype.remove=function(){if(this.decoratorElements.forEach(function(e){e.remove()}),this.currentDiagram=null,this.decoratorElements=null,this.metaData=null,this.isActive=!1,this.dom){for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.dom=null}this.parent=null,this.flowLineFeature=null},ns.DEF_FLOWLINE_LENGTH=30,mr.FlowLineElement=ns,gr=e=e||{},x=(x=gr.Lib||(gr.Lib={})).NVEs||(x.NVEs={}),Tr=x.Data||(x.Data={}),Object.defineProperty(R.prototype,"connDetails",{get:function(){return this._connDetails},set:function(e){this._connDetails=e},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"errorDescription",{set:function(e){e&&(this._errorDescription=new Tr.TextElement(e,this.metaData,"error"))},enumerable:!1,configurable:!0}),R.prototype.getErrorDescription=function(){return this._errorDescription},Object.defineProperty(R.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"diagramID",{get:function(){return this._diagramID},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeBlocks",{get:function(){return this._activeBlocks},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"selectedBlock",{get:function(){return this._selectedBlock},enumerable:!1,configurable:!0}),R.prototype.setActivationStatus=function(e,t){t?this._activeBlocks.push(e):0<=(t=this._activeBlocks.indexOf(e))&&this._activeBlocks.splice(t,1)},R.prototype.setActiveStatus=function(e){this.dataHandler.setActiveStatus(e)},R.prototype.update=function(e){var t,i,r,a,n=0,o=gr.Lib.NVEs.Data.FlowDiagramElementType;if(e)if(e.ErrorDescription&&this._errorDescription)this._errorDescription.update(e.ErrorDescription);else if(e.ElementsList&&this.list)for(i=this.list,r=e.ElementsList,t=i.length,n=0;n<t;n++)i[n]&&r[n]&&r[n].Key===i[n].Key&&(a=r[n],this._blocks&&this._blocks[a.Key]&&a.Type===o.Block?this._blocks[a.Key].updateBlockElementText(a):this.flowLines&&this.flowLines[a.Key]&&a.Type===o.Line&&this.flowLines[a.Key].updateDecoratorsText(a.Decorator))},R.prototype.render=function(e){this._errorDescription?this.renderError(e):(this.renderFlowLine(e),this.renderBranch(e),this.renderBlock(e))},R.prototype.renderBlock=function(e){for(var t in this._blocks){t=this.getBlockData(t);e.contains(this.blockParentGroup)||this.createElementsParentGroup(e,"blockParentGroup"),t.render(this.blockParentGroup)}},R.prototype.renderFlowLine=function(e){for(var t in this.flowLines){t=this.getFlowLineData(t);e.contains(this.flowLineParentGroup)||this.createElementsParentGroup(e,"flowLineParentGroup"),t.render(this.flowLineParentGroup)}},R.prototype.renderBranch=function(e){for(var t in this.branches){t=this.getBranchData(t);e.contains(this.branchParentGroup)||this.createElementsParentGroup(e,"branchParentGroup"),t.render(this.branchParentGroup)}},R.prototype.renderError=function(e){this._errorDescription.render(e)},R.prototype.createElementsParentGroup=function(e,t){this[t]=document.createElementNS("http://www.w3.org/2000/svg","g"),this[t].setAttribute("class",t),e.appendChild(this[t])},R.prototype.unRegisterForBlockSelection=function(){this.blockParentGroup&&this.blockParentGroup.removeEventListener("click",this._selectionBlockCallBackRef)},R.prototype.registerForBlockSelection=function(){this.blockParentGroup&&this.blockParentGroup.addEventListener("click",this._selectionBlockCallBackRef)},R.prototype.setSelectionBlockHandlerCallBack=function(e){this._selectedBlockHandlerCallBack=e},R.prototype.blockSelectionHandler=function(e){e&&e.target&&(e=this.findParentElementWithId(e.target))&&this._selectedBlockHandlerCallBack(e,this._diagramID)},R.prototype.findParentElementWithId=function(e){for(;e.parentNode;)if((e=e.parentNode)&&"svg"===e.nodeName){var t=e.id||"";if(-1<t.indexOf("Block"))return t}return""},R.prototype.clearPrevSelectedBlock=function(){this._selectedBlock&&(this._selectedBlock.updateSelectionStatus(!1),this._selectedBlock=null)},R.prototype.updateSelectedBlock=function(e,t){e&&(this.clearPrevSelectedBlock(),this._selectedBlock=this.getBlockData(e),this._selectedBlock.updateSelectionStatus(!0),this.jumpToSlectedBlockPos(),t)&&this.metaData.dp.setSelectedBlockId("Step",e)},R.prototype.jumpToSlectedBlockPos=function(){(this._selectedBlock.y<this.metaData.scrollHandler.getScrollYPos()||this._selectedBlock.y>this.metaData.scrollHandler.getScrollYPos()+this.metaData.dim.height/this.metaData.zoomFactor)&&this.metaData.scrollHandler.changeVScroll((this._selectedBlock.y-Tr.FlowDiagramMetaData.OFFSET)*this.metaData.zoomFactor),(this._selectedBlock.getNormalizedXPos()<this.metaData.scrollHandler.getScrollXPos()||this._selectedBlock.getNormalizedXPos()>this.metaData.scrollHandler.getScrollXPos()+this.metaData.dim.width/this.metaData.zoomFactor)&&this.metaData.scrollHandler.changeHScroll((this._selectedBlock.getNormalizedXPos()-Tr.FlowDiagramMetaData.OFFSET)*this.metaData.zoomFactor)},R.prototype.reset=function(){for(var e in this._blocks)this._blocks[e].setBlockDim(),this._blocks[e].isProcessed=!1;for(var t in this.flowLines)this.flowLines[t].isProcessed=!1;for(var i in this.branches)this.branches[i].clearNodes()},R.prototype.getEndYPos=function(){return this._startYPos+this._height},Object.defineProperty(R.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),R.prototype.setStartXYPos=function(e){this._startYPos=e,this._errorDescription&&(this._errorDescription.setStartYPos(this._errorHeight),this._errorDescription.setStartXPos(this._errorWidth))},R.prototype.setLayoutProps=function(e,t){this._height=t,this._width=e},R.prototype.addBlock=function(e,t){t=new gr.Lib.NVEs.Data.BlockElement(e,t);this._blocks[e.Key]=t},R.prototype.updateBlock=function(e){},R.prototype.addFlowLine=function(e,t){t=new gr.Lib.NVEs.Data.FlowLineElement(e,this,t,Tr.Orientation.vertical);this.flowLines[e.Key]=t},R.prototype.addBranch=function(e,t){t=new gr.Lib.NVEs.Data.BranchElement(e,this,t,Tr.Orientation.horizontal);this.branches[e.Key]=t},R.prototype.getBlockData=function(e){return this._blocks[e]},R.prototype.getFlowLineData=function(e){return this.flowLines[e]},R.prototype.getBranchData=function(e){return this.branches[e]},R.prototype.getStartStep=function(){return 0===this.connDetails.length?null:this.connDetails[0].From},R.prototype.getFirstBlock=function(e){return(e=void 0===e?this.getElementDetails(this.connDetails[0].From):e)instanceof Tr.BlockElement?e:this.getNextElement(e.id)},R.prototype.getElementType=function(t){var i;return this.list.every(function(e){return e.Key!==t||(i=e.Type,!1)}),i},R.prototype.getElementDetails=function(e){return this._blocks[e]||this.flowLines[e]||this.branches[e]||void 0},R.prototype.getNextElement=function(e){e=this.getNextElementId(e);return e?this.getElementDetails(e):null},R.prototype.getNextElementId=function(t){var i;return this.connDetails.every(function(e){return e.From!==t||(i=e.To,!1)}),i},R.prototype.getRightMostChild=function(t){var i=null;return this.connDetails.forEach(function(e){e.From===t&&(i=e.To)}),this.getElementDetails(i)},R.prototype.getFirstChild=function(t){var i=null;return this.connDetails.every(function(e){return e.From!==t||(i=e.To,!1)}),this.getElementDetails(i)},R.prototype.getChildren=function(t){var i=this,r=[];return this.connDetails.forEach(function(e){e.From===t&&r.push(i.getElementDetails(e.To))}),r},R.prototype.getParent=function(t){var i=null;return this.connDetails.every(function(e){return e.To!==t||(i=e.From,!1)}),this.getElementDetails(i)},R.prototype.getPreviousSibling=function(t,i){var r=null;return this.connDetails.every(function(e){return e.From===t&&e.To!==i?(r=e.To,!0):e.From!==t||e.To!==i}),this.getElementDetails(r)},R.prototype.getNextGuardian=function(t,i){var r=null,a=!1;return this.connDetails.every(function(e){return e.From===t&&e.To===i?a=!0:!a||e.To!==i||(r=e.From,!1)}),this.getElementDetails(r)},R.prototype.getLastGuardian=function(t){var i=null;return this.connDetails.forEach(function(e){e.To===t&&(i=e.From)}),this.getElementDetails(i)},R.prototype.getPrevGuardian=function(t,i){var r=null;return this.connDetails.every(function(e){return e.To===i&&e.From!==t?(r=e.From,!0):e.To!==i||e.From!==t}),this.getElementDetails(r)},R.prototype.getNexUnprocessedChildOfBranch=function(e){var t=null;return this.getChildren(e).every(function(e){return!!e.isProcessed||(t=e,!1)}),t},R.prototype.remove=function(){for(var e in this.unRegisterForBlockSelection(),this._blocks)this._blocks[e].remove();for(var t in this.flowLines)this.flowLines[t].remove();for(var i in this.branches)this.branches[i].remove();this._errorDescription&&this._errorDescription.remove(),this._blocks=null,this.flowLines=null,this.branches=null,this.metaData=null,this._errorDescription=null,this._activeBlocks=null,this._selectedBlock=null,this.blockParentGroup=null,this.flowLineParentGroup=null,this.branchParentGroup=null,this._selectedBlockHandlerCallBack=null,this._selectionBlockCallBackRef=null,this._connDetails=null,this._list=null,this.dataHandler=null},Tr.StepDiagramModel=R,t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={}),fr=t.Data||(t.Data={}),os.prototype.setActiveStatus=function(e){for(var t,i=[],r=[],a=!1,n=0,o=e;n<o.length;n++){var s=o[n],l=this.diag.getBlockData(s.Key);s.Data.hasOwnProperty("isActive")&&(!0===s.Data.isActive?(i.push(s.Key),this.diag.setActivationStatus(l,!0),l.activeStateForeColor=s.Data.Fore,l.activeStateBackColor=s.Data.Back,l.updateActiveStatus(!0)):(r.push(s.Key),this.diag.setActivationStatus(l,!1),l.updateActiveStatus(!1))),s.Data.isSelected&&this.diag.updateSelectedBlock(s.Key,!0),s.Data.isReset&&(a=s.Data.isReset)}if(1===i.length&&i[0]===this.diag.getFirstBlock().id||!0===a){for(var u in this.diag.flowLines)this.diag.flowLines[u].updateActivationStatus(!1);for(var h in this.diag.branches)this.diag.branches[h].updateActivationStatus(!1);this.diag.metaData.elemToActivateOnReRender=[]}else for(var d=0,c=r;d<c.length;d++)for(var p=c[d],m=0,g=i;m<g.length;m++){var T=[];if(this.getPath(p,g[m],T)){for(var f=0,y=T;f<y.length;f++){var D=y[f],S=this.diag.getElementDetails(D.id);S instanceof fr.FlowLineElement?S.updateActivationStatus(!0):S instanceof fr.BranchElement&&(D=this.diag.getElementDetails(D.ref),S.updateActivationStatus(!0,D))}(t=this.diag.metaData.elemToActivateOnReRender).push.apply(t,T)}}},os.prototype.getPath=function(e,t,i){var r=!1,a=this.diag.getNextElement(e);if(a instanceof fr.BlockElement)r=a.id===t||this.getPath(a.id,t,i);else if(a instanceof fr.FlowLineElement)i.push({id:a.id}),r=this.getPath(a.id,t,i);else if(a instanceof fr.BranchElement&&a.subType===fr.BranchSubType.End)i.push({id:a.id,ref:e}),r=this.getPath(a.id,t,i);else if(a instanceof fr.BranchElement)for(var n=0,o=this.diag.getChildren(a.id);n<o.length;n++){var s=o[n],l=[];if(l.push({id:s.id}),r=this.getPath(s.id,t,l)){i.push({id:a.id,ref:s.id}),i.push.apply(i,l);break}}return r},fr.StepRTHandler=os,x=(x=e=e||{}).Lib||(x.Lib={}),yr=x.NVEs||(x.NVEs={}),Dr=yr.Features||(yr.Features={}),x=(x=Dr.Shape||(Dr.Shape={})).ArcDial||(x.ArcDial={}),ss.prototype.getFont=function(){for(var e,t=0;t<this.labels.Features.length;t++){var i=this.labels.Features[t];i instanceof Dr.Font&&(e=i)}return e||(e=new Dr.Font,this.labels.Features.push(e)),e},ss.prototype.calcBaselineShift=function(e){return yr.getTextPosY(e,Number(this.getFont().getAttribute("size")))},ss.prototype.setBaseline=function(e,t){e.setAttributeNS(null,"dominant-baseline",t)},ss.prototype.setTextAnchor=function(e,t){e.setAttributeNS(null,"text-anchor",t)},ss.prototype.getShiftDirectionWidth=function(e){var t=0,e=yr.Utilities.normalizeAngle(e.angle);return 0<=e&&e<90||270<e&&e<=360?t=1:90<e&&e<270&&(t=-1),t},ss.prototype.getShiftDirectionHeight=function(e){var t=0,e=yr.Utilities.normalizeAngle(e.angle);return 0<e&&e<180?t=1:180<e&&e<360&&(t=-1),t},ss.prototype.handleAlignment=function(e,t){switch(this.labels.getAttribute("alignment-mode")){case"regular":this.handleRegularAlignment(e,t);break;case"center":this.handleCenterAlignment(e,t);break;case"tangential":this.handleTangentialAlignment(e,t);break;default:this.handleRegularAlignment(e,t)}},ss.prototype.handleRegularAlignment=function(e,t){this.setTextAnchor(e,"middle");var i=yr.convertFormatPattern(String(t.value),this.labels.getAttribute("output-format")),r=this.getFont().getWebRHAttributes(),a=yr.getTextHeight(i,r)/2,i=yr.getTextWidth(i,r)/2,r=this.getShiftDirectionWidth(t)*i,n=0;switch(this.getShiftDirectionHeight(t)){case 1:n=a;break;case 0:n=a/2}e.setAttributeNS(null,"dx",String(r)),e.setAttributeNS(null,"dy",String(n))},ss.prototype.handleCenterAlignment=function(e,t){this.setTextAnchor(e,"middle");var i=yr.convertFormatPattern(String(t.value),this.labels.getAttribute("output-format")),r=this.getFont().getWebRHAttributes(),a=yr.getTextHeight(i,r),i=yr.getTextWidth(i,r);e.setAttributeNS(null,"dy",String(this.calcBaselineShift(a)/4)),this.calculateAlignmentOffset(i,a,t)},ss.prototype.calculateAlignmentOffset=function(e,t,i){var e=this.getShiftDirectionWidth(i)*e*-1,t=this.getShiftDirectionHeight(i)*t*-1,r=new yr.Geometry.Point,a=new yr.Geometry.Point(i.centerX,i.centerY),i=yr.Geometry.Calculations.getPointOnArc(i.angle*yr.Geometry.degree,i.radius,i.centerX,i.centerY),e=(r.x=i.x+e,r.y=i.y+t,yr.Geometry.Calculations.distance(r,a)),t=yr.Geometry.Calculations.distance(i,a),r=Math.max(t,e),i=Math.min(t,e);this.alignmentOffset=(r-i)/2},ss.prototype.handleTangentialAlignment=function(e,t){this.setTextAnchor(e,"middle");var i=yr.Utilities.normalizeAngle(t.angle),t=((90<(i-=270)||i<-90)&&(i+=180),yr.Geometry.Calculations.getPointOnArc(t.angle*yr.Geometry.degree,t.radius,t.centerX,t.centerY));yr.Utilities.rotateSVGObject(e,String(i),String(t.x),String(t.y))},x.LabelsArcBase=ss,t=(t=e=e||{}).Lib||(t.Lib={}),t=(t=(t=(Sr=t.NVEs||(t.NVEs={})).Features||(Sr.Features={})).Shape||(t.Shape={})).ArcDial||(t.ArcDial={}),br=t.LabelsArcBase,i(ls,br),ls.prototype.draw=function(){var e=this.labels.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChilds(e),this.elementProvider.finish()},ls.prototype.drawChilds=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createLabels(e.getPoles());break}this.drawChilds(t[i].children)}},ls.prototype.createLabels=function(e){this.labels.applyFilters(e);var e=e.filter(function(e){return e.isVisible},this),t=this.elementProvider.getFreeNodes(e.length);this.applyDomAttributes(t,e)},ls.prototype.applyDomAttributes=function(i,e){var r=this.getFont(),a=this;e.forEach(function(e,t){t=i[t];r.addFontAttributesToDomNode(a.labels.webRTPUItem,a.labels.metaData,t),a.handleAlignment(t,e),a.addPositionToDom(t,e),a.addTextNodeToDom(t,e),t.setAttributeNS(null,"fill",a.labels.getAttribute("fill"))},this)},ls.prototype.addPositionToDom=function(e,t){var i=parseFloat(this.labels.getAttribute("offset")),i=(this.radius=t.radius,this.angle=t.angle,t.radius+i+this.alignmentOffset),i=Sr.Geometry.Calculations.getPointOnArc(t.angle*Sr.Geometry.degree,i,t.centerX,t.centerY);e.setAttributeNS(null,"x",String(Sr.Utilities.preprocessCoordinateForSVG(i.x))),e.setAttributeNS(null,"y",String(Sr.Utilities.preprocessCoordinateForSVG(i.y)))},ls.prototype.addTextNodeToDom=function(e,t){t=Sr.convertFormatPattern(String(t.value),this.labels.getAttribute("output-format"));e.textContent=t},t.LabelsArc=ls,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(x=(Cr=x.NVEs||(x.NVEs={})).Features||(Cr.Features={})).Shape||(x.Shape={})).ArcDial||(x.ArcDial={}),us.prototype.createNodeContentCallback=function(e,t){var i=this.markers.Templates[""],i=this.markers.webRTPUItem.createSubtemplate(this.markers,i,{Width:1,Height:1},null,1,1);"0"==i.RootNode.getAttribute("width")&&i.RootNode.setAttribute("width","1"),"0"==i.RootNode.getAttribute("height")&&i.RootNode.setAttribute("height","1"),e.setAttribute("overflow","visible"),e.appendChild(i.RootNode)},us.prototype.recycleNodeContentCallback=function(e,t){for(var i=e;i&&"svg"!=i.tagName;)i=i.children[0];i&&("0"==i.getAttribute("width")&&i.setAttribute("width","1"),"0"==i.getAttribute("height"))&&i.setAttribute("height","1")},us.prototype.addPositionToDom=function(e,t){var i=parseFloat(this.markers.getAttribute("offset")),i=t.radius+i+this.alignmentOffset,i=Cr.Geometry.Calculations.getPointOnArc(t.angle*Cr.Geometry.degree,i,t.centerX,t.centerY);Cr.Utilities.transformSVGObject(e,"translate("+Cr.Utilities.preprocessCoordinateForSVG(i.x+this.alignmentOffsetX)+","+Cr.Utilities.preprocessCoordinateForSVG(i.y+this.alignmentOffsetY)+")"),this.handleRotation(e,i.x,i.y)},us.prototype.handleRotation=function(e,t,i){var r=this.markers.getAttribute("angle"),a=parseFloat(this.markers.getAttribute("origin-x")),n=parseFloat(this.markers.getAttribute("origin-y"));Cr.Utilities.rotateSVGObject(e,r,String(Cr.Utilities.preprocessCoordinateForSVG(t+a)),String(Cr.Utilities.preprocessCoordinateForSVG(i+n)))},us.prototype.handleAlignment=function(e,t,i,r){switch(this.markers.getAttribute("alignment-mode")){case"regular":this.handleRegularAlignment(e,t,i,r);break;case"center":this.handleCenterAlignment(e,t,i,r);break;case"tangential":this.handleTangentialAlignment(e,t,i,r);break;case"radial":this.handleRadialAlignment(e,t,i,r);break;default:this.handleRegularAlignment(e,t,i,r)}},us.prototype.handleRegularAlignment=function(e,t,i,r){this.alignmentOffsetX=-(this.getShiftDirectionWidth(t)+1)*i/2,this.alignmentOffsetY=-(this.getShiftDirectionHeight(t)+1)*r/2},us.prototype.handleCenterAlignment=function(e,t,i,r){var a=this.getShiftDirectionWidth(t)*i,n=this.getShiftDirectionHeight(t)*r,o=new Cr.Geometry.Point,s=new Cr.Geometry.Point,l=Cr.Geometry.Calculations.getPointOnArc(t.angle*Cr.Geometry.degree,t.radius+parseFloat(this.markers.getAttribute("offset")),t.centerX,t.centerY),a=(o.x=l.x+a,o.y=l.y+n,s.x=t.centerX,s.y=t.centerY,Cr.Geometry.Calculations.distance(o,s)),n=Cr.Geometry.Calculations.distance(l,s),t=Math.max(n,a),o=Math.min(n,a);this.alignmentOffset=(t-o)/2,this.alignmentOffsetX=-i/2,this.alignmentOffsetY=-r/2},us.prototype.handleTangentialAlignment=function(e,t,i,r){var a=Cr.Utilities.normalizeAngle(t.angle)-270,r=(this.alignmentOffset=r,Cr.Geometry.Calculations.getPointOnArc(t.angle*Cr.Geometry.degree,t.radius+parseFloat(this.markers.getAttribute("offset"))+r,t.centerX,t.centerY));Cr.Utilities.transformSVGObject(e,"translate("+-i/2+",0)"),Cr.Utilities.rotateSVGObject(e,String(a),String(Cr.Utilities.preprocessCoordinateForSVG(r.x)),String(Cr.Utilities.preprocessCoordinateForSVG(r.y)))},us.prototype.handleRadialAlignment=function(e,t,i,r){this.alignmentOffset=r/2,Cr.Utilities.transformSVGObject(e,"translate("+-i/2+",0)"),Cr.Utilities.rotateSVGObject(e,String(t.angle-270))},us.prototype.getShiftDirectionWidth=function(e){var t=0,e=Cr.Utilities.normalizeAngle(e.angle);return(360<e||e<-360)&&(e%=360),0<=(e=e<0?e+360:e)&&e<90||270<e&&e<=360?t=-1:90<e&&e<270&&(t=1),t},us.prototype.getShiftDirectionHeight=function(e){var t=0,e=e.angle;return(360<e||e<-360)&&(e%=360),0<(e=e<0?e+360:e)&&e<180?t=-1:180<e&&e<360&&(t=1),t},us.prototype.applyDomAttributes=function(i,e){var r=this,a=parseFloat(this.markers.getAttribute("content-width")),n=parseFloat(this.markers.getAttribute("content-height"));e.forEach(function(e,t){t=i[t];t.setAttribute("width",String(a)),t.setAttribute("height",String(n)),t.removeAttribute("transform"),r.handleAlignment(t,e,a,n),r.addPositionToDom(t,e)},this)},x.MarkersArcBase=us,t=(t=(t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Features||(t.Features={})).Shape||(t.Shape={})).ArcDial||(t.ArcDial={}),vr=t.MarkersArcBase,i(hs,vr),hs.prototype.draw=function(){var e=this.markers.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChildren(e),this.elementProvider.finish()},hs.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createPoleMarkers(e.getPoles());break}this.drawChildren(t[i].children)}},hs.prototype.createPoleMarkers=function(e){this.markers.applyFilters(e);var e=e.filter(function(e){return e.isVisible},this),t=this.elementProvider.getFreeNodes(e.length);this.applyDomAttributes(t,e)},t.PoleMarkersArc=hs,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(x=(_r=x.NVEs||(x.NVEs={})).Features||(_r.Features={})).Shape||(x.Shape={})).ArcDial||(x.ArcDial={}),ds.prototype.draw=function(){var e=this.ribbons.Parent.getStructure();this.elementProvider.reset(),this.drawChildren(e),this.elementProvider.finish()},ds.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createRibbons(t);break}this.drawChildren(t[i].children)}},ds.prototype.createRibbons=function(e){this.ribbons.applyFilters(e);var e=e.filter(function(e){return e.isVisible},this),t=this.elementProvider.getFreeNodes(e.length);this.applyDomAttributes(t,e)},ds.prototype.setColor=function(e,t,i,r){var a;t.color?(e.setAttribute("fill",t.color.getRGB()),e.setAttribute("fill-opacity",t.color.getAlpha())):i==r?(e.setAttribute("fill",i),"transparent"==i?(e.setAttribute("fill","#FFFFFF"),e.setAttribute("fill-opacity","0")):e.setAttribute("fill",i)):i&&r&&(a="RibbonGradient"+_r.Utilities.guid(),t=(t.beginAngle+t.endAngle)/2,this.ribbons.metaData.defs.appendChild(this.createGradientSVG(i,r,a,t)),e.setAttributeNS(null,"fill","url(#"+a+")"))},ds.prototype.applyDomAttributes=function(y,e){var D=this;e.forEach(function(e,t){var t=y[t],i=D.ribbons.getStrokeColors(),r=D.ribbons.getBeginEndParameters("stroke-width",1),a=D.ribbons.getBeginEndParameters("surcharge",0),n=parseFloat(D.ribbons.getAttribute("offset"))||0,o=Math.max(0,parseFloat(D.ribbons.getAttribute("begin-radius"))),s=Math.max(0,parseFloat(D.ribbons.getAttribute("end-radius"))),l=(e.beginAngle-a.begin)*_r.Geometry.degree,a=(e.endAngle+a.end)*_r.Geometry.degree,n=e.radius+n,u={x:e.centerX,y:e.centerY,angle:null},h={x:e.centerX+(n-r.begin/2)*Math.cos(l),y:e.centerY+(n-r.begin/2)*Math.sin(l),angle:l},d={x:e.centerX+(n+r.begin/2)*Math.cos(l),y:e.centerY+(n+r.begin/2)*Math.sin(l),angle:l},c={x:e.centerX+(n+r.end/2)*Math.cos(a),y:e.centerY+(n+r.end/2)*Math.sin(a),angle:a},p={x:e.centerX+(n-r.end/2)*Math.cos(a),y:e.centerY+(n-r.end/2)*Math.sin(a),angle:a},o=Math.min(o,r.begin/2),s=Math.min(s,r.end/2),m={x:_r.Utilities.preprocessCoordinateForSVG(h.x),y:_r.Utilities.preprocessCoordinateForSVG(h.y),angle:null},g={x:_r.Utilities.preprocessCoordinateForSVG(d.x),y:_r.Utilities.preprocessCoordinateForSVG(d.y),angle:null},m=_r.Geometry.Calculations.getCenterPoint(m,g),g=_r.Geometry.Svg.moveTo(m,!0),T=_r.Geometry.Calculations.getSubDivisionPoints(d,c,l,a,n+r.begin/2,n+r.end/2,u),f=(f=_r.Geometry.Calculations.getRoundedArcCorner(m,d,T,o,!1,!0,u))||_r.Geometry.Calculations.getRoundedArcCorner(m,d,T,o=0,!1,!0,u);g+=0<o?_r.Geometry.Svg.drawLineTo(f.tangentPoint,!0)+_r.Geometry.Svg.drawArcToTarget(o,f.ellipseIntersectionPoint,!0):_r.Geometry.Svg.drawLineTo(d);m=(m=_r.Geometry.Calculations.getRoundedArcCorner(p,c,f.modifiedArc,s,!0,!1,u))||_r.Geometry.Calculations.getRoundedArcCorner(p,c,f.modifiedArc,s=0,!0,!1,u),g+=" "+_r.Geometry.Svg.drawArc(m.modifiedArc,u,!0),0<s&&(g+=_r.Geometry.Svg.drawArcToTarget(s,m.tangentPoint,!0)),T=_r.Geometry.Calculations.getSubDivisionPoints(p,h,a,l,n-r.end/2,n-r.begin/2,u),f=_r.Geometry.Calculations.getRoundedArcCorner(c,p,T,s,!1,!1,u),g+=0<s?_r.Geometry.Svg.drawLineTo(f.tangentPoint,!0)+_r.Geometry.Svg.drawArcToTarget(s,f.ellipseIntersectionPoint,!0):_r.Geometry.Svg.drawLineTo(p,!0),m=_r.Geometry.Calculations.getRoundedArcCorner(d,h,f.modifiedArc,o,!0,!0,u);g+=" "+_r.Geometry.Svg.drawArc(m.modifiedArc,u,!0),0<o&&(g+=_r.Geometry.Svg.drawArcToTarget(o,m.tangentPoint,!0)),t.setAttributeNS(null,"d",g+=" Z"),D.setColor(t,e,i.begin,i.end)},this)},ds.prototype.createGradientSVG=function(e,t,i,r){var a=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),i=(a.setAttributeNS(null,"id",i),a.setAttributeNS(null,"gradientUnits","objectBoundingBox"),a.setAttributeNS(null,"gradientTransform","rotate("+r+" 0.5 0.5)"),a.setAttributeNS(null,"x1","0"),a.setAttributeNS(null,"x2","0"),a.setAttributeNS(null,"y1","1"),a.setAttributeNS(null,"y2","0"),document.createElementNS("http://www.w3.org/2000/svg","stop")),r=(i.setAttributeNS(null,"offset","0.05"),"transparent"==e?(i.setAttributeNS(null,"stop-color","#FFFFFF"),i.setAttributeNS(null,"stop-opacity","0.0")):i.setAttributeNS(null,"stop-color",e),a.appendChild(i),document.createElementNS("http://www.w3.org/2000/svg","stop"));return r.setAttributeNS(null,"offset","0.95"),"transparent"==t?(r.setAttributeNS(null,"stop-color","#FFFFFF"),r.setAttributeNS(null,"stop-opacity","0.0")):r.setAttributeNS(null,"stop-color",t),a.appendChild(r),a},ds.prototype.getMetaData=function(){if(this.ribbons.metaData)return this.ribbons.metaData;throw"No metaData available, the draw(...) method needs to be called first."},x.RibbonsArc=ds,t=(t=e=e||{}).Lib||(t.Lib={}),Pr=t.NVEs||(t.NVEs={}),Ar=Pr.Features||(Pr.Features={}),t=(t=Ar.Shape||(Ar.Shape={})).ArcDial||(t.ArcDial={}),wr=t.LabelsArcBase,i(cs,wr),cs.prototype.draw=function(){var e=this.labels.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChildren(e),this.elementProvider.finish()},cs.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createLabels(t);break}this.drawChildren(t[i].children)}},cs.prototype.createLabels=function(e){this.labels.applyFilters(e);for(var t=e.filter(function(e){return e.isVisible},this),i=new Array,r=0;r<t.length;r++)i.push(this.createVirtualPole(t[r]));e=this.elementProvider.getFreeNodes(i.length);this.applyDomAttributes(e,i)},cs.prototype.applyDomAttributes=function(r,e){var a=this.getFont(),n=this;e.forEach(function(e,t){var i=r[t];a.addFontAttributesToDomNode(n.labels.webRTPUItem,n.labels.metaData,i),n.handleAlignment(i,e),n.addPositionToDom(i,e),n.addTextNodeToDom(i,e,t),i.setAttribute("fill",n.labels.getAttribute("fill"))},this)},cs.prototype.createVirtualPole=function(e){var t=parseFloat(this.labels.getAttribute("position")),t=Math.min(Math.max(t,-1),1),i=e.beginAngle+(t=(t+1)/2)*(e.endAngle-e.beginAngle),t=e.beginValue+t*(e.endValue-e.beginValue);return new Pr.Data.PoleArc(e.centerX,e.centerY,e.radius,i,t)},cs.prototype.addPositionToDom=function(e,t){var i=parseFloat(this.labels.getAttribute("offset"))||0,i=(this.radius=t.radius,this.angle=t.angle,t.radius+i+this.alignmentOffset),i=Pr.Geometry.Calculations.getPointOnArc(t.angle*Pr.Geometry.degree,i,t.centerX,t.centerY);e.setAttribute("x",String(Pr.Utilities.preprocessCoordinateForSVG(i.x))),e.setAttribute("y",String(Pr.Utilities.preprocessCoordinateForSVG(i.y)))},cs.prototype.addTextNodeToDom=function(e,t,i){var r=this.labels.Parent,r=(i=r instanceof Ar.Structure.Thresholds?(r=parseFloat(r.getAttribute("config")[i].ThresholdMode),Pr.Utilities.getThresholdMode(r)):String(t.value),Pr.convertFormatPattern(i,this.labels.getAttribute("output-format")));e.textContent=r},t.SectionLabelsArc=cs,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(x=(Vr=x.NVEs||(x.NVEs={})).Features||(Vr.Features={})).Shape||(x.Shape={})).ArcDial||(x.ArcDial={}),xr=x.MarkersArcBase,i(ps,xr),ps.prototype.draw=function(){var e=this.markers.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChildren(e),this.elementProvider.finish()},ps.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createSectionMarkers(t);break}this.drawChildren(t[i].children)}},ps.prototype.createSectionMarkers=function(e){this.markers.applyFilters(e);for(var t=e.filter(function(e){return e.isVisible},this),i=new Array,r=0;r<t.length;r++)i.push(this.createVirtualPole(t[r]));e=this.elementProvider.getFreeNodes(i.length);this.applyDomAttributes(e,i)},ps.prototype.createVirtualPole=function(e){var t=parseFloat(this.markers.getAttribute("position")),t=Math.min(Math.max(t,-1),1),i=e.beginAngle+(t=(t+1)/2)*(e.endAngle-e.beginAngle),t=e.beginValue+t*(e.endValue-e.beginValue);return new Vr.Data.PoleArc(e.centerX,e.centerY,e.radius,i,t)},x.SectionMarkersArc=ps,t=(t=e=e||{}).Lib||(t.Lib={}),t=(t=(t=(Er=t.NVEs||(t.NVEs={})).Features||(Er.Features={})).Shape||(t.Shape={})).ArcDial||(t.ArcDial={}),ms.prototype.draw=function(){var e=this.ticks.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChilds(e),this.elementProvider.finish()},ms.prototype.drawChilds=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createTicks(e.getPoles());break}this.drawChilds(t[i].children)}},ms.prototype.createTicks=function(e){this.ticks.applyFilters(e);var e=e.filter(function(e){return e.isVisible},this),t=this.elementProvider.getFreeNodes(e.length);this.applyDomAttributes(t,e)},ms.prototype.applyDomAttributes=function(s,e){var l=this;e.forEach(function(e,t){var t=s[t],i=0,r=(l.ticks.getAttribute("offset")&&(i=parseFloat(l.ticks.getAttribute("offset"))),Math.cos(Math.PI*e.angle/180)),a=Math.sin(Math.PI*e.angle/180),n=e.centerX+(e.radius+i)*r,o=e.centerY+(e.radius+i)*a,r=e.centerX+(e.radius+parseFloat(l.ticks.getAttribute("length"))+i)*r,i=e.centerY+(e.radius+parseFloat(l.ticks.getAttribute("length"))+i)*a;t.setAttributeNS(null,"x1",String(Er.Utilities.preprocessCoordinateForSVG(n))),t.setAttributeNS(null,"x2",String(Er.Utilities.preprocessCoordinateForSVG(r))),t.setAttributeNS(null,"y1",String(Er.Utilities.preprocessCoordinateForSVG(o))),t.setAttributeNS(null,"y2",String(Er.Utilities.preprocessCoordinateForSVG(i))),t.setAttributeNS(null,"stroke-width",l.ticks.getAttribute("stroke-width")),null!==e.color?(t.setAttributeNS(null,"stroke",e.color.getRGB()),t.setAttributeNS(null,"stroke-opacity",e.color.getAlpha())):t.setAttributeNS(null,"stroke",l.ticks.getAttribute("stroke"))},this)},t.TicksArc=ms,x=(x=e=e||{}).Lib||(x.Lib={}),Ir=x.NVEs||(x.NVEs={}),Rr=Ir.Features||(Ir.Features={}),x=(x=Rr.Shape||(Rr.Shape={})).StraightDial||(x.StraightDial={}),gs.prototype.getFont=function(){for(var e,t=0;t<this.labels.Features.length;t++){var i=this.labels.Features[t];i instanceof Rr.Font&&(e=i)}return e||(e=new Rr.Font,this.labels.Features.push(e)),e},gs.prototype.handleAlignments=function(e,t,i){return this.determineAlignment(),this.addAlignmentsToDom(e,t,i),e},gs.prototype.determineAlignment=function(){var e=this.labels.getAttribute("alignment");null!=e?(e=e.split(" "),this.horizontalAlignment=this.checkAlignmentBoundary(Number(e[0])),this.verticalAlignment=this.checkAlignmentBoundary(Number(e[1]))):(this.horizontalAlignment=this.checkAlignmentBoundary(Number(this.labels.getAttribute("alignment-horizontal"))),this.verticalAlignment=this.checkAlignmentBoundary(Number(this.labels.getAttribute("alignment-vertical"))))},gs.prototype.addAlignmentsToDom=function(e,t,i){var r=t*this.horizontalAlignment/2,a=i*(this.verticalAlignment+1)/2;if(e.setAttributeNS(null,"text-anchor","middle"),a=this.calcBaselineShift(i)-a,r=-r,"g"==e.nodeName)for(var n=0;n<e.children.length;n++)e.children[n].setAttributeNS(null,"dx",String(r)),e.children[n].setAttributeNS(null,"dy",String(a));else e.setAttributeNS(null,"dx",String(r)),e.setAttributeNS(null,"dy",String(a))},gs.prototype.calcBaselineShift=function(e){return Ir.getTextPosY(e,Number(this.getFont().getAttribute("size")))},gs.prototype.checkAlignmentBoundary=function(e){return e<-1?e=-1:1<e&&(e=1),e},x.LabelsStraightBase=gs,t=(t=e=e||{}).Lib||(t.Lib={}),t=(t=(t=(Br=t.NVEs||(t.NVEs={})).Features||(Br.Features={})).Shape||(t.Shape={})).StraightDial||(t.StraightDial={}),Lr=t.LabelsStraightBase,i(Ts,Lr),Ts.prototype.draw=function(){var e=this.labels.Parent.getStructure();this.numberOfLines=this.poleValueToText(e.getPoles()[0].value).split("").length,1<this.numberOfLines?this.elementProvider.setTagName("g"):this.elementProvider.setTagName("text"),this.elementProvider.reset(),this.secondProvider.reset(),null!=e&&this.drawChilds(e),this.elementProvider.finish(),this.secondProvider.finish()},Ts.prototype.drawChilds=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createLabels(e.getPoles());break}this.drawChilds(t[i].children)}},Ts.prototype.createLabels=function(e){this.labels.applyFilters(e);var e=e.filter(function(e){return e.isVisible},this),t=(this.getFont().reset(),this.elementProvider.getFreeNodes(e.length));this.applyDomAttributes(t,e)},Ts.prototype.applyDomAttributes=function(h,e){var t,d=this,c=this.getFont(),i=d.getFontWebRHAttributes(c);e&&0<e.length&&(this.labels.metaData.isVertical?(Math.abs(e[0].y-e[e.length-1].y),t=d.poleValueToText(e[0].value),Br.Utilities.resetSVGObject(h[0]),Br.getTextHeight(t,i),t=d.poleValueToText(e[e.length-1].value),Br.Utilities.resetSVGObject(h[e.length-1]),Br.getTextHeight(t,i)):(Math.abs(e[0].x-e[e.length-1].x),t=d.poleValueToText(e[0].value),Br.Utilities.resetSVGObject(h[0]),Br.getTextWidth(d.getTextForWidthMeasure(t),i),t=d.poleValueToText(e[e.length-1].value),Br.Utilities.resetSVGObject(h[e.length-1]),Br.getTextWidth(d.getTextForWidthMeasure(t),i))),e.forEach(function(i,e){var r,a,n,o,t,s,l=0,u=h[e],e=(Br.Utilities.resetSVGObject(u),d.poleValueToText(i.value));1<d.numberOfLines?(null!=(t=d.labels.getAttribute("alignment"))?(t=t.split(" "),r=d.checkAlignmentBoundary(Number(t[1]))):this.verticalAlignment=d.checkAlignmentBoundary(Number(d.labels.getAttribute("alignment-vertical"))),a=0,n=e.split(""),(t=d.secondProvider.getFreeNodes(this.numberOfLines)).forEach(function(e,t){switch(o=d.addFontAttribute(c,n[t],e),s=Br.getTextHeight(n[t],o),r){case 0:a=s*(d.numberOfLines-1)/2;break;case 1:a=s*(d.numberOfLines-1)}d.addPositionToDom(e,i,s*t-a),l=l<Br.getTextWidth(n[t],o)?Br.getTextWidth(n[t],o):l,u.appendChild(e)}),t.forEach(function(e){return d.handleInnerAlignement(e,o,l)}),d.addPositionToDom(u,i,-1*a),Br.Utilities.rotateSVGObject(u,d.labels.getAttribute("angle"),String(d.posX),String(d.posY+a))):(d.addPositionToDom(u,i),Br.Utilities.rotateSVGObject(u,d.labels.getAttribute("angle"),String(d.posX),String(d.posY)),t=d.addFontAttribute(c,e,u),s=Br.getTextHeight(e,t),l=Br.getTextWidth(e,t)),this.handleAlignments(u,l,s)},this)},Ts.prototype.poleValueToText=function(e){var t=Br.format2Type(this.labels.getAttribute("output-format")),i=Br.getHmiFieldDataTypeEnum(),t=t===i.DateTime||t===i.Date||t===i.Time||t===i.TimeSpan?Br.convertFormatPattern(e,this.labels.getAttribute("output-format"),this.labels.metaData.timezone):Br.convertFormatPattern(String(e),this.labels.getAttribute("output-format"));return t},Ts.prototype.getTextForWidthMeasure=function(e){var t,i,r,a;if(1<this.numberOfLines)for(a=(t=e.split("")).length,i=t[0],r=1;r<a;r++)i.length<t[r].length&&(i=t[r]);else i=e;return i},Ts.prototype.getFontWebRHAttributes=function(e){return e.Attributes=Br.Utilities.mergeWithDefaults(e.Attributes,e.defaults),e.mergeWithScope(),e.checkAndConvertEnums(),e.getWebRHAttributes()},Ts.prototype.addFontAttribute=function(e,t,i){return e.addFontAttributesToDomNode(this.labels.webRTPUItem,this.labels.metaData,i),i.setAttributeNS(null,"fill",this.labels.getAttribute("fill")),i.textContent=t,this.getFont().getWebRHAttributes()},Ts.prototype.handleInnerAlignement=function(e,t,i){switch(this.labels.getAttribute("text-content-alignment")){case"right":var r=Br.getTextWidth(e.textContent,t);e.setAttributeNS(null,"dx",String((i-r)/2));break;case"left":r=Br.getTextWidth(e.textContent,t);e.setAttributeNS(null,"dx",String((r-i)/2))}},Ts.prototype.addPositionToDom=function(e,t,i){void 0===i&&(i=0);var r=parseFloat(this.labels.getAttribute("offset"));this.labels.metaData.isVertical?(this.posX=Number(t.x)+Number(r),this.posY=Number(t.y)+i):(this.posX=t.x,this.posY=Number(t.y)+Number(r)+i),e.setAttributeNS(null,"x",String(Br.Utilities.preprocessCoordinateForSVG(this.posX))),e.setAttributeNS(null,"y",String(Br.Utilities.preprocessCoordinateForSVG(this.posY)))},t.LabelsStraight=Ts,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(x=(Mr=x.NVEs||(x.NVEs={})).Features||(Mr.Features={})).Shape||(x.Shape={})).StraightDial||(x.StraightDial={}),fs.prototype.createNodeContentCallback=function(e,t){var i=this.markers.Templates[""],i=this.markers.webRTPUItem.createSubtemplate(this.markers,i,{Width:1,Height:1},null,1,1);"0"==i.RootNode.getAttribute("width")&&i.RootNode.setAttribute("width","1"),"0"==i.RootNode.getAttribute("height")&&i.RootNode.setAttribute("height","1"),e.setAttribute("overflow","visible"),e.appendChild(i.RootNode)},fs.prototype.recycleNodeContentCallback=function(e,t){for(var i=e;i&&"svg"!=i.tagName;)i=i.children[0];i&&("0"==i.getAttribute("width")&&i.setAttribute("width","1"),"0"==i.getAttribute("height"))&&i.setAttribute("height","1")},fs.prototype.applyDomAttributes=function(a,e){var n=this,o=parseFloat(this.markers.getAttribute("content-width")),s=parseFloat(this.markers.getAttribute("content-height"));e.forEach(function(e,t){var t=a[t],i=n.markers.getAlignments(),r=e.x-i.horizontal*o,e=e.y-i.vertical*s,i=parseFloat(n.markers.getAttribute("offset"));n.markers.metaData.isVertical?r+=i:e+=i,t.setAttribute("transform","translate("+String(Mr.Utilities.preprocessCoordinateForSVG(r))+","+String(Mr.Utilities.preprocessCoordinateForSVG(e))+")"),t.setAttribute("width",String(Mr.Utilities.preprocessCoordinateForSVG(o))),t.setAttribute("height",String(Mr.Utilities.preprocessCoordinateForSVG(s))),n.handleRotation(t,r,e)},this)},fs.prototype.handleRotation=function(e,t,i){t=String(parseFloat(this.markers.getAttribute("origin-x"))+t),i=String(parseFloat(this.markers.getAttribute("origin-y"))+i);Mr.Utilities.rotateSVGObject(e,this.markers.getAttribute("angle"),t,i)},x.MarkersStraightBase=fs,t=(t=(t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Features||(t.Features={})).Shape||(t.Shape={})).StraightDial||(t.StraightDial={}),Fr=t.MarkersStraightBase,i(ys,Fr),ys.prototype.draw=function(){var e=this.markers.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChildren(e),this.elementProvider.finish()},ys.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createPoleMarkers(e.getPoles());break}this.drawChildren(t[i].children)}},ys.prototype.createPoleMarkers=function(e){this.markers.applyFilters(e);var e=e.filter(function(e){return e.isVisible},this),t=this.elementProvider.getFreeNodes(e.length);this.applyDomAttributes(t,e)},t.PoleMarkersStraight=ys,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(x=(Hr=x.NVEs||(x.NVEs={})).Features||(Hr.Features={})).Shape||(x.Shape={})).StraightDial||(x.StraightDial={}),Ds.prototype.draw=function(){var e=this.ribbons.Parent.getStructure();this.elementProvider.reset(),this.drawChildren(e),this.elementProvider.finish()},Ds.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createRibbons(t);break}this.drawChildren(t[i].children)}},Ds.prototype.createRibbons=function(e){this.ribbons.applyFilters(e);var e=e.filter(function(e){return e.isVisible},this),t=this.elementProvider.getFreeNodes(e.length);this.applyDomAttributes(t,e)},Ds.prototype.applyDomAttributes=function(d,e){var c=this;e.forEach(function(e,t){var t=d[t],i=c.ribbons.getBeginEndParameters("stroke-width",1),r=c.ribbons.getBeginEndParameters("surcharge",0),a=parseFloat(c.ribbons.getAttribute("offset"))||0,n=Math.max(0,parseFloat(c.ribbons.getAttribute("begin-radius"))),o=Math.max(0,parseFloat(c.ribbons.getAttribute("end-radius"))),s=new Hr.Geometry.Point,l=new Hr.Geometry.Point,u=new Hr.Geometry.Point,h=new Hr.Geometry.Point,r=c.getMetaData().isVertical?(s.x=e.beginX+i.begin/2+a,s.y=e.beginY-r.begin,l.x=e.endX+i.end/2+a,l.y=e.endY+r.end,u.x=e.endX-i.end/2+a,u.y=e.endY+r.end,h.x=e.beginX-i.begin/2+a,h.y=e.beginY-r.begin,e.beginY<e.endY):(s.x=e.beginX-r.begin,s.y=e.beginY+i.begin/2+a,l.x=e.endX+r.end,l.y=e.endY+i.end/2+a,u.x=e.endX+r.end,u.y=e.endY-i.end/2+a,h.x=e.beginX-r.begin,h.y=e.beginY-i.begin/2+a,e.beginX>e.endX);a=0<n||0<o?(i=Hr.Geometry.Calculations.getCenterPoint(s,l),Hr.Geometry.Svg.moveTo(i)+Hr.Geometry.Svg.drawRoundedCorner(s,l,u,o,r)+Hr.Geometry.Svg.drawRoundedCorner(l,u,h,o,r)+Hr.Geometry.Svg.drawRoundedCorner(u,h,s,n,r)+Hr.Geometry.Svg.drawRoundedCorner(h,s,l,n,r)+Hr.Geometry.Svg.returnToStart()):Hr.Geometry.Svg.moveTo(s)+Hr.Geometry.Svg.drawLineTo(l)+Hr.Geometry.Svg.drawLineTo(u)+Hr.Geometry.Svg.drawLineTo(h)+Hr.Geometry.Svg.returnToStart(),t.setAttributeNS(null,"d",a),c.setColor(t,e)},this)},Ds.prototype.setColor=function(e,t){var i,r,a=this.ribbons.getStrokeColors();a.begin==a.end?(i=a.begin,"transparent"==a.begin&&(r="0",i="#FFFFFF")):a.begin&&a.end&&(this.gradientId="RibbonGradient"+Hr.Utilities.guid(),this.ribbons.metaData.defs.appendChild(this.createGradientSVG(a.begin,a.end,this.gradientId))),t.color?(e.setAttribute("fill",t.color.getRGB()),e.setAttribute("fill-opacity",t.color.getAlpha())):this.gradientId?e.setAttribute("fill","url(#"+this.gradientId+")"):i?(e.setAttribute("fill",i),r&&e.setAttribute("fill-opacity",r)):Hr.trace(30,"Couldn't determine color for RibbonStraight")},Ds.prototype.createGradientSVG=function(e,t,i){var r=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),i=(r.setAttributeNS(null,"id",i),r.setAttributeNS(null,"gradientUnits","objectBoundingBox"),"1"),a="0",i=(this.getMetaData().isVertical&&(i="0",a="1"),r.setAttributeNS(null,"x1","0"),r.setAttributeNS(null,"x2",i),r.setAttributeNS(null,"y1",a),r.setAttributeNS(null,"y2","0"),document.createElementNS("http://www.w3.org/2000/svg","stop")),a=(i.setAttributeNS(null,"offset","0.05"),"transparent"==e?(i.setAttributeNS(null,"stop-color","#FFFFFF"),i.setAttributeNS(null,"stop-opacity","0.0")):i.setAttributeNS(null,"stop-color",e),r.appendChild(i),document.createElementNS("http://www.w3.org/2000/svg","stop"));return a.setAttributeNS(null,"offset","0.95"),"transparent"==t?(a.setAttributeNS(null,"stop-color","#FFFFFF"),a.setAttributeNS(null,"stop-opacity","0.0")):a.setAttributeNS(null,"stop-color",t),r.appendChild(a),r},Ds.prototype.getMetaData=function(){if(this.ribbons.metaData)return this.ribbons.metaData;throw"No metaData available, the draw(...) method needs to be called first."},x.RibbonsStraight=Ds,t=(t=e=e||{}).Lib||(t.Lib={}),Or=t.NVEs||(t.NVEs={}),Nr=Or.Features||(Or.Features={}),t=(t=Nr.Shape||(Nr.Shape={})).StraightDial||(t.StraightDial={}),kr=t.LabelsStraightBase,i(Ss,kr),Ss.prototype.draw=function(){var e=this.labels.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChilds(e),this.elementProvider.finish()},Ss.prototype.drawChilds=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createSectionLabels(t);break}this.drawChilds(t[i].children)}},Ss.prototype.createSectionLabels=function(e){this.labels.applyFilters(e);var e=e.filter(function(e){return e.isVisible},this),t=(this.getFont().reset(),this.elementProvider.getFreeNodes(e.length));this.applyDomAttributes(t,e)},Ss.prototype.applyDomAttributes=function(a,e){var n=this.getFont(),o=(this.labels.Parent,this);e.forEach(function(e,t){var t=a[t],e=(o.addSectionPositionToDom(t,e),n.addFontAttributesToDomNode(o.labels.webRTPUItem,o.labels.metaData,t),t.setAttributeNS(null,"fill",o.labels.getAttribute("fill")),Or.Utilities.rotateSVGObject(t,o.labels.getAttribute("angle"),String(o.posX),String(o.posY)),o.getText(e)),e=Or.convertFormatPattern(String(e),o.labels.getAttribute("output-format")),i=o.getFont().getWebRHAttributes(),r=Or.getTextHeight(e,i),i=Or.getTextWidth(e,i);o.handleAlignments(t,i,r),t.textContent=e},this)},Ss.prototype.getText=function(e){var t=this.labels.Parent;return t instanceof Nr.Structure.Thresholds?(t=t.getAttribute("config"),this.getThresholdValue(t,e)):e.beginValue.toString()},Ss.prototype.getThresholdValue=function(e,t){for(var i=0;i<e.length;i++){var r=parseFloat(e[i].BeginValue),a=parseFloat(e[i].EndValue);if(t.beginValue==r&&t.endValue==a)return r=parseFloat(e[i].ThresholdMode),Or.Utilities.getThresholdMode(r)}},Ss.prototype.addSectionPositionToDom=function(e,t){this.labels.metaData.isVertical?(this.posX=t.beginX+parseFloat(this.labels.getAttribute("offset")),this.posY=this.calcPosition(t.beginY,t.endY)):(this.posX=this.calcPosition(t.beginX,t.endX),this.posY=t.beginY+parseFloat(this.labels.getAttribute("offset"))),e.setAttributeNS(null,"x",String(Or.Utilities.preprocessCoordinateForSVG(this.posX))),e.setAttributeNS(null,"y",String(Or.Utilities.preprocessCoordinateForSVG(this.posY)))},Ss.prototype.calcPosition=function(e,t){var i=parseFloat(this.labels.getAttribute("position"));return(t-e)*((Math.min(Math.max(i,-1),1)+1)/2)+e},t.SectionLabelsStraight=Ss,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(x=(Wr=x.NVEs||(x.NVEs={})).Features||(Wr.Features={})).Shape||(x.Shape={})).StraightDial||(x.StraightDial={}),Gr=x.MarkersStraightBase,i(bs,Gr),bs.prototype.draw=function(){var e=this.markers.Parent.getStructure();this.elementProvider.reset(),this.drawChildren(e),this.elementProvider.finish()},bs.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createSectionMarkers(t);break}this.drawChildren(t[i].children)}},bs.prototype.createSectionMarkers=function(e){this.markers.applyFilters(e);for(var t=e.filter(function(e){return e.isVisible},this),i=new Array,r=0;r<t.length;r++)i.push(this.createVirtualPole(t[r]));e=this.elementProvider.getFreeNodes(i.length);this.applyDomAttributes(e,i)},bs.prototype.createVirtualPole=function(e){var t,i=Number(this.markers.getAttribute("position")),i=(i=(Math.min(1,Math.max(-1,i))+1)/2,this.markers.metaData.isVertical?(t=e.beginX,Math.min(e.beginY,e.endY)+i*Math.abs(e.endY-e.beginY)):(t=Math.min(e.beginX,e.endX)+i*Math.abs(e.endX-e.beginX),e.beginY));return new Wr.Data.PoleStraight(t,i,null)},x.SectionMarkersStraight=bs,t=(t=e=e||{}).Lib||(t.Lib={}),t=(t=(t=(Ur=t.NVEs||(t.NVEs={})).Features||(Ur.Features={})).Shape||(t.Shape={})).StraightDial||(t.StraightDial={}),Cs.prototype.draw=function(){var e=this.ticks.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChilds(e),this.elementProvider.finish()},Cs.prototype.drawChilds=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createTicks(e.getPoles());break}this.drawChilds(t[i].children)}},Cs.prototype.createTicks=function(e){this.ticks.applyFilters(e);var e=e.filter(function(e){return e.isVisible},this),t=this.elementProvider.getFreeNodes(e.length);this.applyDomAttributes(t,e)},Cs.prototype.applyDomAttributes=function(s,e){var l=this;e.forEach(function(e,t){var t=s[t],i=0,r=e.x,a=e.x,n=e.y,o=e.y;l.ticks.getAttribute("offset")&&(i=parseFloat(l.ticks.getAttribute("offset"))),this.getMetaData().isVertical?a=(r+=i)+parseFloat(l.ticks.getAttribute("length")):o=(n+=i)+parseFloat(l.ticks.getAttribute("length")),t.setAttributeNS(null,"x1",String(Ur.Utilities.preprocessCoordinateForSVG(r))),t.setAttributeNS(null,"x2",String(Ur.Utilities.preprocessCoordinateForSVG(a))),t.setAttributeNS(null,"y1",String(Ur.Utilities.preprocessCoordinateForSVG(n))),t.setAttributeNS(null,"y2",String(Ur.Utilities.preprocessCoordinateForSVG(o))),t.setAttributeNS(null,"stroke-width",l.ticks.getAttribute("stroke-width")),null!==e.color?(t.setAttributeNS(null,"stroke",e.color.getRGB()),t.setAttributeNS(null,"stroke-opacity",e.color.getAlpha())):t.setAttributeNS(null,"stroke",l.ticks.getAttribute("stroke"))},this)},Cs.prototype.getMetaData=function(){if(this.ticks.metaData)return this.ticks.metaData;throw"No metaData available, the draw(...) method needs to be called first."},t.TicksStraight=Cs,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(x=(zr=x.NVEs||(x.NVEs={})).Features||(zr.Features={})).Structure||(x.Structure={})).ArcDial||(x.ArcDial={}),vs.prototype.getStructure=function(){for(var e=new Array,t=this.autoMeasure.Parent,i=t.getStructure(),r=this.autoMeasure.getAllChildrenSections(i)[0],a=t.getSpacing(this.autoMeasure.metaData.scaleBegin,this.autoMeasure.metaData.scaleEnd),n=this.autoMeasure.origin+a*Math.floor((r.beginValue-this.autoMeasure.origin)/a),o=r.beginValue,s=r.endValue,l=zr.Calculations.createCalc(this.autoMeasure.metaData.calcMethod);!this.autoMeasure.metaData.isMirrored()&&o<r.endValue||this.autoMeasure.metaData.isMirrored()&&o>r.endValue;){var u,h,s=!this.autoMeasure.metaData.isMirrored()&&o<n+a||this.autoMeasure.metaData.isMirrored()&&n+a<o?n+a:o+a;(!this.autoMeasure.metaData.isMirrored()&&s>r.endValue||this.autoMeasure.metaData.isMirrored()&&s<r.endValue)&&(s=r.endValue),h=l.calcByValue(o,r.beginAngle,r.endAngle,r.beginValue,r.endValue),u=l.calcByValue(s,r.beginAngle,r.endAngle,r.beginValue,r.endValue),h=new zr.Data.SectionArc(r.centerX,r.centerY,h,u,r.radius,o,s),o=s,e.push(h)}t=this.autoMeasure.getPoles(e);return r.children=new zr.Data.HierarchyLevel(e,t,this.autoMeasure),i},x.AutoMeasureArc=vs,t=(t=e=e||{}).Lib||(t.Lib={}),t=(t=(t=(jr=t.NVEs||(t.NVEs={})).Features||(jr.Features={})).Structure||(t.Structure={})).ArcDial||(t.ArcDial={}),_s.prototype.getStructure=function(){for(var e=this.division.Parent.getStructure(),t=this.division.getAllChildrenSections(e),i=parseFloat(this.division.getAttribute("count")),r=jr.Calculations.createCalc(this.division.metaData.calcMethod),a=0;a<t.length;a++){var n=new Array,o=t[a].beginValue,s=t[a].endValue,l=t[a].beginAngle,u=t[a].endAngle,h=l,d=o;Math.abs(u-l)<i&&(i=Math.abs(u-l));for(var c=0;c<i;c++){var p=r.calcValue((c+1)/i,o,s),m=r.calcByValue(p,l,u,o,s);n.push(new jr.Data.SectionArc(t[a].centerX,t[a].centerY,h,m,t[a].radius,d,p)),h=m,d=p}var g=new jr.Data.HierarchyLevel(n,this.division.getPoles(n),this.division);t[a].children=g}return e},t.DivisionArc=_s,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(x=(Yr=x.NVEs||(x.NVEs={})).Features||(Yr.Features={})).Structure||(x.Structure={})).ArcDial||(x.ArcDial={}),Ps.prototype.getPoles=function(e){var t=new Array,e=this.createPole(e[0]);return e&&t.push(e),t},Ps.prototype.createPole=function(e){var t=parseFloat(this.marker.getAttribute("value")),t=this.marker.hasSpecialValue("value")?t:this.marker.metaData.isMirrored()?Math.max(Math.min(t,e.beginValue),e.endValue):Math.min(Math.max(t,e.beginValue),e.endValue),i=Yr.Calculations.createCalc(this.marker.metaData.calcMethod).calcByValue(t,e.beginAngle,e.endAngle,e.beginValue,e.endValue);return new Yr.Data.PoleArc(e.centerX,e.centerY,e.radius,i,t)},Ps.prototype.getStructure=function(){var e,t=this.marker.Parent.getStructure();return null==(t=this.marker.getScaleSections(t))?null:(t=new Array(new Yr.Data.SectionArc(t[0].centerX,t[0].centerY,t[0].beginAngle,t[0].endAngle,t[0].radius,t[0].beginValue,t[0].endValue)),e=this.getPoles(t),new Yr.Data.HierarchyLevel(t,e,this.marker))},x.MarkerArc=Ps,t=(t=e=e||{}).Lib||(t.Lib={}),Xr=t.NVEs||(t.NVEs={}),qr=Xr.Features||(Xr.Features={}),t=(t=qr.Structure||(qr.Structure={})).ArcDial||(t.ArcDial={}),As.prototype.getStructure=function(){for(var e=this.measure.Parent.getStructure(),t=this.measure.getAllChildrenSections(e),i=0;i<t.length;i++){var r=Math.max(t[i].beginValue,t[i].endValue),a=Math.min(t[i].beginValue,t[i].endValue),a=(this.calculateStartPosition(a,r),this.createSections(this.firstStartPosition,this.firstEndPosition,r,t[i]));t[i].children=new Xr.Data.HierarchyLevel(a,this.measure.getPoles(a),this.measure)}return e},As.prototype.createSections=function(e,t,i,r){var a=new Array;do{var n=this.createSection(e,t,r)}while(a.push(n),t=(e=t)+this.tickSpacing,Math.abs(t)>Math.abs(i)&&(t=i),e<i);return a},As.prototype.createSection=function(e,t,i){var r=Xr.Calculations.createCalc(this.measure.metaData.calcMethod),a=r.calcByValue(e,i.beginAngle,i.endAngle,i.beginValue,i.endValue),r=r.calcByValue(t,i.beginAngle,i.endAngle,i.beginValue,i.endValue);return new Xr.Data.SectionArc(i.centerX,i.centerY,a,r,i.radius,e,t)},As.prototype.calculateStartPosition=function(e,t){if(this.tickSpacing=Math.abs(Number(this.measure.getAttribute("graduation"))),0==this.tickSpacing)this.firstStartPosition=e,this.firstEndPosition=t;else{t=this.getOrigin();for(this.firstStartPosition=e,this.firstEndPosition=t+this.tickSpacing*Math.floor((e-t)/this.tickSpacing);this.firstEndPosition<=e;)this.firstEndPosition+=this.tickSpacing}},As.prototype.getOrigin=function(){for(var e=this.measure.Parent,t=this.measure;!(e instanceof qr.Scale);)e=t.Parent;return Number(e.getAttribute("origin"))},t.MeasureArc=As,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(x=(Kr=x.NVEs||(x.NVEs={})).Features||(Kr.Features={})).Structure||(x.Structure={})).ArcDial||(x.ArcDial={}),ws.prototype.getStructure=function(){var e=this.range.getParentSection();if(null==e)return null;i=parseFloat(this.range.getAttribute("begin-value")),r=parseFloat(this.range.getAttribute("end-value")),this.range.hasSpecialValue("begin-value")||(i=this.range.restrictToScale(i));var t,i,r,a=!1,a=((r=this.range.hasSpecialValue("end-value")?r:this.range.restrictToScale(r))<i&&(t=i,i=r,r=t,a=!0),t=a?(n=this.range.getPositionFromAttribute("end-value"),this.range.getPositionFromAttribute("begin-value")):(n=this.range.getPositionFromAttribute("begin-value"),this.range.getPositionFromAttribute("end-value")),new Array(new Kr.Data.SectionArc(e.centerX,e.centerY,n,t,e.radius,i,r))),n=this.range.getPoles(a);return new Kr.Data.HierarchyLevel(a,n,this.range)},ws.prototype.getPosition=function(e){var t=Kr.Calculations.createCalc(this.range.metaData.calcMethod),i=this.range.Parent.getStructure(),i=this.range.getScaleSections(i);return t.calcByValue(e,i[0].beginAngle,i[0].endAngle,i[0].beginValue,i[0].endValue)},ws.prototype.getBeginSurchargePosition=function(){var e=this.range.getParentSection();return e.beginAngle<e.endAngle?e.beginAngle-this.range.metaData.beginSurcharge:e.beginAngle+this.range.metaData.beginSurcharge},ws.prototype.getEndSurchargePosition=function(){var e=this.range.getParentSection();return e.beginAngle<e.endAngle?e.endAngle+this.range.metaData.endSurcharge:e.endAngle-this.range.metaData.endSurcharge},x.RangeArc=ws,t=(t=e=e||{}).Lib||(t.Lib={}),t=(t=(t=(Zr=t.NVEs||(t.NVEs={})).Features||(Zr.Features={})).Structure||(t.Structure={})).ArcDial||(t.ArcDial={}),Vs.prototype.createBeginSection=function(e,t,i){var r=this.thresholds.getAttribute("config"),i=i.calcByValue(parseFloat(r[0].BeginValue),e.beginAngle,e.endAngle,e.beginValue,e.endValue),a=new Zr.Data.SectionArc(e.centerX,e.centerY,e.beginAngle,i,e.radius,e.beginValue,parseFloat(r[0].BeginValue));e.beginAngle!==i&&(r[0].BeginValue>e.beginValue||this.thresholds.metaData.isMirrored()&&r[0].BeginValue<e.beginValue)&&t.push(a)},Vs.prototype.createEndSection=function(e,t,i){var r=this.thresholds.getAttribute("config"),i=i.calcByValue(parseFloat(r[r.length-1].EndValue),e.beginAngle,e.endAngle,e.beginValue,e.endValue),a=new Zr.Data.SectionArc(e.centerX,e.centerY,i,e.endAngle,e.radius,parseFloat(r[r.length-1].EndValue),e.endValue);i!==e.endAngle&&(r[r.length-1].EndValue<e.endValue||this.thresholds.metaData.isMirrored()&&r[r.length-1].EndValue>e.endValue)&&t.push(a)},Vs.prototype.createThresholdsSections=function(e,t,i){for(var r=this.thresholds.getAttribute("config"),a=0;a<r.length;a++){var n,o,s=parseFloat(r[a].BeginValue),l=parseFloat(r[a].EndValue);parseFloat(r[a].BeginValue)<e.beginValue&&(s=e.beginValue,parseFloat(r[a].EndValue)<e.beginValue||s===l)||parseFloat(r[a].EndValue)>e.endValue&&(l=e.endValue,parseFloat(r[a].BeginValue)>e.endValue||s===l)||(o=i.calcByValue(s,e.beginAngle,e.endAngle,e.beginValue,e.endValue),n=i.calcByValue(l,e.beginAngle,e.endAngle,e.beginValue,e.endValue),o=new Zr.Data.SectionArc(e.centerX,e.centerY,o,n,e.radius,s,l),r[a].Color&&(o.color=new Zr.Data.Color(r[a].Color)),t.push(o))}},Vs.prototype.getSectionsForChild=function(e){var t=Zr.Calculations.createCalc(this.thresholds.metaData.calcMethod),i=new Array;return this.createBeginSection(e,i,t),this.createThresholdsSections(e,i,t),this.createEndSection(e,i,t),i},Vs.prototype.getStructure=function(){var e=this.thresholds.Parent.getStructure(),t=this.thresholds.getAllChildrenSections(e);if(1<=this.thresholds.getAttribute("config").length)for(var i=0;i<t.length;i++){var r=this.getSectionsForChild(t[i]),r=new Zr.Data.HierarchyLevel(r,this.thresholds.getPoles(r),this.thresholds);t[i].children=r}return e},t.ThresholdsArc=Vs,x=(x=e=e||{}).Lib||(x.Lib={}),Qr=x.NVEs||(x.NVEs={}),xs.prototype.render=function(e){this._currentDiagram=e,this._currentDiagram.setFbdSelectionHandlerCallBack(this.fbdSelectionHandler.bind(this));var t,i=0<this.metaData.diagrams.length?this.metaData.diagrams[this.metaData.diagrams.length-1].getEndYPos()+this.bufferHeight:this.metaData.startY;this._currentDiagram.setStartYPos(i),e.list&&(i+=this._currentDiagram.getTitleText()[this._currentDiagram.titleKey].height,t=e.getStartElement(),this.formatXPos(t,0),this.resetProcessedState(),this.formatYPos(t,0),this.moveToViewPort(this.metaData.startX,i)),e.setLayoutProps(this.width,this.height),this.setFlowLines(),e.render(this.parentSVG),e.registerForFbdSelection(),this._currentDiagram=null},xs.prototype.formatXPos=function(e,t){if(e)return e.isProcessed=!0,t=e instanceof Qr.Data.BranchElement?this.formatHorizontalOutputBranch(e,t):this.formatHorizontalOutput(e,t),t-=e instanceof Qr.Data.BranchElement?0:e.width,e.setStartXPos(t),e=this.formatHorizontalInput(e,t),this.maxLeftPos=Math.min(this.maxLeftPos,e),e},xs.prototype.formatYPos=function(e,t){var i,r;if(e)return e.isProcessed=!0,i=e instanceof Qr.Data.FunctionBlockElement||e instanceof Qr.Data.FunctionTransitionElement?this.formatVerticalOutput(e,t):this.formatVerticalOutputBranch(e,t),r=this.formatVerticalInput(e,t),this.resizeElement(e),r=Math.max(r,e.height+this.connPadding-t),this.maxTopPos=Math.min(this.maxTopPos,e.getStartYPos()+this.boxHeightPadding),{yPos:i,upPos:r}},xs.prototype.formatHorizontalOutputBranch=function(e,t){for(var i=t,r=0,a=this._currentDiagram.getChildren(e.id);r<a.length;r++){var n,o=a[r];o.isProcessed||(n=this.formatXPos(this._currentDiagram.getLastElement(o.id),t),this.moveElementX(o,e,n=i-n),this.maxLeftPos=n)}return i},xs.prototype.formatHorizontalOutput=function(e,t){var i,r=t,a=0,n=0;for(i in e.outputs){var o=this._currentDiagram.getNextLayoutElement(e.id,i);o?o.isProcessed||(r=this.formatXPos(o,t),a=Math.min(r,a)):n=Math.max(n,e.outputs[i].width+Qr.Data.FunctionConnectorElement.OPERAND_WIDTH)}return-a<n?r-=n-=a:(r=Math.min(a,r),r-=n),r},xs.prototype.formatHorizontalInput=function(i,r){var e,a=this,n=r,o=0,s=!1;return i instanceof Qr.Data.FunctionBlockElement||i instanceof Qr.Data.FunctionTransitionElement?Object.keys(i.inputs).reverse().forEach(function(e){var t=a._currentDiagram.getPrevLayoutElement(i.id,e);t&&!t.isProcessed?(t=a.formatXPos(t,r-a.connectorLength(i.inputs[e])),n=Math.min(n,t),s=!0):(o=Math.max(o,a.connectorLength(i.inputs[e])),s||(s=!0,n-=o))}):(e=this._currentDiagram.getParent(i.id),e=this.formatXPos(e,r-this.connectorLength()),n=Math.min(n,e)),n},xs.prototype.moveElementX=function(e,t,i){if(e.setStartXPos(e.getStartXPos()+i),e instanceof Qr.Data.FunctionBlockElement){for(var r in e.inputs){r=this._currentDiagram.getPrevLayoutElement(e.id,e.inputs[r].pin);r&&r.id!==t.id&&this.moveElementX(r,e,i)}for(var a in e.outputs){a=this._currentDiagram.getNextLayoutElement(e.id,e.outputs[a].pin);a&&a.id!==t.id&&this.moveElementX(a,e,i)}}else if(e instanceof Qr.Data.BranchElement)for(var n=0,o=this._currentDiagram.getChildren(e.id);n<o.length;n++){var s=o[n];s.id!==t.id&&this.moveElementX(s,e,i)}},xs.prototype.moveElementY=function(e,t,i){if(e.setStartYPos(e.getStartYPos()+i),e instanceof Qr.Data.FunctionBlockElement){for(var r in e.inputs){e.inputs[r].yPos=e.inputs[r].getStartYPos()+i;r=this._currentDiagram.getPrevLayoutElement(e.id,e.inputs[r].pin);r&&r.id!==t.id&&this.moveElementY(r,e,i)}for(var a in e.outputs){e.outputs[a].yPos=e.outputs[a].getStartYPos()+i;a=this._currentDiagram.getNextLayoutElement(e.id,e.outputs[a].pin);a&&a.id!==t.id&&this.moveElementY(a,e,i)}}else if(e instanceof Qr.Data.BranchElement){e.setEndYPos(e.y2+i);for(var n=0,o=this._currentDiagram.getChildren(e.id);n<o.length;n++){var s=o[n];s.id!==t.id&&this.moveElementY(s,e,i)}}},xs.prototype.formatVerticalOutput=function(i,e){var r,a=this,t=Object.keys(i.outputs).reverse(),n=e-this.connPadding/2,o=!1;return t.forEach(function(e){var t=a._currentDiagram.getNextLayoutElement(i.id,e);t?t.isProcessed&&(o||(r=n,o=!0),n=a.updateConnectorPos(i.outputs[e],n),n-=a.connPadding):(n=a.updateConnectorPos(i.outputs[e],n),n-=a.connPadding)}),r},xs.prototype.formatVerticalOutputBranch=function(e,t){var i=this._currentDiagram.getChildren(e.id),t=t-this.connPadding/2;e.setStartYPos(t);for(var r,a,n=1;n<i.length;n++)i[n].isProcessed||(r=i[n-1],r=this.getDownOfSubnet(r,e),a=this.formatYPos(this._currentDiagram.getLastElement(i[n].id),0).upPos,this.moveElementY(i[n],e,a+r));return t},xs.prototype.updateConnectorPos=function(e,t){t-=e.height;return e.yPos=t},xs.prototype.formatVerticalInput=function(r,e){var a,n,t,o=this,s=0;return r instanceof Qr.Data.FunctionBlockElement||r instanceof Qr.Data.FunctionTransitionElement?(t=Object.keys(r.inputs).reverse(),a=0,n=e-this.connPadding/2,t.forEach(function(e){var t,i=o._currentDiagram.getPrevLayoutElement(r.id,e);i?i.isProcessed?o.updateConnectorPos(r.inputs[e],n):(n+=0===a?o.connPadding/2:o.connPadding,t=(i=o.formatYPos(i,n)).yPos,i=i.upPos,s=i,n=o.updateConnectorPos(r.inputs[e],t)):n=o.updateConnectorPos(r.inputs[e],n),n=o.setNextTopPos(r,e,n,s),a++})):(t=this._currentDiagram.getParent(r.id),s=this.formatYPos(t,e).upPos),s},xs.prototype.setNextTopPos=function(e,t,i,r){return this.isPrevPinConnected(e,t)&&-(i-this.connPadding)<r?i=-r-this.connPadding:i-=this.connPadding,i},xs.prototype.isPrevPinConnected=function(e,t){var i=!1,t=e.getUpConnector(t);return i=t&&this._currentDiagram.getPrevLayoutElement(e.id,t.pin)instanceof Qr.Data.FunctionBlockElement?!0:i},xs.prototype.resizeElement=function(e){var t,i;e instanceof Qr.Data.FunctionBlockElement||e instanceof Qr.Data.FunctionTransitionElement?(i=this.getUpPinOfElement(e),t=this.getDownPinOfElement(e),e.resizeBlock(t-i+e.titleHeight+e.headerHeight+this.boxHeightPadding),e.setStartYPos(t-e.height+this.boxHeightPadding)):e instanceof Qr.Data.BranchElement&&(i=this._currentDiagram.getLastChild(e.id),e.setEndYPos(i.getStartYPos()+i.height))},xs.prototype.getUpPinOfElement=function(e){var t=0;return e.firstInPin&&(t=e.firstInPin.getStartYPos()),t=e.firstOutPin?Math.min(t,e.firstOutPin.getStartYPos()):t},xs.prototype.getDownPinOfElement=function(t){var e=Object.keys(t.inputs).reverse(),i=0;return e.every(function(e){return i=t.inputs[e].getStartYPos()+t.inputs[e].height,!1}),Object.keys(t.outputs).reverse().every(function(e){return i=Math.max(i,t.outputs[e].getStartYPos()+t.outputs[e].height),!1}),i},xs.prototype.getDownOfSubnet=function(e,t){var i=0;if(e instanceof Qr.Data.FunctionBlockElement){for(var r in e.inputs){r=this._currentDiagram.getPrevLayoutElement(e.id,r);r&&r.id!==t.id&&(i=Math.max(i,this.getDownOfSubnet(r,e)))}for(var a in e.outputs){var n=this._currentDiagram.getNextLayoutElement(e.id,a);n&&n.id!==t.id&&(i=Math.max(i,this.getDownOfSubnet(n,e)))}}if(e instanceof Qr.Data.FunctionBlockElement){var o=0;for(a in e.outputs)var s=e.outputs[a],o=s.getStartYPos()+s.height+10;i=Math.max(i,o)}return i},Object.defineProperty(xs.prototype,"totalHeight",{get:function(){var e=0;return(e=0<this.metaData.diagrams.length?this.metaData.diagrams[this.metaData.diagrams.length-1].getEndYPos():e)*this.metaData.zoomFactor+this.bufferHeight},enumerable:!1,configurable:!0}),Object.defineProperty(xs.prototype,"totalWidth",{get:function(){var t=0;return this.metaData.diagrams.forEach(function(e){t=Math.max(t,e.width)}),t*this.metaData.zoomFactor+this.bufferWidth},enumerable:!1,configurable:!0}),Object.defineProperty(xs.prototype,"height",{get:function(){var e=0;if(!this._currentDiagram.functions||0!==Object.keys(this._currentDiagram.functions).length){for(var t in this._currentDiagram.functions)t=this._currentDiagram.functions[t],e=Math.max(e,t.getStartYPos()+t.height);return e-this._currentDiagram.getStartYPos()}var i=this._currentDiagram.getErrorDescription();if(i)return i.y+i.height/2-this._currentDiagram.getStartYPos()},enumerable:!1,configurable:!0}),Object.defineProperty(xs.prototype,"width",{get:function(){var e,t=0;for(e in this._currentDiagram.functions){var i,r=this._currentDiagram.functions[e],t=Math.max(t,r.getStartXPos()+r.width);for(i in r.outputs)t=Math.max(t,r.outputs[i].getStartXPos()+r.outputs[i].width)}return t},enumerable:!1,configurable:!0}),xs.prototype.moveToViewPort=function(e,t){var i,r=this.maxLeftPos-e,a=this.maxTopPos-t;for(i in this._currentDiagram.list){var n=this._currentDiagram.getElementDetails(this._currentDiagram.list[i].Key);if(n&&!(n instanceof Qr.Data.FlowLineElement))if(n.setStartXPos(n.getStartXPos()+-r),n.setStartYPos(n.getStartYPos()+-a),n instanceof Qr.Data.FunctionBlockElement||n instanceof Qr.Data.FunctionTransitionElement){for(var o in n.inputs)n.inputs[o].yPos+=-a;for(var s in n.outputs)n.outputs[s].yPos+=-a}else n instanceof Qr.Data.BranchElement&&n.setEndYPos(n.y2+-a)}},xs.prototype.setFlowLines=function(){for(var e in this._currentDiagram.connDetails){var t,i,e=this._currentDiagram.connDetails[e],r=this._currentDiagram.getElementDetails(e.From,e.FromPin),e=this._currentDiagram.getElementDetails(e.To,e.ToPin);r&&e&&(r instanceof Qr.Data.FunctionConnectorElement?e instanceof Qr.Data.FlowLineElement?(e.setStartYPos(r.getStartYPos()+r.height),i=(t=r.getNegatedSymbolDim()).radius,t=t.negationStrokeWidth,i=r.getStartXPos()+(r.isNegated?2*i+t:0),e.setStartXPos(i),e.setEndXPos(r.getStartXPos()+this.flowLineLength)):r.setEndXPos(e.getStartXPos()):r instanceof Qr.Data.BranchElement&&(e.x1=r.getStartXPos()))}},xs.prototype.connectorLength=function(e){var t=2*Qr.Data.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING+Qr.Data.FunctionConnectorElement.OPERAND_WIDTH;return e&&(t+=e.width),t},xs.prototype.resetProcessedState=function(){for(var e in this._currentDiagram.list){e=this._currentDiagram.getElementDetails(this._currentDiagram.list[e].Key);e&&(e.isProcessed=!1)}},xs.prototype.remove=function(){this.unregisterFbdSelectionEvent(),this.maxLeftPos=0,this.maxTopPos=0,this._currentDiagram=null},xs.prototype.unregisterFbdSelectionEvent=function(){this.metaData.diagrams.forEach(function(e){e.unRegisterForFbdSelection()})},xs.prototype.registerFbdSelectionEvent=function(){this.metaData.diagrams.forEach(function(e){e.registerForFbdSelection()})},xs.prototype.fbdSelectionHandler=function(t,i,r){this.metaData.diagrams.forEach(function(e){e.clearPrevFbdSelection(),e.diagramID===r&&e.updateSelectedFbdElement(t,i,e.titleKey)})},Qr.FBDRenderer=xs,t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={}),Object.defineProperty(Es.prototype,"width",{get:function(){return 120},enumerable:!1,configurable:!0}),Es.prototype.add=function(e){this.partialSequenceList.push(e)},Es.prototype.get=function(){return this.partialSequenceList},Object.defineProperty(Es.prototype,"height",{get:function(){var e=this.get();return e[0].height+e[0].y+10},enumerable:!1,configurable:!0}),Es.prototype.remove=function(){this.metaData=null;for(var e=0,t=this.partialSequenceList;e<t.length;e++)t[e].remove();this.partialSequenceList=null},t.FlowColumn=Es,x=(x=e=e||{}).Lib||(x.Lib={}),Jr=x.NVEs||(x.NVEs={}),Is.prototype.render=function(e){this._rowList=[],this._currentDiagram=e,this._currentDiagram.setSelectionHandlerCallBack(this.selectionHandler.bind(this));var t=0<this.metaData.diagrams.length?this.metaData.diagrams[this.metaData.diagrams.length-1].getEndYPos()+this.bufferHeight:this.metaData.startY,t=(e.setStartYPos(t),e.getElementDetails(e.getStartElement()));t&&(this.formatXPos(e.getNextElement(t.id),t),this.formatYPos(e.getNextElement(t.id))),e.setLayoutProps(this.width,this.height),e.render(this.parentSVG),e.registerForLogicSelection(),this._currentDiagram=null},Is.prototype.formatXPos=function(e,t){for(;e;){var i=t.getStartXPos()+t.width;if(e instanceof Jr.Data.BranchElement)if(e.subType==Jr.Data.BranchSubType.Begin){e.setStartXPos(i);for(var r=this._currentDiagram.getChildren(e.id),a=r.length-1;0<a;a--)this.formatXPos(r[a],e)}else{if(this._currentDiagram.getPrevGuardian(t.id,e.id)){i=Math.max(e.getStartXPos(),i),e.setStartXPos(i);break}i=Math.max(e.getStartXPos(),i),e.setStartXPos(i),this.adjustParentFlowLine(e,i)}else if(e instanceof Jr.Data.LogicElement||e instanceof Jr.Data.FunctionBlockElement||e instanceof Jr.Data.FunctionConnectorElement){if(e.setStartXPos(i),e instanceof Jr.Data.FunctionConnectorElement&&e.type===Jr.Data.ConnectorType.Input)for(var n in e.block.inputs){n=e.block.inputs[n],n=this._currentDiagram.getPrevElement(n.id,n.pin);n&&n.setEndXPos(e.getStartXPos())}}else e instanceof Jr.Data.FlowLineElement&&(e.setStartXPos(i),e.setEndXPos(i),e=this.extendFlowLineLength(e,i,t));t=e,e=this._currentDiagram.getNextElement(e.id,e instanceof Jr.Data.FunctionConnectorElement?e.pin:null)}},Is.prototype.extendFlowLineLength=function(e,t,i){var r=this._currentDiagram.getNextElement(e.id),a=this.getPaddedWidth(i,r);return r instanceof Jr.Data.LogicElement&&r.type===Jr.Data.LogicElementType.Coil&&!this._currentDiagram.getNextLogicElement(r.id)&&t+r.width<Is.MinimalNetWorkWidth?e.setEndXPos(Is.MinimalNetWorkWidth-e.width):(r instanceof Jr.Data.FunctionConnectorElement||!r)&&(i instanceof Jr.Data.BranchElement||i instanceof Jr.Data.FlowLineElement)?e.setEndXPos(t+Jr.Data.FBDOperandMetaData.MAX_TEXT_WIDTH+this.operandPadding):a?e.setEndXPos(t+a):!r&&t<Is.MinimalNetWorkWidth?e.setEndXPos(Is.MinimalNetWorkWidth):!(i instanceof Jr.Data.BranchElement)&&r instanceof Jr.Data.BranchElement&&e.setEndXPos(t+this.preBufferLengthBranchBegin),e},Is.prototype.getPaddedWidth=function(e,t){var i=0;return e instanceof Jr.Data.FunctionConnectorElement&&e.block.hasOperand("output")&&(i=(i+=Jr.Data.FBDOperandMetaData.MAX_TEXT_WIDTH)+this.operandPadding),i=t instanceof Jr.Data.FunctionConnectorElement&&t.block.hasOperand("input")?(i+=Jr.Data.FBDOperandMetaData.MAX_TEXT_WIDTH)+this.operandPadding:i},Is.prototype.formatYPos=function(e){for(var t,i,r=[],a=[],n=e;n;)if(n instanceof Jr.Data.BranchElement){if(a.push(n),n.subType===Jr.Data.BranchSubType.Begin)1<this._currentDiagram.getUnProcessedElements(n.id).length&&r.push(n);else if(n.subType===Jr.Data.BranchSubType.End&&this._currentDiagram.getPrevGuardian(t.id,n.id))break;t=n,n=this._currentDiagram.getNextUnProcessedElement(n.id)}else n=n instanceof Jr.Data.FunctionConnectorElement?(a.push(n),(i=n.block.getDownConnector(n.pin))&&(i.type===Jr.Data.ConnectorType.Input&&!this._currentDiagram.isInPinConnected(n.id,i.pin)||i.type===Jr.Data.ConnectorType.Output&&!this._currentDiagram.isOutPinConnected(n.id,i.pin))&&r.push(i),n.isProcessed=!0,this._currentDiagram.getNextElement(n.id,n.pin)):(n.isProcessed=!0,t=n,a.push(n),this._currentDiagram.getNextElement(n.id));for(var o=new Jr.Data.BranchInfo(a,this._currentDiagram),e=this._currentDiagram.titleKey,s=this._currentDiagram.getStartYPos()+this._currentDiagram.getTitleText()[e].height,l=-1,u=this,h=0;h<this._rowList.length;++h)!function(t){u._rowList[t].forEach(function(e){e.intersects(o.left,o.right)&&(s=Math.max(s,e.getDownPosBetween(o.left,o.right))+Is.BranchPadding,l=Math.max(l,t))})}(h);for(o.TopPos=s;this._rowList.length<=l+1;)this._rowList.push([]);this._rowList[l+1].push(o);for(h=r.length-1;0<=h;--h)this.formatYPos(r[h])},Is.prototype.adjustParentFlowLine=function(e,t){var i=this;this._currentDiagram.getGuardians(e.id).forEach(function(e){e=i._currentDiagram.getElementDetails(e);e instanceof Jr.Data.FlowLineElement&&e.setEndXPos(t)})},Object.defineProperty(Is.prototype,"height",{get:function(){if(i=this._rowList[this._rowList.length-1]){for(var e=0,t=0;t<=this._rowList.length-1;t++)for(var i=this._rowList[t],r=0;r<=i.length-1;r++)e=Math.max(e,i[r].getDownPosBetween(i[r].left,i[r].right));return Math.max(e-this._currentDiagram.getStartYPos(),Jr.Data.LADModel.MIN_HEIGHT)}var a=this._currentDiagram.getErrorDescription();if(a)return a.y+a.height/2-this._currentDiagram.getStartYPos()},enumerable:!1,configurable:!0}),Object.defineProperty(Is.prototype,"width",{get:function(){for(var e=0,t=0;t<=this._rowList.length-1;t++)var i=this._rowList[t],e=Math.max(e,i[0].right);return e},enumerable:!1,configurable:!0}),Object.defineProperty(Is.prototype,"totalHeight",{get:function(){var e=0;return(e=0<this.metaData.diagrams.length?this.metaData.diagrams[this.metaData.diagrams.length-1].getEndYPos():e)*this.metaData.zoomFactor+this.bufferHeight},enumerable:!1,configurable:!0}),Object.defineProperty(Is.prototype,"totalWidth",{get:function(){var t=0;return this.metaData.diagrams.forEach(function(e){t=Math.max(t,e.width)}),t*this.metaData.zoomFactor+this.bufferWidth},enumerable:!1,configurable:!0}),Is.prototype.remove=function(){this._rowList=null,this.unregisterLogicSelectionEvent()},Is.prototype.unregisterLogicSelectionEvent=function(){this.metaData.diagrams.forEach(function(e){e.unRegisterForLogicSelection()})},Is.prototype.registerLogicSelectionEvent=function(){this.metaData.diagrams.forEach(function(e){e.registerForLogicSelection()})},Is.prototype.selectionHandler=function(t,i,r){this.metaData.diagrams.forEach(function(e){e.clearPrevSelection(),e.diagramID===r&&e.updateSelectedLogicElement(t,i,e.titleKey)})},Is.MinimalNetWorkWidth=400,Is.BranchPadding=20,Jr.LADRenderer=Is,t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={}),Object.defineProperty(Rs.prototype,"from",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(Rs.prototype,"to",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Rs.prototype.addElement=function(e){this.width<e.width&&(this.width=e.width),0==this.elements.length&&(this.y=e.getStartYPos()),this.height=this.height+e.height,this.elements.push(e)},Rs.prototype.overlapsVertical=function(e){return this.from>=e.from&&this.from<=e.to||this.to>e.from&&this.to<=e.to||e.from>=this.from&&e.from<this.to||e.to>=this.from&&e.to<=this.to},Rs.prototype.remove=function(){this.elements.length=0,this.elements=null},t.PartialSequence=Rs;x=(x=e=e||{}).Lib||(x.Lib={}),$r=x.NVEs||(x.NVEs={}),Bs.prototype.render=function(e){this._currentDiagram=e,this._currentDiagram.setSelectionBlockHandlerCallBack(this.selectionHandler.bind(this));var t=e.getElementDetails(e.getStartStep()),i=0<this.metaData.diagrams.length?this.metaData.diagrams[this.metaData.diagrams.length-1].getEndYPos()+this.metaData.startY:this.metaData.startY;this._currentDiagram.setStartXYPos(i),t&&this.calculateElementXY(t,i),e.render(this.parentSVG),e.setLayoutProps(this.width,this.height),e.registerForBlockSelection(),this._currentDiagram=null},Bs.prototype.selectionHandler=function(t,i,r){void 0===r&&(r=!0),this.metaData.diagrams.forEach(function(e){e.diagramID===i&&e.updateSelectedBlock(t,r)})},Bs.prototype.calculateElementXY=function(e,t){this.calculateYCoordinates(e,t),this.divideElementsIntoColumns(e,0),this.assignXCoordinates()},Bs.prototype.calculateYCoordinates=function(e,t){for(var i=e,r=null,a=t;null!=i;){if(i.setStartYPos(a),a+=i.height,i instanceof $r.Data.BranchElement){var n,o=i;if("Begin"==o.subType){for(var s=this._currentDiagram.getRightMostChild(o.id);s;)this.calculateYCoordinates(s,a),s=this._currentDiagram.getPreviousSibling(o.id,s.id);break}if(this._currentDiagram.getNextGuardian(r.id,i.id)&&(n=this.pendingStackElements.pop(),i.y2>n.y2?this.updateRightNeibhours(r,i.y2):(r.setEndPos(n.y2),i.setStartYPos(n.y2),a=n.y2)),r&&r instanceof $r.Data.FlowLineElement&&this._currentDiagram.getPrevGuardian(r.id,i.id)){this.pendingStackElements.push(r);break}}r=i,i=this._currentDiagram.getNextElement(i.id)}},Bs.prototype.updateRightNeibhours=function(e,t){for(var i=this._currentDiagram.getFirstChild(e.id);null!=e;)e.setEndPos(t),e=this._currentDiagram.getNextGuardian(e.id,i.id)},Bs.prototype.divideElementsIntoColumns=function(e,t){for(var i=[];this.columns.length<=t;){var r=new $r.FlowColumn(this.metaData);this.columns.push(r)}for(var a=e,n=new $r.PartialSequence,o=null;null!=a&&((a instanceof $r.Data.BlockElement||a instanceof $r.Data.FlowLineElement)&&(a.isProcessed=!0,n.addElement(a)),!(a instanceof $r.Data.BranchElement&&("Begin"!==a.subType||this._currentDiagram.getPrevGuardian(o.id,a.id)||i.push(a),"End"===a.subType)&&this._currentDiagram.getPrevGuardian(o.id,a.id)));)o=a,a=this._currentDiagram.getNextElement(a.id);for(;!this.enoughSpaceInColumn(n,t);)t++;this.columns[t].add(n),this.calculateColumnXPos(this.columns.length-1);for(var s=i.length-1;0<=s;s--)for(var l=i[s],u=this._currentDiagram.getNexUnprocessedChildOfBranch(l.id),h=t+1;null!=u;)this.divideElementsIntoColumns(u,h),h++,u=this._currentDiagram.getNexUnprocessedChildOfBranch(l.id)},Bs.prototype.calculateColumnXPos=function(e){this.columns[e].x=0===e?this.metaData.startX:this.columns[e-1].x+this.columns[e-1].width+$r.Data.FlowDiagramMetaData.Space_Between_Blocks},Bs.prototype.enoughSpaceInColumn=function(t,e){var i,r=!0;return e==this.columns.length&&(i=new $r.FlowColumn(this.metaData),this.columns.push(i)),this.columns[e].get().every(function(e){return!t.overlapsVertical(e)||(r=!1)}),r},Bs.prototype.assignXCoordinates=function(){this.columns.forEach(function(e){e.get().forEach(function(t){t.x=e.x,t.elements.forEach(function(e){e.setStartXPos(t.x)})})})},Object.defineProperty(Bs.prototype,"totalHeight",{get:function(){var t=0;return this.metaData.diagrams.forEach(function(e){t+=e.height}),t*this.metaData.zoomFactor+this.bufferHeight},enumerable:!1,configurable:!0}),Object.defineProperty(Bs.prototype,"totalWidth",{get:function(){var t=0;return this.metaData.diagrams.forEach(function(e){t+=e.width}),t*this.metaData.zoomFactor+this.bufferWidth},enumerable:!1,configurable:!0}),Object.defineProperty(Bs.prototype,"height",{get:function(){var t;return this._currentDiagram.getErrorDescription()?this._currentDiagram.getErrorDescription().height:(t=0,this.columns.forEach(function(e){t<e.height&&(t=e.height)}),t)},enumerable:!1,configurable:!0}),Object.defineProperty(Bs.prototype,"width",{get:function(){var e;return this._currentDiagram.getErrorDescription()?this._currentDiagram.getErrorDescription().width:(null==(e=this.columns[this.columns.length-1])?void 0:e.x)+(null==e?void 0:e.width)},enumerable:!1,configurable:!0}),Bs.prototype.unregisterBlockSelectionEvent=function(){this.metaData.diagrams.forEach(function(e){e.unRegisterForBlockSelection()})},Bs.prototype.registerBlockSelectionEvent=function(){this.metaData.diagrams.forEach(function(e){e.registerForBlockSelection()})},Bs.prototype.handleAutoMode=function(e){e?this.unregisterBlockSelectionEvent():this.registerBlockSelectionEvent()},Bs.prototype.getSelectedBlockDetails=function(){for(var e={diagramId:0,blockId:"0"},t=0,i=this.metaData.diagrams;t<i.length;t++){var r=i[t];if(r.selectedBlock){e.diagramId=r.diagramID,e.blockId=r.selectedBlock.id;break}}return e},Bs.prototype.getActiveBlockDetails=function(){var e=[];if(0<this.metaData.diagrams.length)for(var t=this.metaData.diagrams[0],i=0,r=t.activeBlocks;i<r.length;i++){var a=r[i];e.push({diagramId:t.diagramID,blockId:a.id,foreColor:a.activeStateForeColor,backColor:a.activeStateBackColor})}return e},Bs.prototype.remove=function(e){if(e=void 0===e?!1:e)this.parentSVG=null,this.metaData=null;else{this.unregisterBlockSelectionEvent();for(var t=0,i=this.columns;t<i.length;t++)i[t].remove();this.columns.length=0,this._currentDiagram=null}},$r.StepDiagramRenderer=Bs,t=(t=e=e||{}).Lib||(t.Lib={}),t=(t=(t=(ea=t.NVEs||(t.NVEs={})).Features||(ea.Features={})).Structure||(t.Structure={})).StraightDial||(t.StraightDial={}),Ls.prototype.getStructure=function(){for(var e=new Array,t=this.autoMeasure.Parent,i=t.getStructure(),r=this.autoMeasure.getAllChildrenSections(i)[0],a=t.getSpacing(this.autoMeasure.metaData.scaleBegin,this.autoMeasure.metaData.scaleEnd),n=this.autoMeasure.origin+a*Math.floor((r.beginValue-this.autoMeasure.origin)/a),o=r.beginValue,s=r.endValue,l=ea.Calculations.createCalc(this.autoMeasure.metaData.calcMethod);!this.autoMeasure.metaData.isMirrored()&&o<r.endValue||this.autoMeasure.metaData.isMirrored()&&o>r.endValue;){var u=void 0,h=void 0,d=void 0,s=!this.autoMeasure.metaData.isMirrored()&&o<n+a||this.autoMeasure.metaData.isMirrored()&&n+a<o?n+a:o+a;(!this.autoMeasure.metaData.isMirrored()&&s>r.endValue||this.autoMeasure.metaData.isMirrored()&&s<r.endValue)&&(s=r.endValue),d=this.autoMeasure.metaData.isVertical?(u=l.calcByValue(o,r.beginY,r.endY,r.beginValue,r.endValue),h=l.calcByValue(s,r.beginY,r.endY,r.beginValue,r.endValue),new ea.Data.SectionStraight(r.beginX,u,r.endX,h,o,s)):(u=l.calcByValue(o,r.beginX,r.endX,r.beginValue,r.endValue),h=l.calcByValue(s,r.beginX,r.endX,r.beginValue,r.endValue),new ea.Data.SectionStraight(u,r.beginY,h,r.endY,o,s)),o=s,e.push(d)}t=this.autoMeasure.getPoles(e);return r.children=new ea.Data.HierarchyLevel(e,t,this.autoMeasure),i},t.AutoMeasureStraight=Ls,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(x=(ta=x.NVEs||(x.NVEs={})).Features||(ta.Features={})).Structure||(x.Structure={})).StraightDial||(x.StraightDial={}),Ms.prototype.getStructure=function(){for(var e=this.division.Parent.getStructure(),t=this.division.getAllChildrenSections(e),i=parseFloat(this.division.getAttribute("count")),r=ta.Calculations.createCalc(this.division.metaData.calcMethod),a=0;a<t.length;a++){var n=new Array,o=t[a].beginValue,s=t[a].endValue,l=t[a].beginX,u=t[a].endX,h=t[a].beginY,d=t[a].endY,c=l,p=h,m=o;this.division.metaData.isVertical&&Math.abs(d-h)<i?i=Math.abs(d-h):!this.division.metaData.isVertical&&Math.abs(u-l)<i&&(i=Math.abs(u-l));for(var g=0;g<i;g++){var T=r.calcValue((g+1)/i,o,s),f=void 0,y=void 0,y=this.division.metaData.isVertical?(f=c,r.calcByValue(T,h,d,o,s)):(f=r.calcByValue(T,l,u,o,s),p);n.push(new ta.Data.SectionStraight(c,p,f,y,m,T)),c=f,p=y,m=T}var D=new ta.Data.HierarchyLevel(n,this.division.getPoles(n),this.division);t[a].children=D}return e},x.DivisionStraight=Ms,t=(t=e=e||{}).Lib||(t.Lib={}),t=(t=(t=(ia=t.NVEs||(t.NVEs={})).Features||(ia.Features={})).Structure||(t.Structure={})).StraightDial||(t.StraightDial={}),Fs.prototype.getPoles=function(e){var t=new Array,e=this.createPole(e[0]);return e&&t.push(e),t},Fs.prototype.createPole=function(e){var t=this.getValue(e),i=ia.Calculations.createCalc(this.marker.metaData.calcMethod);return this.marker.metaData.isVertical?this.createPoleVertical(t,e,i):this.createPoleHorizontal(t,e,i)},Fs.prototype.getValue=function(e){var t=parseFloat(this.marker.getAttribute("value"));return this.marker.hasSpecialValue("value")?t:this.marker.metaData.isMirrored()?Math.max(Math.min(t,e.beginValue),e.endValue):Math.min(Math.max(t,e.beginValue),e.endValue)},Fs.prototype.createPoleVertical=function(e,t,i){i=i.calcByValue(e,t.beginY,t.endY,t.beginValue,t.endValue);return new ia.Data.PoleStraight(t.beginX,i,e)},Fs.prototype.createPoleHorizontal=function(e,t,i){i=i.calcByValue(e,t.beginX,t.endX,t.beginValue,t.endValue);return new ia.Data.PoleStraight(i,t.beginY,e)},Fs.prototype.getStructure=function(){var e,t,i,r,a,n,o=this.marker.Parent.getStructure();return null==(o=this.marker.getScaleSections(o))?null:(n=o[0].beginX,e=o[0].beginY,t=o[0].endX,i=o[0].endY,r=o[0].beginValue,a=o[0].endValue,o=new Array(new ia.Data.SectionStraight(n,e,t,i,r,a)),n=this.getPoles(o),new ia.Data.HierarchyLevel(o,n,this.marker))},t.MarkerStraight=Fs,x=(x=e=e||{}).Lib||(x.Lib={}),ra=x.NVEs||(x.NVEs={}),aa=ra.Features||(ra.Features={}),x=(x=aa.Structure||(aa.Structure={})).StraightDial||(x.StraightDial={}),Hs.prototype.getStructure=function(){for(var e=this.measure.Parent.getStructure(),t=this.measure.getAllChildrenSections(e),i=0;i<t.length;i++){var r=Math.max(t[i].beginValue,t[i].endValue),a=Math.min(t[i].beginValue,t[i].endValue),a=(this.calculateStartPosition(a,r),this.createSections(this.firstStartPosition,this.firstEndPosition,r,t[i]));t[i].children=new ra.Data.HierarchyLevel(a,this.measure.getPoles(a),this.measure)}return e},Hs.prototype.createSections=function(e,t,i,r){var a=new Array;do{var n=this.createSection(e,t,r)}while(a.push(n),t=(e=t)+this.tickSpacing,Math.abs(t)>Math.abs(i)&&(t=i),e<i);return a},Hs.prototype.getScale=function(){for(var e=this.measure.Parent;!(e instanceof aa.Scale)&&null!=(e=e.Parent););return e},Hs.prototype.createSection=function(e,t,i){var r,a,n=ra.Calculations.createCalc(this.measure.metaData.calcMethod);return this.measure.metaData.isVertical?(r=n.calcByValue(e,i.beginY,i.endY,i.beginValue,i.endValue),a=n.calcByValue(t,i.beginY,i.endY,i.beginValue,i.endValue),new ra.Data.SectionStraight(i.beginX,r,i.endX,a,e,t)):(r=n.calcByValue(e,i.beginX,i.endX,i.beginValue,i.endValue),a=n.calcByValue(t,i.beginX,i.endX,i.beginValue,i.endValue),new ra.Data.SectionStraight(r,i.beginY,a,i.endY,e,t))},Hs.prototype.calculateStartPosition=function(e,t){if(this.tickSpacing=Math.abs(Number(this.measure.getAttribute("graduation"))),0==this.tickSpacing)this.firstStartPosition=e,this.firstEndPosition=t;else{t=this.getOrigin();for(this.firstStartPosition=e,this.firstEndPosition=t+this.tickSpacing*Math.floor((e-t)/this.tickSpacing);this.firstEndPosition<=e;)this.firstEndPosition+=this.tickSpacing}},Hs.prototype.getOrigin=function(){for(var e=this.measure.Parent,t=this.measure;!(e instanceof aa.Scale);)e=t.Parent;return Number(e.getAttribute("origin"))},x.MeasureStraight=Hs,t=(t=e=e||{}).Lib||(t.Lib={}),t=(t=(t=(na=t.NVEs||(t.NVEs={})).Features||(na.Features={})).Structure||(t.Structure={})).StraightDial||(t.StraightDial={}),Os.prototype.getStructure=function(){var e,t,i,r=this.range.getParentSection();if(null==r)return null;n=parseFloat(this.range.getAttribute("begin-value")),o=parseFloat(this.range.getAttribute("end-value")),this.range.hasSpecialValue("begin-value")||(n=this.range.restrictToScale(n));var a,n,o,s=!1,s=((o=this.range.hasSpecialValue("end-value")?o:this.range.restrictToScale(o))<n&&(a=n,n=o,o=a,s=!0),a=this.range.metaData.isVertical?(e=r.beginX,i=r.endX,s?(t=this.range.getPositionFromAttribute("end-value"),this.range.getPositionFromAttribute("begin-value")):(t=this.range.getPositionFromAttribute("begin-value"),this.range.getPositionFromAttribute("end-value"))):(i=s?(e=this.range.getPositionFromAttribute("end-value"),this.range.getPositionFromAttribute("begin-value")):(e=this.range.getPositionFromAttribute("begin-value"),this.range.getPositionFromAttribute("end-value")),t=r.beginY,r.endY),new Array(new na.Data.SectionStraight(e,t,i,a,n,o))),r=this.range.getPoles(s);return new na.Data.HierarchyLevel(s,r,this.range)},Os.prototype.getPosition=function(e){var t=na.Calculations.createCalc(this.range.metaData.calcMethod),i=this.range.getParentSection(),r=Math.min(i.beginValue,i.endValue),a=Math.max(i.beginValue,i.endValue);return e=Math.max(Math.min(e,a),r),this.range.metaData.isVertical?t.calcByValue(e,i.beginY,i.endY,i.beginValue,i.endValue):t.calcByValue(e,i.beginX,i.endX,i.beginValue,i.endValue)},Os.prototype.getBeginSurchargePosition=function(){var e=this.range.getParentSection();return this.range.metaData.isVertical?e.beginY<e.endY?e.beginY-this.range.metaData.beginSurcharge:e.beginY+this.range.metaData.beginSurcharge:e.beginX<e.endX?e.beginX-this.range.metaData.beginSurcharge:e.beginX+this.range.metaData.beginSurcharge},Os.prototype.getEndSurchargePosition=function(){var e=this.range.getParentSection();return this.range.metaData.isVertical?e.beginY<e.endY?e.endY+this.range.metaData.endSurcharge:e.endY-this.range.metaData.endSurcharge:e.beginX<e.endX?e.endX+this.range.metaData.endSurcharge:e.endX-this.range.metaData.endSurcharge},t.RangeStraight=Os,x=(x=e=e||{}).Lib||(x.Lib={}),x=(x=(x=(oa=x.NVEs||(x.NVEs={})).Features||(oa.Features={})).Structure||(x.Structure={})).StraightDial||(x.StraightDial={}),Ns.prototype.createBeginSection=function(e,t,i){var r,a,n=this.thresholds.getAttribute("config"),i=this.thresholds.metaData.isVertical?(r=e.beginY,a=i.calcByValue(parseFloat(n[0].BeginValue),e.beginY,e.endY,e.beginValue,e.endValue),new oa.Data.SectionStraight(e.beginX,r,e.endX,a,e.beginValue,parseFloat(n[0].BeginValue))):(r=e.beginX,a=i.calcByValue(parseFloat(n[0].BeginValue),e.beginX,e.endX,e.beginValue,e.endValue),new oa.Data.SectionStraight(r,e.beginY,a,e.endY,e.beginValue,parseFloat(n[0].BeginValue)));r!==a&&(n[0].BeginValue>e.beginValue||this.thresholds.metaData.isMirrored()&&n[0].BeginValue<e.beginValue)&&t.push(i)},Ns.prototype.createEndSection=function(e,t,i){var r,a,n=this.thresholds.getAttribute("config"),i=this.thresholds.metaData.isVertical?(r=i.calcByValue(parseFloat(n[n.length-1].EndValue),e.beginY,e.endY,e.beginValue,e.endValue),a=e.endY,new oa.Data.SectionStraight(e.beginX,r,e.endX,a,parseFloat(n[n.length-1].EndValue),e.endValue)):(r=i.calcByValue(parseFloat(n[n.length-1].EndValue),e.beginX,e.endX,e.beginValue,e.endValue),a=e.endX,new oa.Data.SectionStraight(r,e.beginY,a,e.endY,parseFloat(n[n.length-1].EndValue),e.endValue));r!==a&&(n[n.length-1].EndValue<e.endValue||this.thresholds.metaData.isMirrored()&&n[n.length-1].EndValue>e.endValue)&&t.push(i)},Ns.prototype.createThresholdsSections=function(e,t,i){for(var r,a,n=this.thresholds.getAttribute("config"),o=0;o<n.length;o++){var s=parseFloat(n[o].BeginValue),l=parseFloat(n[o].EndValue);parseFloat(n[o].BeginValue)<e.beginValue&&(s=e.beginValue,parseFloat(n[o].EndValue)<e.beginValue||s===l)||parseFloat(n[o].EndValue)>e.endValue&&(l=e.endValue,parseFloat(n[o].BeginValue)>e.endValue||s===l)||(s=this.thresholds.metaData.isVertical?(r=i.calcByValue(s,e.beginY,e.endY,e.beginValue,e.endValue),a=i.calcByValue(l,e.beginY,e.endY,e.beginValue,e.endValue),new oa.Data.SectionStraight(e.beginX,r,e.endX,a,s,l)):(r=i.calcByValue(s,e.beginX,e.endX,e.beginValue,e.endValue),a=i.calcByValue(l,e.beginX,e.endX,e.beginValue,e.endValue),new oa.Data.SectionStraight(r,e.beginY,a,e.endY,s,l)),n[o].Color&&(s.color=new oa.Data.Color(n[o].Color)),t.push(s))}},Ns.prototype.getSectionsForChild=function(e){var t=oa.Calculations.createCalc(this.thresholds.metaData.calcMethod),i=new Array;return this.createBeginSection(e,i,t),this.createThresholdsSections(e,i,t),this.createEndSection(e,i,t),i},Ns.prototype.getStructure=function(){var e=this.thresholds.Parent.getStructure(),t=this.thresholds.getAllChildrenSections(e);if(1<=this.thresholds.getAttribute("config").length)for(var i=0;i<t.length;i++){var r=this.getSectionsForChild(t[i]),r=new oa.Data.HierarchyLevel(r,this.thresholds.getPoles(r),this.thresholds);t[i].children=r}return e},x.ThresholdsStraight=Ns,t=(t=(t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).AnimFrameRequestor||(t.AnimFrameRequestor={}),sa=[],ua=!(la={}),ha=0,ca=!(da=16.67),pa=function(){var e,t,i,r,a=+Date.now(),n=sa.length;if(ua=!1,r=a-ha,(da=ca&&(ca=!1,da=Math.max(16.67,3*r),5e3<=r)?16.67:da)<r)for(ca=!0,ha=a-r%da,e=0;e<n&&(t=sa.shift(),i=la[t],delete la[t],i(),!(10<Date.now()-a));e++);!1===ua&&(0<sa.length?ks():(ca=!1,da=16.67))},t.requestAF=function(e,t){la[e]||(la[e]=t,sa.push(e),1===sa.length&&!1===ua&&ks())},t.removeObj=function(e){la[e]&&(delete la[e],sa.splice(sa.indexOf(e),1))},x=(x=e=e||{}).Lib||(x.Lib={}),ma=x.NVEs||(x.NVEs={}),Ws.prototype.create=function(e){if(this.RTPUItem=e,this.dom||(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),this.Attributes=ma.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.defs||(this.defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this.dom.appendChild(this.defs)),this.checkAndConvertEnums(),this.isValid()){var t="vertical"==this.Attributes.orientation;this.metaData=new ma.Data.MetaData(this.defs,t,this);for(var i=0;i<this.Features.length;i++)this.dom.appendChild(this.Features[i].draw(e,this.metaData));this.Methods.set=this.setValue.bind(this),this.Methods["small-step"]=this.smallStep.bind(this),this.Methods["big-step"]=this.bigStep.bind(this),this.initialized=!0}return this.dom},Ws.prototype.checkAndConvertEnums=function(){},Ws.prototype.isValid=function(){return isNaN(parseInt(this.Attributes["begin-surcharge"]))?(ma.trace(ma.enumTraceMode.Warning,"Can't draw an NVEElement with invalid begin-surcharge"),!1):!isNaN(parseInt(this.Attributes["end-surcharge"]))||(ma.trace(ma.enumTraceMode.Warning,"Can't draw an NVEElement with invalid end-surcharge"),!1)},Ws.prototype.remove=function(){for(var e=0;e<this.Features.length;e++)this.Features[e].remove();if(this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild)},Ws.prototype.update=function(){if(this.initialized)if(-1<this.metaData.dirtyList.indexOf(this))this.create(this.RTPUItem);else for(;this.metaData.dirtyList.length;)this.metaData.dirtyList.pop().redraw(this.RTPUItem,this.metaData);else this.create(this.RTPUItem)},Ws.prototype.propertyChanged=function(e){this.metaData&&this.metaData.dirtyList.indexOf(this)<0&&this.metaData.dirtyList.push(this)},Ws.prototype.getScale=function(e,t){if(1!==this.Features.length){var i=this.RTPUItem.RootNode.getBoundingClientRect(),r=document.elementFromPoint(i.left+e,i.top+t);do{if(r.scale)return r.scale}while(r=r.parentNode)}return this.Features[0]},Ws.prototype.setValue=function(e,t){var i=this.getScale(t.X,t.Y),r=this.getOffsetToSVGElement(),a=this.getCurrentValueForHmiProp(e),n=i.getPositionForValue(a);a!==(t=t&&t[".type"]&&14==t[".type"]?(n=i.getValueAtPosition(n.x+t.PanDeltaX,n.y+t.PanDeltaY,!0))!==a?n:a:(n=t.X-r.x,a=t.Y-r.y,i.getValueAtPosition(n,a,!0)))&&(0===e.indexOf("LocalProps.")?this.RTPUItem.setLocalProps(t,e):(this.RTPUItem.setHmiProps(t,e),this.RTPUItem.update()))},Ws.prototype.smallStep=function(e,t){var i=this.getScale(t.X,t.Y),r=this.getOffsetToSVGElement(),a=t.X-r.x,t=t.Y-r.y,r=(i.getValueAtPosition(a,t),this.getCurrentValueForHmiProp(e)),a=r+i.getValueRange()/5;0===e.indexOf("LocalProps.")?this.RTPUItem.setLocalProps(a,e):(this.RTPUItem.setHmiProps(a,e),this.RTPUItem.update())},Ws.prototype.bigStep=function(e,t){var i=this.getScale(t.X,t.Y),r=this.getOffsetToSVGElement(),a=t.X-r.x,t=t.Y-r.y,r=(i.getValueAtPosition(a,t),this.getCurrentValueForHmiProp(e)),a=r+i.getValueRange()/10;0===e.indexOf("LocalProps.")?this.RTPUItem.setLocalProps(a,e):(this.RTPUItem.setHmiProps(a,e),this.RTPUItem.update())},Ws.prototype.getCurrentValueForHmiProp=function(e){return this.RTPUItem.getProps(e)},Ws.prototype.getOffsetToSVGElement=function(){var e,t=this.RTPUItem.RootNode,i=t.getBoundingClientRect(),r=this.dom.parentNode.parentNode.getBoundingClientRect(),a=this.dom.parentNode.parentNode.getBBox(),n=((n=this.RTPUItem.Store.props.RotationAngle||0)<0?360+n:n)*Math.PI/180,o=0<Math.ceil(2*n/Math.PI)?Math.ceil(2*n/Math.PI):1,s=o/2*Math.PI-n,l=["top","right","bottom","left","top"],u=2<o?1:-1,t=i[l[o]]+u*Number(t.getAttribute("width"))*Math.sin(s),h=r[l[o]]+u*a.width*Math.sin(s),d=Math.sqrt(Math.pow(t-h,2)+Math.pow(r[l[o-1]]-i[l[o-1]],2)),c=(1<o&&o<4?-1:1)*Math.atan((t-h)/(r[l[o-1]]-i[l[o-1]]));switch(o){case 1:e=Math.PI/2+n-c;break;case 2:e=s+c;break;default:e=s-c}t=n-(o-1)/2*Math.PI+u*c;return{x:d*Math.sin(t)-a.x,y:d*Math.sin(e)-a.y}},Ws.prototype.getRotationCenter=function(){var e=this.RTPUItem.RootNode.getBoundingClientRect();return{x:e.width/2,y:e.height/2,angle:null}},Ws.default={},ma.NVEElementBase=Ws,t=(t=e=e||{}).Lib||(t.Lib={}),ga=t.NVEs||(t.NVEs={}),Ta=ga.NVEElementBase,i(Gs,Ta),Gs.prototype.create=function(e){return Ta.prototype.create.call(this,e),this.dom},Gs.prototype.isValid=function(){if(!this.Attributes.radius)return ga.trace(ga.enumTraceMode.Warning,"Can't draw an ArcDial without radius"),!1;if(0===parseInt(this.Attributes.radius))return ga.trace(ga.enumTraceMode.Warning,"Can't draw an ArcDial radius 0"),!1;var e=parseInt(this.Attributes["angle-range"]);if(isNaN(e))return ga.trace(ga.enumTraceMode.Warning,"Can't draw an ArcDial with invalid angle-range"),!1;e<-360?this.Attributes["angle-range"]="-360":360<e&&(this.Attributes["angle-range"]="360");e=parseInt(this.Attributes["begin-angle"]);return isNaN(e)?(ga.trace(ga.enumTraceMode.Warning,"Can't draw an ArcDial with invalid begin-angle"),!1):(e<-360?this.Attributes["begin-angle"]="-360":360<e&&(this.Attributes["begin-angle"]="360"),isNaN(parseInt(this.Attributes["center-x"]))?(ga.trace(ga.enumTraceMode.Warning,"Can't draw an ArcDial with invalid center-x"),!1):isNaN(parseInt(this.Attributes["center-y"]))?(ga.trace(ga.enumTraceMode.Warning,"Can't draw an ArcDial with invalid center-y"),!1):Ta.prototype.isValid.call(this))},Gs.prototype.getPoles=function(e){var t=new Array,i=new ga.Data.PoleArc(e[0].centerX,e[0].centerY,e[0].radius,e[0].beginAngle,e[0].beginValue),e=new ga.Data.PoleArc(e[0].centerX,e[0].centerY,e[0].radius,e[0].endAngle,e[0].endValue);return t.push(i),t.push(e),t},Gs.prototype.getStructure=function(){var e=new Array,t=parseFloat(this.Attributes["begin-angle"])+parseFloat(this.Attributes["angle-range"]),t=new ga.Data.SectionArc(parseFloat(this.Attributes["center-x"]),parseFloat(this.Attributes["center-y"]),parseFloat(this.Attributes["begin-angle"]),t,parseFloat(this.Attributes.radius),0,0);return e.push(t),new ga.Data.HierarchyLevel(e,this.getPoles(e),this)},Gs.default={"center-x":"0","center-y":"0","begin-angle":"0","angle-range":"180","begin-surcharge":"0","end-surcharge":"0"},ga.ArcDial=Gs,x=(x=e=e||{}).Lib||(x.Lib={}),fa=x.NVEs||(x.NVEs={}),Us.prototype.create=function(e,t,i){return this.RTPUItem=e,t&&i?this.dom=i:this.dom||(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),this.dom},Us.prototype.remove=function(){for(var e=0;e<this.Features.length;e++)this.Features[e].remove();for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.Attributes=[],this.dom=null,this.Features=[],this.RTPUItem=null,this.Templates=null},Us.prototype.update=function(){},Us.prototype.getAttribute=function(e){return this.Attributes[e]},fa.NVEBase=Us,t=(t=e=e||{}).Lib||(t.Lib={}),ya=t.NVEs||(t.NVEs={}),Da=ya.NVEBase,i(zs,Da),zs.prototype.create=function(e){return this.RTPUItem=e,this.Attributes=ya.Utilities.mergeWithDefaults(this.Attributes,this.defaults),"FunctionTrendControl"===this.RTPUItem.Store.props.Type?this.trendView=new ya.FunctionTrendView(this):this.trendView=new ya.OnlineTrendView(this),this.trendView.create(e)},zs.prototype.remove=function(){this.trendView.remove(),Da.prototype.remove.call(this)},zs.prototype.onModified=function(){},zs.prototype.propertyChanged=function(e){this.trendView.propertyChanged(e)},zs.prototype.update=function(){this.trendView.update()},ya.Chart=zs,x=(x=(x=(x=e=e||{}).Lib||(x.Lib={})).NVEs||(x.NVEs={})).ChartBalancer||(x.ChartBalancer={}),Sa={},x.registerChart=function(e,t){var i=e+"_"+Date.now();return void 0===Sa[e]&&(Sa[e]={charts:{},maxDims:[0,0,0,0],balanceRequired:!1}),Sa[e].charts[i]={},Sa[e].charts[i].balancers=t,Sa[e].charts[i].dims=[],i},x.setAndGetMaxValue=function(e,t,i,r){var a,n,o,s=(e=Sa[e]).charts,l=1;for(n in s[t].dims[i]=a=r,s)s.hasOwnProperty(n)&&n!==t&&(l++,a<(o=s[n].dims[i]))&&(a=o);return e.maxDims[i]!==a&&(e.maxDims[i]=a,1<l)&&(e.balanceRequired=!0),a},x.balanceCharts=function(e,t,i){var r,a=(e=Sa[e]).charts;if(e.balanceRequired)for(r in e.balanceRequired=!1,a)a.hasOwnProperty(r)&&r!==t&&0<a[r].dims.length&&a[r].balancers[i]()},x.unregister=function(e,t){var i=Sa[e].charts,r=i[t],a=0;for(r in r.balancer=null,r=null,delete i[t],i)i.hasOwnProperty(r)&&a++;0===a&&(Sa[e]=null,delete Sa[e])},t=(t=e=e||{}).Lib||(t.Lib={}),ba=t.NVEs||(t.NVEs={}),Ca=ba.NVEBase,i(js,Ca),js.prototype.create=function(e){return Ca.prototype.create.call(this,e),this.Attributes=ba.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.defs||(this.defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this.dom.appendChild(this.defs)),this.checkAndConvertEnums(),this.isValid()&&(this.initialized=!0,this.metaData=new ba.Data.MetaData(this.defs,!0,this)),this.draw()},js.prototype.draw=function(){var r,a=this,e=(this.source=this.Attributes.source,this.delay=this.Attributes.delay,this.width=this.Attributes.width,this.height=this.Attributes.height,this.limit=this.Attributes.limit,this.selectedIndex=-1,this.RTPUItem.Store.handler.listProvider);return e?(e.setUpdateFunction(this.RTPUItem.Store,this.source,function(e,t){a.subtemplate&&-1<t&&(a.subtemplate.setHmiProps(t,"HmiProps.SelectedIndex"),a.subtemplate.update()),a.updateList(e,!0),a.list=e}),e.setUpdateCurrentFunction&&e.setUpdateCurrentFunction(this.RTPUItem.Store,this.source,function(e){void 0!==e.$index&&a.subtemplate.setHmiProps(e.$index,"HmiProps.SelectedIndex"),a.subtemplate&&(a.subtemplate.setHmiProps(e,"HmiProps.Current"),a.subtemplate.update())}),"function"==typeof e.setListHeightFunction&&e.setListHeightFunction(this.RTPUItem.Store,this.source,function(e){a.subtemplate.setParamProps(e,"ParamProps.MaxListBoxViewCount")}),e=e.getList(this.RTPUItem.Store,this.source,this.delay),this.list=e.List,(r=ba.getSystemPart("ListContainerSystemPart")).List=this.filterList(this.list),r.Current=this.filterList([e.Current])[0],r.Width=this.width,r["Height "]=this.height,r.SelectedIndex=e.SelectedIndex,this.selectedIndex=e.SelectedIndex,this.subtemplate=this.RTPUItem.createSubtemplate(this,this.Templates[""],r,null,this.Attributes.width,this.Attributes.height),this.subtemplate.RootNode.setAttribute("x",this.Attributes["start-x"]),this.subtemplate.RootNode.setAttribute("y",this.Attributes["start-y"]),this.subtemplate.PropertyChangedCallback=function(e,t){var i;"HmiProps.SelectedIndex"===e&&(e=a.Attributes.source,(i=a.RTPUItem.Store.handler.listProvider)&&i.setSelection(a.RTPUItem.Store,t,r.List,e),i=-1!==t&&t<a.list.length?a.filterList(a.list)[t]:{},a.subtemplate.setHmiProps(i,"HmiProps.Current"),a.subtemplate.update())},this.initialMaxListCount||(this.initialMaxListCount=Number(this.subtemplate.getProps("ParamProps.MaxListBoxViewCount"))),this.dom.appendChild(this.subtemplate.RootNode)):ba.trace(ba.enumTraceMode.Warning,"No listprovider found"),this.dom},js.prototype.update=function(){var e;(this.source!==this.Attributes.source||this.delay!==this.Attributes.delay)&&(this.source=this.Attributes.source,this.delay=this.Attributes.delay,e=this.RTPUItem.Store.handler.listProvider)&&(e=e.getList(this.RTPUItem.Store,this.source,this.delay),this.list=e.List),this.updateList(this.list,!this.delay),this.width!==this.Attributes.width&&(this.width=this.Attributes.width,this.subtemplate.setHmiProps(this.width,"HmiProps.Width")),this.height!==this.Attributes.height&&(this.height=this.Attributes.height,this.subtemplate.setHmiProps(this.height,"HmiProps.Height")),this.subtemplate.update()},js.prototype.updateList=function(e,t){var i,r=this.RTPUItem.Store.handler.listProvider,r=("function"==typeof r.setProperties&&(a=Number(this.subtemplate.getProps("ParamProps.SelectionItemHeight")),i=Number(this.subtemplate.getProps("ParamProps.ContentPositionY")),r.setProperties(this.RTPUItem.Store,this.initialMaxListCount,a,i)),this.subtemplate.getProps("HmiProps.SelectedIndex")),a=(t&&r>=e.length&&this.subtemplate.setHmiProps(r=-1,"HmiProps.SelectedIndex"),this.filterList(e));this.subtemplate.setHmiProps(a,"HmiProps.List"),t&&0<e.length&&-1!==r&&(i=this.filterList(e[r]),this.subtemplate.setHmiProps(i,"HmiProps.Current")),this.subtemplate.update()},js.prototype.filterList=function(e){var t,r,a;return 0<this.Features.length&&0<this.Features[0].Features.length&&e&&0<e.length?(t=$a(e),r=[],a=[],isFinite(this.limit)&&0<this.limit&&t.splice(this.limit),this.Features[0].Features.forEach(function(e){a.push([e.Attributes.name,e.Attributes.as||e.Attributes.name])}),t.forEach(function(t){var i={};a.forEach(function(e){t&&void 0!==t[e[0]]&&(i[e[1]]=t[e[0]])}),r.push(i)}),r):e},js.prototype.remove=function(){null!=(t=this.subtemplate)&&t.remove();var e,t=this.RTPUItem.Store.handler.listProvider;t&&(e=this.Attributes.source,t.releaseList(this.RTPUItem.Store,e)),this.subtemplate=null,this.delay=null,this.source=null,this.list=null,Ca.prototype.remove.call(this)},js.prototype.checkAndConvertEnums=function(){},js.prototype.isValid=function(){var e;return isNaN(parseInt(this.Attributes["start-x"]))?(ba.trace(ba.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid start-x"),!1):isNaN(parseInt(this.Attributes["start-y"]))?(ba.trace(ba.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid start-y"),!1):"string"!=typeof this.Attributes.source?(ba.trace(ba.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid source"),!1):isNaN(parseInt(this.Attributes.width))?(ba.trace(ba.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid width"),!1):isNaN(parseInt(this.Attributes.height))?(ba.trace(ba.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid height"),!1):"boolean"!=typeof this.Attributes.delay?(ba.trace(ba.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid delay"),!1):(e=parseInt(this.Attributes.limit),!(!isNaN(e)&&e<=0&&(ba.trace(ba.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid limit; limit must be a positive integer or infinity"),1)))},js.default={width:"100",height:"100","start-x":"0","start-y":"0",delay:!1,limit:1/0},ba.ListContainer=js,x=(x=e=e||{}).Lib||(x.Lib={}),(s=x.NVEs||(x.NVEs={})).enumTraceMode={None:0,Error:10,TestCurr:12,Perf:15,Warning:20,Test:35,Info:40,PerfLow:50,All:99},s.enumEventType={down:10,up:11,tapped:12,contextTapped:13,pan:14,mouseEnter:1,mouseHover:2,mouseLeave:3,wheel:4},s.Options=Ys,s.initialize=function(e){e.register("straightDial",s.StraightDial),e.register("arcDial",s.ArcDial),e.register("textField",s.TextField),e.register("chart",s.Chart),e.register("listContainer",s.ListContainer),e.register("properties",s.Features.Properties),e.register("select",s.Features.Select),e.register("scale",s.Features.Scale),e.register("font",s.Features.Font),e.register("inputBehavior",s.Features.InputBehavior),e.register("inputHint",s.Features.InputHint),e.register("scrollableArea",s.ScrollableArea),e.register("labels",s.Features.Shape.Labels),e.register("poleMarkers",s.Features.Shape.PoleMarkers),e.register("ribbons",s.Features.Shape.Ribbons),e.register("sectionLabels",s.Features.Shape.SectionLabels),e.register("sectionMarkers",s.Features.Shape.SectionMarkers),e.register("ticks",s.Features.Shape.Ticks),e.register("autoMeasure",s.Features.Structure.AutoMeasure),e.register("division",s.Features.Structure.Division),e.register("marker",s.Features.Structure.Marker),e.register("measure",s.Features.Structure.Measure),e.register("range",s.Features.Structure.Range),e.register("thresholds",s.Features.Structure.Thresholds),e.register("dataTemplates",s.Features.DataTemplates),e.register("columnBackground",s.Features.ColumnBackGround),e.register("table",s.Table),e.register("gridlines",s.Features.Gridlines),e.register("gridline",s.Features.Gridline),e.register("header",s.Features.Header),e.register("recordHeader",s.Features.RecordHeader),e.register("rowBackground",s.Features.RowBackground),e.register("selection",s.Features.SelectionBorder),e.register("axes",s.Features.Axes),e.register("axis",s.Features.Axis),e.register("areaGridlines",s.Features.AreaGridlines),e.register("graphs",s.Features.Graphs),e.register("graph",s.Features.Graph),e.register("graphMarker",s.Features.GraphMarker),e.register("rulers",s.Features.Rulers),e.register("rulerIndicator",s.Features.RulerIndicator),e.register("tooltip",s.Features.Tooltip),e.register("flowDiagram",s.FlowDiagram),e.register("flowLines",s.Features.FlowLines),e.register("flowLine",s.Features.FlowLine),e.register("block",s.Features.Block),e.register("logic",s.Features.Logic),e.register("flowLineDecorator",s.Features.FlowLineDecorator),va=e.converter,_a=e.debug.tracer,Pa=e.enums,Aa=e.helper,wa=e.helper.getSystemPartDefaults,Va=e.helper.loadSubTemplate,xa=e.helper.removeSubTemplate,Ea=e.helper.registerEvent,Ia=e.helper.unregisterEvent},s.convertFormatPattern=function(e,t,i){var r=va.FormatPattern;return r?r(e,t,i):(Xs(s.enumTraceMode.Warning,"Missing converter: FormatPattern"),String(e))},s.getDefaultFormat=function(e){var t=va.GetDefaultFormat;return(t||(Xs(s.enumTraceMode.Warning,"Missing converter: GetDefaultFormat"),String))(e)},s.getTextPosY=function(e,t){var i=va.TextPosY;return i?i(1,e,t):(Xs(s.enumTraceMode.Warning,"Missing converter: TextPosY"),0)},s.getTextHeight=function(e,t,i){var r=va.TextHeight;return r?r(e,t,i):(Xs(s.enumTraceMode.Warning,"Missing converter: TextHeight"),0)},s.getTextWidth=function(e,t,i){var r=va.TextWidth;return r?r(e,t,i):(Xs(s.enumTraceMode.Warning,"Missing converter: TextWidth"),0)},s.getMergedColor=function(e){var t=va.MergeColors;return t?t(e):(Xs(s.enumTraceMode.Warning,"Missing converter: MergeColors"),0)},s.textEllipsis=function(e,t,i){return va.TextEllipsis(e,t,i)},s.textWrap=function(e,t,i,r){return va.TextWrap(e,t,i,r)},s.format2Type=function(e){return va.Format2Type(e)},s.bin2dec=function(e){return va.Bin2Dec(e)},s.hex2dec=function(e){return va.Hex2Dec(e)},s.getHmiFieldDataTypeEnum=function(){return va.GetHmiFieldDataTypeEnum()},s.isAppModeRuntime=function(){return va.IsRuntime()},s.getTextByID=function(e){return va.GetTextByID(e)},s.mapEventName=function(e){return va.MapEventName(e)},s.trace=Xs,s.getChromEnum=function(e){return Pa[e]},s.getRGBAcolor=function(e){var t=va.RGBA;return t?t(e):(Xs(s.enumTraceMode.Warning,"Missing converter: RGBA"),e)},s.getDarkercolor=function(e,t){var i=va.Darker;return i?i(e,t):(Xs(s.enumTraceMode.Warning,"Missing converter: Darker"),e)},s.toHRef=function(e,t){var i=va.HRef;return i?i(e,t):(Xs(s.enumTraceMode.Warning,"Missing converter: HRef"),e)},s.propChanged=function(e,t,i){Aa.propChanged&&Aa.propChanged(e,t,i)},s.registerForFlashing=function(e,t,i,r,a){Aa.registerForFlashing&&Aa.registerForFlashing(e,t,i,r,a)},s.loadSubTemplate=function(e,t,i,r,a,n,o){return Va?Va(e,t,i,r,a,n,o):(Xs(s.enumTraceMode.Warning,"Missing subTemplateLoader"),0)},s.removeSubTemplate=function(e){if(!xa)return Xs(s.enumTraceMode.Warning,"Missing subTemplateRemover"),0;xa(e)},s.getSystemPart=function(e){if(wa)return wa(e);Xs(s.enumTraceMode.Error,"Missing getSystemPart")},s.loadImage=function(e,t,i,r){va.LoadImage(e,t,i,r)},s.showTooltip=function(e,t,i,r){if(!va.ShowTooltip)return Xs(s.enumTraceMode.Warning,"Missing converter: ShowTooltip"),e;va.ShowTooltip(e,t,i,r)},s.hideTooltip=function(){va.HideTooltip?va.HideTooltip():Xs(s.enumTraceMode.Warning,"Missing converter: HideTooltip")},s.textDecoration=function(e){va.TextDecoration?va.TextDecoration(e):Xs(s.enumTraceMode.Warning,"Missing converter: font")},s.isMultiLine=function(e){if(va.IsMultiline)return va.IsMultiline(e);Xs(s.enumTraceMode.Warning,"Missing converter: IsMultiline")},s.registerEvent=function(e,t,i,r){return!!Ea&&Ea(e,t,i,r)},s.unregisterEvent=function(e,t,i){return!!Ia&&Ia(e,t,i)},((t=(t=e=e||{}).Lib||(t.Lib={})).NVEs||(t.NVEs={})).Dictionary=function(){},Ra=e=e||{},x=Ra.Lib||(Ra.Lib={}),Ba=x.NVEs||(x.NVEs={}),La=Ba.NVEBase,i(qs,La),qs.prototype.unLoadDiagram=function(){if(this.renderer.remove(),this.metaData.unloadDiagrams(),this.scrollHandler.remove(),this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild)},qs.prototype.handleLoadData=function(e){this.renderer.render(e),this.metaData.addDiagram(e)},qs.prototype.create=function(e){var t,i=this,r=this.Features.length;for(this.RTPUItem=e,this.Attributes=Ba.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.metaData=new Ba.Data.FlowDiagramMetaData(this.Attributes,e,this.Templates),this.scrollHandler=new Ba.FlowDiagramScrollHandler(this),this.zoomHandler=new Ba.FlowDiagramZoomHandler(this),this.metaData.scrollHandler=this.scrollHandler,this.restoreScrollPos={x:0,y:0},this.dom||(this.dom=Ba.Features.Shape.SvgShape.CreateSvgElement("svg"),this.setDataProvider()),this.metaData.dp=this.dp,this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Step?(this.renderer=new Ba.StepDiagramRenderer(this.dom,this.metaData),this.dataHandler=new Ba.StepDiagramDataHandler(this.metaData)):this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Ladder?(this.renderer=new Ba.LADRenderer(this.dom,this.metaData),this.dataHandler=new Ba.LADDataHandler(this.metaData)):this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.FunctionBlock&&(this.renderer=new Ba.FBDRenderer(this.dom,this.metaData),this.dataHandler=new Ba.FBDDataHandler(this.metaData)),t=0;t<r;t++)this.Features[t].draw(e,this.metaData);return this.isStyleChange&&this.restoreStateOnStyleChange(),this.dp.diagramLoaded&&"function"==typeof this.dp.diagramLoaded&&setTimeout(function(){var e="step"===i.metaData.diagramType?"Step":"ladder"===i.metaData.diagramType?"LAD":"FBD";(i.isStyleChange&&"step"===i.metaData.diagramType||!i.isStyleChange)&&i.dp.diagramLoaded(e)},0),this.propertyChanged("height"),this.propertyChanged("width"),this.dom},qs.prototype.setDataProvider=function(){this.dp=this.RTPUItem.Store.control.handler.getDataProvider(this.RTPUItem.Store),this.dp&&this.dp.register&&(this.dp.register("onAdded",this.onAdded.bind(this)),this.dp.register("onModified",this.onModified.bind(this)),this.dp.register("onValueChanged",this.onValueChanged.bind(this)),this.dp.register("onShowNext",this.onShowNext.bind(this)),this.dp.register("onZoom",this.zoomHandler.onZoom.bind(this.zoomHandler)),this.dp.register("onLanguageChanged",this.onLanguageChanged.bind(this)),this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Step?this.dp.register("onAutoModeToggle",this.onAutoModeToggle.bind(this)):this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.FunctionBlock&&this.dp.register("requestInitialBlock",this.getInitialBlock.bind(this)))},qs.prototype.removeDataProvider=function(){this.dp&&this.dp.unRegister&&(this.dp.unRegister("onAdded",this.onAdded.bind(this)),this.dp.unRegister("onModified",this.onModified.bind(this)),this.dp.unRegister("onValueChanged",this.onValueChanged.bind(this)),this.dp.unRegister("onShowNext",this.onShowNext.bind(this)),this.dp.unRegister("onZoom",this.zoomHandler.onZoom.bind(this.zoomHandler)),this.dp.unRegister("onLanguageChanged",this.onLanguageChanged.bind(this)),this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Step?this.dp.unRegister("onAutoModeToggle",this.onAutoModeToggle.bind(this)):this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.FunctionBlock&&this.dp.unRegister("requestInitialBlock",this.getInitialBlock.bind(this)))},qs.prototype.remove=function(){this.isStyleChange?(this.storeStateOnStyleChange(),this.removeDataProvider(),this.scrollHandler.remove()):(this.dp&&this.dp.unRegister(),this.unLoadDiagram(),this.renderer.remove(!0),this.renderer=null,this.viewBox=null,this.dataHandler.remove(),this.dataHandler=null,this.zoomHandler.remove(),this.zoomHandler=null),this.dp=null,this.metaData.remove(),this.metaData=null,this.scrollHandler=null,La.prototype.remove.call(this)},qs.prototype.getScrollHandler=function(){return this.scrollHandler},qs.prototype.onAdded=function(e){if("LAD"===e.Type&&this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Ladder||"Step"===e.Type&&this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Step||"FBD"===e.Type&&this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.FunctionBlock){this.unLoadDiagram();for(var t=0,i=e.Data;t<i.length;t++){var r=i[t],r=this.dataHandler.parseData(JSON.parse(JSON.stringify(r)));this.handleLoadData(r),this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Step&&this.handleAutoMode()}this.propertyChanged()}},qs.prototype.onModified=function(e){var t;"Step"===e.Type&&this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Step?(t=this.metaData.diagrams[0]).setActiveStatus(e.Data):"LAD"===e.Type&&this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Ladder?(t=this.metaData.getDiagram(e.Name.Key))&&t.setActiveStatus(e.Data):"FBD"===e.Type&&this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.FunctionBlock&&(t=this.metaData.getDiagram(e.Name.Key))&&t.setActiveStatus(e.Data)},qs.prototype.onValueChanged=function(e){var t;"LAD"===e.Type&&this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Ladder?null!=(t=this.metaData.getDiagram(e.Name.Key))&&t.setData(e.Data):"FBD"===e.Type&&this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.FunctionBlock&&null!=(t=this.metaData.getDiagram(e.Name.Key))&&t.setData(e.Data)},qs.prototype.onShowNext=function(e){this.unLoadDiagram(),this.onAdded(e)},qs.prototype.onLanguageChanged=function(e){if(e&&e.Data&&0<e.Data.length)for(var t=e.Data.length,i=e.Type,r=0;r<t;r++){var a=e.Data[r],n=void 0;"Step"===i&&this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Step?n=this.metaData.diagrams[0]:("LAD"===i&&this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Ladder||"FBD"===i&&this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.FunctionBlock)&&(n=this.metaData.getDiagram(a.Name.Key)),n&&n.update(a)}},qs.prototype.propertyChanged=function(e){var t;"height"===e?(this.height=parseFloat(this.Attributes.height),this.metaData.dim.height=this.height):"width"===e&&(this.width=parseFloat(this.Attributes.width),this.metaData.dim.width=this.width),0<this.height&&0<this.width&&(this.viewBox?(this.viewBox.width=this.width/this.metaData.zoomFactor,this.viewBox.height=this.height/this.metaData.zoomFactor):(this.dom.setAttribute("viewBox","0 0 "+this.width/this.metaData.zoomFactor+" "+this.height/this.metaData.zoomFactor),this.viewBox=this.dom.viewBox.baseVal,this.dom.setAttribute("style","pointer-events: bounding-box;")),this.height<this.renderer.totalHeight?(t=this.restoreScrollPos.y,this.scrollHandler.loadVertScrollBar(this.renderer.totalHeight,t*this.metaData.zoomFactor)):this.scrollHandler.removeVertScrollBar(),this.width<this.renderer.totalWidth?(t=this.restoreScrollPos.x,this.scrollHandler.loadHorizScrollBar(this.renderer.totalWidth,t*this.metaData.zoomFactor)):this.scrollHandler.removeHorizScrollBar(),this.scrollHandler.setHScrollBarPosition(),this.scrollHandler.setVScrollBarPosition())},qs.prototype.update=function(){},Object.defineProperty(qs.prototype,"isStyleChange",{get:function(){var e=!1;return e=this.dp&&"function"==typeof this.dp.isStyleChange?this.dp.isStyleChange():e},enumerable:!1,configurable:!0}),Object.defineProperty(qs.prototype,"zoomFactor",{get:function(){var e=1;return e=this.dp&&"function"==typeof this.dp.isStyleChange?this.dp.getZoomFactor():e},enumerable:!1,configurable:!0}),qs.prototype.onAutoModeToggle=function(e){this.metaData.diagramType===Ba.Data.FlowDiagramType.Step&&(this.metaData.isAutoMode=e,this.handleAutoMode())},qs.prototype.getInitialBlock=function(e){var t,i,r=this.metaData.getDiagram(e);r&&(i=null==(t=r.getInitialBlock())?void 0:t.firstInPin,this.dp.setInitialBlock({diagTitle:e,blockId:t?t.id:null==(e=r.getStartElement())?void 0:e.id,pinName:null==i?void 0:i.pin}))},qs.prototype.handleAutoMode=function(){var r=this;this.renderer.handleAutoMode(this.metaData.isAutoMode),this.metaData.diagrams.forEach(function(e){var t,i=e;for(t in i.flowLines)i.flowLines[t].decoratorElements.forEach(function(e){e.subType===Ba.Data.FlowLineDecoratorSubType.JumpOut&&e.handleAutoMode(r.metaData.isAutoMode)})})},qs.prototype.storeStateOnStyleChange=function(){var n=this,o=new Ba.Data.FlowDiagramStateData;o.scrollX=this.scrollHandler.getScrollXPos(),o.scrollY=this.scrollHandler.getScrollYPos(),this.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Step&&(o.selectedBlockDetails=this.renderer.getSelectedBlockDetails(),o.activeBlockDetails=this.renderer.getActiveBlockDetails(),o.elementsToActivate=this.metaData.elemToActivateOnReRender),o.diagram=[],this.metaData.diagrams.forEach(function(e){var t,i="",r="",a=(n.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Ladder&&(t=e.titleKey,i=e.getTitleText()[t].textContent,r=null==(a=e.getErrorDescription())?void 0:a.textContent,o.activeData=e.getActiveStatus(),o.ladOperandData=e.getOperandData()),n.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.FunctionBlock&&(t=e.titleKey,i=e.getTitleText()[t].textContent,r=null==(a=e.getErrorDescription())?void 0:a.textContent,o.activeData=e.getActiveData(),o.operandData=e.getOperandData()),{name:i,errorText:r=n.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Step?null==(t=e.getErrorDescription())?void 0:t.textContent:r,connDetails:e.connDetails,list:e.list});o.diagram.push(a)}),Ba.Data.FlowDiagramStateStore.store(this.RTPUItem.Store.props.ElementID,this.metaData.diagramType,o)},qs.prototype.restoreStateOnStyleChange=function(){var o=this,s=(this.metaData.zoomFactor=this.zoomFactor,this.metaData.isCompactMode=this.zoomFactor<=.7,Ba.Data.FlowDiagramStateStore.retrieve(this.RTPUItem.Store.props.ElementID,this.metaData.diagramType));null!=s&&s.diagram.forEach(function(e){var i;if(o.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Step){if((i=new Ba.Data.StepDiagramModel(o.metaData.getNextDiagramId(),o.metaData)).connDetails=e.connDetails,i.errorDescription=e.errorText,i.list=e.list,o.dataHandler.populateEntities(i),o.handleLoadData(i),0<s.selectedBlockDetails.diagramId&&o.renderer.selectionHandler(s.selectedBlockDetails.blockId,s.selectedBlockDetails.diagramId,!1),0<s.activeBlockDetails.length){for(var t=[],r=0,a=s.activeBlockDetails;r<a.length;r++){var n=a[r];t.push({Key:n.blockId,Type:"Block",Data:{isActive:!0,Fore:n.foreColor,Back:n.backColor}})}i.setActiveStatus(t)}0<s.elementsToActivate.length&&(o.metaData.elemToActivateOnReRender=s.elementsToActivate,s.elementsToActivate.forEach(function(e){var t=i.getElementDetails(e.id);t instanceof Ba.Data.FlowLineElement?t.updateActivationStatus(!0):t instanceof Ba.Data.BranchElement&&(e=i.getElementDetails(e.ref),t.updateActivationStatus(!0,e))}))}else o.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.Ladder?((i=new Ba.Data.LADModel(o.metaData.getNextDiagramId(),o.metaData)).connDetails=e.connDetails,i.list=e.list,i.titleText={Key:e.name,Value:e.name},i.errorDescription=e.errorText,o.dataHandler.populateEntities(i),o.metaData.activeData=s.activeData,o.metaData.operandData=s.ladOperandData,o.handleLoadData(i)):o.metaData.diagramType===Ra.Lib.NVEs.Data.FlowDiagramType.FunctionBlock&&((i=new Ba.Data.FBDModel(o.metaData.getNextDiagramId(),o.metaData)).connDetails=e.connDetails,i.list=e.list,i.titleText={Key:e.name,Value:e.name},i.errorDescription=e.errorText,o.dataHandler.populateEntities(i),o.metaData.activeData=s.activeData,o.metaData.operandData=s.operandData,o.handleLoadData(i))}),s&&(this.restoreScrollPos={x:s.scrollX,y:s.scrollY})},Ba.FlowDiagram=qs,t=(t=e=e||{}).Lib||(t.Lib={}),Ma=t.NVEs||(t.NVEs={}),Fa=Ma.NVEBase,i(Ks,Fa),Ks.prototype.create=function(e){return Fa.prototype.create.call(this,e),this.Attributes=Ma.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.defs||(this.defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this.dom.appendChild(this.defs)),this.isValid()&&(this.initialized=!0,this.metaData=new Ma.Data.MetaData(this.defs,!0,this)),this.draw()},Ks.prototype.update=function(){this.isValid()&&(this.subtemplatePool.forEach(function(e){e.remove(!0,!0,!1)}),this.subtemplatePool=[],this.removeScrollbar(),this.draw())},Ks.prototype.remove=function(){this.removeScrollbar(),this.isScrollingNeeded&&Ma.isAppModeRuntime()&&(Ma.unregisterEvent(this.g,Ma.enumEventType.wheel,this.onMouseWheel.bind(this)),Ma.unregisterEvent(this.g,Ma.enumEventType.pan,this.onPan.bind(this))),this.metaData=this.defs=this.g=null,this.subtemplatePool.forEach(function(e){e.remove(!0)}),this.subtemplatePool.length=0,Fa.prototype.remove.call(this)},Ks.prototype.draw=function(){this.startX=parseInt(this.Attributes["start-x"]),this.startY=parseInt(this.Attributes["start-y"]),this.width=parseInt(this.Attributes.width),this.height=parseInt(this.Attributes.height),this.itemSize=parseInt(this.Attributes["item-size"]),this.layout=this.Attributes.layout;var e,t,i,r=this.Attributes.items,a=this.Templates[""];return r&&r.length&&a&&("horizontal"===this.layout?r.length*this.itemSize>this.width&&(this.isScrollingNeeded=!0):r.length*this.itemSize>this.height&&(this.isScrollingNeeded=!0),this.g||(this.g=document.createElementNS("http://www.w3.org/2000/svg","g"),this.isScrollingNeeded&&Ma.isAppModeRuntime()&&(Ma.registerEvent(this.g,this.RTPUItem,Ma.enumEventType.wheel,this.onMouseWheel.bind(this)),Ma.registerEvent(this.g,this.RTPUItem,Ma.enumEventType.pan,this.onPan.bind(this)))),this.isScrollingNeeded&&(i=t=e=a=void 0,i="horizontal"===this.layout?(a=this.width,e=this.scrollbarWidth,t=this.startX,this.startY+this.height-e):(a=this.scrollbarWidth,e=this.height,t=this.startX+this.width-a,this.startY),this.scrollbar=Ma.Utilities.createScrollBarObj(this,"horizontal"==this.layout?"Horizontal":"Vertical",{Height:e,Width:a,BeginValue:1,EndValue:r.length+1,VisibleValueRange:Math.floor(this.height/this.itemSize),SmallStepValueRange:r.length,CurrentValue:this.currentScrollbarValue,Left:t,cbOnChanged:this.cbOnChanged.bind(this),cbOnTemplateLoaded:this.cbOnTemplateLoaded.bind(this),cbOnCommand:this.cbOnCommand.bind(this)}),Ma.loadSubTemplate(this.scrollbar.node,this.scrollbar,"ScrollBarSystemPart",this.scrollbar.props.RenderingTemplate,this.scrollbar.cbOnChanged,this.scrollbar.cbOnTemplateLoaded,{ActualX:t,ActualY:i,ActualWidth:a,ActualHeight:e})),this.drawItems(),this.dom.appendChild(this.g)),this.dom},Ks.prototype.cbOnTemplateLoaded=function(e,t){e===this.scrollbar?this.scrollBarTemplateInstance=t:Ma.removeSubTemplate(t)},Ks.prototype.cbOnChanged=function(e,t){this.currentScrollbarValue=t,this.drawItems()},Ks.prototype.cbOnCommand=function(e,t,i){},Ks.prototype.isValid=function(){var e;return isNaN(parseInt(this.Attributes["start-x"]))?(Ma.trace(Ma.enumTraceMode.Warning,"Cannot draw a ScrollableArea with invalid start-x"),!1):isNaN(parseInt(this.Attributes["start-y"]))?(Ma.trace(Ma.enumTraceMode.Warning,"Cannot draw a ScrollableArea with invalid start-y"),!1):isNaN(parseInt(this.Attributes.width))?(Ma.trace(Ma.enumTraceMode.Warning,"Cannot draw a ScrollableArea with invalid width"),!1):isNaN(parseInt(this.Attributes.height))?(Ma.trace(Ma.enumTraceMode.Warning,"Cannot draw a ScrollableArea with invalid height"),!1):(e=parseInt(this.Attributes["item-size"]),isNaN(e)||e<0?(Ma.trace(Ma.enumTraceMode.Warning,"Cannot draw a ScrollableArea with invalid item size"),!1):"vertical"===this.Attributes.layout||"horizontal"===this.Attributes.layout||(Ma.trace(Ma.enumTraceMode.Warning,'Cannot draw a ScrollableArea with invalid layout (must be either "horizontal" oder "vertical")'),!1))},Ks.prototype.removeScrollbar=function(){this.isScrollingNeeded&&(this.scrollBarTemplateInstance&&(Ma.removeSubTemplate(this.scrollBarTemplateInstance),this.scrollBarTemplateInstance=null),this.scrollbar=null,this.isScrollingNeeded=!1,this.currentScrollbarValue=1)},Ks.prototype.drawItems=function(){for(var e=this.Attributes.items,t=this.Templates[""],i=this.g.getElementsByClassName("scrollablearea-item");i.length;)this.g.removeChild(i[0]);if(e&&e.length&&t){var r=void 0,a=void 0,n=0,o=0;"horizontal"===this.layout?(r=n=this.itemSize,a=this.height,e.length*r>this.width&&(this.isScrollingNeeded=!0,this.numberOfVisibleItems=Math.floor(this.width/r),a-=this.scrollbarWidth)):(r=this.width,a=o=this.itemSize,e.length*a>this.height&&(this.isScrollingNeeded=!0,this.numberOfVisibleItems=Math.floor(this.height/a),r-=this.scrollbarWidth));for(var s=0,l=this.filter(e,this.isScrollingNeeded,this.currentScrollbarValue-1,Math.ceil(this.height/a));s<l.length;s++){for(var u=l[s],h=void 0,d=0,c=0;c<e.length;c++)if(e[c]===u){d=c;break}(h=this.subtemplatePool[d]||(u.$index=d,u.$count=e.length,this.subtemplatePool[d]=this.RTPUItem.createSubtemplate(this,t,u,null,r,a))).RootNode.setAttribute("x",this.startX-(this.currentScrollbarValue-d-1)*n),h.RootNode.setAttribute("y",this.startY-(this.currentScrollbarValue-d-1)*o),h.RootNode.setAttribute("width",r),h.RootNode.setAttribute("height",a),h.RootNode.setAttribute("class","scrollablearea-item"),this.g.appendChild(h.RootNode),0}}},Ks.prototype.filter=function(e,t,i,r){if(t){for(var a=[],n=0,o=e;n<o.length;n++){var s=o[n];a.push(s)}return a.slice(i,i+r)}return e},Ks.prototype.onMouseWheel=function(e){var t=void 0!==e.deltaY?e.deltaY:e.detail;this.scroll(t=t<0?-1:1),e.preventDefault(),e.stopPropagation()},Ks.prototype.onPan=function(e){this.scroll("horizontal"===this.layout?e.deltaX:e.deltaY),e.preventDefault(),e.stopPropagation()},Ks.prototype.scroll=function(e){this.isScrollingNeeded&&(this.setCurrentScrollbarValue(this.currentScrollbarValue+e),this.scrollbar.templateInstance.setHmiProps(this.currentScrollbarValue,"HmiProps.CurrentValue"),this.scrollbar.templateInstance.update(),this.drawItems())},Ks.prototype.setCurrentScrollbarValue=function(e){this.currentScrollbarValue=e,this.currentScrollbarValue<this.scrollbar.props.BeginValue?this.currentScrollbarValue=this.scrollbar.props.BeginValue:this.currentScrollbarValue>this.scrollbar.props.EndValue-this.numberOfVisibleItems&&(this.currentScrollbarValue=this.scrollbar.props.EndValue-this.numberOfVisibleItems)},Ks.default={"start-x":"0","start-y":"0",layout:"vertical"},Ma.ScrollableArea=Ks,x=(x=e=e||{}).Lib||(x.Lib={}),Ha=x.NVEs||(x.NVEs={}),Oa=Ha.NVEElementBase,i(Zs,Oa),Zs.prototype.create=function(e){return Oa.prototype.create.call(this,e),this.dom},Zs.prototype.checkAndConvertEnums=function(){var e;"number"==typeof this.Attributes.orientation&&(null!=(e=Ha.Utilities.getEnumKeyByValue("HmiOrientation",this.Attributes.orientation))?this.Attributes.orientation=e:Ha.trace(Ha.enumTraceMode.Warning,"Can't draw a StraightDial with invalid orientation enum"))},Zs.prototype.isValid=function(){return this.Attributes.length?0===parseInt(this.Attributes.length)?(Ha.trace(Ha.enumTraceMode.Warning,"Can't draw a StraightDial with length 0"),!1):this.Attributes.orientation&&"string"==typeof this.Attributes.orientation?isNaN(parseInt(this.Attributes["start-x"]))?(Ha.trace(Ha.enumTraceMode.Warning,"Can't draw a StraightDial with invalid start-x"),!1):isNaN(parseInt(this.Attributes["start-y"]))?(Ha.trace(Ha.enumTraceMode.Warning,"Can't draw a StraightDial with invalid start-y"),!1):Oa.prototype.isValid.call(this):(Ha.trace(Ha.enumTraceMode.Warning,"Can't draw a StraightDial with invalid orientation"),!1):(Ha.trace(Ha.enumTraceMode.Warning,"Can't draw a StraightDial without length"),!1)},Zs.prototype.getPoles=function(e){var t=new Array,i=new Ha.Data.PoleStraight(e[0].beginX,e[0].beginY,e[0].beginValue),e=new Ha.Data.PoleStraight(e[0].endX,e[0].endY,e[0].endValue);return t.push(i),t.push(e),t},Zs.prototype.getStructure=function(){var e,t,i=new Array,r=(this.Attributes.orientation&&"vertical"==this.Attributes.orientation?(r=parseFloat(this.Attributes["start-x"]),e=parseFloat(this.Attributes["start-x"]),t=parseFloat(this.Attributes["start-y"]),a=parseFloat(this.Attributes["start-y"])+parseFloat(this.Attributes.length)):(r=parseFloat(this.Attributes["start-x"]),e=parseFloat(this.Attributes["start-x"])+parseFloat(this.Attributes.length),a=parseFloat(this.Attributes["start-y"]),t=parseFloat(this.Attributes["start-y"])),new Ha.Data.SectionStraight(r,a,e,t,0,parseFloat(this.Attributes.length))),a=(i.push(r),this.getPoles(i));return new Ha.Data.HierarchyLevel(i,a,this)},Zs.default={"start-x":"0","start-y":"0",orientation:"horizontal","begin-surcharge":"0","end-surcharge":"0"},Ha.StraightDial=Zs,t=(t=e=e||{}).Lib||(t.Lib={}),_=t.NVEs||(t.NVEs={}),Na=_.NVEBase,i(B,Na),B.prototype.create=function(e){var t,i,r,a,n,o=this.Features.length,s=document.createElementNS("http://www.w3.org/2000/svg","g");for(this.RTPUItem=e,this.projectVersionMajor=_.Utilities.getProjectMajorVersion(this.RTPUItem),this.data=new _.Data.GridMetaData,this.data.instanceID=this.InstanceId,this.Attributes=_.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.data.init(this.Attributes,!0,0,this.projectVersionMajor),this.data.callBacks.dragAutoSelect=this.onDragAutSelection.bind(this),this.dom?this.data.gridEvents.updateBindings(this.data,this.RTPUItem):(this.dom=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.dom.setAttribute("width",this.data.tableProps.width),this.dom.setAttribute("height",this.data.tableProps.height),this.dom.setAttribute("x",this.data.tableProps.startX),this.dom.setAttribute("y",this.data.tableProps.startY),this.data.gridEvents=new _.Data.GridEvents(this.data,this.RTPUItem),!1!==e.Store.props.Enabled&&this.data.gridEvents.addEvents(this.dom,this.boundedSetValue),this.setDataProvider()),a=0;a<o;a++)if((n=this.Features[a])instanceof _.Features.Gridlines){(this.data.featureList.Gridlines=n).draw(e,this.data);break}for(a=0;a<o;a++)t=!1,(n=this.Features[a])instanceof _.Features.Header?(this.data.headerGroup=s,this.data.headerGroup.setAttribute("id","headerGroup"),this.data.featureList.Header=n,t=!0):n instanceof _.Features.RecordHeader?(this.data.recordHeaderGroup=s.cloneNode(),this.data.recordHeaderGroup.setAttribute("id","recordHeaderGroup"),this.data.featureList.RecordHeader=n,t=!0):n instanceof _.Features.DataTemplates?(this.data.dataTemplateGroup=s.cloneNode(),this.data.dataTemplateGroup.setAttribute("id","dataTemplateGrp"),this.data.featureList.DataTemplates=n,t=!0):n instanceof _.Features.RowBackground?(this.data.rowBackgoundGroup=s.cloneNode(),this.data.rowBackgoundGroup.setAttribute("id","rowBackgoundGroup"),this.data.featureList.RowBackground=n,t=!0):n instanceof _.Features.ColumnBackGround?(this.data.columnBackgoundGroup=s.cloneNode(),this.data.columnBackgoundGroup.setAttribute("id","columnBackgoundGroup"),this.data.featureList.ColumnBackGround=n,t=!0):n instanceof _.Features.SelectionBorder&&(this.data.featureList.SelectionBorder=n),r=e.rootItem.RootFocusManager,this.focusRect||(this.focusRect=r.createFocusRect(e.InstanceId,0,{x:0,y:0,width:0,height:0},!1),r.registerFocusArea(e,this.focusRect,this.onFocus.bind(this),this.onFocusOut.bind(this),this.onKeyDown.bind(this),!1)),t&&n.draw(e,this.data);return this.appendFeatures(),this.prevDataInstance={previousIndex:0,previousValue:0,rowIndex:0,columnIndex:0},(_.isAppModeRuntime()||this.data.configuration.Columns&&0<this.data.configuration.Columns.length)&&this.createHorScrollBar(),(i=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID)||this.RTPUItem.Store.control.handler.dataProvider).onTableCreated(this.data.instanceID),i.hasHorScollBar=this.data.tableProps.hasHorScollBar,this.dom},B.prototype.appendFeatures=function(){this.data.gridLineLayer.inBackgroundGroup&&this.dom.appendChild(this.data.gridLineLayer.inBackgroundGroup),this.data.rowBackgoundGroup&&this.dom.appendChild(this.data.rowBackgoundGroup),this.data.gridLineLayer.onRowsColumnsGroup&&this.dom.appendChild(this.data.gridLineLayer.onRowsColumnsGroup),this.data.columnBackgoundGroup&&this.dom.appendChild(this.data.columnBackgoundGroup),this.data.gridLineLayer.onColumnsGroup&&this.dom.appendChild(this.data.gridLineLayer.onColumnsGroup),this.data.headerGroup&&this.dom.appendChild(this.data.headerGroup),this.data.recordHeaderGroup&&this.dom.appendChild(this.data.recordHeaderGroup),this.data.dataTemplateGroup&&this.dom.appendChild(this.data.dataTemplateGroup),this.data.gridLineLayer.onTopGroup&&this.dom.appendChild(this.data.gridLineLayer.onTopGroup)},B.prototype.onFocus=function(){this.RTPUItem.onFocus()},B.prototype.onFocusOut=function(){this.RTPUItem.onFocusOut()},B.prototype.handleVerticalSwipe=function(e){var t,i,r,a,n,o=0;!this.data.tableProps.alwaysShowRecent&&this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(t=this.verticalScrollBase.props.EndValue-this.verticalScrollBase.props.VisibleValueRange,i=(this.data.viewport.getDisplayedRowCount()+1)*this.data.tableProps.cellHeight,a=(r=i*e)/5,this.swipeId=setInterval(function(){o+=a,Math.abs(o)>=Math.abs(r)&&(clearInterval(this.swipeId),this.swipeId=0),n=this.verticalScrollBase.props.CurrentValue-a,t<n?n=t:n<this.verticalScrollBase.props.BeginValue&&(n=this.verticalScrollBase.props.BeginValue),this.cbOnProcessValueChanged(null,n),this.verticalScrollBase.templateInstance.setHmiProps(n,"HmiProps.CurrentValue"),this.verticalScrollBase.templateInstance.update()}.bind(this),50))},B.prototype.handleHorizontalSwipe=function(e){var t,i,r,a,n=0;this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(a=Math.ceil(Math.abs(e)),e<0&&(a=-a),e=(t=this.horizontalScrollBase.props.EndValue-this.horizontalScrollBase.props.VisibleValueRange)/this.horizontalScrollBase.props.SmallStepValueRange,r=(i=e*a)/5,this.swipeId=setInterval(function(){n+=r,Math.abs(n)>=Math.abs(i)&&(clearInterval(this.swipeId),this.swipeId=0),a=this.horizontalScrollBase.props.CurrentValue-r,t<a?a=t:a<this.horizontalScrollBase.props.BeginValue&&(a=this.horizontalScrollBase.props.BeginValue),this.cbOnHorProcessValueChanged(null,a),this.horizontalScrollBase.templateInstance.setHmiProps(a,"HmiProps.CurrentValue"),this.horizontalScrollBase.templateInstance.update()}.bind(this),50))},B.prototype.createHorScrollBar=function(){var e=this.data.viewport.getTotalColumnCount(),t=_.getChromEnum("HmiScrollBarVisibility"),i=this.data.viewport.getColumnCount(),r=this.data.tableProps.width-this.data.tableProps.rowHeaderWidth-this.data.tableProps.leftBorder/2,a=this.getHScrollProps(r),n=e-a.colsToIgnore+a.extraStep,o=this.verticalScrollBase&&this.isCreateVertScrollBarCalled?this.WIDTH_FACTOR:0,s=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID);e>i-a.extraStep&&this.data.tableProps.horizontalScrollbarVisibility===t.Automatic||this.data.tableProps.horizontalScrollbarVisibility===t.Visible?this.horizontalScrollBase?this.horizontalScrollBase.templateInstance&&(this.horizontalScrollBase.templateInstance.setHmiProps(this.data.viewport.getTotalColumnWidth(),"HmiProps.EndValue"),this.horizontalScrollBase.templateInstance.setHmiProps(n,"HmiProps.SmallStepValueRange"),this.horizontalScrollBase.templateInstance.setHmiProps(r,"HmiProps.VisibleValueRange"),this.updateHorScrollBarProps(o),this.horizontalScrollBase.templateInstance.RootNode.setAttribute("y",this.data.tableProps.height-this.SIZE_FACTOR),this.horizontalScrollBase.templateInstance.RootNode.setAttribute("x",this.data.tableProps.rowHeaderWidth),this.horizontalScrollBase.templateInstance.update(),this.data.tableProps.hasHorScollBar=!0):0<this.data.tableProps.width&&(this.horizontalScrollBase=_.Utilities.createScrollBarObj(this,"Horizontal",this.createHScrollData()),this.sbTemplateInst=_.loadSubTemplate(this.horizontalScrollBase.node,this.horizontalScrollBase,"ScrollBarSystemPart",this.horizontalScrollBase.props.RenderingTemplate,this.horizontalScrollBase.cbOnChanged.bind(this),this.horizontalScrollBase.cbOnTemplateLoaded.bind(this)),this.data.gridEvents.addWheelEvent(this.dom,this.boundedSetValue),this.data.tableProps.hasHorScollBar=!0,this.data.tableProps.horScrollBarHeight=this.horizontalScrollBase.props.Height):this.removeHorizontalScrollbar(),this.stepValue=((this.data.viewport.getTotalColumnWidth()-r)/n).toFixed(2),s&&(s.hasHorScollBar=this.data.tableProps.hasHorScollBar),this.getVisibleRowsCount()},B.prototype.getVisibleRowsCount=function(){return this.getVisibleRows(0).length},B.prototype.getHorScrollBarSVGNode=function(){if(this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance)return this.horizontalScrollBase.templateInstance.RootNode},B.prototype.removeHorizontalScrollbar=function(){this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(_.removeSubTemplate(this.horizontalScrollBase.templateInstance),this.horizontalScrollBase=null,this.data.tableProps.hasHorScollBar=!1,!_.isAppModeRuntime()||this.verticalScrollBase&&this.verticalScrollBase.templateInstance||this.data.gridEvents.removeWheelEvent(this.dom,this.boundedSetValue),this.prevDataInstance.columnIndex=0)},B.prototype.cbOnCommand=function(e,t,i){},B.prototype.reloadOnColumnResize=function(e){var t=this.data.featureList.DataTemplates;this.dummyElement||e===this.dom||(this.dummyElement=e,this.appendDummyElement=!0,this.setDummyElement()),this.data.featureList.Header&&this.data.tableProps.hasColumnHeader&&this.data.featureList.Header.draw(this.RTPUItem,this.data),this.data.featureList.Gridlines&&this.data.featureList.Gridlines.draw(this.RTPUItem,this.data),(_.isAppModeRuntime()&&(this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance||!this.data.viewport.autocompleteColumnVisible)||!_.isAppModeRuntime())&&this.createHorScrollBar(),t&&(t.draw(this.RTPUItem,this.data),(e=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID).requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()))&&this.data.viewport.setDisplayedRowCount(e.length),t=t.loadData(e,0,e.length-1,!1),this.data.tableProps.alwaysShowRecent||(this.clearSelection(),this.updateSelectionDetails(t)))},B.prototype.cbOnTemplateLoaded=function(e,t){e.templateInstance.RootNode.setAttribute("x",e.props.Left),this.data.tableProps.hasColumnHeader?e.templateInstance.RootNode.setAttribute("y",this.data.tableProps.cellHeight):e.templateInstance.RootNode.setAttribute("y",0),this.verticalScrollBase.recordCount!==this.data.tableProps.totalRecords&&(this.verticalScrollBase.recordCount=this.data.tableProps.totalRecords,this.createVertScrollBar())},B.prototype.cbOnProcessValueChanged=function(e,t){var i,r,a=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),n=this.data.viewport.getSize(),o=this.data.featureList.DataTemplates,t=(this.currPos=Math.ceil(t/this.data.tableProps.cellHeight),this.data.viewport.scrolled(!0),0<n&&this.clearData(0,n),this.data.viewport.updateViewPortIndex(this.currPos),this.data.viewport.setScrolledPos(),a.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),a.lastRowVisible=this.data.viewport.hasHalfRow,a.scrolledValue=this.data.viewport.isScrolled,a.requestRange(a.viewportStartIndex,a.viewportEndIndex,!0));if(t&&this.data.viewport.setDisplayedRowCount(t.length),o.clearEditing(),this.data.featureList.RecordHeader&&this.data.tableProps.hasRowHeader)for(i=this.data.featureList.RecordHeader,r=0;r<n;r++)i.updateCellData(r,this.data.viewport.getStartIndex()+r+1);o&&0<t.length&&(this.clearSelection(),a=o.loadData(t,0,t.length-1,!1),this.updateSelectionDetails(a)),this.prevDataInstance.rowIndex=this.currPos},B.prototype.cbOnHorTemplateLoaded=function(e,t){e.templateInstance.RootNode.setAttribute("x",this.data.tableProps.rowHeaderWidth),e.templateInstance.RootNode.setAttribute("y",this.data.tableProps.height-e.props.Height)},B.prototype.cbOnHorProcessValueChanged=function(e,t){var i=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),r=Number((t/this.stepValue).toFixed(0));r!==this.prevDataInstance.columnIndex&&(this.prevDataInstance.columnIndex=r,this.clearSelection(),this.data.viewport.updateVisibleColumns(this.prevDataInstance.columnIndex),(r=i.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex(),!0))&&this.data.viewport.setDisplayedRowCount(r.length),this.appendDummyElement=!0,this.setDummyElement(),this.data.featureList.Header&&this.data.featureList.Header.draw(this.RTPUItem,this.data),this.data.featureList.Gridlines&&this.data.featureList.Gridlines.draw(this.RTPUItem,this.data),this.data.featureList.DataTemplates&&(this.data.featureList.DataTemplates.draw(this.RTPUItem,this.data),i=this.data.featureList.DataTemplates.loadData(r,0,r.length-1),this.data.tableProps.alwaysShowRecent?(this.data.selectionDetail.pushSelectedRowIndices(this.data.selectionDetail.getSelection().rowIndex,!1),this.data.selection.setAutoSelection()):this.updateSelectionDetails(i)),this.data.featureList.ColumnBackGround&&this.data.featureList.ColumnBackGround.draw(this.RTPUItem,this.data),this.prevDataInstance.previousValue=t)},B.prototype.onSwipe=function(e,t){0===this.swipeId&&(Math.abs(t)>Math.abs(e)?this.handleVerticalSwipe(t):this.handleHorizontalSwipe(e))},B.prototype.remove=function(){this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(_.removeSubTemplate(this.horizontalScrollBase.templateInstance),this.horizontalScrollBase=null),this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(_.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null,this.isCreateVertScrollBarCalled=!1),this.data.gridEvents.remove(this.dom,this.boundedSetValue),this.currentTarget=null,this.data.gridEvents=null,this.data.clear(),this.data=null,this.sbTemplateInst=null,this.modifiedProperty=null,this.prevDataInstance=null,this.focusRect=null,clearInterval(this.swipeId),this.swipeId=0,this.dummyElement=null,Na.prototype.remove.call(this)},B.prototype.update=function(){var e,t,i,r,a,n=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID);if(n=n||this.RTPUItem.Store.control.handler.getDataProvider(this.RTPUItem.Store),this.resetScrollBarsPosition(n),this.resizeControl){for((this.deltaHeight||this.deltaWidth)&&"function"==typeof n.onResizingStarted&&n.onResizingStarted(this.Attributes.height,this.Attributes.width);0<this.modifiedProperty.length;)this.handlePropertyChange(this.modifiedProperty.splice(0,1)[0]);if(this.data.init(this.Attributes,this.updateConfig,this.prevDataInstance.columnIndex,this.projectVersionMajor,!0),n.viewportSize=this.data.viewport.getSize(),n.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),n.hasHalfRow=this.data.viewport.hasHalfRow,n.scrolledValue=this.data.viewport.isScrolled,n&&(n.config=this.data.configuration,void 0!==n.autoScroll)&&(this.data.tableProps.alwaysShowRecent=n.autoScroll),this.data.featureList.Header&&(this.data.tableProps.hasColumnHeader?this.data.featureList.Header.draw(this.RTPUItem,this.data):this.data.featureList.Header.remove(!1)),this.data.featureList.RecordHeader&&(this.data.tableProps.hasRowHeader?this.data.featureList.RecordHeader.draw(this.RTPUItem,this.data):this.data.featureList.RecordHeader.remove(!1)),this.drawSelectedFeatures(),(!_.isAppModeRuntime()||!(this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance||!this.data.viewport.autocompleteColumnVisible))&&_.isAppModeRuntime()||this.createHorScrollBar(),this.data.tableProps.alwaysShowRecent){if(this.resizeControl=!1,(e=n.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()))&&this.data.viewport.setDisplayedRowCount(e.length),0<e.length&&(this.data.viewport.updateViewPortIndex(n.viewportStartIndex),i=this.data.featureList.DataTemplates.loadData(e,0,e.length-1,!1,!0),this.updateSelectionDetails(i,!0,!1),this.data.selection.setAutoSelection()),this.data.featureList.RecordHeader&&this.data.tableProps.hasRowHeader)for(r=0;r<this.data.viewport.getSize();r++)this.data.featureList.RecordHeader.updateCellData(r,this.data.viewport.getStartIndex()+r+1);this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(_.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null,this.isCreateVertScrollBarCalled=!1,!_.isAppModeRuntime()||this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance||this.data.gridEvents.removeWheelEvent(this.dom,this.boundedSetValue))}else t=this.data.featureList.DataTemplates,n&&(n.defaultSortDirection===_.getChromEnum("HmiSortDirection").Ascending?this.updateDataWhenSortDirectionIsAsc(n):n.defaultSortDirection===_.getChromEnum("HmiSortDirection").Descending&&this.updateDataWhenSortDirectionIsDesc(n,t)),this.data.viewport.updateViewPortIndex(n.viewportStartIndex),t&&(n.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),(e=n.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()))&&(this.data.viewport.setDisplayedRowCount(e.length),i=t.loadData(e,0,e.length-1),this.clearSelection(),this.updateSelectionDetails(i,!0),this.data.viewport.setDisplayedRowCount(e.length)),this.data.tableProps.totalRecords=n.getTotalRecords()),2!==this.data.tableProps.verticalScrollbarVisibility&&this.createVertScrollBar();this.resizeControl=!1,this.deltaHeight=0}else if(0<this.modifiedProperty.length){for(a=0;a<this.modifiedProperty.length;a++)this.handlePropertyChange(this.modifiedProperty[a]);this.modifiedProperty=[]}this.columnsTypeChanged&&n&&(n.onTableCreated(this.InstanceId),this.columnsTypeChanged=!1)},B.prototype.resetScrollBarsPosition=function(e){e.resetSplitViewScrollBars&&(this.data.viewport.setStartIndex(0),this.removeVerticalScrollbar(),this.removeHorizontalScrollbar(),e.resetSplitViewScrollBars=!1)},B.prototype.updateDataWhenSortDirectionIsAsc=function(e){var t,i;0<this.data.tableProps.totalRecords&&this.data.viewport.getSize()<=this.data.tableProps.totalRecords&&(void 0===this.currPos?(this.data.viewport.setEndIndex(this.data.tableProps.totalRecords),-1<(t=this.data.viewport.getEndIndex()-(this.data.viewport.getSize()-1))?this.data.viewport.setStartIndex(t):(this.data.viewport.setStartIndex(0),this.data.viewport.setEndIndex(this.data.viewport.getSize()-1))):this.updateViewPort(e)),e.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),e.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex());if(this.data.featureList.RecordHeader&&this.data.tableProps.hasRowHeader)for(i=0;i<this.data.viewport.getSize();i++)this.data.featureList.RecordHeader.updateCellData(i,e.viewportStartIndex+i+1)},B.prototype.updateDataWhenSortDirectionIsDesc=function(e,t){var i,r;if(0<this.data.tableProps.totalRecords&&this.data.viewport.getSize()<this.data.tableProps.totalRecords&&(this.updateViewPort(e),e.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),(i=e.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()))&&(t=t.loadData(i,0,i.length-1),this.clearSelection(),this.updateSelectionDetails(t),this.data.viewport.setDisplayedRowCount(i.length)),this.data.featureList.RecordHeader)&&this.data.tableProps.hasRowHeader)for(r=0;r<this.data.viewport.getSize();r++)this.data.featureList.RecordHeader.updateCellData(r,e.viewportStartIndex+r+1)},B.prototype.drawSelectedFeatures=function(){this.data.featureList.Gridlines&&this.data.featureList.Gridlines.draw(this.RTPUItem,this.data),this.data.featureList.SelectionBorder&&this.data.featureList.SelectionBorder.draw(this.RTPUItem,this.data),this.data.featureList.DataTemplates&&this.data.featureList.DataTemplates.draw(this.RTPUItem,this.data),this.data.featureList.RowBackground&&this.data.featureList.RowBackground.draw(this.RTPUItem,this.data),this.data.featureList.ColumnBackGround&&this.data.featureList.ColumnBackGround.draw(this.RTPUItem,this.data)},B.prototype.updateViewPort=function(e){this.data.viewport.setStartIndex(e.viewportStartIndex),(e=this.data.viewport.getStartIndex()+this.data.viewport.getSize()-1)<this.data.tableProps.totalRecords?this.data.viewport.setEndIndex(e):(-1<(e=this.data.viewport.getStartIndex()-Math.ceil(this.deltaHeight/this.data.tableProps.cellHeight))?this.data.viewport.setStartIndex(e):this.data.viewport.setStartIndex(0),this.data.viewport.setEndIndex(this.data.viewport.getStartIndex()+this.data.viewport.getDisplayedRowCount()-1))},B.prototype.redraw=function(){_.isAppModeRuntime()&&this.createHorScrollBar(),this.data.featureList.Header&&this.data.tableProps.hasColumnHeader&&this.data.featureList.Header.draw(this.RTPUItem,this.data),this.data.featureList.RecordHeader&&this.data.tableProps.hasRowHeader&&this.data.featureList.RecordHeader.draw(this.RTPUItem,this.data),this.drawSelectedFeatures()},B.prototype.checkIfUpdateReq=function(e,t){var i,r=!1;if(0<e)for(i=0;i<e;i++)if(t[i].Visible&&0<t[i].Width){r=!0;break}r&&(this.resizeControl=!0,this.updateConfig=!0)},B.prototype.addColumn=function(e){e&&this.data.configuration.Columns.push(e)},B.prototype.removeColumn=function(e){e&&this.data.configuration.Columns.splice(e.index,1)},B.prototype.updateVisibleColWidth=function(e,t){for(var i=0;i<e;i++)t.Columns[i].Visible&&this.data.tableProps.updateColumnWidth(t.Columns[i],t.HeaderSettings.Font)},B.prototype.updateHorScrollBarProps=function(e){this.data.tableProps.hasRowHeader?this.horizontalScrollBase.templateInstance.setHmiProps(this.data.tableProps.width-this.data.tableProps.rowHeaderWidth-e,"HmiProps.Width"):this.horizontalScrollBase.templateInstance.setHmiProps(this.data.tableProps.width-e,"HmiProps.Width")},B.prototype.updateVertScrollBarProps=function(e){this.data.tableProps.hasColumnHeader?(this.verticalScrollBase.templateInstance.setHmiProps(this.data.tableProps.height-this.data.tableProps.cellHeight-(this.horizontalScrollBase?e:0),"HmiProps.Height"),this.verticalScrollBase.templateInstance.setHmiProps(this.data.tableProps.height-this.data.tableProps.cellHeight,"HmiProps.VisibleValueRange"),this.cellHeightChanged&&this.verticalScrollBase.templateInstance.RootNode.setAttribute("y",this.data.tableProps.cellHeight)):(this.verticalScrollBase.templateInstance.setHmiProps(this.data.tableProps.height-e,"HmiProps.Height"),this.verticalScrollBase.templateInstance.setHmiProps(this.data.tableProps.height,"HmiProps.VisibleValueRange"))},B.prototype.updateVertScrollBarCurVal=function(){var e,t=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID);t.scrollToSelection?-1<(e=this.getThumbPosition())&&(this.data.viewport.scrolled(!0),this.data.viewport.updateViewPortIndex(e),this.data.viewport.setScrolledPos(),t.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),t.hasHalfRow=this.data.viewport.hasHalfRow,t.scrolledValue=!0,e=0===e?0:e*this.data.tableProps.cellHeight+this.data.tableProps.cellHeight,this.verticalScrollBase.templateInstance.setHmiProps(e,"HmiProps.CurrentValue")):this.data.viewport.isScrolled||(t.defaultSortDirection===_.getChromEnum("HmiSortDirection").Ascending?this.verticalScrollBase.templateInstance.setHmiProps(this.verticalScrollBase.props.EndValue-this.verticalScrollBase.props.VisibleValueRange,"HmiProps.CurrentValue"):this.data.tableProps.hasColumnHeader&&!this.data.featureList.Header.hasCustomSort()&&this.verticalScrollBase.templateInstance.setHmiProps(0,"HmiProps.CurrentValue"))},B.prototype.updateVertScrollBarCurValOnResize=function(){var e=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID);void 0===this.currPos?e.defaultSortDirection===_.getChromEnum("HmiSortDirection").Ascending?this.verticalScrollBase.templateInstance.setHmiProps(this.verticalScrollBase.props.EndValue-this.verticalScrollBase.props.VisibleValueRange,"HmiProps.CurrentValue"):this.data.tableProps.hasColumnHeader&&!this.data.featureList.Header.hasCustomSort()&&(void 0!==e.verticalScrollbarPosition?this.verticalScrollBase.templateInstance.setHmiProps(e.viewportStartIndex*this.data.tableProps.cellHeight,"HmiProps.CurrentValue"):this.verticalScrollBase.templateInstance.setHmiProps(0,"HmiProps.CurrentValue")):this.verticalScrollBase.templateInstance.setHmiProps(this.data.viewport.getStartIndex()*this.data.tableProps.cellHeight,"HmiProps.CurrentValue")},B.prototype.setCreateScrollBarFlag=function(){this.isCreateVertScrollBarCalled||(this.isCreateVertScrollBarCalled=!0)},B.prototype.propertyChanged=function(e){var t,i,r;"height"===e&&this.data.tableProps.height!==this.Attributes.height?(0<(r=parseFloat(this.Attributes.height))?this.dom.setAttribute("height",r):this.dom.setAttribute("height",0),this.deltaHeight=r-this.data.tableProps.height,this.resizeControl=!0):"width"===e&&this.data.tableProps.width!==this.Attributes.width?(r=parseFloat(this.Attributes.width),this.dom.setAttribute("width",r),this.deltaWidth=r-this.data.tableProps.width,this.resizeControl=!0):"start-y"===e&&this.data.tableProps.startY!==this.Attributes["start-y"]?(this.dom.setAttribute("y",parseFloat(this.Attributes["start-y"])),this.resizeControl=!0):"start-x"===e&&this.data.tableProps.startX!==this.Attributes["start-x"]?(this.dom.setAttribute("x",parseFloat(this.Attributes["start-x"])),this.resizeControl=!0):"auto-scroll"===e?this.toggleAutoScroll(this.Attributes["auto-scroll"]):"config"===e&&(_.isAppModeRuntime()?(t=(r=this.Attributes[e]).Columns?r.Columns.length:0,this.updateVisibleColWidth(t,r),void 0===r.Columns?(this.resizeControl=!0,this.updateConfig=!0,this.prevDataInstance.columnIndex=0,this.removeHorizontalScrollbar()):this.findAndUpdateModifiedProp(r,this.data.configuration,e)):(t=this.Attributes[e].Columns,r=this.data.configuration.Columns,t&&void 0===r?(i=t.length,this.checkIfUpdateReq(i,t)):t&&r&&t.length>r.length?(i=this.searchCreatedColumn(t,r),this.addColumn(i)):t&&r&&t.length<r.length?(i=this.searchPartByPartId(t,r),this.removeColumn(i)):this.findAndUpdateModifiedProp(this.Attributes[e],this.data.configuration,e)))},B.prototype.searchCreatedColumn=function(e,t){var i,r,a=!1,n=e.length,o=t.length;if(0===o&&1===n)return e[0];for(i=0;i<n;i++){for(r=0;r<o;r++)if(e[i].ElementID===t[r].ElementID){a=!0;break}if(!a)return e[i];a=!1}},B.prototype.searchPartByPartId=function(e,t){for(var i,r=!1,a=e.length,n=t.length,o=0;o<n;o++){for(i=0;i<a;i++)if(t[o].ElementID===e[i].ElementID){r=!0;break}if(!r)return{index:o};r=!1}},B.prototype.onDragAutSelection=function(e){var t,i=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID).requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),r=(i&&this.data.viewport.setDisplayedRowCount(i.length),this.data.viewport.getStartIndex()),a=this.data.featureList.RecordHeader,n=this.data.featureList.DataTemplates;if(n&&(this.clearSelection(),"down"===e?(this.data.viewport.hasHalfRow&&this.data.viewport.getEndIndex()===this.data.tableProps.totalRecords&&(e=this.data.viewport.getSize()-1,this.data.viewport.setDisplayedRowCountExplicitly(e),this.clearData(e,1+e)),!this.data.tableProps.alwaysShowRecent&&this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(void 0!==this.currPos?this.currPos++:this.currPos=1,this.setScrollerTo())):(!this.data.tableProps.alwaysShowRecent&&this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(void 0!==this.currPos?this.currPos--:this.currPos=this.verticalScrollBase.props.EndValue,this.setScrollerTo()),this.data.viewport.setDisplayedRowCountExplicitly(this.data.viewport.getSize())),e=n.loadData(i,0,i.length-1),this.updateSelectionDetails(e,!0)),a)for(t=0;t<this.data.viewport.getSize();t++)a.updateCellData(t,r+t+1)},B.prototype.setScrollerTo=function(){this.verticalScrollBase.templateInstance.setHmiProps(this.currPos*this.data.tableProps.cellHeight,"HmiProps.CurrentValue"),this.verticalScrollBase.templateInstance.update()},B.prototype.setValue=function(e){"touchstart"!==e.type&&"touchend"!==e.type||this.isTouchEnabled||(this.isTouchEnabled=!0,this.data.gridEvents.isTouchEnabled=!0),this.handleEvents(e),this.data.gridEvents.isEditInProgress||e.preventDefault()},B.prototype.handleEvents=function(e){this.mousePos=_.Utilities.getMousePoint(e,this.dom),this.mousePos.x=Math.round(100*this.mousePos.x)/100,this.mousePos.y=Math.round(100*this.mousePos.y)/100,"wheel"===e.type?this.handleWheel(e):"twofingerpan"===e.type?this.handleTwoFingerPan(e,this.mousePos):(this.data.gridEvents.setTarget(e,this.mousePos),this.data.gridEvents.routeEvent(e,this.mousePos),this.data.gridEvents.clearTarget(e),"touchend"===e.type&&(this.prevRowIndex=-1,this.dummyElement)&&(this.appendDummyElement&&(this.dom.removeChild(this.dummyElement),this.appendDummyElement=!1),this.dummyElement=null))},B.prototype.handleVerticalScrollBase=function(e){var t,i,r;this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(i=(t=this.verticalScrollBase.props.EndValue-this.verticalScrollBase.props.VisibleValueRange)/this.verticalScrollBase.props.SmallStepValueRange,e>this.prevRowIndex?(r=this.verticalScrollBase.props.CurrentValue-i*(e-this.prevRowIndex))<0&&(r=0):t<(r=this.verticalScrollBase.props.CurrentValue+i*(this.prevRowIndex-e))&&(r=t),this.cbOnProcessValueChanged(null,r),this.verticalScrollBase.templateInstance.setHmiProps(r,"HmiProps.CurrentValue"),this.verticalScrollBase.templateInstance.update(),this.prevRowIndex=e)},B.prototype.handleHorizontalScrollBase=function(e){var t,i,r;this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(i=(t=this.horizontalScrollBase.props.EndValue-this.horizontalScrollBase.props.VisibleValueRange)/this.horizontalScrollBase.props.SmallStepValueRange,this.dummyElement||e.target===this.dom||(this.dummyElement=e.target),e.overallVelocityX<0?t<(r=this.horizontalScrollBase.props.CurrentValue-i*e.overallVelocityX)&&(r=t):(r=this.horizontalScrollBase.props.CurrentValue-i*e.overallVelocityX)<0&&(r=0),this.cbOnHorProcessValueChanged(null,r),this.horizontalScrollBase.templateInstance.setHmiProps(r,"HmiProps.CurrentValue"),this.horizontalScrollBase.templateInstance.update())},B.prototype.handleTwoFingerPan=function(e,t){t.x>this.data.tableProps.rowHeaderWidth&&t.x<this.data.tableProps.width&&t.y>this.data.tableProps.headerHeight&&t.y<this.data.tableProps.height&&(Math.abs(e.overallVelocityY)>Math.abs(e.overallVelocityX)?(t=this.data.helper.getRowIndexByYpos(t.y),-1!==this.prevRowIndex&&this.prevRowIndex===t||(-1===this.prevRowIndex?this.prevRowIndex=t:this.handleVerticalScrollBase(t))):this.handleHorizontalScrollBase(e))},B.prototype.setDummyElement=function(){this.dummyElement&&this.appendDummyElement&&(this.dummyElement.style.display="none",this.dom.appendChild(this.dummyElement))},B.prototype.handleWheel=function(e){var t,i,r,a=void 0!==e.deltaY?e.deltaY:e.detail;e.stopPropagation(),this.data.viewport.getTotalColumnWidth()>this.data.tableProps.width-this.data.tableProps.rowHeaderWidth&&e.shiftKey&&this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance?(r=(i=this.horizontalScrollBase.props.EndValue-this.horizontalScrollBase.props.VisibleValueRange)/this.horizontalScrollBase.props.SmallStepValueRange,a<0?(t=this.horizontalScrollBase.props.CurrentValue-r,this.cbOnHorProcessValueChanged(null,t=t<0?0:t)):(i<(t=this.horizontalScrollBase.props.CurrentValue+r)&&(t=i),this.cbOnHorProcessValueChanged(null,t)),this.horizontalScrollBase.templateInstance.setHmiProps(t,"HmiProps.CurrentValue"),this.horizontalScrollBase.templateInstance.update()):this.data.tableProps.totalRecords>this.data.viewport.getSize()&&this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(r=(i=this.verticalScrollBase.props.EndValue-this.verticalScrollBase.props.VisibleValueRange)/this.verticalScrollBase.props.SmallStepValueRange,a<0?(t=this.verticalScrollBase.props.CurrentValue-r,this.cbOnProcessValueChanged(null,t=t<0?0:t)):(i<(t=this.verticalScrollBase.props.CurrentValue+r)&&(t=i),this.cbOnProcessValueChanged(null,t)),this.verticalScrollBase.templateInstance.setHmiProps(t,"HmiProps.CurrentValue"),this.verticalScrollBase.templateInstance.update())},B.prototype.setDataProvider=function(){var e=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID)||this.RTPUItem.Store.control.handler.dataProvider;e&&(e.register&&(e.register("onAdded",this.onAdded.bind(this)),e.register("onModified",this.onModified.bind(this)),e.register("onRemoved",this.onRemoved.bind(this)),e.register("onFlashing",this.onFlashing.bind(this)),e.register("onColumnMoved",this.onColumnMoved.bind(this)),e.register("onEnabledChanged",this.onEnabledChanged.bind(this)),e.register("getVisibleRows",this.getVisibleRows.bind(this))),e.hasHalfRow=this.data.viewport.hasHalfRow,e.scrolledValue=this.data.viewport.isScrolled,e.hasHorScollBar=this.data.tableProps.hasHorScollBar,e.viewportSize=this.data.viewport.getSize(),e.config=this.data.configuration,e.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),e.instanceID=this.InstanceId)},B.prototype.onEnabledChanged=function(){var e=this.data.featureList.Gridlines,t=this.data.featureList.Header,i=_.isAppModeRuntime()&&this.verticalScrollBase&&this.verticalScrollBase.templateInstance;this.RTPUItem.Store.props.Enabled?(this.data.gridEvents.addEvents(this.dom,this.boundedSetValue),i&&this.data.gridEvents.addWheelEvent(this.dom,this.boundedSetValue)):(this.data.gridEvents.removeEventListeners(this.dom,this.boundedSetValue),i&&this.data.gridEvents.removeWheelEvent(this.dom,this.boundedSetValue)),e.onEnabledChanged(),t.onEnabledChanged()},B.prototype.onAdded=function(e){var t,i,r,a,n=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),o=this.data.featureList.DataTemplates,s=this.data.featureList.RecordHeader;if(void 0===this.data.tableProps.startY&&(this.data.tableProps.startY=parseFloat(this.RTPUItem.RootNode.getAttribute("y"))),this.data.tableProps.defaultSortDirection=n.defaultSortDirection,n){if(this.prevViewPortStatIndex=this.data.viewport.getStartIndex(),this.prevViewPortEndIndex=this.data.viewport.getEndIndex(),r=this.data.viewport.getDisplayedRowCount(),this.data.viewport.setDisplayedRowCount(e.length),this.data.tableProps.totalRecords=n.getTotalRecords(),this.data.viewport.getSize()>this.data.tableProps.totalRecords&&this.data.viewport.scrolled(!1),void 0!==n.autoScroll&&(this.data.tableProps.alwaysShowRecent=n.autoScroll),0<this.data.tableProps.totalRecords?this.data.viewport.updateViewPortIndex(n.viewportStartIndex):this.data.viewport.updateViewPortIndex(0),n.hasHalfRow=this.data.viewport.hasHalfRow,n.scrolledValue=this.data.viewport.isScrolled,this.data.tableProps.hasRowHeader&&(this.data.tableProps.changeHorizontalPosX=this.data.tableProps.calRowHeaderWidth(this.data.configuration,this.data.viewport.getSize()),this.data.tableProps.changeHorizontalPosX&&this.redraw(),this.data.tableProps.changeHorizontalPosX=!1),o.clearEditing(),o&&e&&(0<r&&(this.clearSelection(),r!==e.length)&&r>e.length&&o.clearDataRows(r-(r-e.length),r),0<e.length)&&(r=e.length-1,a=o.loadData(e,0,r,!1)),this.data.tableProps.alwaysShowRecent?this.autoSelectOnAdded(n):(a&&this.data.configuration.GridSelectionMode&&this.updateSelectionDetails(a),this.createVertScrollBar()),i=this.data.viewport.getStartIndex(),this.data.tableProps.hasRowHeader&&i!==this.prevViewPortStatIndex&&s)for(t=0;t<this.data.viewport.getSize();t++)s.updateCellData(t,i+t+1);this.oldAutoScroll=this.data.tableProps.alwaysShowRecent}},B.prototype.onFlashing=function(e){var t=this.data.featureList.DataTemplates;t&&t.handleFlashing(e)},B.prototype.onColumnMoved=function(){this.resizeControl=!0,this.data.viewport.setTotalVisibleColumns(this.data.configuration,!1),this.update()},B.prototype.getVisibleRows=function(e){for(var t=[],i=this.data.tableProps.height,r=(this.data.tableProps.hasColumnHeader&&(i=this.data.tableProps.height-this.data.tableProps.headerHeight),this.horizontalScrollBase&&(i-=this.horizontalScrollBase.props.Height),Math.floor(i/this.data.tableProps.cellHeight)),a=e;a<=e+r-1;a++)t.push(a);return t},B.prototype.createVertScrollBar=function(){var e=this.data.tableProps.totalRecords===this.data.viewport.getSize(),t=this.data.viewport.getSize(),i=t<3?0:20,r=this.getVisibleRowsCount();this.data.tableProps.verticalScrollbarVisibility!==_.getChromEnum("HmiScrollBarVisibility").Collapsed&&(this.data.tableProps.totalRecords>t||this.data.tableProps.hasHorScollBar&&this.data.tableProps.totalRecords>r||this.data.tableProps.verticalScrollbarVisibility===_.getChromEnum("HmiScrollBarVisibility").Visible||e)?(this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(this.data.tableProps.totalRecords>t||this.data.tableProps.hasHorScollBar&&this.data.tableProps.totalRecords>r||e)?(this.updateVertScrollBarProps(i),0===(t=this.data.tableProps.hasHorScollBar?this.data.tableProps.totalRecords-r:this.data.tableProps.totalRecords-this.data.viewport.getDisplayedRowCount())&&e&&t++,this.verticalScrollBase.templateInstance.setHmiProps(this.data.tableProps.totalRecords*this.data.tableProps.cellHeight,"HmiProps.EndValue"),this.verticalScrollBase.templateInstance.setHmiProps(t,"HmiProps.SmallStepValueRange"),this.verticalScrollBase.templateInstance.RootNode.setAttribute("x",this.data.tableProps.width-this.SIZE_FACTOR),this.updateVerticalScrollBarValues(),this.verticalScrollBase.templateInstance.update(),this.isCreateVertScrollBarCalled=!1):this.data.tableProps.verticalScrollbarVisibility!==_.getChromEnum("HmiScrollBarVisibility").Visible||!this.verticalScrollBase||!this.resizeControl&&this.isCreateVertScrollBarCalled?this.isCreateVertScrollBarCalled||(this.verticalScrollBase=_.Utilities.createScrollBarObj(this,"Vertical",this.createVScrollData()),this.verticalScrollBase.recordCount=this.data.tableProps.totalRecords,this.sbTemplateInst=_.loadSubTemplate(this.verticalScrollBase.node,this.verticalScrollBase,"ScrollBarSystemPart",this.verticalScrollBase.props.RenderingTemplate,this.verticalScrollBase.cbOnChanged.bind(this),this.verticalScrollBase.cbOnTemplateLoaded.bind(this)),this.data.gridEvents.addWheelEvent(this.dom,this.boundedSetValue),this.isCreateVertScrollBarCalled=!0):(this.verticalScrollBase.templateInstance&&(_.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null),this.verticalScrollBase=_.Utilities.createScrollBarObj(this,"Vertical",this.createVScrollData()),this.verticalScrollBase.recordCount=this.data.tableProps.totalRecords,this.sbTemplateInst=_.loadSubTemplate(this.verticalScrollBase.node,this.verticalScrollBase,"ScrollBarSystemPart",this.verticalScrollBase.props.RenderingTemplate,this.verticalScrollBase.cbOnChanged.bind(this),this.verticalScrollBase.cbOnTemplateLoaded.bind(this)),this.data.gridEvents.addWheelEvent(this.dom,this.boundedSetValue),this.setCreateScrollBarFlag()),this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(this.updateHorScrollBarProps(this.WIDTH_FACTOR),this.horizontalScrollBase.templateInstance.update())):this.removeVerticalScrollbar()},B.prototype.updateVerticalScrollBarValues=function(){this.resizeControl?this.updateVertScrollBarCurValOnResize():this.updateVertScrollBarCurVal()},B.prototype.removeVerticalScrollbar=function(){this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(_.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null,!_.isAppModeRuntime()||this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance||this.data.gridEvents.removeWheelEvent(this.dom,this.boundedSetValue),this.isCreateVertScrollBarCalled=!1,this.currPos=void 0),this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(this.updateHorScrollBarProps(0),this.horizontalScrollBase.templateInstance.update())},B.prototype.createHScrollData=function(){var e=this.getHScrollProps(),t=this.data.tableProps,i=this.verticalScrollBase&&this.isCreateVertScrollBarCalled?this.WIDTH_FACTOR:0;return{BeginValue:0,Height:this.SIZE_FACTOR,Width:t.hasRowHeader?t.width-t.rowHeaderWidth-i:t.width-i,EndValue:this.data.viewport.getTotalColumnWidth(),CurrentValue:0,cbOnChanged:this.cbOnHorProcessValueChanged.bind(this),cbOnTemplateLoaded:this.cbOnHorTemplateLoaded.bind(this),cbOnCommand:this.cbOnCommand.bind(this),VisibleValueRange:t.width-t.rowHeaderWidth-t.leftBorder/2,SmallStepValueRange:this.data.viewport.getTotalColumnCount()-e.colsToIgnore+e.extraStep}},B.prototype.createVScrollData=function(){var e=this.data.tableProps,t=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID).defaultSortDirection===_.getChromEnum("HmiSortDirection").Ascending,i=this.horizontalScrollBase?this.WIDTH_FACTOR:0;return{BeginValue:0,Height:e.hasColumnHeader?e.height-e.cellHeight-i:e.height-i,Width:this.SIZE_FACTOR,Left:this.data.tableProps.width-this.SIZE_FACTOR,EndValue:e.totalRecords*e.cellHeight,CurrentValue:t?e.totalRecords*e.cellHeight-(e.hasColumnHeader?e.height-e.cellHeight:e.height):0,cbOnChanged:this.cbOnProcessValueChanged.bind(this),cbOnTemplateLoaded:this.cbOnTemplateLoaded.bind(this),cbOnCommand:this.cbOnCommand.bind(this),VisibleValueRange:e.hasColumnHeader?e.height-e.cellHeight:e.height,SmallStepValueRange:e.hasHorScollBar?e.totalRecords-this.getVisibleRowsCount():e.totalRecords-this.data.viewport.getDisplayedRowCount()}},B.prototype.getThumbPosition=function(){var e=this.data.selectionDetail.getSelection().indices[0]+this.data.viewport.getStartIndex(),t=-1;return e<this.prevViewPortStatIndex?t=e:e>=this.prevViewPortEndIndex&&(this.data.viewport.hasHalfRow||(t=e-(this.data.viewport.getDisplayedRowCount()-1)+1)>this.data.viewport.getStartIndex())&&(t=e-this.data.viewport.getDisplayedRowCount()+1),t},B.prototype.clearData=function(e,t){var i=this.data.featureList.DataTemplates;i&&i.clearDataRows(e,t)},B.prototype.autoSelect=function(){var e,t=_.getChromEnum("HmiGridSelectionMode"),i=this.data.featureList.SelectionBorder,r=this.data.featureList.DataTemplates,a=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),n=this.data.featureList.RecordHeader,o=this.data.featureList.Header;void 0===this.data.tableProps.startY&&(this.data.tableProps.startY=parseFloat(this.RTPUItem.RootNode.getAttribute("y"))),this.data.tableProps.hasColumnHeader&&o&&o.clearAllSortCriteria(),r.clearEditing(),this.data.selection.clearSelection(n,i,r,o),this.data.selectionDetail.clearSelection(),this.data.configuration.GridSelectionMode!==t.None?0<(n=this.data.viewport.getDisplayedRowCount())?(1===a.defaultSortDirection?(this.data.selectionDetail.pushSelectedRowIndices(n-1,!1),this.data.selectionDetail.setselectedRowIndex(n-1),e=a.getTotalRecords()-1<=n-1?0:a.getTotalRecords()-1===this.getVisibleRowsCount()?a.viewportStartIndex:a.getTotalRecords()-1-(this.data.viewport.getEndIndex()-this.data.viewport.getStartIndex())+1):(this.data.selectionDetail.pushSelectedRowIndices(e=0,!1),this.data.selectionDetail.setselectedRowIndex(e)),i=this.data.viewport.getSize(),this.data.viewport.updateViewPortIndex(e),a.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),a.hasHalfRow=this.data.viewport.hasHalfRow,a.scrolledValue=!1,(e=a.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()))&&this.data.viewport.setDisplayedRowCount(e.length),this.loadDataForAutoSelection(e,i),this.data.selection.setAutoSelection()):a.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()):((e=a.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()))&&this.data.viewport.setDisplayedRowCount(e.length),this.loadDataForAutoSelection(e,0)),this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(_.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null,this.isCreateVertScrollBarCalled=!1,!_.isAppModeRuntime()||this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance||this.data.gridEvents.removeWheelEvent(this.dom,this.boundedSetValue)),this.setCurrentSelection(a)},B.prototype.autoSelectOnAdded=function(e){var t,i=this.data.viewport.getDisplayedRowCount();0<i?(1===e.defaultSortDirection?(this.data.selectionDetail.setSelectedIndices([i-1]),this.data.selectionDetail.setselectedRowIndex(i-1),t=e.getTotalRecords()-1<=i-1?0:e.getTotalRecords()-1===this.getVisibleRowsCount()?e.viewportStartIndex:1<e.viewportSize?e.getTotalRecords()-1-(this.data.viewport.getSize()-1)+1:e.getTotalRecords()-1):(this.data.selectionDetail.pushSelectedRowIndices(t=0,!1),this.data.selectionDetail.setselectedRowIndex(t)),this.data.viewport.getSize(),this.data.viewport.updateViewPortIndex(t),e.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),e.hasHalfRow=this.data.viewport.hasHalfRow,e.scrolledValue=!1,this.data.selection.setAutoSelection()):e.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),this.setCurrentSelection(e)},B.prototype.loadDataForAutoSelection=function(e,t){var i=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),r=this.data.viewport.getDisplayedRowCount()-1,a=this.data.featureList.DataTemplates;this.prevViewPortStatIndex=this.data.viewport.getStartIndex(),this.prevViewPortEndIndex=this.data.viewport.getEndIndex(),this.data.tableProps.totalRecords=i.getTotalRecords(),a&&(0<t&&a.clearDataRows(0,t),0<e.length)&&a.loadData(e,0,r),this.removeVerticalScrollbar()},B.prototype.setCurrentSelection=function(e){var t,i={};e&&"function"==typeof e.select&&(this.data.configuration.SelectFullRow?(t=this.data.selectionDetail.getSelection(),i.rowSelection=t.indices.slice(0),i.selectedCellColumnIndex=t.columnIndex,0<i.rowSelection.length?i.selectedCellRowIndex=i.rowSelection[0]:i.selectedCellRowIndex=null):(t=this.data.selectionDetail.getSelection(),i.rowSelection=t.indices.slice(0),i.selectedCellColumnIndex=null,i.selectedCellRowIndex=null),i.cellSelection=t.cellSelection,i.shiftSelectionIndices=[],e.select(i))},B.prototype.toggleAutoScroll=function(e){this.data.tableProps.alwaysShowRecent=e,_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID);var e=this.data.viewport.getDisplayedRowCount(),t=this.data.featureList.Header;this.data.viewport.scrolled(!1),0<e?this.data.tableProps.alwaysShowRecent?this.autoSelect():(this.data.tableProps.hasColumnHeader&&t&&t.showSortDirectionandOrder(),this.createVertScrollBar()):this.data.tableProps.alwaysShowRecent?(t&&t.clearAllSortCriteria(),this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(_.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null,this.isCreateVertScrollBarCalled=!1)):(t&&t.showSortDirectionandOrder(),this.createVertScrollBar())},B.prototype.onRemoved=function(e){this.currPos=void 0;var t,i,r,a=this.data.featureList.DataTemplates,n=this.data.featureList.RecordHeader,o=this.data.featureList.Header,s=this.data.featureList.SelectionBorder,l=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),e=(this.data.tableProps.hasColumnHeader&&o&&(l.autoScroll||e)&&o.clearAllSortCriteria(),this.data.selection.clearSelection(n,s,a,o,!0),this.data.selectionDetail.clearSelection(),this.removeVerticalScrollbar(),this.cbOnHorProcessValueChanged(null,0),this.removeHorizontalScrollbar(),a.clearDataRows(0,this.data.viewport.getDisplayedRowCount()),this.data.viewport.setDisplayedRowCount(0),this.data.tableProps.totalRecords=l.getTotalRecords(),this.data.viewport.getStartIndex());if(this.data.viewport.updateViewPortIndex(l.viewportStartIndex),l.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),l.hasHalfRow=this.data.viewport.hasHalfRow,l.scrolledValue=!1,this.data.viewport.setScrolledPos(),this.data.viewport.scrolled(!1),n&&this.data.tableProps.hasRowHeader){if((t=this.data.viewport.getStartIndex())!==e)for(r=this.data.viewport.getSize(),i=0;i<r;i++)n.updateCellData(i,t+i+1);this.data.tableProps.changeHorizontalPosX=this.data.tableProps.calRowHeaderWidth(this.data.configuration,this.data.viewport.getSize()),this.data.tableProps.changeHorizontalPosX&&this.redraw()}else this.createHorScrollBar();this.data.tableProps.changeHorizontalPosX=!1},B.prototype.onModified=function(){},B.prototype.onKeyDown=function(e,t,i){return this.data.gridEvents.onKeyDown(e,i)},B.prototype.clearSelection=function(){var t,e,i,r=[],a=this.data.featureList.DataTemplates,n=this.data.featureList.RecordHeader,o=this.data.featureList.Header,s=this.data.featureList.SelectionBorder,l=this.data.selectionDetail.getSelection(),u=(l.columnIndex,l.rowIndex);if(this.oldAutoScroll?this.data.selection.clearSelection(n,null,null,null):this.data.selection.clearSelection(n,s,a,o),this.data.selectionDetail.clearSelection(!1),this.data.selectionDetail.setselectedColumnIndex(l.columnIndex),this.data.selectionDetail.setselectedRowIndex(u),this.data.selectionDetail.setSelectedIndices(l.indices),this.data.selectionDetail.setShiftStartRowIndex(u,0),this.data.tableProps.alwaysShowRecent)this.data.selectionDetail.setselectedColumnIndex(-1);else if(!this.data.configuration.SelectFullRow){for(e=l.indices.length,t=0;t<e;t++)l.cellSelection.forEach(function(e){l.indices[t]===e.rowIndex&&(i=e.cellIndex,r.push(e.rowIndex))}),i&&i.length&&this.data.selectionDetail.pushCellSelection(l.indices[t],i);this.data.selectionDetail.setSelectedIndices(r)}},B.prototype.updateSelectionDetails=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!0);var r,a=this.data.featureList.RecordHeader,n=this.data.featureList.Header,o=this.data.featureList.DataTemplates,s=this.data.featureList.SelectionBorder,l=e.selectedRows.length,u=this.data.selectionDetail.getSelection();if(0<l){if(this.data.selectionDetail.setSelectedIndices(e.selectedRows.slice(0)),t&&((t=this.data.selectionDetail.getShiftSelection()).indices=e.selectedRows,t.rowStartIndex=e.selectedRows[0],t.rowEndIndex=e.selectedRows[l-1],this.data.selectionDetail.setShiftStartRowIndex(e.selectedRows[0],1),this.data.selectionDetail.setselectedRowIndex(e.selectedRows[l-1])),!this.data.configuration.SelectFullRow)for(this.data.selectionDetail.clearselectedCells(),r=0;r<l;r++)this.data.selectionDetail.pushCellSelection(e.selectedRows[r],e.cellSelection[r])}else this.data.selectionDetail.clearSelection(!1),this.data.selectionDetail.setselectedColumnIndex(u.columnIndex);i&&this.data.selection.setSelection(a,s,o,n,e)},B.prototype.findAndUpdateModifiedProp=function(e,t,i){var r,a,n,o,s=0,l=0,u=!1,h=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID);for(a in e)if("object"==typeof e[a])if("Columns"===a)if(0===(n=e[a].length))this.resizeControl=!0,this.updateConfig=!0,this.removeHorizontalScrollbar(),this.data.featureList.Header.columns=[],this.columnsTypeChanged=!0;else for(;s<n;s++){if(r=e[a][s].ElementID,t[a])for(o=t[a].length;l<o;l++)r===t[a][l].ElementID&&(u=!0,this.findAndUpdateModifiedProp(e[a],t[a],i+"."+a));if(!u){this.resizeControl=!0,this.updateConfig=!0,this.prevDataInstance.columnIndex=0,this.removeHorizontalScrollbar(),this.columnsTypeChanged=!0,h&&"function"==typeof h.onColumnChangeReceived&&h.onColumnChangeReceived();break}}else this.findAndUpdateModifiedProp(e[a],t[a],i+"."+a);else e[a]!==t[a]&&this.modifiedProperty.push({propertyName:a,updatedValue:e[a],path:i,part:e})},B.prototype.handlePropertyChange=function(e){var t,i,r=_.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),a=_.getChromEnum("HmiGridSelectionMode"),n=e.propertyName,o=e.updatedValue,s=e.path,l=e.part,u=this.data.featureList.Header,h=this.data.featureList.RecordHeader,d=this.data.featureList.SelectionBorder,c=this.data.featureList.Gridlines,p=this.data.featureList.DataTemplates,m=this.data.featureList.RowBackground,g=this.data.featureList.ColumnBackGround,T=this.data.configuration.GridSelectionMode;if(0===(i=this.updatePropInConfig(n,o,s)).length)switch(n){case"SelectionForeColor":case"SelectionBackColor":p&&p.onPropertyChanged(n,o);break;case"ColoringMode":case"ForeColor":case"BackColor":case"AlternateBackColor":case"AlternateForeColor":g&&g.onPropertyChange(n,o),m&&m.onPropertyChange(n,o),p&&p.onPropertyChanged(n,o);break;case"SelectFullRow":this.data.selection.clearSelection(this.data.tableProps.hasRowHeader?h:null,d,p,this.data.tableProps.hasColumnHeader?u:null),this.data.selection.onPropertyChange(n,o,this.data),this.data.tableProps.alwaysShowRecent&&this.data.tableProps.totalRecords?this.data.selection.setAutoSelection():this.data.configuration.GridSelectionMode&&this.data.selection.setSelection(this.data.tableProps.hasRowHeader?h:null,d,p,this.data.tableProps.hasColumnHeader?u:null),this.setCurrentSelection(r);break;case"GridSelectionMode":this.data.tableProps.alwaysShowRecent?o>a.None?T===a.None&&this.autoSelectOnAdded(r):(this.data.selection.clearSelection(this.data.tableProps.hasRowHeader?h:null,d,p,this.data.tableProps.hasColumnHeader?u:null),this.data.selectionDetail.clearSelection(!0)):(this.data.selection.clearSelection(this.data.tableProps.hasRowHeader?h:null,d,p,this.data.tableProps.hasColumnHeader?u:null),this.data.selection.onPropertyChange(n,o,this.data),o>a.None&&this.data.selection.setSelection(this.data.tableProps.hasRowHeader?h:null,d,p,this.data.tableProps.hasColumnHeader?u:null)),this.setCurrentSelection(r);break;case"HorizontalScrollBarVisibility":(this.data.tableProps.horizontalScrollbarVisibility=o)===_.getChromEnum("HmiScrollBarVisibility").Collapsed?this.removeHorizontalScrollbar():this.horizontalScrollBase||this.createHorScrollBar();break;case"VerticalScrollBarVisibility":this.data.tableProps.verticalScrollbarVisibility=o,this.data.tableProps.alwaysShowRecent||this.createVertScrollBar();break;case"SelectionBorderWidth":case"SelectionBorderColor":d&&d.onPropertyChanged(n,o);break;case"RowHeight":this.resizeControl=!0,this.cellHeightChanged=!0,this.update(),this.cellHeightChanged=!1;break;case"GridLineColor":case"GridLineWidth":case"GridLineVisibility":c&&c.onPropertyChange(n,o)}else switch(i[1]){case"HeaderSettings":"HeaderGridLineColor"===n?c&&c.onPropertyChange(n,o):(h&&h.onPropertyChange(n),u&&u.onPropertyChanged(n,o));break;case"Columns":(t=u&&"Content"!==i[3]?u.onPropertyChanged(n,o,parseInt(i[2]),l):t)||(m&&m.onPropertyChange(n,o),g&&g.onPropertyChange(n,o),p.onPropertyChanged(n,o,parseInt(i[2]),l));break;case"Font":0===this.data.configuration.RowHeight?(this.resizeControl=!0,this.data.tableProps.defaultCharWidth=Math.floor(_.getTextWidth("9",this.data.configuration.HeaderSettings.Font)),this.update()):p&&p.onPropertyChanged(n,o,parseInt(i[2]),l);break;case"CellPadding":u&&u.onPropertyChanged(n,o,null,l),p&&p.onPropertyChanged(n,o,parseInt(i[2]),l),h&&h.onPropertyChange(n,o)}},B.prototype.updatePropInConfig=function(e,t,i){var r,a,n=[];if("config"===i)this.data.configuration[e]=t;else{for(r=this.data.configuration,n=i.split("."),a=1;a<n.length;a++)r=r[n[a]];r[e]=t}return n},B.prototype.getHScrollProps=function(e){var t=0,i=0,r=0,a=this.data.viewport.getTotalVisibleColumns(),n=a.length-1;for(e=e||this.data.tableProps.width-this.data.tableProps.rowHeaderWidth-this.data.tableProps.leftBorder/2;0<=n;n--)if(r++,(i+=a[n].Width)===e)t=0;else if(e<i){t=1;break}return{extraStep:t,colsToIgnore:r}},_.Table=B,x=(x=e=e||{}).Lib||(x.Lib={}),P=x.NVEs||(x.NVEs={}),Wa=Object.freeze({"start-x":"0","start-y":"0",width:0,height:0,enabled:!0,"read-only":!1,"text-wrapping":"no-wrap",padding:"0","horizontal-text-alignment":"left","vertical-text-alignment":"center","output-format":"","multi-line":!1,"text-trimming":"none","horizontal-scrollbar-visibility":"automatic","vertical-scrollbar-visibility":"automatic"}),Ga=Object.freeze({BACKSPACE:8,TAB:9,NUMPAD5:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPSLOCK:20,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,INSERT:45,DELETE:46,C:67,WINDOWS:92,CONTEXTMENU:93,ADD:107,SUBTRACT:109,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLLLOCK:145}),Ua={domBlueprint:null,viewWindow:null,internalNode:null,textProvider:null,eventRect:null},ja=za=null,Ya="output-format",Xa="multi-line",qa="start-x",Ka="start-y",Za="vertical-scrollbar-visibility",Qa="horizontal-scrollbar-visibility",ka=P.NVEBase,i(L,ka),L.prototype.create=function(i){var e=this;if(null===Ua.domBlueprint&&this._createBluePrint(),this._isFirstTime&&this._cloneBlueprint(i),this.Attributes=P.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.checkAndConvertEnums(),P.Utilities.convertToBool(this.getAttribute("read-only"))||(i.PropertyChangedCallback=function(e,t){i.Parent&&i.Parent.PropertyChangedCallback&&i.Parent.PropertyChangedCallback(e,t)}),this.isValid()){this.initialized=!0,this.metaData=new P.Data.MetaData(this.defs,!0,this);for(var t=0;t<this.Features.length;t++)this.Features[t].draw(i,this.metaData),this.Features[t]instanceof P.Features.Font&&(this.Features[t].metaData=this.metaData),this.Features[t]instanceof P.Features.InputHint&&(this.inputHint=this.Features[t])}this._isBooleanFormat=!1,this._isDateTimeFormat=!1,this._eventCbs.startInputCapture||(this._eventCbs.startInputCapture=this._startInputCapture.bind(this),this._inputEvent=P.mapEventName("mousedown")),this._eventCbs.keyDown||(this._eventCbs.keyDown=this._keyDown.bind(this)),this._eventCbs.keyPress||(this._eventCbs.keyPress=this._keyPress.bind(this)),this._eventCbs.stopPropagationHandler||(this._eventCbs.stopPropagationHandler=this._stopPropagationHandler),this._eventCbs.onInputModified||(this._eventCbs.onInputModified=this._onInputModified.bind(this));var r,a=P.format2Type(this.getAttribute(Ya));return a===this._hmiFieldDataTypeEnum.DateTime||a===this._hmiFieldDataTypeEnum.Date||a===this._hmiFieldDataTypeEnum.Time||a===this._hmiFieldDataTypeEnum.TimeSpan?(this._isDateTimeFormat=!0,a===this._hmiFieldDataTypeEnum.TimeSpan&&(this._isTimeSpanFormat=!0)):a===this._hmiFieldDataTypeEnum.Binary&&(this._isBooleanFormat=!0),!this.focusRect&&P.Utilities.convertToBool(this.getAttribute("enabled"))&&(a=1===this.RTPUItem.PrimaryType,r=i.rootItem.RootFocusManager,this.focusRect=r.createFocusRect(i.InstanceId,-1,{x:0,y:0,width:0,height:0},!1),r.registerFocusArea(i,this.focusRect,function(){P.Utilities.convertToBool(e.getAttribute("enabled"))&&!P.Utilities.convertToBool(e.getAttribute("read-only"))&&e._getInputBehavior().getProperty("input-on-activate")&&e._startInputCapture()},function(){return e.focusOut()},null,a)),this.draw(),this.dom},L.prototype.draw=function(){var e,t;this._setInitialFontAttributes(),this.Attributes=P.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this._isFirstTime&&(P.isAppModeRuntime()&&!0===P.Utilities.convertToBool(this.getAttribute("enabled"))&&!1===P.Utilities.convertToBool(this.getAttribute("read-only"))&&(P.registerEvent(this.childDom,this.RTPUItem,P.enumEventType.tapped,this._eventCbs.startInputCapture),this._inputCaptureAdded=!0),this._isFirstTime=!1),this.isValid()&&(this._eventCatcher.reset(),this._eventCatcher.getFreeNodes(1),this._eventCatcher.finish(),e=this._elementProvider.getActiveNodes(),this._inputInProgress?(0<e.length&&(this._elementProvider.reset(),this._elementProvider.finish(),this._removeVScrollbar(),this._removeHScrollbar()),this._inputDivElement&&this._styleInputCapturer(this._inputDivElement)):(t=this._createTextBox(),e.length!==t.length&&(this._elementProvider.reset(),e=this._elementProvider.getFreeNodes(t.length),this._elementProvider.finish(),this._removeVScrollbar(),this._removeHScrollbar()),this._applyTextDomAttributes(e,t),this._actualizeTextNodeInformation(e))),this.dom.contains(this.childDom)||this.dom.appendChild(this.childDom),this.inputHint&&!this.inputHintNode&&"always"===this.inputHint.Attributes.show&&this.appendInputHint(),this._createVerticalScrollbar(),this._createHorizontalScrollbar()},L.prototype.updateTextContent=function(){var e,t,i,r,a,n=!1;if(!1===this._inputInProgress)if(e=this._createTextBox(),(t=this._elementProvider.getActiveNodes()).length===e.length){for(a=t.length,r=0;r<a;r++)(i=t[r]).childNodes[0]?i.childNodes[0].nodeValue=e[r]:i.textContent=e[r];"collapsed"===this.Attributes[Za]&&"collapsed"===this.Attributes[Qa]||(this._applyTextDomAttributes(t,e),this._actualizeTextNodeInformation(t),this._createVerticalScrollbar(),this._createHorizontalScrollbar())}else n=!0;return n},L.prototype._createBluePrint=function(){var e;null===Ua.domBlueprint&&(e=void 0,Ua.domBlueprint=document.createElementNS("http://www.w3.org/2000/svg","g"),Ua.viewWindow=document.createElementNS("http://www.w3.org/2000/svg","svg"),Ua.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),Ua.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),Ua.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi-bind--xlink","http://svg.siemens.com/hmi/bind/xlink/"),Ua.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi","http://svg.siemens.com/hmi/"),Ua.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi-bind","http://svg.siemens.com/hmi/bind/"),Ua.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi-element","http://svg.siemens.com/hmi/element/"),Ua.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi-feature","http://svg.siemens.com/hmi/feature/"),Ua.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi-event","http://svg.siemens.com/hmi/event/"),Ua.viewWindow.setAttributeNS(null,"preserveAspectRatio","none"),Ua.domBlueprint.appendChild(Ua.viewWindow),Ua.viewWindow.appendChild(document.createElementNS("http://www.w3.org/2000/svg","defs")),Ua.internalNode=document.createElementNS("http://www.w3.org/2000/svg","g"),Ua.textProvider=new P.Data.SvgElementProvider("text",Ua.internalNode,this._setTextCommonProps.bind(this)),Ua.eventRect=new P.Data.SvgElementProvider("rect",Ua.internalNode),(e=Ua.eventRect.getFreeNodes(1)[0]).setAttributeNS(null,"height","100%"),e.setAttributeNS(null,"width","100%"),e.setAttributeNS(null,"stroke","none"),e.setAttributeNS(null,"fill-opacity","0"),e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"id","ID_textfieldEventRect"),Ua.viewWindow.appendChild(Ua.internalNode))},L.prototype._cloneBlueprint=function(e){var t,i;null!==Ua.domBlueprint&&(t=Ua.domBlueprint.cloneNode(!0),ka.prototype.create.call(this,e,!(i=e=null),t),e=t.getElementsByTagName("svg")[0],this.defs=e.getElementsByTagName("defs")[0],this.childDom=e.getElementsByTagName("g")[0],i=this.childDom.getElementsByTagName("rect"),this._elementProvider=new P.Data.SvgElementProvider("",this.childDom,this._setTextCommonProps.bind(this),null,!0,Ua.textProvider,[]),this._eventCatcher=new P.Data.SvgElementProvider("",this.childDom,null,null,!0,Ua.eventRect,i))},L.prototype._deactivateInput=function(){this._inputInProgress=!1;var e,t=this._inputDivElement;t&&((e=t.childNodes[0])&&(e.removeEventListener("keydown",this._eventCbs.keyDown,!1),e.removeEventListener("keypress",this._eventCbs.keyPress,!1),e.removeEventListener("keyup",this._eventCbs.stopPropagationHandler,!1),e.removeEventListener(this._inputEvent,this._eventCbs.stopPropagationHandler,!1),e.removeEventListener("input",this._eventCbs.onInputModified,!1)),t.parentNode&&t.parentNode.removeChild(t),za===t)&&(za=null,ja)&&(ja.focus({preventScroll:!0}),ja=null),this.inputHint&&"focused"===this.inputHint.Attributes.show&&this.removeInputHintDiv(),this.RTPUItem.rootItem.RootFocusManager.moveFocus(8)},L.prototype._setItemProps=function(e,t){this.onValueChanged?this.onValueChanged(t,e):0===t.indexOf("LocalProps.")?(this.RTPUItem.setLocalProps(e,t),this.RTPUItem.update(),this.RTPUItem.PropertyChangedCallback&&this.RTPUItem.PropertyChangedCallback(t,e)):0===t.indexOf("ParamProps.")?(this.RTPUItem.setParamProps(e,t,!0),this.RTPUItem.update()):0===t.indexOf("HmiProps.")?this.RTPUItem.Parent?(this.RTPUItem.setHmiProps(e,t,!0),this.RTPUItem.update()):P.propChanged(t,e,this.RTPUItem):0===t.indexOf("Content.")&&(this.RTPUItem.setDataContent(e,t),this.RTPUItem.update(),this.RTPUItem.PropertyChangedCallback)&&this.RTPUItem.PropertyChangedCallback(t,e)},L.prototype._setTextCommonProps=function(e,t){var i=this.Attributes["horizontal-text-alignment"],i="left"===i?"start":"right"===i?"end":"middle";e.setAttributeNS(null,"fill",this.getAttribute("fore-color")),e.setAttributeNS(null,"text-anchor",i),this._addFontAttributes(e)},L.prototype._setTextNodeProps=function(e){for(var t,i,r,a=this._elementProvider.getAllNodes(),n=a.length,o=0;o<n;o++)for(i in t=a[o],e)t.setAttributeNS(null,i,e[i]);void 0!==e.fill&&this._inputInProgress&&(r=document.getElementById("TextField_Key_Collector_Input"))&&(r.style.color=e.fill)},L.prototype._calculateTextBoxWidth=function(){var e=this._isVerticalScrollbarVisible?this._verticalScrollbarWidth:0;return"right"===this.Attributes["horizontal-text-alignment"]?parseInt(this.Attributes.width,10)-this._getPaddingObject().right:parseInt(this.Attributes.width,10)-this._getPaddingObject().left-e},L.prototype._doWordWrap=function(e){var t,i=[],r=e,a=e.length,n=this._getFontObject();this._textDetails.wrappedTexts={};for(var o=this._calculateTextBoxWidth(),s=0;s<a;s++){if(1<(t=P.textWrap(r[s],o,n)).length)for(var l=0;l<t.length-1;l++)this._textDetails.wrappedTexts[i.length+l]=!0;i=i.concat(t)}return i},L.prototype._doTextTrim=function(e){for(var t=[],i=this._getFontObject(),r=this._calculateTextBoxWidth(),a=e.length,n=0;n<a;n++)t[n]=P.textEllipsis(e[n],r,i);return t},L.prototype._isVScrollbarNecessary=function(e){var t,i,r=!1;return r="collapsed"!==this.Attributes[Za]&&0<e.length&&(i=this._getPaddingObject(),t=P.getTextHeight(e[0],this._getFontObject()),i=parseInt(this.Attributes.height,10)-i.top-i.bottom,e=t*e.length,this._lineHeight=t,i<(this._totalTextHeight=e)||"visible"===this.Attributes[Za])?!0:r},L.prototype._isHScrollbarNecessary=function(e){var t=!1;if("collapsed"!==this.Attributes[Qa]&&0<e.length){for(var i,r=this._getPaddingObject(),r=parseInt(this.Attributes.width,10)-r.left-r.right,a=this._getFontObject(),n=this._longestTextLine=0;n<e.length;n++)i=P.getTextWidth(e[n],a),this._longestTextLine<i&&(this._longestTextLine=i);(this._longestTextLine>r||"visible"===this.Attributes[Qa])&&(t=!0)}return t},L.prototype._enoughSpaceForScrollbars=function(){var e=[!1,!1],t=this._getPaddingObject(),i=parseInt(this.Attributes.width,10)-t.right-t.left,t=parseInt(this.Attributes.height,10)-t.top-t.bottom;return 2*this._verticalScrollbarWidth<=i&&(e[0]=!0),2*this._horizontalScrollbarHeight<=t&&(e[1]=!0),e},L.prototype._createTextBox=function(){this._isVerticalScrollbarVisible=!1,this._isHorizontalScrollbarVisible=!1,null==(a=this.getAttribute("value"))?a=[""]:this._isDateTimeFormat||this._isBooleanFormat||!0===a||!1===a?(this._isDateTimeFormat&&this.RTPUItem.Store._vt===window.Variant.CF_VT.INT64&&(a=Number(a)),a=(a=P.convertFormatPattern(a,this.getAttribute(Ya))).split("")):(a=(a=(a=a.toString()).replace(/ /g,"")).replace(/\n/g,""),a=(a=P.convertFormatPattern(a,this.getAttribute(Ya))).split(""),!1===this._getBoolValue(this.getAttribute(Xa))&&(a=[a.join("")])),this._textDetails.wrappedTexts={},e="word-wrap"===this.getAttribute("text-wrapping")||"wordwrap"===this.getAttribute("text-wrapping"),t=!("no-wrap"!==this.getAttribute("text-wrapping")&&"nowrap"!==this.getAttribute("text-wrapping")||"character-ellipsis"!==this.getAttribute("text-trimming")&&"characterellipsis"!==this.getAttribute("text-trimming"));var e,t,i,r=a,a=e?this._doWordWrap(a):t?this._doTextTrim(a):a;return(i=this._enoughSpaceForScrollbars())[0]&&(this._isVerticalScrollbarVisible=this._isVScrollbarNecessary(a)),!0===this._isVerticalScrollbarVisible&&(a=e?this._doWordWrap(r):t?this._doTextTrim(r):a,this._totalTextHeight=this._lineHeight*a.length),i[1]&&(this._isHorizontalScrollbarVisible=(!e&&!t||"visible"===this.Attributes[Qa])&&this._isHScrollbarNecessary(a)),this._setViewWindowAttributes(),a=this._makeInputBehave(a)},L.prototype._setViewWindowAttributes=function(){var e,t,i=null,i=this.dom.getElementsByTagName("svg")[0],r=this._getPaddingObject();i&&(e=null===this.Attributes.width?0:parseInt(this.Attributes.width,10)-r.left-r.right,t=null===this.Attributes.height?0:parseInt(this.Attributes.height,10)-r.top-r.bottom,i.setAttributeNS(null,"x",(parseInt(this.Attributes[qa],10)+r.left).toString()),i.setAttributeNS(null,"y",(parseInt(this.Attributes[Ka],10)+r.top).toString()),i.setAttributeNS(null,"width",Math.max(0,e).toString()),i.setAttributeNS(null,"height",Math.max(0,t).toString()))},L.prototype._applyTextDomAttributes=function(e,t){var i,r=this.Attributes["vertical-text-alignment"],a=this.Attributes["horizontal-text-alignment"],a="left"===a?"start":"right"===a?"end":"middle",r="top"===r?"start":"bottom"===r?"end":"middle",n=this._getPaddingObject(),o=null===this.Attributes.width?0:parseFloat(this.Attributes.width)-n.left-n.right,n=null===this.Attributes.height?0:parseFloat(this.Attributes.height)-n.top-n.bottom,s=0+Math.floor("start"==a?0:"middle"==a?o/2:o),l=e.length;for(d=0;d<l;d++)(i=e[d]).setAttributeNS(null,"x",String(P.Utilities.preprocessCoordinateForSVG(s))),i.childNodes[0]?i.childNodes[0].nodeValue=t[d]:i.textContent=t[d];if(0<l)for(var u=P.getTextHeight(i.textContent,this._getFontObject()),h="start"==r||this._isVerticalScrollbarVisible?Math.floor(2+.81*u):"middle"==r?Math.floor(0+n/2-u*l/2+.81*u):Math.floor(0+n-u*l+.81*u),d=0;d<l;d++)e[d].setAttributeNS(null,"y",String(P.Utilities.preprocessCoordinateForSVG(h))),h+=u},L.prototype._checkCharCode=function(e,t,i){var r=!0,a=this._hmiFieldDataTypeEnum;switch(e){case a.Binary:r=48===t||49===t;break;case a.Integer:case a.Decimal:case a.Float:case a.Exponential:r=this._checkCharCodeForNum(e,t,i);break;case a.String:this.RTPUItem.Store._vt===window.Variant.CF_VT.CHROM_CHAR&&(r=0===i.selectionStart);break;case a.Hex:r=48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}return r},L.prototype._checkCharCodeForNum=function(e,t,i){var r=!0,a=this._hmiFieldDataTypeEnum;switch(t){case 44:case 46:r=e===a.Decimal||e===a.Float||e===a.Exponential;break;case 69:case 101:r=e===a.Exponential||e===a.Float;break;case 43:case 45:e!==a.Integer&&e!==a.Decimal||(r=0===i.selectionStart);break;default:r=48<=t&&t<=57}return r},L.prototype._convertString2DataType=function(e,t){var i=this._hmiFieldDataTypeEnum;if(!(0===e.length&&t>=i.Decimal&&t<=i.Float)){switch(t){case i.Binary:return e=(e=e.replace(/^[0]+\B/g,"")).replace(/\s+/g,""),e=P.bin2dec(e);case i.Hex:return e=e.replace(/^[0]+\B/g,""),e=P.hex2dec(e);case i.Integer:return e=e.replace(/^[0]+\B/g,"");case i.Float:case i.Decimal:case i.Exponential:e=e.replace(",",".");break;case i.Date:case i.Time:case i.DateTime:case i.String:return e}return isNaN(e)?void 0:e}},L.prototype._getPaddingObject=function(){var e,t={left:0,right:0,top:0,bottom:0},i=this.getAttribute("padding");if("number"==typeof i)t.left=t.right=t.top=t.bottom=i,this._originPadding.left=this._originPadding.right=this._originPadding.top=this._originPadding.bottom=i,this._isVerticalScrollbarVisible&&(t.right=i+this._verticalScrollbarWidth),this._isHorizontalScrollbarVisible&&(t.bottom=i+this._horizontalScrollbarHeight);else switch((e=i.includes(",")?i.split(","):i.split(" ")).length){case 1:t.left=t.right=t.top=t.bottom=parseInt(e[0],10),this._originPadding.left=this._originPadding.right=this._originPadding.top=this._originPadding.bottom=t.bottom,this._isVerticalScrollbarVisible&&(t.right=parseInt(e[0],10)+this._verticalScrollbarWidth),this._isHorizontalScrollbarVisible&&(t.bottom=parseInt(e[0],10)+this._horizontalScrollbarHeight);break;case 2:t.left=t.top=parseInt(e[0],10),t.right=t.bottom=parseInt(e[1],10),this._originPadding.left=this._originPadding.top=t.left,this._originPadding.right=this._originPadding.bottom=t.right,this._isVerticalScrollbarVisible&&(t.right=parseInt(e[1],10)+this._verticalScrollbarWidth),this._isHorizontalScrollbarVisible&&(t.bottom=parseInt(e[1],10)+this._horizontalScrollbarHeight);break;case 4:t.left=parseInt(e[0],10),t.top=parseInt(e[1],10),t.right=parseInt(e[2],10),t.bottom=parseInt(e[3],10),this._originPadding.left=t.left,this._originPadding.top=t.top,this._originPadding.right=t.right,this._originPadding.bottom=t.bottom,this._isVerticalScrollbarVisible&&(t.right=parseInt(e[2],10)+this._verticalScrollbarWidth),this._isHorizontalScrollbarVisible&&(t.bottom=parseInt(e[3],10)+this._horizontalScrollbarHeight);break;default:t.left=t.right=t.top=t.bottom=0,this._originPadding.left=this._originPadding.right=this._originPadding.top=this._originPadding.bottom=0,this._isVerticalScrollbarVisible&&(t.right=this._verticalScrollbarWidth),this._isHorizontalScrollbarVisible&&(t.bottom=this._horizontalScrollbarHeight),P.trace(P.enumTraceMode.Warning,"Invalid value for padding attribute. Drawing with no padding.")}return t},L.prototype._getFontFeature=function(){for(var e,t,i=0;i<this.Features.length;i++)if((t=this.Features[i])instanceof P.Features.Font){e=t;break}return e||(e=new P.Features.Font,this.Features.push(e)),e},L.prototype._getFontObject=function(){return this._getFontFeature().getWebRHAttributes()},L.prototype._addFontAttributes=function(e){this._getFontFeature().addFontAttributesToDomNode(this.RTPUItem,this.metaData,e)},L.prototype._getInputBehavior=function(){for(var e,t,i=0;i<this.Features.length;i++)if((t=this.Features[i])instanceof P.Features.InputBehavior){e=t;break}return e||(e=new P.Features.InputBehavior,this.Features.push(e),e.setMetaData(this.metaData)),e},L.prototype._makeInputBehave=function(e){return this._getInputBehavior().getDisplayText(this._inputInProgress,e,this._textDetails.wrappedTexts)},L.prototype._getInitialInput=function(){var e,t=this._getInputBehavior().getInitialInput(this.getAttribute("value")),i=this.getAttribute(Ya),r=this._isBooleanFormat;return!1===r&&(!0===t||!1===t||0<(t=t.toString()).length)&&(r=!0),i.length&&r&&(-1<(r=i.indexOf("{"))&&r<(e=i.indexOf("}"))&&(i=i.substring(r,e+1),t=P.convertFormatPattern(t,i)),(r=P.format2Type(i))!==this._hmiFieldDataTypeEnum.Binary&&r!==this._hmiFieldDataTypeEnum.Hex||(t=t.replace(/\s+/g,""))),t},L.prototype._getBoolValue=function(e){return e=null!=e?P.Utilities.convertToBool(e):e},L.prototype._dateTimePickerCb=function(e,t){var i=0,r=this.getAttribute("target");this.RTPUItem.Store._vt&&(i=this.RTPUItem.Store._vt),t=0!==r.indexOf("HmiProps.")||i!==window.Variant.CF_VT.TIMESPAN&&i!==window.Variant.CF_VT.DATETIME?window.DatePrecise(t).getTime():this._isTimeSpanFormat||i===window.Variant.CF_VT.TIMESPAN?window.Variant(t,window.Variant.CF_VT.TIMESPAN):window.DatePrecise(t),this._setItemProps(t,r)},L.prototype._styleInputCapturer=function(e){var t=!1,i=!0,r=e.childNodes[0],a=r.childNodes[0],n=this._getFontFeature(),o=this._getInitialInput();this._getInputBehavior().getProperty("hidden-input")&&(t=!0,o=o.replace(/\n/g,"")),a&&(t&&("textarea"===a.type||"text"===a.type)||!t&&"password"===a.type?r.removeChild(a):i=!1),i&&(t?(a=document.createElement("input")).setAttribute("type","password"):this._getBoolValue(this.getAttribute(Xa))?(a=document.createElement("textarea")).style.resize="none":a=document.createElement("input"),a.setAttribute("id","TextField_Key_Collector_Input"),a.setAttribute("autocapitalize","none"),a.tabIndex=0,a.style.display="block",a.style.padding="0px",a.style.outline="none",a.style.border="none",a.style.background="transparent",r.appendChild(a)),this._setInputDim(e),a.style.fontFamily=n.getAttribute("name"),a.style.fontSize=n.getAttribute("size")+"px",a.style.fontWeight=n.getWeightSVG(),a.style.fontStyle=n.getFontStyleSVG(),a.style.textDecoration=n.getTextDecoration(),a.style.color=this.getAttribute("fore-color"),i=(a.value=o).length,a.setSelectionRange(i,i)},L.prototype._setInputDim=function(e){var t=this._getPaddingObject(),i=parseFloat(this.Attributes.width)-t.left-2,r=parseFloat(this.Attributes.height)-t.top-2,t="outline:none; padding-top:"+(parseFloat(this.Attributes[Ka])+t.top)+"px; padding-left:"+(parseFloat(this.Attributes[qa])+t.left)+"px; overflow:hidden; width:"+i+"px; height:"+r+"px; pointer-events:visiblePainted; display:block;",a=e.childNodes[0].childNodes[0];e.setAttribute("style",t),a.style.height=r+"px",a.style.width=i+"px"},L.prototype._startInputCapture=function(e){var t,i,r,a;e&&e.preventDefault(),this._isDateTimeFormat?(i=a=e=void 0,"number"==typeof(a="string"==typeof(a=this.getAttribute("value"))?this.RTPUItem.Store._vt&&this.RTPUItem.Store._vt===window.Variant.CF_VT.DOUBLE?window.Big(a):Number(a):a)?(i=a%1e3,(e=window.DatePrecise([(a-i)/1e3,0])).setMilliseconds(i)):e=window.DatePrecise(a),i={type:P.format2Type(this.getAttribute(Ya)),defaultDate:e,callback:this._dateTimePickerCb.bind(this),timeZonePreference:this.timeZonePreference},this.RTPUItem.Store.gfxWebLib.dialogs.showDateTimePicker(this.RTPUItem.Store,i)):this._inputInProgress||(this._inputInProgress=!0,this._inputModified=!1,this._elementProvider.reset(),this._elementProvider.finish(),this._removeVScrollbar(),this._removeHScrollbar(),this.htmlDiv||(r=this.RTPUItem.RootNode,(a=document.createElementNS("http://www.w3.org/2000/svg","foreignObject")).style.pointerEvents="none",a.setAttribute("width","100%"),a.setAttribute("height","100%"),(this.RTPUItem.Parent?r.lastElementChild:r).appendChild(a),this.htmlDiv=document.createElement("div"),this.htmlDiv.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),a.appendChild(this.htmlDiv)),r=this.htmlDiv,(e=this._inputDivElement)?(e.parentNode&&e.parentNode.removeChild(e),t=e.childNodes[0]):(this._inputDivElement=e=document.createElement("div"),e.setAttribute("id","TextField_Key_Collector_Div"),(t=document.createElement("label")).setAttribute("id","TextField_Key_Collector_Label"),t.style.display="block",e.appendChild(t)),this._styleInputCapturer(e),r.appendChild(e),t.addEventListener("keydown",this._eventCbs.keyDown,!1),t.addEventListener("keypress",this._eventCbs.keyPress,!1),t.addEventListener("keyup",this._eventCbs.stopPropagationHandler,!1),t.addEventListener(this._inputEvent,this._eventCbs.stopPropagationHandler,!1),t.addEventListener("input",this._eventCbs.onInputModified,!1),za=e,ja=ja||document.activeElement,t.focus&&(navigator.userAgent.indexOf("Windows")<0?t.focus({preventScroll:!0}):setTimeout(function(){t.focus({preventScroll:!0})},100))),this.inputHint&&!this.inputHintNode&&"focused"===this.inputHint.Attributes.show&&this.appendInputHint()},L.prototype.appendInputHint=function(){var e,t;this.inputHint&&("IOField"!==this.RTPUItem.Store.props.Type?(e=(t=this.RTPUItem.Store.domNode.getBoundingClientRect()).top,t=t.left,this.inputHintNode=this.inputHint.setInputHintDivDomAttributes(e,t,this.Attributes.height,this.Attributes.width),this.inputHintNode.appendChild(this.inputHint.dom),this.RTPUItem.Store.domParent):(this.inputHintNode=this.inputHint.setInputHintSvgAttributes(this.Attributes.height,this.Attributes.width),this.RTPUItem.RootNode.setAttribute("overflow","visible"),this.RTPUItem.RootNode)).appendChild(this.inputHintNode)},L.prototype.removeInputHintDiv=function(){this.inputHint&&this.inputHintNode&&(("IOField"!==this.RTPUItem.Store.props.Type?this.RTPUItem.Store.domParent:this.RTPUItem.RootNode).removeChild(this.inputHintNode),this.inputHintNode=null,this.inputHint=null)},L.prototype._keyDown=function(e){if(this._inputInProgress){var t,i,r,a,n,o=!1;switch(e.keyCode){case Ga.ENTER:e.preventDefault(),e.shiftKey&&this._getBoolValue(this.getAttribute(Xa))&&this._checkCharCode(P.format2Type(this.getAttribute(Ya)),Ga.ENTER,e.target)?(r=(i=e.target).value.split(""),n=a=void 0,n=i.selectionStart<i.selectionEnd?(a=i.selectionStart,i.selectionEnd):(a=i.selectionEnd,i.selectionStart),this._getInputBehavior().getProperty("hidden-input")?r.splice(a,n-a,""):r.splice(a,n-a,"\n"),i.value=r.join(""),i.setSelectionRange(a+1,a+1)):(i=this.getAttribute("target"),t=this._getValueToSet(),o=!0,this._onInputModified());break;case Ga.TAB:this._getInputBehavior().getProperty("accept-on-deactivated")&&(i=this.getAttribute("target"),t=this._getValueToSet(),this._onInputModified()),o=!0;break;case Ga.ESC:o=!0}i&&this._inputModified&&(void 0===t&&(t=this.getAttribute("value")),this._setItemProps(t,i),e.keyCode===Ga.ENTER)&&this.RTPUItem.Store.handler.OnValueAccepted&&this.RTPUItem.Store.handler.OnValueAccepted(this.RTPUItem.Store),o?(this._deactivateInput(),this.draw(),this.onValueChanged&&this.onValueChanged()):e.stopPropagation()}},L.prototype._keyPress=function(e){e.charCode&&this._inputInProgress&&!this._checkCharCode(P.format2Type(this.getAttribute(Ya)),e.charCode,e.target)&&(e.preventDefault(),this._getInputBehavior().getProperty("clear-on-invalid-input"))&&(e.target.value=""),e.stopPropagation()},L.prototype._stopPropagationHandler=function(e){return e.stopPropagation(),!1},L.prototype._onInputModified=function(){this._inputModified=!0,this._inputDivElement.childNodes[0].removeEventListener("input",this._eventCbs.onInputModified,!1)},L.prototype._getValueToSet=function(){var e=this._inputDivElement.childNodes[0].childNodes[0].value;return this._getInputBehavior().getProperty("hidden-input")&&(e=e.replace(/\u0085/g,"\n")),e=this._convertString2DataType(e,P.format2Type(this.getAttribute(Ya)))},L.prototype.focusOut=function(){var e,t;this._inputInProgress&&(this._getInputBehavior().getProperty("accept-on-deactivated")&&(this._onInputModified(),void 0===(e=this._getValueToSet())&&(e=this.getAttribute("value")),t=this.getAttribute("target"),this._setItemProps(e,t),this.onValueChanged?this.onValueChanged(t,e):this.RTPUItem.PropertyChangedCallback&&this.RTPUItem.PropertyChangedCallback(t,e)),this._deactivateInput()),this.draw()},L.prototype.checkAndConvertEnum=function(e,t){var i;"number"==typeof this.Attributes[e]&&(null!=(i=P.Utilities.getEnumKeyByValue(t,this.Attributes[e]))?this.Attributes[e]=i:P.trace(P.enumTraceMode.Warning,"Cannot draw a TextField with an invalid "+t+" enum"))},L.prototype.checkAndConvertEnums=function(){this.checkAndConvertEnum("horizontal-text-alignment","HmiHorizontalAlignment"),this.checkAndConvertEnum("vertical-text-alignment","HmiVerticalAlignment"),this.checkAndConvertEnum("text-wrapping","HmiTextWrapping"),this.checkAndConvertEnum("text-trimming","HmiTextTrimming"),this.checkAndConvertEnum(Qa,"HmiScrollBarVisibility"),this.checkAndConvertEnum(Za,"HmiScrollBarVisibility")},L.prototype.isValid=function(){return isNaN(parseInt(this.Attributes[qa]))?(P.trace(P.enumTraceMode.Warning,"Cannot draw a TextField with invalid start-x"),!1):!isNaN(parseInt(this.Attributes[Ka]))||(P.trace(P.enumTraceMode.Warning,"Cannot draw a TextField with invalid start-y"),!1)},L.prototype.handleHorizontalTextAlignment=function(e,t){var e=this.Attributes[e],e="left"===e?"start":"right"===e?"end":"middle",i=this._getPaddingObject(),i=parseInt(this.Attributes.width,10)-i.left-i.right,i=Math.floor("start"==e?0:"middle"==e?i/2:i);t["text-anchor"]=e,t.x=i},L.prototype.handleOutputFormat=function(){this._isDateTimeFormat=!1,this._isBooleanFormat=!1;var e=P.format2Type(this.getAttribute(Ya));e===this._hmiFieldDataTypeEnum.DateTime||e===this._hmiFieldDataTypeEnum.Date||e===this._hmiFieldDataTypeEnum.Time||e===this._hmiFieldDataTypeEnum.TimeSpan?this._isDateTimeFormat=!0:e===this._hmiFieldDataTypeEnum.Binary&&(this._isBooleanFormat=!0)},L.prototype.handleInputEvent=function(){var e=!1;return P.isAppModeRuntime()&&!0===P.Utilities.convertToBool(this.getAttribute("enabled"))&&!1===P.Utilities.convertToBool(this.getAttribute("read-only"))?!1===this._inputCaptureAdded&&(P.registerEvent(this.childDom,this.RTPUItem,P.enumEventType.tapped,this._eventCbs.startInputCapture),this._inputCaptureAdded=!0):this._inputCaptureAdded&&(P.unregisterEvent(this.childDom,P.enumEventType.tapped,this._eventCbs.startInputCapture),this._inputCaptureAdded=!1,this._inputInProgress&&(this._inputInProgress=!1,this._deactivateInput()),e=!0),e},L.prototype.getPropObject=function(e){for(var t=!1,i=!1,r={},a=this._dirtyList.length,n=0;n<a;n++){var o=this._dirtyList[n];switch(o){case"fore-color":r.fill=this.getAttribute(o);break;case"horizontal-text-alignment":this.handleHorizontalTextAlignment(o,r),t=!0;break;case"value":this._inputInProgress||(t=t||(t||this.updateTextContent()));break;case Ya:this.handleOutputFormat(),t=!0;break;case"enabled":case"read-only":this.handleInputEvent()&&(t=!0);break;case"height":case"width":case qa:t=!0;break;case Ka:e?i=!0:t=!0;break;case Xa:!1===this._getBoolValue(this.getAttribute(Xa))&&(this._textDetails.wrappedTexts={},this._isVerticalScrollbarVisible=!1,this._isHorizontalScrollbarVisible=!1),t=!0;break;default:t=!0}}return this._dirtyList=[],{prop:r,createFlag:t,changeInputDim:i}},L.prototype.update=function(){var e,t=null,i=!1,r=!1,a={prop:{},createFlag:!1,changeInputDim:!1};if(this.initialized){for(this.checkAndConvertEnums(),-1<(e=this.metaData.dirtyList.indexOf(this))&&(this.metaData.dirtyList.splice(e,1),this._inputInProgress&&(t=this._inputDivElement)&&t.childNodes[0]&&t.childNodes[0].childNodes[0]&&(r=!0),a=this.getPropObject(r),this._setTextNodeProps(a.prop));this.metaData.dirtyList.length;){var n=this.metaData.dirtyList.pop();!1===this._inputInProgress&&(n instanceof P.Features.Font||n instanceof P.Features.InputBehavior&&(-1<n.dirtyList.indexOf("hidden-input")||-1<n.dirtyList.indexOf("scope")))&&(i=!0),n.redraw(this.RTPUItem,this.metaData)}a.createFlag?this.create(this.RTPUItem):i?this.draw():a.changeInputDim&&this._setInputDim(t)}},L.prototype.propertyChanged=function(e){this.metaData&&-1===this.metaData.dirtyList.indexOf(this)&&this.metaData.dirtyList.push(this),-1===this._dirtyList.indexOf(e)&&this._dirtyList.push(e)},L.prototype.remove=function(){this._removeVScrollbar(),this._removeHScrollbar(),this._verticalScrollbarTemplateInstance=null,this._horizontalScrollbarTemplateInstance=null,this.focusRect&&(this.RTPUItem.rootItem.RootFocusManager.unregisterFocusArea(this.focusRect),delete this.focusRect),this._dirtyList=[],this._elementProvider.cleanup(),this._eventCatcher.cleanup(),this._elementProvider=this._eventCatcher=null,this.defs=null,this._inputCaptureAdded&&this.childDom&&(P.unregisterEvent(this.childDom,P.enumEventType.tapped,this._eventCbs.startInputCapture),this._inputInProgress)&&this._deactivateInput(),this._inputDivElement=this.childDom=null,this._eventCbs.startInputCapture=this._eventCbs.keyDown=this._eventCbs.keyPress=this._eventCbs.stopPropagationHandler=this._eventCbs.onInputModified=null,this.removeInputHintDiv(),ka.prototype.remove.call(this)},L.prototype._setInitialFontAttributes=function(){var e;this._isInitialFontAttributesRead||((e=this._getFontFeature()).Attributes.scope?e.mergeWithScope():P.Utilities.mergeWithDefaults(e.Attributes,e.defaults),this._isInitialFontAttributesRead=!0)},L.prototype._actualizeTextNodeInformation=function(e){this._activeTextDOMNodes=e,this._textPositionY=[],this._textPositionX=[];for(var t=0;t<this._activeTextDOMNodes.length;t++)this._textPositionY[t]=+this._activeTextDOMNodes[t].getAttributeNS(null,"y"),this._textPositionX[t]=+this._activeTextDOMNodes[t].getAttributeNS(null,"x")},L.prototype.cbOnCommandVScrollbar=function(e,t,i){},L.prototype.cbOnCommandHScrollbar=function(e,t,i){},L.prototype.cbOnProcessValueChangedVScrollbar=function(e,t){for(var i,r=0;r<this._textPositionY.length;r++)i=(this._textPositionY[r]-t).toString(),this._activeTextDOMNodes[r].setAttributeNS(null,"y",i)},L.prototype.cbOnProcessValueChangedHScrollbar=function(e,t){for(var i,r=0;r<this._textPositionX.length;r++)i=(this._textPositionX[r]-t).toString(),this._activeTextDOMNodes[r].setAttributeNS(null,"x",i)},L.prototype.cbOnTemplateLoadedVScrollbar=function(e,t){e.templateInstance.RootNode.setAttribute("x",e.props.Left),e.templateInstance.RootNode.setAttribute("y",e.props.Up)},L.prototype.cbOnTemplateLoadedHScrollbar=function(e,t){e.templateInstance.RootNode.setAttribute("x",e.props.Left),e.templateInstance.RootNode.setAttribute("y",e.props.Up)},L.prototype._createVScrollData=function(){var e=this._getPaddingObject();return{BeginValue:0,Height:parseInt(this.Attributes.height,10)-e.top-e.bottom,Width:this._verticalScrollbarWidth,Left:parseInt(this.Attributes[qa],10)+(parseInt(this.Attributes.width,10)-e.right),Up:parseInt(this.Attributes[Ka],10)+e.top,EndValue:this._totalTextHeight,CurrentValue:0,cbOnChanged:this.cbOnProcessValueChangedVScrollbar.bind(this),cbOnTemplateLoaded:this.cbOnTemplateLoadedVScrollbar.bind(this),cbOnCommand:this.cbOnCommandVScrollbar.bind(this),VisibleValueRange:parseInt(this.Attributes.height,10)-e.top-e.bottom,SmallStepValueRange:Math.floor(this._totalTextHeight/this._lineHeight)}},L.prototype._createHScrollData=function(){var e=this._getPaddingObject(),t=this.Attributes["horizontal-text-alignment"],i=parseInt(this.Attributes.width,10)-e.left-e.right,r=Math.ceil(this._longestTextLine/i);return{BeginValue:"left"===t?0:"right"===t?-1*this._longestTextLine+i:this._longestTextLine/2*-1+i/2,Height:this._horizontalScrollbarHeight,Width:parseInt(this.Attributes.width,10)-e.left-e.right,Left:parseInt(this.Attributes[qa],10)+e.left,Up:parseInt(this.Attributes[Ka],10)+(parseInt(this.Attributes.height,10)-e.bottom),EndValue:"left"===t?this._longestTextLine:"right"===t?i:this._longestTextLine/2+i/2,CurrentValue:"left"===t?0:"right"===t?i:i/2,cbOnChanged:this.cbOnProcessValueChangedHScrollbar.bind(this),cbOnTemplateLoaded:this.cbOnTemplateLoadedHScrollbar.bind(this),cbOnCommand:this.cbOnCommandHScrollbar.bind(this),VisibleValueRange:parseInt(this.Attributes.width,10)-e.left-e.right,SmallStepValueRange:50<r?50:r}},L.prototype._createVerticalScrollbar=function(){var e;this._removeVScrollbar(),this._isVerticalScrollbarVisible&&!this._verticalScrollbarBase&&(e=null,this._verticalScrollbarBase=P.Utilities.createScrollBarObj(this,"Vertical",this._createVScrollData()),e={ActualX:0,ActualY:0,ActualWidth:this._verticalScrollbarBase.props.Width,ActualHeight:this._verticalScrollbarBase.props.Height},this._verticalScrollbarTemplateInstance=P.loadSubTemplate(this._verticalScrollbarBase.node,this._verticalScrollbarBase,"ScrollBarSystemPart",this._verticalScrollbarBase.props.RenderingTemplate,this._verticalScrollbarBase.cbOnChanged.bind(this),this._verticalScrollbarBase.cbOnTemplateLoaded.bind(this),e))},L.prototype._createHorizontalScrollbar=function(){var e;this._removeHScrollbar(),this._isHorizontalScrollbarVisible&&!this._horizontalScrollbarBase&&(e=null,this._horizontalScrollbarBase=P.Utilities.createScrollBarObj(this,"Horizontal",this._createHScrollData()),e={ActualX:0,ActualY:0,ActualWidth:this._horizontalScrollbarBase.props.Width,ActualHeight:this._horizontalScrollbarBase.props.Height},this._horizontalScrollbarTemplateInstance=P.loadSubTemplate(this._horizontalScrollbarBase.node,this._horizontalScrollbarBase,"ScrollBarSystemPart",this._horizontalScrollbarBase.props.RenderingTemplate,this._horizontalScrollbarBase.cbOnChanged.bind(this),this._horizontalScrollbarBase.cbOnTemplateLoaded.bind(this),e))},L.prototype._removeVScrollbar=function(){this._verticalScrollbarBase&&this._verticalScrollbarBase.templateInstance&&(P.removeSubTemplate(this._verticalScrollbarBase.templateInstance),this._verticalScrollbarBase=null)},L.prototype._removeHScrollbar=function(){this._horizontalScrollbarBase&&this._horizontalScrollbarBase.templateInstance&&(P.removeSubTemplate(this._horizontalScrollbarBase.templateInstance),this._horizontalScrollbarBase=null)},P.TextField=L,t=(t=e=e||{}).Lib||(t.Lib={}),Ja=t.NVEs||(t.NVEs={}),M.getDataProvider=function(e,t){return Array.isArray(e.Store.dataProvider)?e.Store.getDataProvider(t):e.Store.dataProvider},M.getThresholdMode=function(e){var t,i=M.thresholdMode;switch(e){case i.Lower:t="lower";break;case i.Normal:t="normal";break;case i.Upper:t="upper";break;case i.Minimum:t="minimum";break;case i.Maximum:t="Maximum"}return t},M.mergeWithDefaults=function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e},M.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},M.rotateSVGObject=function(e,t,i,r){return void 0===i&&(i="0"),void 0===r&&(r="0"),t&&"0"!==t?this.transformSVGObject(e,"0"!==i||"0"!==r?"rotate("+t+","+i+","+r+")":"rotate("+t+")"):e},M.transformSVGObject=function(e,t){var i=e.getAttribute("transform");return i?e.setAttribute("transform",t+" "+i):e.setAttribute("transform",t),e},M.resetSVGObject=function(e){return e.getAttribute("transform")&&e.removeAttribute("transform"),e},M.preprocessCoordinateForSVG=function(e,t){return(t=void 0===t?!1:t)?Math.round(1e6*e)/1e6:Math.round(e)},M.isInRange=function(e,t,i){return e>=Math.min(t,i)&&e<=Math.max(t,i)},M.restrictToRange=function(e,t,i){var r=Math.min(t,i),t=Math.max(t,i);return Math.min(Math.max(e,r),t)},M.convertToBool=function(e){if("string"==typeof e)switch(e){case"1":case"on":case"true":return!0;case"0":case"off":case"false":return!1;default:return null}else{if("number"==typeof e)return 1===e;if("boolean"==typeof e)return e}return Ja.trace(Ja.enumTraceMode.Warning,"Couldnt convert Value to Bool: "+e),null},M.cubicRoot=function(e){return 0<e?M.getExponentValue(1/3,e):e<0?-M.getExponentValue(1/3,-e):e},M.normalizeAngle=function(e){return(360<e||e<-360)&&(e%=360),e=e<0?e+360:e},M.getEnumKeyByValue=function(e,t){var i,r=Ja.getChromEnum(e);for(i in r)if(r[i]===t)return i.toLowerCase();return null},M.createScrollBarObj=function(e,t,i){var r=Ja.getSystemPart("ScrollBarSystemPart"),a={handler:{}};return a.props=r,a.props.BeginValue=i.BeginValue,a.props.Visible=!0,a.props.Floating=!1,a.props.Orientation=Ja.getChromEnum("HmiOrientation")[t],a.props.Height=i.Height,a.props.Width=i.Width,a.props.VisibleValueRange=i.VisibleValueRange,a.props.EndValue=i.EndValue,a.props.SmallStepValueRange=i.SmallStepValueRange,a.props.CurrentValue=i.CurrentValue,a.props.Left=i.Left,a.props.Up=i.Up,a.cbOnTemplateLoaded=i.cbOnTemplateLoaded,a.cbOnChanged=i.cbOnChanged,a.handler.onCommand=i.cbOnCommand,a.gfxWebLib=e.RTPUItem.Store.gfxWebLib,a.parentItem=e,a.node=e.dom,a},M.cloneObj=function(e){if(Array.isArray(e)){for(var t=[],i=0;i<e.length;i++)t[i]=e[i].clone();return t}if("object"!=typeof e)return e;var r,a={};for(r in e)e.hasOwnProperty(r)&&(e[r]===Object?a[r]=M.cloneObj(e[r]):a[r]=e[r]);return a},M.getMousePoint=function(e,t){var i,r,a={x:0,y:0};return window.convertPointFromPageToNode&&(void 0!==e.pageX&&null!==e.pageX&&void 0!==e.pageY&&null!==e.pageY?(i=e.pageX,r=e.pageY):e.changedPointers&&0<e.changedPointers.length?(i=e.changedPointers[0].pageX,r=e.changedPointers[0].pageY):e.changedTouches&&0<e.changedTouches.length&&(i=e.changedTouches[0].pageX,r=e.changedTouches[0].pageY),e=window.convertPointFromPageToNode(t,i,r),a.x=e.x,a.y=e.y),a},M.getQualityOfValue=function(e){var t,i=Ja.Data.QualityLowerLimit;return e>=i.Good?t=Ja.Data.QualityCode.Good:e>=i.Uncertain?t=Ja.Data.QualityCode.Uncertain:e>=i.Bad&&(t=Ja.Data.QualityCode.Bad),t},M.getContrastColor=function(e){e=e.split("rgba(")[1].split(",").map(function(e){return+e/255}),e=[e[0],e[1],e[2]].map(function(e){return e<=.03928?e/12.92:M.getExponentValue(2.4,(e+.055)/1.055)});return.179<.2126*e[0]+.7152*e[1]+.0722*e[2]?"rgba(0,0,0,1)":"rgba(255,255,255,1)"},M.getInvertedColor=function(e){var t="number"==typeof e?(t=(e=e.toString(16)).slice(2),t=parseInt(t,16),t=("00000"+(t=(t^=16777215).toString(16))).slice(-6),t=e.slice(0,2)+t,parseInt(t,16)):-1!==e.indexOf("rgba")?"rgba("+(255-(t=e.split("rgba(")[1].split(","))[0])+","+(255-t[1])+","+(255-t[2])+","+t[3]:(t=e.slice(1),t=parseInt(t,16),"#"+(t=("00000"+(t=(t^=16777215).toString(16))).slice(-6)));return t},M.getExponentValue=function(e,t){return void 0===t&&(t=10),Math.pow(t,e)},M.trimNum=function(e,t,i){t=M.getExponentValue(t);return i=i||"round",Number(Math[i](parseFloat(e)*t)/t)},M.floatSub=function(e,t){var i=0,r=0,a=(e=e.toString(),t=t.toString(),-1<(a=e.indexOf("."))&&(i=e.length-a-1),-1<(a=t.indexOf("."))&&(r=t.length-a-1),M.getExponentValue(r<i?i:r));return(M.floatMul(parseFloat(e),a)-this.floatMul(parseFloat(t),a))/a},M.floatMul=function(e,t){var i={},r={};return e=e.toString(),t=t.toString(),-1<e.indexOf("e")||-1<t.indexOf("e")?e*t:-1===e.indexOf("e")&&-1===e.indexOf(".")&&-1===t.indexOf("e")&&-1===t.indexOf(".")?parseInt(e,10)*parseInt(t,10):(i.number=e,i.exp=0,i.eNum=0,i.denominator=1,i.numerator=1,r.number=t,r.exp=0,r.eNum=0,r.denominator=1,r.numerator=1,i=M.calcMethod(i),r=M.calcMethod(r),parseInt(i.number,10)/M.getExponentValue(i.exp)*(parseInt(r.number,10)/M.getExponentValue(r.exp))*(r.numerator*i.numerator/(i.denominator*r.denominator)))},M.calcMethod=function(e){var t,i,r="0",a=e.number.toString();return(-1<a.indexOf(".")||-1<a.indexOf("e"))&&(-1<(t=(i=a).indexOf("e"))&&(r=a.substring(t+1,i.length),i=a=a.substring(0,t)),-1<(t=a.indexOf(".")))&&(a=a.substring(0,t),i=i.substring(t+1,i.length),e.exp=(a+=i).length-t,a=+a),e.number=a,e.eNum=parseInt(r,10),e.eNum<0?(e.eNum*=-1,e.denominator*=M.getExponentValue(e.eNum)):e.numerator*=M.getExponentValue(e.eNum),e},M.floatAdd=function(e,t){var i,r=0,a=0;return-1<e.toString().indexOf("e")&&-1<t.toString().indexOf("e")?e+t:0===e?t:0===t?e:(e=e.toString(),t=t.toString(),-1<(i=e.indexOf("."))&&(r=e.length-i-1),-1<(i=t.indexOf("."))&&(a=t.length-i-1),i=M.getExponentValue(a<r?r:a),(this.floatMul(parseFloat(e),i)+this.floatMul(parseFloat(t),i))/i)},M.getProjectMajorVersion=function(e){if(e)return(e=e.Store.gfxWebLib.getProjectVersion())&&0<e.length?parseInt(e.split(".")[0]):e},M.loadImage=function(e,t,i){var r=new Image;r.onload=function(){return i(r.src)},r.onerror=function(){return Ja.trace(Ja.enumTraceMode.Error,"Image Cannot be loaded"+t)},r.src=Ja.toHRef(t,e)},M.toInitialCap=function(e){var t=(null==e?void 0:e.length)||0,i="",r="";return 0<t&&(i=e[0].toUpperCase(),1<t)&&(r=e.substring(1)),""+i+r},M.thresholdMode={Upper:1,Lower:2,Normal:3,Minimum:4,Maximum:5},Ja.Utilities=M,H.NVES=e.Lib.NVEs},function(e,t,i){
/*!
 * CLDR JavaScript Library v0.5.4 2020-10-22T15:56Z MIT license  Rafael Xavier
 * http://git.io/h4lmVg
 */
e.exports=i(1),i(9),i(10),i(11)},function(e){e.exports={texts:{TBID_NML_Name:"WebUx",TBID_NML_LCID:"EN",TBID_HR_UnknownError:"Unknown error: (hr=%s).",TBID_HR_0x8007139F:"Runtime not active.",TBID_HR_0x80004004:"Invalid Parameter: StartConfig in GfxStartParameter.xml.",TBID_ConnServerFailed:"Connect to runtime server failed (hr=%s).",TBID_ConnLoading:"Loading...",TBID_ConnNoConnection:"No connection to server",TBID_ConnDeadOrSlow:"The connection may be slow or disconnected.",TBID_ConnReconnecting:"No connection to server. Automatic reconnect in %d second(s)",TBID_ConnNoRuntime:"Runtime not active. Automatic reconnect in %d second(s)",TBID_ConnOverload:"An overload condition detected! Please reload this page.",TBID_ConnReload:"Reload",TBID_OperationMotive:"Please enter operator input message...",TBID_LimitViolation:"The value exceeds the configured limits.",TBID_OperationNotAuthorized:"Insufficient permission",TBID_OperationDisabledProgrammatically:"Disabled programmatically",TBID_OperationNoExplicitUnlock:"Explicit unlock is missing",TBID_OperationWriteTagForbidden:"Write access denied due to missing license.",TBID_ReadOnlyLicense:"Attention, you are working on a read only license.",TBID_Print_Warning_PopUpBlockerMsg:"Check if Pop-up is blocked by the Browser for Printing",TBID_Print_Warning_PopUpBlockerCaption:"Pop-up blocker",TBID_TableCtrl_Statusbar_Row:"Row",TBID_TableCtrl_Statusbar_Column:"Column",TBID_TableCtrlPB_Name:"Table Property Browser",TBID_TableCtrlPB_Tab_TimeAndValueColumns:"Time & Value Columns",TBID_TableCtrlPB_Tab_ValueColumns:"Value Columns",TBID_TableCtrlPB_Tab_ColumnBase:"ColumnBase",TBID_TableCtrlPB_TimeAndValueColumns_TimeColumn:"Time column",TBID_TableCtrlPB_TimeAndValueColumns_ProcessValueColumns:"Process value columns",TBID_TableCtrlPB_ColumnBase_Name:"Name",TBID_TableCtrlPB_ColumnBase_Visible:"Visible",TBID_TableCtrlPB_ColumnBase_Enabled:"Enabled",TBID_TableCtrlPB_ColumnBase_HorizontalAlignment:"Horizontal text alignment",TBID_TableCtrlPB_ColumnBase_VerticalAlignment:"Vertical text alignment",TBID_TableCtrlPB_ColumnBase_Width:"Width",TBID_TableCtrlPB_ColumnBase_MinimumWidth:"Minimum width",TBID_TableCtrlPB_ColumnBase_MaximumWidth:"Maximum width",TBID_TableCtrlPB_ColumnBase_AllowSort:"Allow sort",TBID_TableCtrlPB_ColumnBase_SortOrder:"Sort order",TBID_TableCtrlPB_ColumnBase_SortDirection:"Sort direction",TBID_TableCtrlPB_ColumnBase_BackColor:"Back color",TBID_TableCtrlPB_ColumnBase_ForeColor:"Fore color",TBID_TableCtrlPB_ColumnBase_FeatureSelection:"Feature selection",TBID_TableCtrlPB_ColumnBase_OutputFormat:"Output Format",TBID_TableCtrlPB_ColumnBase_RenderingTemplate:"Rendering template",TBID_TableCtrlPB_ColumnBase_ProcessColumns:"Process columns",TBID_TableCtrlPB_ColumnBase_SortingAttributes:"Sorting and Coloring attributes",TBID_TableCtrlPB_ColumnBase_ContentAndHeaderSettings:"Content & Header settings",TBID_TableCtrlPB_ColumnBase_ContentFeature:"Content feature",TBID_TableCtrlPB_ColumnBase_TextMaximumLengthMsgCaption:"Text length",TBID_TableCtrlPB_ColumnBase_TextMaximumLengthMsg:"Maximum allowed length is 128",TBID_TableCtrlPB_ColumnBase_OutputFormatMaxLengthMsgCaption:"Output Format length",TBID_TableCtrlPB_ColumnBase_OutputFormatMaxLengthMsg:"Maximum allowed length is 128",TBID_TableCtrlPB_ColumnBase_OutputFormatMaxInvalidMsgCaption:"Please Enter Valid Format",TBID_TableCtrlPB_ColumnBase_WidthMinMaxMsgCaption:"Minimum width",TBID_TableCtrlPB_ColumnBase_WidthMinMaxMsg:"Minimum width should be less than the Maximum width",TBID_TableCtrlPB_ColumnBase_SortOrderMsgCaption:"SortOrder Error",TBID_TableCtrlPB_ColumnBase_MaxAllowedSortOrderMsg:"Allowed SortOrder value range is ",TBID_TableCtrlPB_ColumnBase_SortOrderBoundaryExceedMsg:" Misses allowed SortOrder value range ",TBID_TableCtrlPB_ColumnBase_SameSortOrderMsg:" Duplicate Order ",TBID_TableCtrlPB_ColumnBase_For:" for ",TBID_TableCtrlPB_ColumnBase_HeaderProperties_Text:"Text",TBID_TableCtrlPB_ColumnBase_HeaderProperties_Graphic:"Graphic",TBID_TableCtrlPB_ColumnBase_HeaderProperties_HorizontalAlignment:"Horizontal text alignment",TBID_TableCtrlPB_ColumnBase_HeaderProperties_VerticalAlignment:"Vertical text alignment",TBID_TableCtrlPB_ColumnBase_HeaderProperties_ContentMode:"Content mode",TBID_TableCtrlPB_ColumnBase_HeaderProperties_TextPosition:"Text position",TBID_TableCtrlPB_ColumnBase_HeaderProperties_TextTrimming:"Text trimming",TBID_TableCtrlPB_ColumnBase_HeaderProperties_Spacing:"Spacing",TBID_TableCtrlPB_ColumnBase_HeaderProperties_SplitRatio:"Split ratio",TBID_TableCtrlPB_ColumnBase_HeaderProperties_GraphicStretchMode:"Graphic stretch mode",TBID_TableCtrlPB_TimeColumns_Online:"Online",TBID_TableCtrlPB_TimeColumns_UseValueColumnColors:"Use value column colors",TBID_TableCtrlPB_TimeColumns_PointsCount:"Points count",TBID_TableCtrlPB_TimeColumns_RangeFactor:"Range Factor",TBID_TableCtrlPB_TimeColumns_StartTimeMsg:"Enter a start time that is before end time",TBID_TableCtrlPB_TimeColumns_MeasurementPointMsg:"Enter a number from 1 to 2^31 - 1 for number of measurement points",TBID_TableCtrlPB_TimeColumns_TimeRangeMsg:"Enter a number from 1 to 32767 as the factor for the time range",TBID_TableCtrlPB_TimeColumns_RangeType:"Range type",TBID_TableCtrlPB_TimeColumns_TimeRange:"Time range",TBID_TableCtrlPB_General_Lable_OnlineConfiguration:"Online configuration",TBID_TableCtrlPB_General_Online:"Online",TBID_TableCtrlPB_General_Lable_EditMode:"Edit mode",TBID_TableCtrlPB_General_Lable_Precision:"Precision",TBID_TableCtrlPB_General_Lable_TimeStepSmoothingFactor:"TimeStep smoothing factor",TBID_TableCtrlPB_General_Lable_TimeStepSmoothingBase:"TimeStep smoothing base",TBID_TableCtrlPB_General_Lable_Edit:"Edit",TBID_TableCtrlPB_ValueColumns_LimitValues:"Limit Values",TBID_TableCtrl_WriteError_Caption:"Write Error",TBID_TableCtrl_WriteError_Msg:"Error occured when changing a data record.",TBID_TableCtrl_Note_Caption:"Note",TBID_TableCtrl_TimeColumnEditError_Msg:"A time column cannot be edited.",TBID_TableCtrl_EmptyCellEditError_Msg:"Empty cells cannot be edited.",TBID_TableCtrl_EditNotAllowedError_Msg:"Editing data is not allowed.",TBID_TableCtrl_EmptyCellDeleteError_Msg:"Empty cell cannot be deleted.",TBID_TableCtrl_DeletingArchiveValue_TimeColumn_Msg:"Please select a process value for deletion.",TBID_TableCtrl_DeletingArchiveValue_InvalidRowColumnSelect_Msg:"Please select a valid process value for deletion.",TBID_TableCtrl_EditingModeError_Msg:"The control is not in editing mode.",TBID_TableCtrl_DisabledColumnError_Msg:"Please enable the column",TBID_TableCtrl_InputError_Caption:"Input Error",TBID_TableCtrl_InputError_Msg:"Enter a numeric value.",TBID_HmiWindowPB_Tab_OperatorMessages:"Operator Messages",TBID_HmiWindowPB_Tab_OnlineConfiguration:"Online Configuration",TBID_HmiWindowPB_Tab_Export:"Export",TBID_HmiWindowPB_Tab_General:"General",TBID_HmiWindowPB_Tab_ToolBar:"Toolbar",TBID_HmiWindowPB_Tab_StatusBar:"Status bar",TBID_HmiWindowPB_Tab_Font:"Font",TBID_HmiWindowPB_Tab_Parameter:"Parameter",TBID_HmiWindowPB_Tab_Effects:"Effects",TBID_HmiWindowPB_Tab_Selection:"Selection",TBID_HmiWindowPB_Tab_Import:"Import",TBID_HmiWindow_TimeZoneDialog_Caption:"Time Zone Settings",TBID_HmiWindow_TimeZoneDialog_SetTimeZone:"Set the time zone:",TBID_HmiWindow_TimeZoneDialog_TimeZone:"Time zone:",TBID_HmiWindow_TimeZoneDialog_ZoneDateTimeLocal:"Local zone date and time:",TBID_HmiWindow_TimeZoneDialog_ZoneDateTimeCurrent:"Current zone date and time:",TBID_HmiWindow_TimeZoneDialog_ZoneDateTimeNew:"New zone date and time:",TBID_HmiWindowPB_General_Lable_Window:"Window",TBID_HmiWindowPB_General_Lable_WindowTitle:"Window title",TBID_HmiWindowPB_General_Lable_Text:"Text",TBID_HmiWindowPB_General_Style:"Style",TBID_HmiWindowPB_General_TimeZone:"Time zone",TBID_HmiWindowPB_General_VerticalScrollbarVisibility:"Vertical Scrollbar Visibility",TBID_HmiWindowPB_General_HorizontalScrollbarVisibility:"Horizontal Scrollbar Visibility",TBID_HmiWindowPB_BeginEndDateTime_InvalidDateTimeMsgCaption:"Invalid DateTime",TBID_HmiWindowPB_BeginEndDateTime_InCompleteDateTimeMsg:"Please provide valid Date/Time value",TBID_HmiWindowPB_BeginEndDateTime_InvalidDateTimeMsg:"Should be of Date Format: 'YYYY-MM-DD' and Time Format: 'HH:MM:SS.000'",TBID_HmiWindowPB_OutputFormat_HelloString:"Hello",TBID_HmiWindowPB_OutputFormat_SampleString:"SIEMENS Corporation",TBID_HmiWindowPB_OutputFormat_TrimStringTip:"Removes white space at start and end",TBID_HmiWindowPB_OutputFormat_UnderScoreTip:"Replace underscore with 'digit'",TBID_AlgCtrl_Pending:"Pending",TBID_AlgCtrl_ToAcknowledge:"To acknowledge",TBID_AlgCtrl_List:"List",TBID_AlgCtrl_HitList_Title:"Statistics setup",TBID_AlgCtrl_HitList_MaxRecordsSettings:"Max. data records for the statistics",TBID_AlgCtrl_HitList_TimeRangeSettings:"Time range for statistics",TBID_AlgCtrl_HitList_MaximumRecords:"Maximum records",TBID_AlgCtrl_HitList_BeginTime:"Begin Time",TBID_AlgCtrl_HitList_RangeFactor:"Time range factor",TBID_AlgCtrl_HitList_RangeBase:"Time range base",TBID_AlgCtrl_HitList_TimeRangeStartOptions:"Time range start",TBID_AlgCtrl_HitList_TimeRangeStartOptions_Now:"Now",TBID_AlgCtrl_HitList_TimeRangeStartOptions_Fixed:"Fixed",TBID_AlgCtrl_HitList_MaximumRecordsMsg:"Enter a number from 1 to 50000 as the value for the maximum records",TBID_AlgCtrl_HitList_RangeFactorMsg:"Enter a number from 1 to 32767 as the factor for the time range",TBID_AlgCtrl_Sort:"Sort",TBID_AlgCtrl_SortNone:"None",TBID_AlgCtrl_SortLevel1:"Sort by",TBID_AlgCtrl_SortLevel2:"Then Sort by",TBID_AlgCtrl_SortLevel3:"Then Sort by",TBID_AlgCtrl_SortLevel4:"Finally Sort by",TBID_AlgCtrl_Ok:"OK",TBID_AlgCtrl_Cancel:"Cancel",TBID_AlgCtrl_Apply:"Apply",TBID_Help:"Help",TBID_EnableAlarm:"Enable alarm",TBID_AlgCtrl_Ascending:"Ascending",TBID_AlgCtrl_Descending:"Descending",TBID_AlgCtrl_ClearSortCriteria:"Clear sort criteria",TBID_AlgCtrl_TimeBase:"Time base",TBID_AlgCtrl_LocalTimeZone:"Local time zone",TBID_AlgCtrl_UTC:"Coordinated Universal Time (UTC)",TBID_StatusBar_ConState_AllConnected:"All data connections established",TBID_StatusBar_ConState_AllDisconnected:"No data connections could be established",TBID_StatusBar_ConState_SomeDisconnected:"Some data connections could not be established",TBID_StatusBar_ConState_NoConnectionSetUp:"No data connection set up",TBID_AlgCtrl_UnSuppressed:"Unsuppressed",TBID_AlgCtrl_DisplayOptions:"Show messages: ",TBID_AlgCtrl_OutOfService:"Out of service",TBID_AlgCtrl_Suppressed:"Suppressed",TBID_AlgCtrl_SuppressedByDesign:"Suppressed by design",TBID_AlgCtrl_Shelved:"Shelved",TBID_AlgCtrl_LockDialog_LockedMessages:"Locked Messages:",TBID_AlgCtrl_LockDialog_Server:"Server",TBID_AlgCtrl_LockDialog_Lock:"Lock",TBID_AlgCtrl_LockDialog_Unlock:"Unlock",TBID_AlgCtrl_LockDialog_Add:"Add",TBID_AlgCtrl_LockDialog_Delete:"Delete",TBID_AlgCtrl_LockDialog_ParentNode:"localhost::",TBID_ImportDialog_DataImport:"Import - ParameterSets ",TBID_ImportDialog_ChooseFile:"File",TBID_ImportDialog_FileExtnNotification:"Choose file with [tsv] extension",TBID_ImportDialog_ChecksumNotification:"Checksum validation is not supported",TBID_ImportDialog_ChecksumLable:"Validate Checksum",TBID_ImportFailed:"Import Failed:No PS for selected PST",TBID_ImportFail_IncorrectFormat:"Import Failed: Incorrect file format",TBID_ImportFail_IncorrectHeader:"Import Failed: Incorrect header",TBID_ImportFail_IncorrectData:"Import Failed: Incorrect data",TBID_ImportFail_IncorrectDataType:"Import Failed: Incorrect data type",TBID_ImportDialog_IncorrectDataType:"Value must be of type ",TBID_ImportDialog_ValueNotInRangeMin:"Limit violation, value should not be less than ",TBID_ImportDialog_ValueNotInRangeMax:"Limit violation, value should not be more than ",TBID_ImportDialog_ValueNotInRange1:"Edited cell value must be with in ( ",TBID_ImportDialog_ValueNotInRange2:" ) range",TBID_ImportDialog_ErrorSummary:" Parameter sets will not be imported due to errors. ",TBID_ImportDialog_ErrorSummaryContinue:"Would you like to continue import of valid Parameter sets?",TBID_ImportDialog_ErrorGridHeaderPsId:"PS ID",TBID_ImportDialog_ErrorGridHeaderPeName:"Element Name",TBID_ImportDialog_ErrorGridHeaderPeValue:"Element Value",TBID_ImportDialog_ErrorGridHeaderParameterName:"ParameterSet Name",TBID_ImportDialog_ErrorGridHeaderPsErrorDescription:"Error Description",TBID_AlgCtrl_ExportDialog_DataExport:"Data Export - Settings",TBID_AlgCtrl_ExportDialog_FileName:"File Name",TBID_AlgCtrl_ExportDialog_Directory:"Directory",TBID_AlgCtrl_ExportDialog_Scope:"Scope of data export",TBID_AlgCtrl_ExportDialog_Format:"Format",TBID_AlgCtrl_ExportDialog_Choose_Format:"Choose Format",TBID_AlgCtrl_ExportDialog_List_Separator:"List Separator",TBID_AlgCtrl_ExportDialog_Decimal_Symbol:"Decimal Symbol",TBID_AlgCtrl_ExportDialogForPaco_DataExport:"Export - ParameterSet",TBID_AlgCtrl_ExportDialog_Generate_Checksum:"Generate checksum",TBID_AlgCtrl_Dialog_ParameterSet_NameNumber_Exist:"Parameter set with Name and Number already exist",TBID_AlgCtrl_Dialog_ParameterSet_Number_Exist:"Parameter set with Number already exist",TBID_AlgCtrl_Dialog_ParameterSet_Name_Exist:"Parameter set with Name already exist",TBID_AlgCtrl_ConfirmReadFromPLCDialog_DialogHeader:"Read from PLC - Parameter set",TBID_AlgCtrl_ConfirmReadFromPLCDialog_DialogTitle:"Read from PLC - Parameter set",TBID_AlgCtrl_ConfirmReadFromPLCDialog_PS_Name:"Parameter set name",TBID_AlgCtrl_ConfirmReadFromPLCDialog_PS_No:"Number",TBID_AlgCtrl_ConfirmReadFromPLCDialog_ReadButton:"Read",TBID_AlgCtrl_ConfirmReadFromPLCDialog_OverwriteLabel:"Overwrite selected parameter set",TBID_AlgCtrl_ConfirmReadFromPLCDialog_CreateNewLabel:"Create new parameter set",TBID_AlgCtrl_RenameDialog_DialogHeader:"Rename - ParameterSet",TBID_AlgCtrl_RenameDialog_DialogTitle:"Rename - ParameterSet",TBID_AlgCtrl_RenameDialog_File_Name:"PARAMETER SET NAME",TBID_AlgCtrl_SaveAsDialog_DialogHeader:"Save As - ParameterSet",TBID_AlgCtrl_SaveAsDialog_DialogTitle:"Save As - ParameterSet",TBID_AlgCtrl_SaveAsDialog_File_Format:"NUMBER",TBID_AlgCtrl_CreateDialog_DialogHeader:"Create - ParameterSet",TBID_AlgCtrl_CreateDialog_DialogTitle:"Create - ParameterSet",TBID_AlgCtrl_ImportDialog_OverWrite:"Overwrite",TBID_AlgCtrl_ExportOptionsDialog_Delimiter:"Delimiter",TBID_AlgCtrl_ExportOptionsDialog_FileFormat:"File Format",TBID_AlgCtrl_ExportOptionsDialog_Comma:"Comma",TBID_AlgCtrl_ExportOptionsDialog_Semicolon:"Semicolon",TBID_AlgCtrl_ExportOptionsDialog_Tab:"Tab stop",TBID_AlgCtrl_ExportOptionsDialog_Space:"Space",TBID_AlgCtrl_ExportOptionsDialog_ANSI:"ANSI",TBID_AlgCtrl_ExportOptionsDialog_UTF:"UTF-8",TBID_AlgCtrl_ExportOptionsDialog_Unicode:"Unicode",TBID_All:"All",TBID_AlgCtrl_QueryParse_Error:"Filter dialog is unable to parse the Query.",TBID_AlgCtrl_AddDialog_MessageNum:"Message Number(s)",TBID_AlgCtrl_AddDialog_Desc:"Separate messages by commas or indicate a range.",TBID_AlgCtrl_AddDialog_Example:"For example:1,2,3,5-10",TBID_AlgCtrl_Close:"Close",TBID_AlgCtrl_InfoText:"Info text",TBID_AlgCtrl_AddDialog_dialogtitle:"Set the Lock List Parameters",TBID_AlgCtrl_Number:"Number",TBID_AlgCtrl_ID:"Alarm ID",TBID_AlgCtrl_Date:"Date",TBID_AlgCtrl_Time:"Alarm Modification Time",TBID_AlgCtrl_Author:"Author",TBID_AlgCtrl_Computer:"Computer",TBID_AlgCtrl_Comment:"Comment",TBID_AlgCtrl_ActiveAlarmsViewSetup:"Activealarmsview setup",TBID_AlgCtrl_AlarmDefinitionViewSetup:"Alarmdefinitionview setup",TBID_AlgCtrl_SuppressFlashing:"Suppress flashing",TBID_AlgCtrl_AcknowledgementFlashingRate:"Acknowledgement flashing rate",TBID_AlgCtrl_ResetFlashingRate:"Reset flashing Rate",TBID_AlgCtrl_DefaultSortDirection:"Default sort direction",TBID_Configuration:"Configuration",TBID_AlarmView:"AlarmView",TBID_SingleAcknowledgement:"Single acknowledgement",TBID_GroupAcknowledgment:"Group acknowledgment",TBID_AlwaysShowRecent:"Always show recent",TBID_SelectionDisplay:"Selection display",TBID_DisplayOptionsSetup:"Display options",TBID_FirstLine:"First line",TBID_PreviousLine:"Previous line",TBID_LastLine:"Last line",TBID_NextLine:"Next line",TBID_DisableAlarm:"Disable alarm",TBID_CommentsSetup:"Comments",TBID_ShowActiveAlarms:"Active alarms",TBID_ShowLoggedAlarms:"Logged alarms",TBID_ShowLoggedAlarmsUpdated:"Logged alarms updated",TBID_ShowDefinedAlarms:"Defined alarms",TBID_SingleReset:"Single reset",TBID_MoveToNextAcknowledgeableAlarm:"Move to next acknowledgable alarm",TBID_AlarmAnnunciator:"Alarm annunciator",TBID_PreviousPage:"Previous page",TBID_NextPage:"Next page",TBID_ShelveAlarm:"Shelve alarm",TBID_UnshelveAlarm:"Unshelve alarm",TBID_SortSetup:"Sort",TBID_TimeBaseSetup:"TimeBase",TBID_Mapping:"Mapping",TBID_InfoTextSetup:"Info text",TBID_Date:"Date",TBID_Time:"Time",TBID_PendingAlarms:"PendingAlarms",TBID_Alarms:"Alarms",TBID_PendingAcknowledgeableAlarms:"Pending acknowledgeable alarms",TBID_PendingShelvedAlarms:"Pending shelved alarms",TBID_Selection:"Selection",TBID_DisplayOption:"Display option",TBID_Disabled:"Disabled",TBID_HasPendingShelvedAlarms:"Has pending shelved alarms",TBID_ConnectionStatus:"Connection status",TBID_AlarmStatisticsView:"Statistics view",TBID_DisabledAlarmsSetup:"Disabled alarm setup",TBID_ShelvedAlarms:"Shelved alarms",TBID_DisabledAlarms:"Disabled alarms",TBID_CopyLines:"Copy lines",TBID_LoopInAlarm:"Loop in alarm",TBID_Grid_LineVisibiliy:"Visibility",TBID_HmiWindow_ShowCaption:"Show caption",TBID_HmiWindow_ShowBorder:"Show border",TBID_HmiWindow_AlwaysOnTop:"Always on  top",TBID_HmiWindow_CanSize:"Can size",TBID_HmiWindow_CanMove:"Can move",TBID_HmiWindow_CanMaximize:"Can maximize",TBID_HmiWindow_CanClose:"Can close",TBID_Row:"Row",TBID_Column:"Column",TBID_CustomCombo_No_Items_Available:"No items available",TBID_CustomCombo_Select:"<- Select ->",TBID_CreateArchiveValue:"Create archive value",TBID_Edit:"Edit",TBID_NextColumn:"Next column",TBID_PreviousColumn:"Previous column",TBID_SelectColumns:"Select columns",TBID_TrendTooltip_DataConnection:"Data Connection",TBID_TrendTooltip_TimeStamp:"Time Stamp",TBID_TrendTooltip_YValue:"Y Value",TBID_Trend_MinLabel:"Min",TBID_Trend_MaxLabel:"Max",TBID_Trend_LegendLabel:"Legend:",TBID_Trend_MinMaxThresholdLabel:"Min/Max Threshold:",TBID_Trend_YValue:"Y Value",TBID_Trend_XValue:"X Value",TBID_Trend_Time:"Time",TBID_TrendPB_Font_FontProperties:"Properties",TBID_TrendPB_Font_FontName:"Font",TBID_TrendPB_Font_Fontsize:"Font Size",TBID_TrendPB_Font_FontWeight:"Font Weight",TBID_TrendPB_Font_FontItalic:"Italic",TBID_TrendPB_Font_FontUnderline:"Underline",TBID_TrendPB_Font_FontStrikeThrough:"Strikethrough",TBID_TrendPB_Font_FontSampletext:"Sample text",TBID_TrendPB_Font_InvalidfontMsg:"Font size can not be zero or empty",TBID_TrendPB_Font_FontOkButton:"OK",TBID_TrendPB_Font_FontCancelButton:"Cancel",TBID_TrendPB_Font_FontApplyButton:"Apply",TBID_TrendPB_Font_Effects:"Effects",TBID_TrendPB_Trend_NewTrendName:"Trend ",TBID_TrendPB_Trend_NewTrendWindowName:"Trend Area ",TBID_TrendPB_Trend_NewValueAxisName:"Value axis ",TBID_TrendPB_Trend_NewTimeAxisName:"Time axis ",TBID_TrendPB_Function_NewTrendName:"FunctionTrend ",TBID_TrendPB_Function_NewTrendAreaName:"Area ",TBID_TrendPB_Function_NewXAxisName:"XAxis ",TBID_TrendPB_Function_NewYAxisName:"YAxis ",TBID_TrendPB_Trend_TrendName:"Trends",TBID_TrendPB_Trend_ObjectName:"Name",TBID_TrendPB_Trend_TrendWindow:"Trend Area",TBID_TrendPB_Trend_TimeAxis:"Time axis",TBID_TrendPB_Trend_ValueAxis:"Value axis",TBID_TrendPB_Trend_XAxis:"X axis",TBID_TrendPB_Trend_YAxis:"Y axis",TBID_TrendPB_Trend_Lable:"Display Name",TBID_TrendPB_Trend_Online:"Online",TBID_TrendPB_Trend_DataSource:"Data source",TBID_TrendPB_Trend_TagName:"Source",TBID_TrendPB_Trend_TrendMode:"Trend Mode",TBID_TrendPB_Trend_LineColor:"Line color",TBID_TrendPB_Trend_DashType:"Dash type",TBID_TrendPB_Trend_LineWeight:"Line weight",TBID_TrendPB_Trend_MarkerType:"Marker type",TBID_TrendPB_Trend_MarkerDimension:"Marker Dimension",TBID_TrendPB_Trend_MarkerColor:"Marker color",TBID_TrendPB_Trend_BackColor:"Back color",TBID_TrendPB_Trend_BackFillPattern:"Back fill pattern",TBID_TrendPB_Trend_Extended:"Extended",TBID_TrendPB_Trend_LimitValues:"Limit values",TBID_TrendPB_Trend_Visible:"Visible",TBID_TrendPB_Trend_DataConnection:"Data Connection",TBID_TrendPB_Trend_Effects:"Effects",TBID_TrendPB_Trend_Refresh:"Refresh",TBID_TrendPB_Trend_TimeRange:"Time Range",TBID_TrendPB_Trend_Setting:"Setting",TBID_TrendPB_Trend_StartTime:"Start time",TBID_TrendPB_Trend_EndTime:"End time",TBID_TrendPB_Trend_StartTimeMsg:"Enter a start time that is before end time",TBID_TrendPB_Trend_MeasurementPointMsg:"Enter a number from 1 to 2^31 - 1 for number of measurement points",TBID_TrendPB_Trend_TimeRangeMsg:"Enter a number from 1 to 32767 as the factor for the time range",TBID_TrendPB_Trend_TagNameX:"Tag name X",TBID_TrendPB_Trend_TagNameY:"Tag name Y",TBID_TrendPB_Trend_TagButtonValue:"Tag..",TBID_TrendPB_Trend_LimitValuesButtonValue:"Limit values",TBID_TrendPB_Trend_ShowXAxis:"Show X-Axis",TBID_TrendPB_Trend_ShowYAxis:"Show Y-Axis",TBID_TrendPB_Trend_AlternateBackColor:"Alternate back color",TBID_FirstRecord:"First record",TBID_PreviousRecord:"Previous record",TBID_NextRecord:"Next record",TBID_LastRecord:"Last record",TBID_Ruler:"Ruler",TBID_RulerWindow:"Ruler window",TBID_Print:"Print",TBID_Export:"Export",TBID_Source:"Source",TBID_ZoomArea:"Zoom area",TBID_ZoomPlusMinus:"Zoom plus minus",TBID_ZoomTimeAxisPlusMinus:"Zoom time axis plus minus",TBID_ZoomValueAxisPlusMinus:"Zoom value axis plus minus",TBID_ZoomXAxisPlusMinus:"Zoom x axis plus minus",TBID_ZoomYAxisPlusMinus:"Zoom y axis plus minus",TBID_MoveTrendArea:"Move trend area",TBID_MoveAxesArea:"Move axes area",TBID_OriginalView:"Original view",TBID_SelectDataConnection:"Select data connection",TBID_SelectTrend:"Select trend",TBID_SelectTimeRange:"Select time range",TBID_PreviousTrend:"Select Previous trend",TBID_NextTrend:"Next trend",TBID_StartStop:"Start and  stop ",TBID_TimeBase:"Time base",TBID_DefineStatisticsArea:"Define statistics area",TBID_CalculateStatistics:"Calculate statistics",TBID_RelativeAxis:"Calculate statistics",TBID_TagDialog_TagName:"Tag Name",TBID_TagDialog_CycleTime:"Cycle Time",TBID_TagDialog_Caption:"Tag Configuration",TBID_TagDialog_OK:"OK",TBID_TagDialog_Cancel:"Cancel",TBID_TagDialog_ShowTagDialog:"...",TBID_LimitValues_Danger:"Danger",TBID_LimitValues_Warning:"Warning",TBID_LimitValues_QualityVisualization:"Quality Visualization",TBID_LimitValues_UpperLimit:"Upper Limit",TBID_LimitValues_LowerLimit:"Lower Limit",TBID_LimitValues_AboveUpperLimitColor:"Color",TBID_LimitValues_BelowLowerLimitColor:"Color",TBID_LimitValues_LimitVisible:"Visible",TBID_LimitValues_LimitAvailable:"Available",TBID_LimitValues_LimitValue:"Value",TBID_LimitValues_Flashing:"Flashing on violation",TBID_LimitValues_QualityVisualizationVisible:"Visible",TBID_LimitValues_BadColor:"Bad color",TBID_LimitValues_UncertainColor:"Uncertain color",TBID_LimitValues_DangerLowLessWarningLow:"Danger lower limit value should be lesser than warning lower limit value",TBID_LimitValues_DangerLowLessDangerUpper:"Danger lower limit value should be lesser than danger upper limit value",TBID_LimitValues_DangerLowLessWarningUpper:"Danger lower limit value should be lesser than warning upper limit value",TBID_LimitValues_WarningLowLessWarningUpper:"Warning lower limit value should be lesser than warning upper limit value",TBID_LimitValues_WarningLowLessDangerUpper:"Warning lower limit value should be lesser than danger upper limit value",TBID_LimitValues_WarningUpperLessDangerUpper:"Warning upper limit value should be lesser than danger upper limit value",TBID_TagSelectionDialog_Caption:"Selection of Archive/Tags",TBID_TagSelectionDialog_ValueColumn:"Value column",TBID_TagSelectionDialog_DataConnection:"Data Connection",TBID_TagSelectionDialog_DataSource:"Data source",TBID_TagSelectionDialog_TagName:"Tag name",TBID_TagSelectionDialog_TagButtonValue:"Tag..",TBID_TimeRangeDialog_Caption:"Time - Selection",TBID_TimeRangeDialog_Timerange:"Time range",TBID_TimeRangeDialog_Setting:"Setting",TBID_TimeRangeDialog_StartTime:"Start time",TBID_TimeRangeDialog_EndTime:"End time",TBID_TimeRangeDialog_NoOfMeasurePoints:"Measuring Points",TBID_TimeRangeDialog_StartTimeMsg:"Enter a start time that is before end time",TBID_TimeRangeDialog_MeasurementPointMsg:"Enter a number from 1 to 2^31 - 1 for number of measurement points",TBID_TimeRangeDialog_TimeRangeMsg:"Enter a number from 1 to 32767 as the factor for the time range",TBID_TimeRangeDialog_MaxYearRangeMsg:"Enter a number from 1 to 99 as the factor for the time range",TBID_TimeRangeDialog_MaxMonthRangeMsg:"Enter a number from 1 to 1188 as the factor for the time range",TBID_TimeRangeDialog_FromBeginToEnd:"Start time and end time",TBID_TimeRangeDialog_PointCount:"Measuring Points",TBID_TimeRangeDialog_TimeRange:"Time interval",TBID_TimeRangeDialog_Millisecond:"Millisecond",TBID_TimeRangeDialog_Second:"Second",TBID_TimeRangeDialog_Minute:"Minute",TBID_TimeRangeDialog_Hour:"Hour",TBID_TimeRangeDialog_Day:"Day",TBID_TimeRangeDialog_Month:"Month",TBID_TimeRangeDialog_Year:"Year",TBID_HmiWindow_OKButton:"OK",TBID_HmiWindow_CancelButton:"Cancel",TBID_HmiWindow_ApplyButton:"Apply",TBID_TrendPB_TrendWindow_ObjectName:"Name",TBID_TrendPB_TrendWindow_Visible:"Visible",TBID_TrendPB_TrendWindow_BackColor:"Back color",TBID_TrendPB_TrendWindow_GridLines:"Grid lines",TBID_TrendPB_TrendWindow_VerticalMajor:"Vertical major ",TBID_TrendPB_TrendWindow_HorizontalMajor:"Horizontal major",TBID_TrendPB_TrendWindow_VerticalMinor:"Vertical minor",TBID_TrendPB_TrendWindow_HorizontalMinor:"Horizontal minor",TBID_TrendPB_TrendWindow_MajorGridLinesColor:"Major gridlines color",TBID_TrendPB_TrendWindow_MinorGridLinesColorr:"Minor gridlines color",TBID_TrendPB_TrendWindow_SizeFactor:"Size factor ",TBID_TrendPB_TrendWindow_Color:"Color",TBID_TrendPB_TrendWindow_Width:"Width",TBID_TrendPB_TrendWindow_TrendArea:"Trend Area",TBID_TrendPB_TrendWindow_Ruler:"Ruler",TBID_TrendPB_TrendWindow_RulerForStatisticsArea:"Ruler for statistics area",TBID_TrendPB_TrendWindow_FunctionYAxes:"For Y axes",TBID_TrendPB_TrendWindow_FunctionXAxes:"For X axes",TBID_TrendPB_TrendWindow_RemovalMessage:"Associated parts - trend,timeaxis and valueaxis will be removed",TBID_TrendPB_TimeValueAxes_Name:"Name",TBID_TrendPB_TimeValueAxes_DisplayName:"Display Name",TBID_TrendPB_TimeValueAxes_Position:"Position",TBID_TrendPB_TimeValueAxes_LabelColor:"Label Color",TBID_TrendPB_TimeValueAxes_TickColor:"Tick Color",TBID_TrendPB_TimeValueAxes_LabelDirection:"Label Direction",TBID_TrendPB_TimeValueAxes_ScaleMode:"Scale Mode",TBID_TrendPB_TimeValueAxes_AutoScaling:"Auto Scaling",TBID_TrendPB_TimeValueAxes_OutputFormat:"Output Format",TBID_TrendPB_TimeValueAxes_Label:"Label",TBID_TrendPB_TimeValueAxes_Visible:"Visible",TBID_TrendPB_TimeValueAxes_InvalidTrendAreaMsg:"The trend area already contains an axis with the same name as the selected axis",TBID_TrendPB_ValueAxes_BeginValue:"Begin Value",TBID_TrendPB_ValueAxes_EndValue:"End Value",TBID_TrendPB_ValueAxes_ValueAxes:"Value Axes",TBID_TrendPB_ValueAxes_Trendwindow:"Trend window",TBID_TrendPB_ValueAxes_Label:"Label",TBID_TrendPB_ValueAxes_Scaling:"Scaling",TBID_TrendPB_ValueAxes_ValueAxesNewButton:"New",TBID_TrendPB_ValueAxes_ValueAxesRemoveButton:"Remove",TBID_TrendPB_ValueAxes_ValueAxesUpButton:"Up",TBID_TrendPB_ValueAxes_ValueAxesDownButton:"Down",TBID_TrendPB_ValueAxes_Automatic:"Automatic",TBID_TrendPB_ValueAxes_Decimalplaces:"Decimal places",TBID_TrendPB_ValueAxes_Exponentialnotation:"Exponential notation",TBID_TrendPB_ValueAxes_Use:"Use",TBID_TrendPB_ValueAxes_Show:"Show",TBID_TrendPB_ValueAxes_ValueRange:"Value range",TBID_TrendPB_ValueAxes_StartAndEndValueMsg:"Start value should not be equal to end value.",TBID_TrendPB_ValueAxes_LinearNumberMsgCaption:"Value range - linear",TBID_TrendPB_ValueAxes_LogarithmMsgCaption:"Value range - logarthmic",TBID_TrendPB_ValueAxes_NegatedLogarithmMsgCaption:"Value range - negated logarthmic",TBID_TrendPB_ValueAxes_InvalidNumberMsgCaption:"Invalid Character",TBID_TrendPB_ValueAxes_InvalidNumberMsg:"You can only enter a valid number here.  ",TBID_TrendPB_ValueAxes_LinearValidNumberRangeMsg:"Enter values only between -1e+307 and 1e+307. ",TBID_TrendPB_ValueAxes_LogarithmicValidNumberRangeMsg:"Enter values only between 1e-307 and 1e+307. ",TBID_TrendPB_ValueAxes_NegatedLogarithmicValidNumberRangeMsg:"Enter values only between -1e+307 and -1e-307. ",TBID_TrendPB_ValueAxes_LogarithmicInvalidNegNumberMsg:"Negative values cannot be shown on a logarithmic scale. ",TBID_TrendPB_ValueAxes_NegatedLogarithmicInvalidPosNumberMsg:"Positive values cannot be shown on a negated logarithmic scale. ",TBID_TrendPB_ValueAxes_Effects:"Effects",TBID_TrendPB_ValueAxes_FunctionTrendXAxes:"X axes",TBID_TrendPB_ValueAxes_FunctionTrendYAxes:"Y axes",TBID_TrendPB_ValueAxes_DivisionCount:"Division Count",TBID_TrendPB_ValueAxes_SubDivisionCount:"Sub-division Count",TBID_TrendPB_ValueAxes_LargeTickLabelingStep:"Large Tick Labeling Step",TBID_TrendPB_ValueAxes_LabelDistance:"Label Distance",TBID_TrendPB_ValueAxes_LabelPosition:"Label Position",TBID_TrendPB_ValueAxes_MeasurementUnitType:"Measurement Unit Type",TBID_TrendPB_ValueAxes_MeasurementUnit:"Measurement Unit",TBID_TrendPB_ValueAxes_ApplyScalingEntries:"Apply Scaling Entries",TBID_TrendPB_ValueAxes_ShowScalingDisplayNames:"Show Scaling Display Names",TBID_TrendPB_ValueAxes_AutoRange:"Autorange",TBID_TrendPB_ValueAxes_ApplyScalingAttributes:"Apply Scaling Attributes",TBID_TrendPB_ValueAxes_MeasurementAttributes:"Measurement Attributes",TBID_TrendPB_TimeAxes_TimeAxes:"Time axes",TBID_TrendPB_TimeAxes_Setting:"Setting",TBID_TrendPB_TimeAxes_StartTime:"Start time",TBID_TrendPB_TimeAxes_EndTime:"End time",TBID_TrendPB_TimeAxes_Timerange:"Time range",TBID_TrendPB_TimeAxes_PointCount:"Point Count",TBID_TrendPB_TimeAxes_Effects:"Effects",TBID_TrendPB_TimeAxes_StartTimeMsg:"Enter a start time that is before end time",TBID_TrendPB_TimeAxes_MeasurementPointMsg:"Enter a number from 1 to 2^31 - 1 for number of measurement points",TBID_TrendPB_TimeAxes_TimeRangeMsg:"Enter a number from 1 to 32767 as the factor for the time range",TBID_TrendPB_TimeAxes_TimeAxes_FunctionValueAxis:"X axes",TBID_TrendPB_General_Windowtitle:"Window title",TBID_TrendPB_General_Background:"Background",TBID_TrendPB_General_Caption:"Caption",TBID_TrendPB_General_Weight:"Weight",TBID_TrendPB_General_Movable:"Movable",TBID_TrendPB_General_Closable:"Closable",TBID_TrendPB_General_Sizable:"Sizable",TBID_TrendPB_General_Style:"Style",TBID_TrendPB_General_Scrollbar:"Scroll bar",TBID_TrendPB_General_TextOrientation:"Text orientation",TBID_TrendPB_General_ConnectTrendWindow:"Connect trend window",TBID_TrendPB_General_ViewCurrentPrintJob:"View current print job",TBID_TrendPB_General_StartingUpdate:"Starting update",TBID_TrendPB_General_Showruler:"Show ruler",TBID_TrendPB_General_LoadDataFromArchive:"Load data from archive",TBID_TrendPB_General_Timebase:"Time base",TBID_TrendPB_General_Window:"Window",TBID_TrendPB_General_Effects:"Effects",TBID_TrendPB_General_RulerConfiguration:"Ruler Configuration",TBID_TrendPB_General_OpenPicture:"OpenPicture",TBID_TrendPB_General_Height:"Height",TBID_TrendPB_General_Width:"Width",TBID_TrendPB_General_Left:"Left",TBID_TrendPB_General_Top:"Top",TBID_TrendPB_General_Online:"Online",TBID_TrendPB_General_ShowStatisticRulers:"Show statistic rulers",TBID_TrendPB_General_AlwaysShowRecent:"Always show recent",TBID_TrendPB_General_ExtendRulerToAxis:"Extend ruler to axis",TBID_TrendPB_General_AreaSpacing:"Area spacing",TBID_TrendPB_General_ShiftAxis:"Shift Axis",TBID_TrendPB_TrendSelectionDialog_Caption:"Trends - Selection",TBID_TrendPB_Online_Caption:"WinCC OnlineTrendControl Properties",TBID_TrendPB_Function_Caption:"WinCC FunctionTrendControl Properties",TBID_TrendPB_General_GeneralOKButton:"OK",TBID_TrendPB_General_GeneralCancelButton:"Cancel",TBID_TrendPB_General_GeneralApplyButton:"Apply",TBID_TrendPB_General_GeneralUpButton:"Up",TBID_TrendPB_General_GeneralDownButton:"Down",TBID_TrendPB_General_GeneralCloseButton:"Close",TBID_TrendPB_Trend_Tab:"Trend",TBID_TrendPB_TrendWindow_Tab:"Trend Window",TBID_TrendPB_TimeAxes_Tab:"Time Axes",TBID_TrendPB_ValueAxes_Tab:"Value Axes",TBID_TrendPB_DataConnection_Tab:"Data Connection",TBID_TrendPB_XAxes_Tab:"X axes",TBID_TrendPB_YAxes_Tab:"Y axes",TBID_TrendPB_Export_Filename:"File name",TBID_TrendPB_Export_Directory:"Directory",TBID_TrendPB_Export_Scopeofdataexport:"Scope of data export",TBID_TrendPB_Export_Format:"Format",TBID_TrendPB_Export_Showdialog:"Show dialog",TBID_TrendPB_Export_Filecanberenamed:"File can be renamed",TBID_TrendPB_Export_Directorycanbechanged:"Directory can be changed",TBID_TrendPB_Export_ExportOKButton:"OK",TBID_TrendPB_Export_ExportCancelButton:"Cancel",TBID_TrendPB_Export_ExportApplyButton:"Apply",TBID_TrendPB_Onlineconfiguration_Donotretain:"Do not retain",TBID_TrendPB_Onlineconfiguration_Retainduringruntime:"Retain during runtime",TBID_TrendPB_Onlineconfiguration_Retainpermanently:"Retain permanently",TBID_TrendPB_Onlineconfiguration_Operatorauthorization:"no access protection",TBID_TrendPB_Onlineconfiguration_Discard:"Discard",TBID_TrendPB_Onlineconfiguration_Retain:"Retain",TBID_TrendPB_Onlineconfiguration_Reset:"Reset",TBID_TrendPB_Onlineconfiguration_OnlineconfigurationOKButton:"OK",TBID_TrendPB_Onlineconfiguration_OnlineconfigurationCancelButton:"Cancel",TBID_TrendPB_Onlineconfiguration_OnlineconfigurationApplyButton:"Apply",TBID_AlgCtrl_PropertyBrowser:"Alarm Property Browser",TBID_AlgCtrl_Filter_Lable_Caption:"Alarm filter",TBID_AlgCtrl_Filter_Lable_Up:"Up",TBID_AlgCtrl_Filter_Lable_Down:"Down",TBID_AlgCtrl_Filter_Lable_Remove:"Remove",TBID_AlgCtrl_General_Lable_Window:"Window",TBID_AlgCtrl_General_Lable_Caption:"Caption",TBID_AlgCtrl_General_Lable_Text:"Text",TBID_AlgCtrl_General_Lable_RowScrollbar:"Row scroll bar",TBID_AlgCtrl_General_Lable_ColumnScrollbar:"Column scroll bar",TBID_AlgCtrl_General_Lable_Properties:"Properties",TBID_AlgCtrl_General_Lable_ActiveListUponOpenPicture:"Alarm source",TBID_AlgCtrl_General_Lable_AutoScroll:"Auto scroll",TBID_AlgCtrl_General_Lable_WindowFlags:"Flag",TBID_AlgCtrl_Parameter_ColumnWidth:"Allow resize",TBID_AlgCtrl_Parameter_Lable_ColumnHeader:"Column",TBID_AlgCtrl_Parameter_Lable_Show:"Header type",TBID_AlgCtrl_Parameter_Lable_Alignment:"Alignment",TBID_AlgCtrl_Parameter_Lable_RowLable:"Row",TBID_AlgCtrl_Parameter_Lable_TableContent:"Table Content",TBID_AlgCtrl_Parameter_Lable_TextTrimming:"Text trimming",TBID_AlgCtrl_Parameter_Lable_CellPadding:"Cell padding",TBID_AlgCtrl_Parameter_Lable_CellPadding_Top:"Top",TBID_AlgCtrl_Parameter_Lable_CellPadding_Left:"Left",TBID_AlgCtrl_Parameter_Lable_CellPadding_Right:"Right",TBID_AlgCtrl_Parameter_Lable_CellPadding_Bottom:"Bottom",TBID_AlgCtrl_Parameter_Lable_Row_Height:"Height",TBID_AlgCtrl_Parameter_Lable_HeaderTextTrimming:"Header text trimming",TBID_AlgCtrl_Parameter_Lable_AllowSort:"Allow sort",TBID_AlgCtrl_Parameter_Lable_AllowReorder:"Allow reorder",TBID_AlgCtrl_MessageBlock_Number_Format:"The maximum value for the number of leading zeros is 12.",TBID_AlgCtrl_MessageBlock_Label_NoFormat:"No additional formatting can be selected.",TBID_AlgCtrl_MessageBlock_OK:"OK",TBID_AlgCtrl_MessageBlock_SplitRatio:"Split ratio",TBID_AlgCtrl_MessageBlock_Label_AvailableMessageBlocks:"Available message blocks",TBID_AlgCtrl_MessageBlock_Label_Display:"Display",TBID_AlgCtrl_MessageBlock_Label_ObjectName:"Name",TBID_AlgCtrl_MessageBlock_Label_Alignment:"Alignment",TBID_AlgCtrl_MessageBlock_Label_Min_Width:"Min width",TBID_AlgCtrl_MessageBlock_Label_Max_Width:"Max width",TBID_AlgCtrl_MessageBlock_Label_Text_Position:"Text position",TBID_AlgCtrl_MessageBlock_Label_Text_Distance:"Distance",TBID_AlgCtrl_MessageBlock_Label_Graphic_StrechMode:"Graphic stretch mode",TBID_AlgCtrl_MessageBlock_Label_Hor_Alignment:"Horizontal alignment",TBID_AlgCtrl_MessageBlock_Label_ver_Alignment:"Vertical alignment",TBID_AlgCtrl_MessageBlock_Label_Spacing:"Spacing",TBID_AlgCtrl_MessageBlock_Label_ColumnWidth:"Width",TBID_AlgCtrl_MessageBlock_Label_UseAlarmColor:"Use alarm colors",TBID_AlgCtrl_MessageBlock_Label_Enabled:"Enabled",TBID_AlgCtrl_MessageBlock_Label_AllowSort:"Allow sort",TBID_AlgCtrl_MessageBlock_Label_SortOrder:"Sort order",TBID_AlgCtrl_MessageBlock_Label_SortDirection:"Sort direction",TBID_AlgCtrl_MessageBlock_Label_ContentMode:"Content mode",TBID_AlgCtrl_MessageBlock_Label_OutPutFormat:"Output format",TBID_AlgCtrl_MessageBlock_Label_ForeColor:"Fore color",TBID_AlgCtrl_MessageBlock_Label_BackColor:"Back color",TBID_AlgCtrl_MessageBlock_Label_Label:"Text",TBID_AlgCtrl_MessageBlock_Label_TextID:"Text ID",TBID_AlgCtrl_MessageBlock_Label_AlarmBlock:"Alarm block",TBID_AlgCtrl_MessageList_Label_AvailableMessageBlocks:"Available message blocks",TBID_AlgCtrl_MessageList_Label_SelectedMessageBlocks:"Selected message blocks",TBID_AlgCtrl_MessageList_Label_Sorting:"Sorting",TBID_AlgCtrl_MessageList_Label_Selection:"Selection",TBID_AlgCtrl_Selection_Label_Selection:"Selection",TBID_AlgCtrl_Selection_Label_SelectableRows:"Selectable rows",TBID_AlgCtrl_Selection_Label_SelectionBorder:"Selection border",TBID_AlgCtrl_Selection_Label_Color:"Color",TBID_AlgCtrl_Selection_Label_Weight:"Weight",TBID_AlgCtrl_Selection_Label_SelectionCell:"Selected cell",TBID_AlgCtrl_Selection_Label_SelectionRow:"Selected row",TBID_AlgCtrl_Selection_Label_Background:"Background",TBID_AlgCtrl_Selection_Label_Font:"Font",TBID_AlgCtrl_Selection_Label_SelectFullRow:"Select full row",TBID_AlgCtrl_Font_Lable_Properties:"Properties",TBID_AlgCtrl_Font_Lable_Font:"Font",TBID_AlgCtrl_Font_Lable_FontSize:"Font Size",TBID_AlgCtrl_Font_Lable_Effects:"Effects",TBID_AlgCtrl_Font_Lable_Weight:"Weight",TBID_AlgCtrl_Font_Lable_Italic:"Italic",TBID_AlgCtrl_Font_Lable_Underline:"Underline",TBID_AlgCtrl_Font_Lable_Strikethrough:"Strikethrough",TBID_AlgCtrl_Font_Lable_SampleText:"Sample text",TBID_AlgCtrl_Effects_GridLinesShow:"Show",TBID_AlgCtrl_EffectsLabel_TableContent:"Table content",TBID_AlgCtrl_EffectsLabel_RowColor1:"Primary color",TBID_AlgCtrl_EffectsLabel_BackColor:"Background Color",TBID_AlgCtrl_EffectsLabel_ColoringMode:"Coloring mode",TBID_AlgCtrl_EffectsLabel_Font:"Font",TBID_AlgCtrl_EffectsLabel_Background:"Background",TBID_AlgCtrl_EffectsLabel_RowColor2:"Secondary color",TBID_AlgCtrl_EffectsLabel_GridLines:"GridLines",TBID_AlgCtrl_EffectsLabel_GridLineColor:"Color",TBID_AlgCtrl_EffectsLabel_Contents:"Contents",TBID_AlgCtrl_EffectsLabel_Title:"Title",TBID_AlgCtrl_EffectsLabel_GridLineWidth:"Width",TBID_AlgCtrl_EffectsLabel_Horizontal:"Show",TBID_AlgCtrl_EffectsLabel_Vertical:"Vertical",TBID_AlgCtrl_EffectsLabel_TableTitle:"Header",TBID_AlgCtrl_EffectsLabel_FontColorOfTheTitle:"Font color of the title",TBID_AlgCtrl_EffectsLabel_ShadingColor:"Shading color",TBID_AlgCtrl_EffectsLabel_Light:"Light",TBID_AlgCtrl_EffectsLabel_Dark:"Dark",TBID_AlgCtrl_EffectsLabel_SelectionColor:"Selection color",TBID_AlgCtrl_EffectsLabel_General:"General",TBID_AlgCtrl_EffectsLabel_Border:"Border",TBID_AlgCtrl_EffectsLabel_WindowSeperatorLines:"Window seperator lines",TBID_AlgCtrl_EffectsLabel_Weight:"Weight",TBID_AlgCtrl_TabNameLabel_General:"General",TBID_AlgCtrl_TabNameLabel_Parameter:"Parameter",TBID_AlgCtrl_TabNameLabel_MessageBlocks:"Message Blocks",TBID_AlgCtrl_TabNameLabel_MessageLists:"Message Lists",TBID_AlgCtrl_TabNameLabel_Effects:"Effects",TBID_AlgCtrl_TabNameLabel_Font:"Font",TBID_AlgCtrl_TabNameLabel_Selection:"Selection",TBID_AlgCtrl_TabNameLabel_ToolBar:"Toolbar",TBID_AlgCtrl_TabNameLabel_StatusBar:"Status Bar",TBID_AlgCtrl_TabNameLabel_HitList:"Hit List",TBID_AlgCtrl_HitList_Label_AvailableMessageBlocks:"Available message blocks",TBID_AlgCtrl_HitList_Label_SelectedMessageBlocks:"Selected message blocks",TBID_AlgCtrl_HitList_Label_Sorting:"Sorting",TBID_AlgCtrl_HitList_Label_Selection:"Selection",TBID_AlgCtrl_HitList_Label_MaxDataRecordsForTheStatistics:"Max. data records for the statistics",TBID_AlgCtrl_HitList_Label_Number:"Number",TBID_AlgCtrl_HitList_Label_WarningWhenMaximumReached:"Warning when maximum reached",TBID_AlgCtrl_HitList_Label_TimeRangeForStatistics:"Time range for statistics",TBID_AlgCtrl_HitList_Label_UsedOnlyIfNoTimeRangeIsSpecifiedInTheSection:"Used only if no time range is specified in the section",TBID_AlgCtrl_HitList_Warning_Text:"The maximum value for the number has exceeded",TBID_DataSource_Online:"Online",TBID_DataSource_Historical:"Historical",TBID_DataSource_HistoricalWithUpdates:"Historical with updates",TBID_ScrollBarVisibility_Automatic:"Automatic",TBID_ScrollBarVisibility_Visible:"Visible",TBID_ScrollBarVisibility_Collapsed:"Collapsed",TBID_SelectionMode_Single:"Single selection",TBID_SelectionMode_Multi:"Multiple selection",TBID_GraphicOrText:"Graphic or text",TBID_GraphicAndText:"Graphic and text",TBID_Text:"Text",TBID_Graphic:"Graphic",TBID_UseHotKeys:"UseHotKeys",TBID_FontWeight_Thin:"Thin",TBID_FontWeight_ExtraLight:"Extra light",TBID_FontWeight_Normal:"Normal",TBID_FontWeight_Medium:"Medium",TBID_FontWeight_SemiBold:"Semi bold",TBID_FontWeight_Bold:"Bold",TBID_FontWeight_ExtraBold:"Extra bold",TBID_FontWeight_Heavy:"Heavy",TBID_FontWeight_Light:"Light",TBID_FontStrikeOut_Single:"Single",TBID_FontStrikeOut_Double:"Double",TBID_HmiTextTrimming_WordEllipsis:"Word ellipsis",TBID_HmiTextTrimming_CharacterEllipsis:"Character ellipsis",TBID_HmiGraphicPosition_Behind:"Behind",TBID_HmiGraphicPosition_Infront:"Infront",TBID_HmiTextDirection_Horizontal:"Horizontal",TBID_HmiTextDirection_Rotated90Degree:"Rotated 90 degree",TBID_HmiTextDirection_Rotated270Degree:"Rotated 270 degree",TBID_HmiTextDirection_Stacked:"Stacked",TBID_HmiGraphicStretchMode_Fill:"Fill",TBID_HmiGraphicStretchMode_Uniform:"Uniform",TBID_HmiGraphicStretchMode_UniformToFill:"Uniform to fill",TBID_HmiGraphicStretchMode_Tiled:"Tiled",TBID_HmiGraphicDistance_Near:"Near",TBID_HmiGraphicDistance_Far:"Far",TBID_HmiDataGridHeaderType_Index:"Index",TBID_HorizontalAndVertical:"Horizontal and vertical",TBID_Vertical:"Vertical",TBID_Alignment_Left:"Left",TBID_Alignment_Center:"Center",TBID_Alignment_Right:"Right",TBID_Alignment_Stretch:"Stretch",TBID_Alignment_Top:"Top",TBID_Alignment_Bottom:"Bottom",TBID_None:"None",TBID_ColoringMode_Columns:"Columns",TBID_ColoringMode_Rows:"Rows",TBID_Ok:"OK",TBID_Cancel:"Cancel",TBID_Submit:"Submit",TBID_Header:"Header",TBID_Content:"Content",TBID_SelectionDialogColumns_Criterion_AlarmClassName:"Alarm class",TBID_SelectionDialogColumns_Criterion_State:"Alarm state",TBID_SelectionDialogColumns_Criterion_Area:"Area",TBID_SelectionDialogColumns_Criterion_ModificationTime:"Modification time",TBID_SelectionDialogColumns_Criterion_RaiseTime:"Raise time",TBID_SelectionDialogColumns_Criterion_ClearTime:"Clear time",TBID_SelectionDialogColumns_Criterion_ResetTime:"Reset time",TBID_SelectionDialogColumns_Criterion_EventText:"Event text",TBID_SelectionDialogColumns_Criterion_InfoText:"Info text",TBID_SelectionDialogColumns_Criterion_ComputerName:"Host",TBID_SelectionDialogColumns_Criterion_UserName:"User",TBID_SelectionDialogColumns_Criterion_Origin:"Origin",TBID_SelectionDialogColumns_Criterion_Name:"Name",TBID_SelectionDialogColumns_Criterion_Priority:"Priority",TBID_SelectionDialogColumns_Criterion_ID:"ID",TBID_SelectionDialogColumns_Criterion_Value:"Value",TBID_SelectionDialogColumns_Criterion_ValueQuality:"Value quality",TBID_SelectionDialogColumns_Criterion_ValueLimit:"Value limit",TBID_SelectionDialogColumns_Criterion_AlarmText1:"Alarm text 1",TBID_SelectionDialogColumns_Criterion_AlarmText2:"Alarm text 2",TBID_SelectionDialogColumns_Criterion_AlarmText3:"Alarm text 3",TBID_SelectionDialogColumns_Criterion_AlarmText4:"Alarm text 4",TBID_SelectionDialogColumns_Criterion_AlarmText5:"Alarm text 5",TBID_SelectionDialogColumns_Criterion_AlarmText6:"Alarm text 6",TBID_SelectionDialogColumns_Criterion_AlarmText7:"Alarm text 7",TBID_SelectionDialogColumns_Criterion_AlarmText8:"Alarm text 8",TBID_SelectionDialogColumns_Criterion_AlarmText9:"Alarm text 9",TBID_SelectionDialogColumns_Criterion_AlarmGroupID:"Group ID",TBID_SelectionDialogColumns_Criterion_StatusText:"Status Text",TBID_IsEmpty:"Is Empty",TBID_Equal:"Equal to",TBID_Not_Equal:"Not equal",TBID_GreaterThan:"Greater than",TBID_GreaterOrEqual:"Greater or equal",TBID_LesserOrEqual:"Lesser or equal",TBID_LessThan:"Less than",TBID_Contains:"Contains",TBID_Doesnot_Contains:"Does not contains",TBID_In:"In",TBID_Not_In:"Not in",TBID_Not_Between:"Not between",TBID_Between:"Between",TBID_Starts_with:"Starts with",TBID_Under:"Under",TBID_SelectionDialogColumns_AndOr:"And / Or",TBID_SelectionDialogColumns_Criterion:"Criterion",TBID_SelectionDialogColumns_Operand:"Operand",TBID_SelectionDialogColumns_Setting:"Setting",TBID_SelectionDialogColumns_PlaceHolder:"<Add New>",TBID_SelectionDialog_SelectPlaceholder_Criterion:"Select criterion",TBID_SelectionDialog_SelectPlaceholder_Operator:"Select operator",TBID_SelectionDialog_SelectPlaceholder_AlarmState:"Select state",TBID_And:"And",TBID_Or:"Or",TBID_Filter:"Filter",TBID_Up:"Up",TBID_Down:"Down",TBID_SplitRatio:"Split Ratio",TBID_Save:"Save",TBID_Add:"Add",TBID_History:"History",TBID_HmiWindowPB_Controlbar_Objectname:"Object name",TBID_HmiWindowPB_Controlbar_ObjectId:"Object ID",TBID_HmiWindowPB_Controlbar_Enabled:"Enabled",TBID_HmiWindowPB_Controlbar_MinimumWidth:"Minimum width",TBID_HmiWindowPB_Controlbar_MinimunHeight:"Minimum height",TBID_HmiWindowPB_Controlbar_MaximumWidth:"Maximum width",TBID_HmiWindowPB_Controlbar_MaximumHeight:"Maximum height",TBID_HmiWindowPB_Controlbar_Padding:"Padding",TBID_HmiWindowPB_Controlbar_Margin:"Margin",TBID_HmiWindowPB_Controlbar_ForeColor:"Fore color",TBID_HmiWindowPB_Controlbar_Widthinpixel:"Width",TBID_HmiWindowPB_Controlbar_Height:"Height",TBID_HmiWindowPB_Controlbar_Backgroundcolor:"Background color",TBID_HmiWindowPB_Controlbar_Text:"Text",TBID_HmiWindowPB_Controlbar_Visible:"Visible",TBID_HmiWindowPB_Top:"Top",TBID_HmiWindowPB_Bottom:"Bottom",TBID_HmiWindowPB_Right:"Right",TBID_HmiWindowPB_Left:"Left",TBID_HmiWindowPB_Toolbar_Keyfunctions:"Key functions",TBID_HmiWindowPB_Toolbar_OperatorAuthontication:"Operator authorization",TBID_HmiWindowPB_Toolbar_Shortcutkey:"Shortcut key",TBID_HmiWindowPB_Toolbar_Active:"Active",TBID_HmiWindowPB_Toolbar_ToolbarGroup:"Toolbar",TBID_HmiWindowPB_Toolbar_Separator:"Separator",TBID_HmiWindowPB_Toolbar_Showtoolbar:"Show toolbar",TBID_HmiWindowPB_Toolbar_Tooltips:"ShowTooltips",TBID_HmiWindowPB_Toolbar_Shortcuts:"Shortcuts",TBID_HmiWindowPB_Toolbar_Alignment:"Alignment",TBID_HmiWindowPB_Toolbar_Show:"Show",TBID_HmiWindowPB_Toolbar_Index:"Index",TBID_HmiWindowPB_Toolbar_Visible:"Show tool bar",TBID_HmiWindowPB_Toolbar_Checked:"Checked",TBID_HmiWindowPB_Toolbar_ToolbarElements:"Toolbar elements",TBID_HmiWindowPB_Toolbar_ToolbarAttribute:"Toolbar",TBID_HmiWindowPB_Statusbar_StatusbarElements:"Statusbar elements",TBID_HmiWindowPB_Statusbar_Automatic:"Automatic",TBID_HmiWindowPB_Statusbar_StatusbarNewButton:"New",TBID_HmiWindowPB_Statusbar_StatusbarRemoveButton:"Remove",TBID_HmiWindowPB_Statusbar_StatusbarUpButton:"Up",TBID_HmiWindowPB_Statusbar_StatusbarDownButton:"Down",TBID_HmiWindowPB_Statusbar_Showstatusbar:"Show status bar",TBID_HmiWindowPB_Statusbar_Tooltips:"Tooltips",TBID_HmiWindowPB_Statusbar_Alignment:"Alignment",TBID_HmiWindowPB_Statusbar_Show:"Show",TBID_HmiWindowPB_Statusbar_Fontcolor:"Font color",TBID_HmiWindowPB_Statusbar_StatusbarAttribute:"Status bar",TBID_HmiWindowPB_Statusbar_StatusbarElementSizeMsg:"Plese enter the width less than or equal to 1100",TBID_RulerCtrl_PropertyBrowser:"RulerControl Property Browser",TBID_RulerCtrl_General_Label_Window:"Window",TBID_RulerCtrl_General_Label_WindowTitle:"Title",TBID_RulerCtrl_General_Label_Caption:"Caption",TBID_RulerCtrl_General_Label_Movable:"Movable",TBID_RulerCtrl_General_Label_Closable:"Closable",TBID_RulerCtrl_General_Label_Sizable:"Sizable",TBID_RulerCtrl_General_Label_Style:"Style",TBID_RulerCtrl_General_Label_RowScrollbar:"Row scroll bar",TBID_RulerCtrl_General_Label_ColumnScrollbar:"Column scroll bar",TBID_RulerCtrl_General_Label_PrintJob:"View current print job",TBID_RulerCtrl_General_Label_Properties:"Properties",TBID_RulerCtrl_General_Label_Source:"Source",TBID_RulerCtrl_General_Label_Type:"Type",TBID_RulerCtrl_General_Label_UseSourceControlTrendColors:"Use source control trend colors",TBID_RulerCtrl_General_Label_UseSourceControlBackColor:"Use source control back color",TBID_RulerCtrl_General_Label_AutoHide:"Automatic hideshow",TBID_RulerCtrl_General_Label_AutoPositioning:"Automatic positioning",TBID_RulerCtrl_General_Label_StatisticsAreaWindow:"Statisticsarea window",TBID_RulerCtrl_General_Label_StatisticsWindow:"Statistics window",TBID_RulerCtrl_General_ShowAlways:"Show always",TBID_RulerCtrl_General_SnapToSourceControl:"Snap to source control",TBID_RulerCtrl_MessageBlock_Label_Text_Position:"Text position",TBID_RulerCtrl_MessageBlock_Label_Text_Distance:"Distance",TBID_RulerCtrl_MessageBlock_Label_ContentFeature:"Content feature",TBID_RulerCtrl_MessageBlock_Label_Spacing:"Spacing",TBID_RulerCtrl_MessageBlock_Label_HeaderFeatures:"Header feature",TBID_RulerCtrl_MessageBlock_Label_Graphic:"Graphic",TBID_RulerCtrl_MessageBlock_Label_Text:"Text",TBID_RulerCtrl_MessageBlock_Label_SortDirection:"Sort direction",TBID_RulerCtrl_MessageBlock_Label_SplitRatio:"Split ratio",TBID_RulerCtrl_Selection_Label_Selection:"Selection",TBID_RulerCtrl_Selection_Label_SelectableRows:"Selectable rows",TBID_RulerCtrl_Selection_Label_SelectionBorder:"Selection border",TBID_RulerCtrl_Selection_Label_AutomaticColorAssignment:"Automatic color assignment",TBID_RulerCtrl_Selection_Label_Color:"Color",TBID_RulerCtrl_Selection_Label_Weight:"Weight",TBID_RulerCtrl_Selection_Label_SelectionColors:"Selection colors",TBID_RulerCtrl_Selection_Label_SelectionColorsFor:"Selection colors for",TBID_RulerCtrl_Selection_Label_SelectionCell:"Selected cell",TBID_RulerCtrl_Selection_Label_SelectionRow:"Selected row",TBID_RulerCtrl_Selection_Label_Background:"Background",TBID_RulerCtrl_Selection_Label_Font:"Font",TBID_RulerCtrl_MessageBlock_Source:"Source",TBID_RulerCtrl_MessageBlock_OK:"OK",TBID_RulerCtrl_MessageBlock_DecimalPrecision_Format:"The maximum value for the number of decimal precision is 15.",TBID_RulerCtrl_Block_Label_TrendInfoBlock:"Trend info block",TBID_RulerCtrl_ColumnList_Name:"Name",TBID_RulerCtrl_ColumnList_Up:"Up",TBID_RulerCtrl_ColumnList_Down:"Down",TBID_RulerCtrl_ColumnList_Label_ExistingColumns:"Existng columns",TBID_RulerCtrl_ColumnList_Label_SelectedColumns:"Selected columns",TBID_RulerCtrl_ColumnList_Label_Window:"Window",TBID_RulerCtrl_ColumnList_Label_RulerWindow:"Ruler window",TBID_RulerCtrl_ColumnList_Label_StatisticsAreaWindow:"Statistics area window",TBID_RulerCtrl_ColumnList_Label_StatisticsWindow:"Statistics window",TBID_RulerCtrl_ColumnList_Selected_Window_Type:"Selected Window Type",TBID_RulerCtrl_TabNameLabel_General:"General",TBID_RulerCtrl_TabNameLabel_Parameter:"Parameter",TBID_RulerCtrl_TabNameLabel_MessageBlocks:"Blocks",TBID_RulerCtrl_TabNameLabel_MessageLists:"Columns",TBID_RulerCtrl_TabNameLabel_Effects:"Effects",TBID_RulerCtrl_TabNameLabel_Font:"Font",TBID_RulerCtrl_TabNameLabel_Selection:"Selection",TBID_RulerCtrl_TabNameLabel_ToolBar:"ToolBar",TBID_RulerCtrl_TabNameLabel_StatusBar:"Status Bar",TBID_TagBrowser_DataSource:"Datasource:",TBID_TagBrowser_Filter:"Filter:",TBID_TagBrowser_Warning_Msg:"The selection is invalid. Please note the selected data type.",TBID_TagBrowser_Warning_Caption:"Note",TBID_TagBrowser_Popup_Caption:"BrowsingView",TBID_TagBrowser_Column_Name:"Name",TBID_TagBrowser_Column_Type:"Type",TBID_TagBrowser_Column_Parameter:"Parameter",TBID_TagBrowser_Column_LastModification:"Last modification",TBID_HtmlBrowser_ToolTipBtnBack:"Back",TBID_HtmlBrowser_ToolTipBtnForward:"Forward",TBID_HtmlBrowser_ToolTipBtnCancel:"Cancel",TBID_HtmlBrowser_ToolTipBtnHome:"Select Home Page",TBID_HtmlBrowser_ToolTipBtnRefresh:"Update",TBID_HtmlBrowser_ToolTipBtnGo:"Select page",TBID_HtmlBrowser_ToolTipBtnOpen:"Open page",TBID_HtmlBrowser_StatusMsgLoad:"Loading...",TBID_HtmlBrowser_StatusMsgDone:"Done.",TBID_HtmlBrowser_StatusMsgCancel:"Cancelled.",TBID_DateTimePicker_JAN_SHORT:"Jan",TBID_DateTimePicker_FEB_SHORT:"Feb",TBID_DateTimePicker_MAR_SHORT:"Mar",TBID_DateTimePicker_APR_SHORT:"Apr",TBID_DateTimePicker_MAY_SHORT:"May",TBID_DateTimePicker_JUN_SHORT:"Jun",TBID_DateTimePicker_JUL_SHORT:"Jul",TBID_DateTimePicker_AUG_SHORT:"Aug",TBID_DateTimePicker_SEP_SHORT:"Sep",TBID_DateTimePicker_OCT_SHORT:"Oct",TBID_DateTimePicker_NOV_SHORT:"Nov",TBID_DateTimePicker_DEC_SHORT:"Dec",TBID_DateTimePicker_SUN_SHORT:"Sun",TBID_DateTimePicker_MON_SHORT:"Mon",TBID_DateTimePicker_TUE_SHORT:"Tue",TBID_DateTimePicker_WED_SHORT:"Wed",TBID_DateTimePicker_THU_SHORT:"Thu",TBID_DateTimePicker_FRI_SHORT:"Fri",TBID_DateTimePicker_SAT_SHORT:"Sat",TBID_DateTimePicker_Time:"Time",TBID_DateTimePicker_Days:"days",TBID_DateTimePicker_Hours:"hours",TBID_DateTimePicker_Minute:"min",TBID_DateTimePicker_Second:"sec",TBID_DateTimePicker_MilliSecond:"msec",TBID_Query_Parser_UE:"Unexpected end of input at ",TBID_Query_Parser_IO:"Invalid  operator found at ",TBID_Query_Parser_IS:"Invalid  seperator found at ",TBID_Query_Parser_IV:"Invalid value is found at ",TBID_Query_Parser_IC:"Invalid Column Name found at ",TBID_Query_Parser_IVC:"Invalid value or character  at ",TBID_Query_Parser_EL:"Expected logical operator ,but found",TBID_Query_Parser_Expected:"Expected",TBID_Query_Parser_But_Found:"but found",TBID_Query_Parser_But_At:"at",TBID_Query_Parser_Missing:"Missing",TBID_NML_LAST:"",TBID_TagBrowsingView_Bool:"Bool",TBID_TagBrowsingView_SInt:"SInt",TBID_TagBrowsingView_Int:"Int",TBID_TagBrowsingView_DInt:"DInt",TBID_TagBrowsingView_LInt:"LInt",TBID_TagBrowsingView_USInt:"USInt",TBID_TagBrowsingView_UInt:"UInt",TBID_TagBrowsingView_UDInt:"UDInt",TBID_TagBrowsingView_ULInt:"ULInt",TBID_TagBrowsingView_Real:"Real",TBID_TagBrowsingView_LReal:"LReal",TBID_TagBrowsingView_Time:"Time",TBID_TagBrowsingView_DateTime:"DateTime",TBID_TagBrowsingView_String:"String",TBID_TagBrowsingView_Char:"Char",TBID_TagBrowsingView_Byte:"Byte",TBID_TagBrowsingView_Word:"Word",TBID_TagBrowsingView_DWord:"DWord",TBID_TagBrowsingView_LWord:"LWord",TBID_TagBrowsingView_Raw:"Raw",TBID_TagBrowsingView_Struct:"Struct",TBID_TagBrowsingView_UDT:"UDT",TBID_TagBrowsingView_DTLString:"LString",TBID_TagBrowsingView_BoolArray:"Array of Bool",TBID_TagBrowsingView_SIntArray:"Array of SInt",TBID_TagBrowsingView_IntArray:"Array of Int",TBID_TagBrowsingView_DIntArray:"Array of DInt",TBID_TagBrowsingView_LIntArray:"Array of LInt",TBID_TagBrowsingView_USIntArray:"Array of USInt",TBID_TagBrowsingView_UIntArray:"Array of UInt",TBID_TagBrowsingView_UDIntArray:"Array of UDInt",TBID_TagBrowsingView_ULIntArray:"Array of ULInt",TBID_TagBrowsingView_RealArray:"Array of Real",TBID_TagBrowsingView_LRealArray:"Array of LReal",TBID_TagBrowsingView_LTimeArray:"Array of LTime",TBID_TagBrowsingView_DateTimeArray:"Array of DateTime",TBID_TagBrowsingView_StringArray:"Array of String",TBID_TagBrowsingView_CharArray:"Array of Char",TBID_TagBrowsingView_LStringArray:"Array of LString",TBID_TagBrowsingView_ByteArray:"Array of Byte",TBID_TagBrowsingView_WordArray:"Array of Word",TBID_TagBrowsingView_DWordArray:"Array of DWord",TBID_TagBrowsingView_LWordArray:"Array of LWord",TBID_TagBrowsingView_RawArray:"Array of Raw",TBID_TagBrowsingView_UUIDArray:"Array of UUID",TBID_TagBrowsingView_DpIdentArray:"Array of DpIdent",TBID_TagBrowsingView_RefArray:"Array of Ref",TBID_TagBrowsingView_URefArray:"Array of URef",TBID_TagBrowsingView_EnumArray:"Array of Enum",TBID_TagBrowsingView_StructRefArray:"Array of UDT",TBID_CustCtrl_ContextDlg_ContextBeginTime:"Context Start Time",TBID_CustCtrl_ContextDlg_ContextEndTime:"Context End Time",TBID_CustCtrl_ContextDlg_ContextValue:"Context Value","TBID_TimeZone_(LocalTime)_-01":"Local Time Zone",TBID_PacoCtrl_LTime_DisplayStringD:"D",TBID_PacoCtrl_No_PST_Message:"No ParameterSetType is available",TBID_PacoCtrl_defaultTextParamSetType:"ParameterSetType",TBID_PacoCtrl_defaultTextParamSet:"ParameterSet",TBID_PacoCtrl_CreateIsDisabled:"Create is disabled",TBID_PacoCtrl_SaveIsDisabled:"ParameterSet not updated",TBID_PacoCtrl_defaultTextParamSetTypeUnit:"Number",TBID_PacoCtrl_defaultTextParamElementName:"Name",TBID_PacoCtrl_defaultTextParamElementValue:"Value",TBID_PacoCtrl_defaultTextParamElementUOM:"Unit of measurement",TBID_SysDiag_StatusBar_ConState_Good:"Good",TBID_SysDiag_StatusBar_ConState_Deactivated:"Deactivated",TBID_SysDiag_StatusBar_ConState_MaintenanceRequired:"Maintenance required",TBID_SysDiag_StatusBar_ConState_MaintenanceDemanded:"Maintenance demanded",TBID_SysDiag_StatusBar_ConState_Error:"Error",TBID_SysDiag_StatusBar_ConState_NotReachable:"Not reachable (Hardware pulled or failed)",TBID_SysDiag_StatusBar_ConState_StateUnKnown:"State is unknown",TBID_SysDiag_StatusBar_ConState_IO_NonAvailable:"IO not available (result of IO access error)",TBID_SysDiag_StatusBar_ConState_Disconnected:"Disconnected",TBID_SysDiag_StatusBar_ConState_Remote_Connection_NotAvailable:"System diagnostic data is not reachable via remote HMI system",TBID_SysDiag_DetailedView_Text:"Details",TBID_SysDiag_HardwareDetailsView_Name:"Name",TBID_SysDiag_HardwareDetailsView_Status:"Status",TBID_SysDiag_HardwareDetailsView_IP:"IP",TBID_SysDiag_HardwareDetailsView_OperatingState:"Operating State",TBID_SysDiag_HardwareDetailsView_RackId:"Rack",TBID_SysDiag_HardwareDetailsView_Slot:"Slot",TBID_SysDiag_HardwareDetailsView_OrderId:"Order Number",TBID_SysDiag_HardwareDetailsView_Address:"Address",TBID_SysDiag_HardwareDetailsView_PlantDesignation:"Plant Designation",TBID_SysDiag_HardwareDetailsView_LocationIdentifier:"Location Identifier",TBID_SysDiag_HardwareDetailsView_SubSystemId:"Subsystem",TBID_SysDiag_HardwareDetailsView_Station:"Station",TBID_SysDiag_HardwareDetailsView_SubSlotId:"Subslot",TBID_SysDiag_HardwareDetailsView_SubAddress:"SubAddress",TBID_SysDiag_HardwareDetailsView_SoftwareVersion:"Software Version",TBID_SysDiag_HardwareDetailsView_Installation:"Installation",TBID_SysDiag_HardwareDetailsView_AdditionalInformation:"Additional Information",TBID_SysDiag_HardwareDetailsView_ErrorDescription:"Error Description",TBID_SysDiag_HardwareDetailsView_ManufacturerID:"Manufacturer ID",TBID_SysDiag_HardwareDetailsView_HardwareVersion:"Hardware Version",TBID_SysDiag_HardwareDetailsView_ProfileID:"Profile ID",TBID_SysDiag_HardwareDetailsView_SpecificProfileData:"Specific Profile Data",TBID_SysDiag_HardwareDetailsView_IMDataVersion:"IM Data Version",TBID_SysDiag_HardwareDetailsView_SerialNumber:"Serial Number",TBID_SysDiag_HardwareDetailsView_RevisionCounter:"Revision Counter",TBID_SysDiag_HardwareDetailsView_Type:"Type",TBID_SysDiag_HardwareDetailsView_NodeIP:"IP Address",TBID_InputHint_Range:"Range: ",TBID_InputHint_Minimum:"Minimum: ",TBID_InputHint_Maximum:"Maximum: ",TBID_ProDiag_Sequence:"Sequence",TBID_ProDiag_Network:"Network",TBID_ProDiag_DataLoading:"Loading data"}}},function(e){e.exports={AlarmColumnPart:{UseAlarmColors:{Type:"Bool",DefaultValue:!0},AlarmBlock:{IsEnum:!0,EnumType:"Enum",Type:"HmiAlarmBlock",DefaultValue:0},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},AlarmControl:{UseAlarmColors:{Type:"Bool",DefaultValue:!0},Filter:{RangeType:"MaxLength",Range:3e4,Type:"String",DefaultValue:""},Systems:{Type:"ArrayOfSRef",DefaultValue:[]},AlwaysShowRecent:{Type:"Bool",DefaultValue:!0},AlarmSourceType:{IsEnum:!0,EnumType:"Enum",Type:"HmiAlarmSourceType",DefaultValue:1},AlarmDefinitionViewSetup:{IsEnum:!0,EnumType:"Flags",Type:"HmiVisibleAlarms",DefaultValue:7},ActiveAlarmsViewSetup:{IsEnum:!0,EnumType:"Flags",Type:"HmiVisibleAlarms",DefaultValue:1},SuppressFlashing:{Type:"Bool",DefaultValue:!1},AcknowledgmentFlashingRate:{IsEnum:!0,EnumType:"Enum",Type:"HmiFlashingRate",DefaultValue:1},ResetFlashingRate:{IsEnum:!0,EnumType:"Enum",Type:"HmiFlashingRate",DefaultValue:1},TimeZone:{Type:"HmiTimeZone",DefaultValue:-1},DefaultSortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:1},AlarmView:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},AlarmStatisticsView:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},AlarmStatisticsSettings:{Type:"AlarmStatisticsSettingsPart",IsPart:!0,IsArray:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},AlarmStatisticColumnPart:{AlarmStatisticBlock:{IsEnum:!0,EnumType:"Enum",Type:"HmiAlarmStatisticBlock",DefaultValue:0},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},AlarmStatisticsSettingsPart:{TimeRangeFactor:{Type:"DInt",DefaultValue:1},TimeRangeBase:{RangeType:"Discrete",Range:[1,2,3,4,5,6,7],IsEnum:!0,EnumType:"Enum",Type:"HmiTimeRangeBase",DefaultValue:5},MaximumRecords:{Type:"UInt",DefaultValue:1e4},BeginTime:{Type:"DateTime",DefaultValue:0},TimeRangeStart:{IsEnum:!0,EnumType:"Enum",Type:"HmiTimeRangeStart",DefaultValue:0}},ApplicationPart:{ApplicationExitCode:{Type:"DWord",DefaultValue:0},ApplicationState:{IsEnum:!0,EnumType:"Enum",Type:"HmiApplicationState",DefaultValue:0},ApplicationName:{Type:"String",DefaultValue:""},Arguments:{Type:"String",DefaultValue:""},WorkingDirectory:{Type:"String",DefaultValue:""},TerminateApplicationOnLeave:{Type:"Bool",DefaultValue:!0},Environment:{Type:"String",DefaultValue:""}},BackgroundSystemPart:{Color:{Type:"Color",DefaultValue:0},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},BadgePart:{Text:{RangeType:"MaxLength",Range:5,IsRef:!0,Type:"HmiText",DefaultValue:""},Visible:{RangeType:"MaxLength",Range:!1,Type:"Bool",DefaultValue:!1}},Bar:{BarMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiBarMode",DefaultValue:1},StraightScale:{Type:"StraightScalePart",IsPart:!0,IsArray:!1},ProcessValue:{Type:"Variant",DefaultValue:null},ThresholdIndicators:{IsEnum:!0,EnumType:"Flags",Type:"HmiThresholdIndicator",DefaultValue:2},ShowTrendIndicator:{Type:"Bool",DefaultValue:!0},TrendIndicatorColor:{Type:"Color",DefaultValue:4291611852},ProcessValueIndicatorForeColor:{Type:"Color",DefaultValue:4294967295},ProcessValueIndicatorBackColor:{Type:"Color",DefaultValue:4278190080},ProcessValueIndicatorMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiProcessIndicatorMode",DefaultValue:0},OriginValue:{Type:"LReal",DefaultValue:0},RelativeToOrigin:{RangeType:"MinMax",Range:[0,100],Type:"Bool",DefaultValue:!1},PeakIndicators:{IsEnum:!0,EnumType:"Flags",Type:"HmiPeakIndicator",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},NormalRangeColor:{Type:"Color",DefaultValue:4278255360},ComputedMaxPeakValue:{Type:"Variant",DefaultValue:null},ComputedMinPeakValue:{Type:"Variant",DefaultValue:null},ComputedValueTendency:{IsEnum:!0,EnumType:"Enum",Type:"HmiValueTendency",DefaultValue:0},ScaleBackColor:{Type:"Color",DefaultValue:4290822336},ScaleForeColor:{Type:"Color",DefaultValue:4278190080},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Thresholds:{Type:"ThresholdPart",IsPart:!0,IsArray:!0},Title:{Type:"TextPart",IsPart:!0,IsArray:!1},Label:{Type:"TextPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},BindingSourceElement:{AutoRequery:{Type:"Bool",DefaultValue:!1},CursorPosition:{Type:"UDInt",DefaultValue:0},RowCount:{Type:"UDInt",DefaultValue:0},ReadCommand:{Type:"CommandPart",IsPart:!0,IsArray:!1},ConsideredColumns:{Type:"ConsideredColumnPart",IsPart:!0,IsArray:!0},DataConnection:{IsSRef:!0,Type:"HmiDataConnection",DefaultValue:""},SourceState:{IsEnum:!0,EnumType:"Enum",Type:"HmiSourceState",DefaultValue:0}},BlockSymbolSystemPart:{TitleForeColor:{Type:"Color",DefaultValue:4278190080},HeaderForeColor:{Type:"Color",DefaultValue:4278190080},ContentForeColor:{Type:"Color",DefaultValue:4278190080},HeaderBackColor:{Type:"Color",DefaultValue:4293848814},ContentBackColor:{Type:"Color",DefaultValue:4293848814},BorderWidth:{Type:"USInt",DefaultValue:1},BorderColor:{Type:"Color",DefaultValue:4291611852},TitleFont:{Type:"FontPart",IsPart:!0,IsArray:!1},HeaderFont:{Type:"FontPart",IsPart:!0,IsArray:!1},ContentFont:{Type:"FontPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},Button:{HotKey:{Type:"UInt",DefaultValue:0},Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},Text:{RangeType:"MaxLength",Range:32767,IsRef:!0,Type:"HmiText",DefaultValue:""},AlternateGraphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},AlternateText:{RangeType:"MaxLength",Range:32767,IsRef:!0,Type:"HmiText",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},GraphicWidth:{Type:"UDInt",DefaultValue:0},GraphicHeight:{Type:"UDInt",DefaultValue:0},AlternateGraphicWidth:{Type:"UDInt",DefaultValue:0},AlternateGraphicHeight:{Type:"UDInt",DefaultValue:0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},CheckBoxGroup:{ProcessValue:{Type:"Variant",DefaultValue:null},SelectorPosition:{RangeType:"Discrete",Range:[0,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:0},ForeColor:{Type:"Color",DefaultValue:4278190080},SelectionItemHeight:{Type:"UInt",DefaultValue:0},SelectionItems:{Type:"SelectionItemPart",IsPart:!0,IsArray:!0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},Circle:{BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4278255360},BorderWidth:{Type:"USInt",DefaultValue:1},BackFillPattern:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillPattern",DefaultValue:0},FillLevel:{RangeType:"MinMax",Range:[0,100],Type:"USInt",DefaultValue:0},FillDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillDirection",DefaultValue:0},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},ShowFillLevel:{Type:"Bool",DefaultValue:!1},Radius:{RangeType:"MinMax",Range:[0,2500],Type:"UDInt",DefaultValue:20},CenterX:{Type:"DInt",DefaultValue:0},CenterY:{Type:"DInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},CircleSegment:{StartAngle:{Type:"DInt",DefaultValue:0},AngleRange:{Type:"DInt",DefaultValue:90},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4278255360},BorderWidth:{Type:"USInt",DefaultValue:1},BackFillPattern:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillPattern",DefaultValue:0},FillLevel:{RangeType:"MinMax",Range:[0,100],Type:"USInt",DefaultValue:0},FillDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillDirection",DefaultValue:0},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},ShowFillLevel:{Type:"Bool",DefaultValue:!1},Radius:{RangeType:"MinMax",Range:[0,2500],Type:"UDInt",DefaultValue:20},CenterX:{Type:"DInt",DefaultValue:0},CenterY:{Type:"DInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},CircularArc:{StartAngle:{Type:"DInt",DefaultValue:0},AngleRange:{Type:"DInt",DefaultValue:90},LineColor:{Type:"Color",DefaultValue:4278190080},AlternateLineColor:{Type:"Color",DefaultValue:4294967295},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},EndType:{IsEnum:!0,EnumType:"Enum",Type:"HmiLineEndType",DefaultValue:0},StartType:{IsEnum:!0,EnumType:"Enum",Type:"HmiLineEndType",DefaultValue:0},CapType:{IsEnum:!0,EnumType:"Enum",Type:"HmiCapType",DefaultValue:0},LineWidth:{RangeType:"MinMax",Range:[1,100],Type:"USInt",DefaultValue:1},Radius:{RangeType:"MinMax",Range:[0,2500],Type:"UDInt",DefaultValue:20},CenterX:{Type:"DInt",DefaultValue:0},CenterY:{Type:"DInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},Clock:{DialMode:{IsEnum:!0,EnumType:"Flags",Type:"HmiScaleMode",DefaultValue:3},DialBackColor:{Type:"Color",DefaultValue:4294967295},DialLabelColor:{Type:"Color",DefaultValue:4278190080},DialTickColor:{Type:"Color",DefaultValue:4278190080},ShowHours:{Type:"Bool",DefaultValue:!0},ShowMinutes:{Type:"Bool",DefaultValue:!0},ShowSeconds:{Type:"Bool",DefaultValue:!0},ComputedHours:{Type:"USInt",DefaultValue:0},ComputedMinutes:{Type:"USInt",DefaultValue:0},ComputedSeconds:{Type:"USInt",DefaultValue:0},TimeSource:{Type:"Variant",DefaultValue:null},Title:{Type:"TextPart",IsPart:!0,IsArray:!1},DialLabelFont:{Type:"FontPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},ComboBox:{SelectionMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiSelectionMode",DefaultValue:1},ProcessValue:{Type:"Variant",DefaultValue:null},SelectorPosition:{RangeType:"Discrete",Range:[0,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:0},ForeColor:{Type:"Color",DefaultValue:4278190080},SelectionItemHeight:{Type:"UInt",DefaultValue:0},SelectionItems:{Type:"SelectionItemPart",IsPart:!0,IsArray:!0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},CommandPart:{CommandText:{Type:"String",DefaultValue:""},CommandType:{Type:"String",DefaultValue:""},CommandParameters:{Type:"ParameterPart",IsPart:!0,IsArray:!0}},CommandSourceElement:{Command:{Type:"CommandPart",IsPart:!0,IsArray:!1},ResultSet:{Type:"ParameterPart",IsPart:!0,IsArray:!0},DataConnection:{IsSRef:!0,Type:"HmiDataConnection",DefaultValue:""},SourceState:{IsEnum:!0,EnumType:"Enum",Type:"HmiSourceState",DefaultValue:0}},ConsideredColumnPart:{Key:{Type:"String",DefaultValue:""},IsPrimary:{Type:"Bool",DefaultValue:!1}},ContentPart:{SplitRatio:{RangeType:"MinMax",Range:[0,1],Type:"LReal",DefaultValue:.5},ContentMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiContentMode",DefaultValue:2},TextPosition:{IsEnum:!0,EnumType:"Enum",Type:"HmiTextPosition",DefaultValue:0},GraphicStretchMode:{RangeType:"Discrete",Range:[0,1,2,3],IsEnum:!0,EnumType:"Enum",Type:"HmiGraphicStretchMode",DefaultValue:0},VerticalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiVerticalAlignment",DefaultValue:1},HorizontalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:0},Spacing:{Type:"UDInt",DefaultValue:5},TextTrimming:{IsEnum:!0,EnumType:"Enum",Type:"HmiTextTrimming",DefaultValue:0}},ControlBarButtonPart:{HotKey:{Type:"UInt",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},Badge:{Type:"BadgePart",IsPart:!0,IsArray:!1},Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},Text:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},GraphicWidth:{Type:"UDInt",DefaultValue:0},GraphicHeight:{Type:"UDInt",DefaultValue:0},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MinimumHeight:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},MaximumHeight:{Type:"UDInt",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},Mapping:{Type:"DInt",DefaultValue:0},Offset:{Type:"DInt",DefaultValue:0},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},CustomID:{Type:"DInt",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1}},ControlBarDisplayPart:{Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},Text:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},GraphicWidth:{Type:"UDInt",DefaultValue:0},GraphicHeight:{Type:"UDInt",DefaultValue:0},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MinimumHeight:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},MaximumHeight:{Type:"UDInt",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},Mapping:{Type:"DInt",DefaultValue:0},Offset:{Type:"DInt",DefaultValue:0},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},CustomID:{Type:"DInt",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1}},ControlBarLabelPart:{Text:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},VerticalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiVerticalAlignment",DefaultValue:1},HorizontalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:1},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MinimumHeight:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},MaximumHeight:{Type:"UDInt",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},Mapping:{Type:"DInt",DefaultValue:0},Offset:{Type:"DInt",DefaultValue:0},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},CustomID:{Type:"DInt",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1}},ControlBarSeparatorPart:{Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MinimumHeight:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},MaximumHeight:{Type:"UDInt",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},Mapping:{Type:"DInt",DefaultValue:0},Offset:{Type:"DInt",DefaultValue:0},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},CustomID:{Type:"DInt",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1}},ControlBarTextBoxPart:{ReadOnly:{Type:"Bool",DefaultValue:!1},BackColor:{Type:"Color",DefaultValue:4294967295},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4278190080},BorderWidth:{Type:"USInt",DefaultValue:1},Text:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},VerticalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiVerticalAlignment",DefaultValue:1},HorizontalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:1},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MinimumHeight:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},MaximumHeight:{Type:"UDInt",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},Mapping:{Type:"DInt",DefaultValue:0},Offset:{Type:"DInt",DefaultValue:0},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},CustomID:{Type:"DInt",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1}},ControlBarToggleSwitchPart:{IsAlternateState:{Type:"Bool",DefaultValue:!1},AlternateText:{IsRef:!0,Type:"HmiText",DefaultValue:""},AlternateGraphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},AlternateGraphicWidth:{Type:"UDInt",DefaultValue:0},AlternateGraphicHeight:{Type:"UDInt",DefaultValue:0},HotKey:{Type:"UInt",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},Badge:{Type:"BadgePart",IsPart:!0,IsArray:!1},Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},Text:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},GraphicWidth:{Type:"UDInt",DefaultValue:0},GraphicHeight:{Type:"UDInt",DefaultValue:0},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MinimumHeight:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},MaximumHeight:{Type:"UDInt",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},Mapping:{Type:"DInt",DefaultValue:0},Offset:{Type:"DInt",DefaultValue:0},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},CustomID:{Type:"DInt",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1}},CornersPart:{TopLeftRadius:{RangeType:"MinMax",Range:[0,1250],Type:"UDInt",DefaultValue:0},TopRightRadius:{RangeType:"MinMax",Range:[0,1250],Type:"UDInt",DefaultValue:0},BottomLeftRadius:{RangeType:"MinMax",Range:[0,1250],Type:"UDInt",DefaultValue:0},BottomRightRadius:{RangeType:"MinMax",Range:[0,1250],Type:"UDInt",DefaultValue:0}},CurvedScalePart:{StartAngle:{Type:"DInt",DefaultValue:225},AngleRange:{Type:"DInt",DefaultValue:270},ScalingType:{IsEnum:!0,EnumType:"Enum",Type:"HmiScalingType",DefaultValue:0},DivisionCount:{RangeType:"MinMax",Range:[1,1e3],Type:"DInt",DefaultValue:10},SubDivisionCount:{RangeType:"MinMax",Range:[1,250],Type:"DInt",DefaultValue:1},LargeTickLabelingStep:{Type:"USInt",DefaultValue:1},BeginValue:{Type:"LReal",DefaultValue:0},EndValue:{Type:"LReal",DefaultValue:100},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},LabelFont:{Type:"FontPart",IsPart:!0,IsArray:!1},MeasurementUnitType:{IsEnum:!0,EnumType:"Enum",Type:"HmiMeasurementUnit",DefaultValue:2},MeasurementUnit:{RangeType:"MaxLength",Range:32,Type:"String",DefaultValue:""},AutoScaling:{Type:"Bool",DefaultValue:!0},ScaleMode:{IsEnum:!0,EnumType:"Flags",Type:"HmiScaleMode",DefaultValue:3},LabelColor:{Type:"Color",DefaultValue:4278190080},TickColor:{Type:"Color",DefaultValue:4278190080}},CustomWebControlContainer:{IsMonitorMode:{Type:"Bool",DefaultValue:!1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},ContainedType:{IsSRef:!0,Type:"SRef",DefaultValue:""},Properties:{Type:"DynamicPropertyPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},CustomWidgetContainer:{RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},VisualizeQuality:{Type:"Bool",DefaultValue:!0},ContainedType:{IsSRef:!0,Type:"SRef",DefaultValue:""},Properties:{Type:"DynamicPropertyPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},DataCellSystemPart:{OutputFormat:{Type:"String",DefaultValue:""},BackColor:{Type:"Color",DefaultValue:4294967295},ForeColor:{Type:"Color",DefaultValue:4278190080},SelectionBackColor:{Type:"Color",DefaultValue:871296750},SelectionForeColor:{Type:"Color",DefaultValue:855638271},Enabled:{Type:"Bool",DefaultValue:!0},IsEditing:{Type:"Bool",DefaultValue:!1},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},HasFocus:{Type:"Bool",DefaultValue:!1},FocusColor:{Type:"Color",DefaultValue:4290822336},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},DataGridColumnHeaderPart:{Text:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},GraphicWidth:{Type:"UDInt",DefaultValue:0},GraphicHeight:{Type:"UDInt",DefaultValue:0},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},DataGridColumnPart:{Key:{Type:"String",DefaultValue:""},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},DataGridControl:{BindingSource:{IsSomRef:!0,Type:"HmiBindingSourceElement",DefaultValue:""},DataGridView:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},DataGridHeaderSettingsPart:{AllowColumnReorder:{Type:"Bool",DefaultValue:!0},AllowColumnResize:{Type:"Bool",DefaultValue:!0},HeaderGridLineColor:{Type:"Color",DefaultValue:4291611852},HeaderForeColor:{Type:"Color",DefaultValue:4278190080},HeaderBackColor:{Type:"Color",DefaultValue:4293848814},HeaderSelectionForeColor:{Type:"Color",DefaultValue:872415231},HeaderSelectionBackColor:{Type:"Color",DefaultValue:855638271},RowHeaderType:{RangeType:"Discrete",Range:[0,1],IsEnum:!0,EnumType:"Enum",Type:"HmiDataGridHeaderType",DefaultValue:0},ColumnHeaderType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDataGridHeaderType",DefaultValue:2},Font:{Type:"FontPart",IsPart:!0,IsArray:!1}},DataGridViewPart:{ColoringMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiGridColoringMode",DefaultValue:2},ForeColor:{Type:"Color",DefaultValue:4278190080},BackColor:{Type:"Color",DefaultValue:4294967295},AlternateBackColor:{Type:"Color",DefaultValue:4293980400},AlternateForeColor:{Type:"Color",DefaultValue:4278190080},SelectionForeColor:{Type:"Color",DefaultValue:4294967295},SelectionBackColor:{Type:"Color",DefaultValue:4291136049},SelectFullRow:{Type:"Bool",DefaultValue:!0},GridSelectionMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiGridSelectionMode",DefaultValue:1},HorizontalScrollBarVisibility:{IsEnum:!0,EnumType:"Enum",Type:"HmiScrollBarVisibility",DefaultValue:0},VerticalScrollBarVisibility:{IsEnum:!0,EnumType:"Enum",Type:"HmiScrollBarVisibility",DefaultValue:0},SelectionBorderWidth:{Type:"USInt",DefaultValue:3},SelectionBorderColor:{Type:"Color",DefaultValue:4278190080},AllowSort:{Type:"Bool",DefaultValue:!0},RowHeight:{Type:"USInt",DefaultValue:0},GridLineColor:{Type:"Color",DefaultValue:4291611852},GridLineWidth:{Type:"USInt",DefaultValue:1},GridLineVisibility:{IsEnum:!0,EnumType:"Flags",Type:"HmiSimpleGridLine",DefaultValue:3},AllowFilter:{Type:"Bool",DefaultValue:!0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},HeaderSettings:{Type:"DataGridHeaderSettingsPart",IsPart:!0,IsArray:!1},CellPadding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},Columns:{IsPart:!0,IsArray:!0}},DataSourcePart:{Source:{IsSRef:!0,Type:"SRef",DefaultValue:""},VisualizeQuality:{Type:"Bool",DefaultValue:!0}},DcsFaceplateContainer:{DomainTypeGUID:{Type:"String",DefaultValue:""},DomainSubTypeGUID:{Type:"String",DefaultValue:""},ContainedType:{IsSRef:!0,Type:"SRef",DefaultValue:""},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},DetailedParameterControl:{EditMode:{IsEnum:!0,EnumType:"Flags",Type:"HmiEditMode",DefaultValue:7},TimeZone:{Type:"HmiTimeZone",DefaultValue:-1},ParameterSetTypeFixed:{IsSRef:!0,Type:"HmiParameterSetType",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},SelectionBackColor:{Type:"Color",DefaultValue:4294967295},SelectionForeColor:{Type:"Color",DefaultValue:4278190080},CurrentParameterSetTypeID:{Type:"UDInt",DefaultValue:0},CurrentParameterSetID:{Type:"UDInt",DefaultValue:0},HasPendingChanges:{Type:"Bool",DefaultValue:!1},HideDetails:{Type:"Bool",DefaultValue:!1},ParameterView:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},DetailedParameterControlColumnPart:{DetailedParameterControlBlock:{IsEnum:!0,EnumType:"Enum",Type:"HmiDetailedParameterControlBlock",DefaultValue:0},Key:{Type:"String",DefaultValue:""},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},DotNetControlContainer:{Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},ContainedType:{IsSRef:!0,Type:"SRef",DefaultValue:""},Properties:{Type:"DynamicPropertyPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},DynamicPropertyPart:{},Ellipse:{BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4278255360},BorderWidth:{Type:"USInt",DefaultValue:1},BackFillPattern:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillPattern",DefaultValue:0},FillLevel:{RangeType:"MinMax",Range:[0,100],Type:"USInt",DefaultValue:0},FillDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillDirection",DefaultValue:0},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},ShowFillLevel:{Type:"Bool",DefaultValue:!1},RadiusX:{RangeType:"MinMax",Range:[0,2500],Type:"UDInt",DefaultValue:30},RadiusY:{RangeType:"MinMax",Range:[0,2500],Type:"UDInt",DefaultValue:20},CenterX:{Type:"DInt",DefaultValue:0},CenterY:{Type:"DInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},EllipseSegment:{StartAngle:{Type:"DInt",DefaultValue:0},AngleRange:{Type:"DInt",DefaultValue:90},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4278255360},BorderWidth:{Type:"USInt",DefaultValue:1},BackFillPattern:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillPattern",DefaultValue:0},FillLevel:{RangeType:"MinMax",Range:[0,100],Type:"USInt",DefaultValue:0},FillDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillDirection",DefaultValue:0},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},ShowFillLevel:{Type:"Bool",DefaultValue:!1},RadiusX:{RangeType:"MinMax",Range:[0,2500],Type:"UDInt",DefaultValue:30},RadiusY:{RangeType:"MinMax",Range:[0,2500],Type:"UDInt",DefaultValue:20},CenterX:{Type:"DInt",DefaultValue:0},CenterY:{Type:"DInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},EllipticalArc:{StartAngle:{Type:"DInt",DefaultValue:0},AngleRange:{Type:"DInt",DefaultValue:90},LineColor:{Type:"Color",DefaultValue:4278190080},AlternateLineColor:{Type:"Color",DefaultValue:4294967295},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},EndType:{IsEnum:!0,EnumType:"Enum",Type:"HmiLineEndType",DefaultValue:0},StartType:{IsEnum:!0,EnumType:"Enum",Type:"HmiLineEndType",DefaultValue:0},CapType:{IsEnum:!0,EnumType:"Enum",Type:"HmiCapType",DefaultValue:0},LineWidth:{RangeType:"MinMax",Range:[1,100],Type:"USInt",DefaultValue:1},RadiusX:{RangeType:"MinMax",Range:[0,2500],Type:"UDInt",DefaultValue:30},RadiusY:{RangeType:"MinMax",Range:[0,2500],Type:"UDInt",DefaultValue:20},CenterX:{Type:"DInt",DefaultValue:0},CenterY:{Type:"DInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},FaceplateContainer:{Adaption:{IsEnum:!0,EnumType:"Enum",Type:"HmiScreenWindowAdaption",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ContainedType:{IsSRef:!0,Type:"SRef",DefaultValue:""},Properties:{Type:"DynamicPropertyPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},FaceplateType:{EnableExplicitUnlock:{IsSomRef:!0,Type:"HmiButton",DefaultValue:""},Properties:{Type:"DynamicPropertyPart",IsPart:!0,IsArray:!1},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},BackFillPattern:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillPattern",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:4290822336},AlternateBackColor:{Type:"Color",DefaultValue:4293651435},BackGraphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},HorizontalAlignment:{IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:0},VerticalAlignment:{IsEnum:!0,EnumType:"Enum",Type:"HmiVerticalAlignment",DefaultValue:0},BackgroundFillMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiBackgroundFillMode",DefaultValue:0},BackGraphicStretchMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiGraphicStretchMode",DefaultValue:3},Name:{RangeType:"MaxLength",Range:512,Type:"String",DefaultValue:""},DisplayName:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},Layers:{Type:"LayerPart",IsPart:!0,IsArray:!0}},FlowLineDecoratorSystemPart:{ForeColor:{Type:"Color",DefaultValue:4278190080},BackColor:{Type:"Color",DefaultValue:4293848814},DecoratorPositionX:{RangeType:"MinMax",Range:[-1,1],Type:"Real",DefaultValue:0},DecoratorPositionY:{RangeType:"MinMax",Range:[-1,1],Type:"Real",DefaultValue:0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},FocusEffectSystemPart:{FocusColor:{Type:"Color",DefaultValue:4286434550},LineWidth:{Type:"USInt",DefaultValue:2},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},FontPart:{Description:{IsRef:!0,Type:"HmiFont",DefaultValue:""},Weight:{IsEnum:!0,EnumType:"Enum",Type:"HmiFontWeight",DefaultValue:400},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:"Arial"},Italic:{Type:"Bool",DefaultValue:!1},Size:{RangeType:"MinMax",Range:[1,1e3],Type:"Real",DefaultValue:16},Underline:{Type:"Bool",DefaultValue:!1},StrikeOut:{IsEnum:!0,EnumType:"Enum",Type:"HmiFontStrikeOut",DefaultValue:0}},FunctionTrendAreaPart:{SelectedFunctionTrend:{IsSomRef:!0,Type:"HmiFunctionTrendPart",DefaultValue:""},TopValueAxes:{Type:"XValueAxisPart",IsPart:!0,IsArray:!0},BottomValueAxes:{Type:"XValueAxisPart",IsPart:!0,IsArray:!0},FunctionTrends:{Type:"FunctionTrendPart",IsPart:!0,IsArray:!0},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},BackColor:{Type:"Color",DefaultValue:4292401644},GridLines:{IsEnum:!0,EnumType:"Flags",Type:"HmiGridLine",DefaultValue:3},MajorGridLinesColor:{Type:"Color",DefaultValue:4289774020},MinorGridLinesColor:{Type:"Color",DefaultValue:4291747794},SizeFactor:{RangeType:"MinMax",Range:[1,100],Type:"UInt",DefaultValue:1},VisibleTrendCount:{Type:"UInt",DefaultValue:0},Ruler:{Type:"RulerPart",IsPart:!0,IsArray:!1},LeftValueAxes:{Type:"YValueAxisPart",IsPart:!0,IsArray:!0},RightValueAxes:{Type:"YValueAxisPart",IsPart:!0,IsArray:!0}},FunctionTrendControl:{FunctionTrendAreas:{Type:"FunctionTrendAreaPart",IsPart:!0,IsArray:!0},AreaSpacing:{Type:"UInt",DefaultValue:10},Online:{Type:"Bool",DefaultValue:!0},ExtendRulerToAxis:{Type:"Bool",DefaultValue:!1},ShowRuler:{Type:"Bool",DefaultValue:!0},ShiftAxes:{Type:"Bool",DefaultValue:!1},Legend:{Type:"LegendPart",IsPart:!0,IsArray:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},FunctionTrendPart:{RangeType:{IsEnum:!0,EnumType:"Enum",Type:"HmiTimeRangeType",DefaultValue:0},TimeRangeFactor:{Type:"DInt",DefaultValue:1},TimeRangeBase:{RangeType:"Discrete",Range:[1,2,3,4,5,6,7],IsEnum:!0,EnumType:"Enum",Type:"HmiTimeRangeBase",DefaultValue:3},BeginTime:{Type:"DateTime",DefaultValue:0},EndTime:{Type:"DateTime",DefaultValue:0},PointCount:{Type:"DInt",DefaultValue:120},XValueAxis:{IsSomRef:!0,Type:"HmiXValueAxisPart",DefaultValue:""},TrendMode:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiTrendMode",DefaultValue:1},DataSourceX:{Type:"DataSourcePart",IsPart:!0,IsArray:!1},Visible:{Type:"Bool",DefaultValue:!0},DisplayName:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},LineWidth:{Type:"USInt",DefaultValue:1},LineColor:{Type:"Color",DefaultValue:4278190080},BackFillPattern:{RangeType:"Discrete",Range:[65536,0,1048835,1048834,1048833,1048832,1048579,1048578,1048577,1048576],IsEnum:!0,EnumType:"Enum",Type:"HmiFillPattern",DefaultValue:65536},BackColor:{Type:"Color",DefaultValue:4278190080},AlternateBackColor:{Type:"Color",DefaultValue:16777215},MarkerType:{IsEnum:!0,EnumType:"Enum",Type:"HmiMarkerType",DefaultValue:2},MarkerDimension:{Type:"UDInt",DefaultValue:3},MarkerColor:{Type:"Color",DefaultValue:4278190080},MarkerGraphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},ShowLoggedDataImmediately:{Type:"Bool",DefaultValue:!0},YValueAxis:{IsSomRef:!0,Type:"HmiYValueAxisPart",DefaultValue:""},TrendDescription:{Type:"String",DefaultValue:""},QualityVisualization:{Type:"QualityPart",IsPart:!0,IsArray:!1},Thresholds:{Type:"ThresholdPart",IsPart:!0,IsArray:!0},DataSourceY:{Type:"DataSourcePart",IsPart:!0,IsArray:!1}},Gauge:{CurvedScale:{Type:"CurvedScalePart",IsPart:!0,IsArray:!1},ProcessValue:{Type:"Variant",DefaultValue:null},ThresholdIndicators:{IsEnum:!0,EnumType:"Flags",Type:"HmiThresholdIndicator",DefaultValue:2},ShowTrendIndicator:{Type:"Bool",DefaultValue:!0},TrendIndicatorColor:{Type:"Color",DefaultValue:4291611852},ProcessValueIndicatorForeColor:{Type:"Color",DefaultValue:4294967295},ProcessValueIndicatorBackColor:{Type:"Color",DefaultValue:4278190080},ProcessValueIndicatorMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiProcessIndicatorMode",DefaultValue:0},OriginValue:{Type:"LReal",DefaultValue:0},RelativeToOrigin:{RangeType:"MinMax",Range:[0,100],Type:"Bool",DefaultValue:!1},PeakIndicators:{IsEnum:!0,EnumType:"Flags",Type:"HmiPeakIndicator",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},NormalRangeColor:{Type:"Color",DefaultValue:4278255360},ComputedMaxPeakValue:{Type:"Variant",DefaultValue:null},ComputedMinPeakValue:{Type:"Variant",DefaultValue:null},ComputedValueTendency:{IsEnum:!0,EnumType:"Enum",Type:"HmiValueTendency",DefaultValue:0},ScaleBackColor:{Type:"Color",DefaultValue:4290822336},ScaleForeColor:{Type:"Color",DefaultValue:4278190080},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Thresholds:{Type:"ThresholdPart",IsPart:!0,IsArray:!0},Title:{Type:"TextPart",IsPart:!0,IsArray:!1},Label:{Type:"TextPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},GraphicView:{GraphicStretchMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiGraphicStretchMode",DefaultValue:1},Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},FillLevel:{RangeType:"MinMax",Range:[0,100],Type:"USInt",DefaultValue:0},FillDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillDirection",DefaultValue:0},ShowFillLevel:{Type:"Bool",DefaultValue:!1},BackFillPattern:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillPattern",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4278255360},GraphicWidth:{Type:"UDInt",DefaultValue:0},GraphicHeight:{Type:"UDInt",DefaultValue:0},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},GraphOverviewControlColumnPart:{GraphOverviewControlBlock:{IsEnum:!0,EnumType:"Enum",Type:"HmiGraphOverviewBlock",DefaultValue:0},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},Group:{Properties:{Type:"DynamicPropertyPart",IsPart:!0,IsArray:!1},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ContainedItems:{Type:"ArrayOfSomRef",DefaultValue:[]},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},HeaderCellSystemPart:{Text:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},GraphicWidth:{Type:"UDInt",DefaultValue:0},GraphicHeight:{Type:"UDInt",DefaultValue:0},ForeColor:{Type:"Color",DefaultValue:4278190080},BackColor:{Type:"Color",DefaultValue:4293848814},SelectionForeColor:{Type:"Color",DefaultValue:872415231},SelectionBackColor:{Type:"Color",DefaultValue:855638271},SortOrder:{Type:"UInt",DefaultValue:0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},Name:{Type:"String",DefaultValue:""},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},HelpLinePart:{Visible:{Type:"Bool",DefaultValue:!0},Value:{Type:"LReal",DefaultValue:0}},HotKeyPart:{HotKey:{Type:"UInt",DefaultValue:0}},InputBehaviorPart:{AcceptOnDeactivated:{Type:"Bool",DefaultValue:!0},ClearOnActivate:{Type:"Bool",DefaultValue:!1},HiddenInput:{Type:"Bool",DefaultValue:!1},InputOnActivate:{Type:"Bool",DefaultValue:!0}},InputHintSystemPart:{OffsetX:{Type:"DInt",DefaultValue:0},OffsetY:{Type:"DInt",DefaultValue:0},VerticalAlignment:{IsEnum:!0,EnumType:"Enum",Type:"HmiVerticalAlignment",DefaultValue:0},HorizontalAlignment:{IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:0},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},IOField:{ProcessValue:{Type:"Variant",DefaultValue:null},IOFieldType:{IsEnum:!0,EnumType:"Enum",Type:"HmiIOFieldType",DefaultValue:2},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},VerticalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiVerticalAlignment",DefaultValue:1},HorizontalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:1},TextTrimming:{IsEnum:!0,EnumType:"Enum",Type:"HmiTextTrimming",DefaultValue:0},Thresholds:{Type:"ThresholdPart",IsPart:!0,IsArray:!0},InputBehavior:{Type:"InputBehaviorPart",IsPart:!0,IsArray:!1},MeasurementUnitType:{IsEnum:!0,EnumType:"Enum",Type:"HmiMeasurementUnit",DefaultValue:2},MeasurementUnit:{RangeType:"MaxLength",Range:32,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},Label:{Text:{RangeType:"MaxLength",Range:32767,IsRef:!0,Type:"HmiText",DefaultValue:""},TextWrapping:{IsEnum:!0,EnumType:"Enum",Type:"HmiTextWrapping",DefaultValue:0},VerticalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiVerticalAlignment",DefaultValue:1},HorizontalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:1},TextTrimming:{IsEnum:!0,EnumType:"Enum",Type:"HmiTextTrimming",DefaultValue:0},ForeColor:{Type:"Color",DefaultValue:4278190080},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},LayerPart:{Visible:{Type:"Bool",DefaultValue:!0},MaximumZoom:{RangeType:"MinMax",Range:[.01,8],Type:"LReal",DefaultValue:8},MinimumZoom:{RangeType:"MinMax",Range:[.01,8],Type:"LReal",DefaultValue:.01},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""}},LegendPart:{Visible:{Type:"Bool",DefaultValue:!0},ForeColor:{Type:"Color",DefaultValue:4278190080},Font:{Type:"FontPart",IsPart:!0,IsArray:!1}},Line:{X1:{Type:"DInt",DefaultValue:0},Y1:{Type:"DInt",DefaultValue:0},X2:{Type:"DInt",DefaultValue:0},Y2:{Type:"DInt",DefaultValue:0},LineColor:{Type:"Color",DefaultValue:4278190080},AlternateLineColor:{Type:"Color",DefaultValue:4294967295},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},EndType:{IsEnum:!0,EnumType:"Enum",Type:"HmiLineEndType",DefaultValue:0},StartType:{IsEnum:!0,EnumType:"Enum",Type:"HmiLineEndType",DefaultValue:0},CapType:{IsEnum:!0,EnumType:"Enum",Type:"HmiCapType",DefaultValue:0},LineWidth:{RangeType:"MinMax",Range:[1,100],Type:"USInt",DefaultValue:1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},LineColorPart:{NormalLine:{Type:"Color",DefaultValue:4291085513},ActiveLine:{Type:"Color",DefaultValue:4287086130},InactiveLine:{Type:"Color",DefaultValue:4286434805}},ListBox:{SelectionMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiSelectionMode",DefaultValue:0},ProcessValue:{Type:"Variant",DefaultValue:null},SelectorPosition:{RangeType:"Discrete",Range:[0,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:0},ForeColor:{Type:"Color",DefaultValue:4278190080},SelectionItemHeight:{Type:"UInt",DefaultValue:0},SelectionItems:{Type:"SelectionItemPart",IsPart:!0,IsArray:!0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},ListContainerSystemPart:{SelectedIndex:{Type:"DInt",DefaultValue:-1},List:{Type:"DynamicPropertyPart",IsPart:!0,IsArray:!0},Current:{Type:"DynamicPropertyPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},LogicSymbolSystemPart:{HeaderForeColor:{Type:"Color",DefaultValue:4278190080},ContentForeColor:{Type:"Color",DefaultValue:4278190080},HeaderBackColor:{Type:"Color",DefaultValue:4293848814},ContentBackColor:{Type:"Color",DefaultValue:4293848814},LogicSymbolColor:{Type:"Color",DefaultValue:4291085513},LogicSymbolLineType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},HeaderFont:{Type:"FontPart",IsPart:!0,IsArray:!1},ContentFont:{Type:"FontPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},MarginPart:{Top:{RangeType:"MinMax",Range:[0,255],Type:"DInt",DefaultValue:0},Left:{RangeType:"MinMax",Range:[0,255],Type:"DInt",DefaultValue:0},Bottom:{RangeType:"MinMax",Range:[0,255],Type:"DInt",DefaultValue:0},Right:{RangeType:"MinMax",Range:[0,255],Type:"DInt",DefaultValue:0}},MarkerSystemPart:{MeasurementUnit:{Type:"String",DefaultValue:""},BackColor:{Type:"Color",DefaultValue:16777215},ForeColor:{Type:"Color",DefaultValue:4278190080},Thresholds:{Type:"ThresholdPart",IsPart:!0,IsArray:!1},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},MatrixViewPart:{TileBorderWidth:{Type:"USInt",DefaultValue:1},TileHeightMin:{Type:"UInt",DefaultValue:20},TileHeightMax:{Type:"UInt",DefaultValue:40},TileWidthMin:{Type:"UInt",DefaultValue:30},TileWidthMax:{Type:"UInt",DefaultValue:60},HardwareDetails:{Type:"SystemDiagnosisHardwareDetailPart",IsPart:!0,IsArray:!0},SystemDiagnosisHardwareDetailView:{Type:"SystemDiagnosisDetailViewPart",IsPart:!0,IsArray:!1}},MediaControl:{Url:{RangeType:"MaxLength",Range:2048,Type:"String",DefaultValue:""},AutoPlay:{Type:"Bool",DefaultValue:!0},VideoOutput:{IsEnum:!0,EnumType:"Enum",Type:"HmiVideoOutput",DefaultValue:2},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},ObjectExplorerControl:{DisplayViewType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDisplayViewType",DefaultValue:0},TargetObjectType:{Type:"UDInt",DefaultValue:65552},LinkedItem:{IsSomRef:!0,Type:"HmiControlWindowBase",DefaultValue:""},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},OpenLinkElement:{OpenLinkMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiOpenLinkMode",DefaultValue:2},ActiveOnStartup:{Type:"Bool",DefaultValue:!0},Pipe:{Type:"PipePart",IsPart:!0,IsArray:!1},Application:{Type:"ApplicationPart",IsPart:!0,IsArray:!1},ContainedType:{IsSRef:!0,Type:"SRef",DefaultValue:""},Properties:{Type:"DynamicPropertyPart",IsPart:!0,IsArray:!1}},OperabilityPart:{Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1}},OverviewParameterControl:{EditMode:{IsEnum:!0,EnumType:"Flags",Type:"HmiEditMode",DefaultValue:7},TimeZone:{Type:"HmiTimeZone",DefaultValue:-1},Filter:{RangeType:"MaxLength",Range:3e3,Type:"String",DefaultValue:""},ParameterSetTypeDefault:{IsRef:!0,Type:"HmiParameterSetType",DefaultValue:""},DetailedParameterControl:{IsSomRef:!0,Type:"HmiDetailedParameterControl",DefaultValue:""},ParameterView:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},OverviewParameterControlColumnPart:{OverviewParameterControlBlock:{IsEnum:!0,EnumType:"Enum",Type:"HmiOverviewParameterControlBlock",DefaultValue:0},Key:{Type:"String",DefaultValue:""},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},PaddingPart:{Top:{RangeType:"MinMax",Range:[0,255],Type:"DInt",DefaultValue:0},Left:{RangeType:"MinMax",Range:[0,255],Type:"DInt",DefaultValue:0},Right:{RangeType:"MinMax",Range:[0,255],Type:"DInt",DefaultValue:0},Bottom:{RangeType:"MinMax",Range:[0,255],Type:"DInt",DefaultValue:0}},ParameterPart:{ParameterName:{Type:"String",DefaultValue:""},ParameterValue:{Type:"Variant",DefaultValue:null}},PipePart:{PipeState:{IsEnum:!0,EnumType:"Enum",Type:"HmiPipeConnectionState",DefaultValue:0},PipeName:{Type:"String",DefaultValue:""},LastPropertyRequestResult:{IsEnum:!0,EnumType:"Enum",Type:"HmiRequestResult",DefaultValue:0},ReconnectAutomatically:{Type:"Bool",DefaultValue:!1},CharSet:{IsEnum:!0,EnumType:"Enum",Type:"HmiCharSet",DefaultValue:1}},PlcDataSourcePart:{Tag:{IsSRef:!0,Type:"HmiTag",DefaultValue:""},Connection:{IsRef:!0,Type:"HmiConnection",DefaultValue:""},DB_Name:{Type:"String",DefaultValue:""},HmiConnectionName:{Type:"String",DefaultValue:""}},Polygon:{BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4278255360},BorderWidth:{Type:"USInt",DefaultValue:1},BackFillPattern:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillPattern",DefaultValue:0},FillLevel:{RangeType:"MinMax",Range:[0,100],Type:"USInt",DefaultValue:0},FillDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillDirection",DefaultValue:0},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},ShowFillLevel:{Type:"Bool",DefaultValue:!1},JoinType:{IsEnum:!0,EnumType:"Enum",Type:"HmiLineJoinType",DefaultValue:0},Points:{Type:"ArrayOfPoint",DefaultValue:[]},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},Polyline:{LineColor:{Type:"Color",DefaultValue:4278190080},AlternateLineColor:{Type:"Color",DefaultValue:4294967295},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},EndType:{IsEnum:!0,EnumType:"Enum",Type:"HmiLineEndType",DefaultValue:0},StartType:{IsEnum:!0,EnumType:"Enum",Type:"HmiLineEndType",DefaultValue:0},CapType:{IsEnum:!0,EnumType:"Enum",Type:"HmiCapType",DefaultValue:0},LineWidth:{RangeType:"MinMax",Range:[1,100],Type:"USInt",DefaultValue:1},JoinType:{IsEnum:!0,EnumType:"Enum",Type:"HmiLineJoinType",DefaultValue:0},Points:{Type:"ArrayOfPoint",DefaultValue:[]},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},PopupScreenWindow:{IsModal:{Type:"Bool",DefaultValue:!1},Monitor:{RangeType:"MinMax",Range:[1,32],Type:"USInt",DefaultValue:1},StartupPosition:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowStartupPosition",DefaultValue:0},TabIntoWindow:{Type:"Bool",DefaultValue:!1},Screen:{IsSRef:!0,Type:"HmiStoredScreen",DefaultValue:""},ScreenName:{RangeType:"MaxLength",Range:512,Type:"String",DefaultValue:""},ScreenNumber:{Type:"UInt",DefaultValue:0},System:{IsSRef:!0,Type:"HmiSystem",DefaultValue:""},CurrentZoomFactor:{RangeType:"MinMax",Range:[.01,8],Type:"LReal",DefaultValue:1},VerticalScrollBarVisibility:{IsEnum:!0,EnumType:"Enum",Type:"HmiScrollBarVisibility",DefaultValue:0},VerticalScrollBarPosition:{Type:"DInt",DefaultValue:0},HorizontalScrollBarVisibility:{IsEnum:!0,EnumType:"Enum",Type:"HmiScrollBarVisibility",DefaultValue:0},HorizontalScrollBarPosition:{Type:"DInt",DefaultValue:0},Adaption:{IsEnum:!0,EnumType:"Enum",Type:"HmiScreenWindowAdaption",DefaultValue:0},InteractiveZooming:{Type:"Bool",DefaultValue:!0},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},ProcessColumnPart:{DataSource:{Type:"DataSourcePart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},ProcessControl:{Online:{Type:"Bool",DefaultValue:!0},TimeStepSmoothingBase:{IsEnum:!0,EnumType:"Enum",Type:"HmiTimeRangeBase",DefaultValue:1},TimeStepSmoothingFactor:{Type:"DInt",DefaultValue:1},EditMode:{IsEnum:!0,EnumType:"Flags",Type:"HmiEditMode",DefaultValue:0},TimeZone:{Type:"HmiTimeZone",DefaultValue:-1},ProcessView:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},ProcessDiagnosisCriteriaAnalysisControl:{SourceControl:{IsSomRef:!0,Type:"HmiAlarmControl",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},HasError:{Type:"Bool",DefaultValue:!0},CriteriaAnalysisView:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},SnapToSourceControl:{Type:"Bool",DefaultValue:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},ProcessDiagnosisCriteriaAnalysisControlColumnPart:{CriteriaAnalysisBlock:{IsEnum:!0,EnumType:"Enum",Type:"HmiProcessDiagnosisCriteriaAnalysisBlock",DefaultValue:0},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},ProcessDiagnosisGraphOverviewControl:{ShowOperationMode:{Type:"Bool",DefaultValue:!0},ForeColor:{Type:"Color",DefaultValue:4278190080},GridLineColor:{Type:"Color",DefaultValue:4278190080},HasError:{Type:"Bool",DefaultValue:!0},SelectedStep:{Type:"UInt",DefaultValue:0},PlcSource:{Type:"PlcDataSourcePart",IsPart:!0,IsArray:!1},OperationMode:{Type:"ProcessDiagnosisOperationModePart",IsPart:!0,IsArray:!1},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},GraphOverview:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},ProcessDiagnosisOperationModePart:{OpModeAutoText:{RangeType:"MaxLength",Range:12,IsRef:!0,Type:"HmiText",DefaultValue:""},OpModeManText:{RangeType:"MaxLength",Range:12,IsRef:!0,Type:"HmiText",DefaultValue:""},OpModeTapText:{RangeType:"MaxLength",Range:12,IsRef:!0,Type:"HmiText",DefaultValue:""},OpModeTopText:{RangeType:"MaxLength",Range:12,IsRef:!0,Type:"HmiText",DefaultValue:""}},ProcessDiagnosisOverviewControl:{ForeColor:{Type:"Color",DefaultValue:4278190080},HasError:{Type:"Bool",DefaultValue:!0},LineColor:{Type:"Color",DefaultValue:4278190080},PlcSource:{Type:"PlcDataSourcePart",IsPart:!0,IsArray:!1},PDiagCategories:{Type:"ProcessDiagnosisOverviewPart",IsPart:!0,IsArray:!1},PDiagSupervisionTypes:{Type:"ProcessDiagnosisOverviewPart",IsPart:!0,IsArray:!1},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},ProcessDiagnosisOverviewElementPart:{Text:{RangeType:"MaxLength",Range:2,IsRef:!0,Type:"HmiText",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},BackColor:{Type:"Color",DefaultValue:4294901760},Visible:{Type:"Bool",DefaultValue:!0},FlashingRate:{IsEnum:!0,EnumType:"Enum",Type:"HmiFlashingRate",DefaultValue:255},AlternateBackColor:{Type:"Color",DefaultValue:4278190080},AlternateForeColor:{Type:"Color",DefaultValue:4294901760}},ProcessDiagnosisOverviewPart:{Visible:{Type:"Bool",DefaultValue:!0},PDiagElements:{Type:"ProcessDiagnosisOverviewElementPart",IsPart:!0,IsArray:!0},SymbolFont:{Type:"FontPart",IsPart:!0,IsArray:!1},Label:{Type:"TextPart",IsPart:!0,IsArray:!1}},ProcessDiagnosisPlcCodeViewerControl:{ShowSymbolLine:{Type:"Bool",DefaultValue:!0},OverviewDetailRatio:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:.5},SymbolLineBackColor:{Type:"Color",DefaultValue:4278190080},IsSecurePlc:{Type:"Bool",DefaultValue:!1},SymbolLineForeColor:{Type:"Color",DefaultValue:4278190080},DetailViewType:{IsEnum:!0,EnumType:"Enum",Type:"HmiProcessDiagnosisDetailViewType",DefaultValue:0},ShowOverviewDetail:{Type:"Bool",DefaultValue:!0},CurrentZoomFactor:{RangeType:"MinMax",Range:[.25,1.5],Type:"LReal",DefaultValue:1},HasError:{Type:"Bool",DefaultValue:!0},SymbolLineFont:{Type:"FontPart",IsPart:!0,IsArray:!1},LineColors:{Type:"LineColorPart",IsPart:!0,IsArray:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},QualityPart:{Visible:{Type:"Bool",DefaultValue:!0},BadColor:{Type:"Color",DefaultValue:4278190080},UncertainColor:{Type:"Color",DefaultValue:4026531840}},RadioButtonGroup:{ProcessValue:{Type:"Variant",DefaultValue:null},SelectorPosition:{RangeType:"Discrete",Range:[0,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:0},ForeColor:{Type:"Color",DefaultValue:4278190080},SelectionItemHeight:{Type:"UInt",DefaultValue:0},SelectionItems:{Type:"SelectionItemPart",IsPart:!0,IsArray:!0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},Rectangle:{Corners:{Type:"CornersPart",IsPart:!0,IsArray:!1},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4278255360},BorderWidth:{Type:"USInt",DefaultValue:1},BackFillPattern:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillPattern",DefaultValue:0},FillLevel:{RangeType:"MinMax",Range:[0,100],Type:"USInt",DefaultValue:0},FillDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillDirection",DefaultValue:0},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},ShowFillLevel:{Type:"Bool",DefaultValue:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},ResourceListEntryPart:{ResourceListType:{IsEnum:!0,EnumType:"Enum",Type:"HmiResourceListType",DefaultValue:0},Text:{IsRef:!0,Type:"HmiText",DefaultValue:""},Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},GraphicWidth:{Type:"UDInt",DefaultValue:0},GraphicHeight:{Type:"UDInt",DefaultValue:0}},RulerIndicatorSystemPart:{BackColor:{Type:"Color",DefaultValue:16777215},ForeColor:{Type:"Color",DefaultValue:4278190080},RulerPosition:{RangeType:"MinMax",Range:[-1,1],Type:"Real",DefaultValue:0},Orientation:{IsEnum:!0,EnumType:"Enum",Type:"HmiOrientation",DefaultValue:0},OutputFormat:{Type:"String",DefaultValue:""},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},HasFocus:{Type:"Bool",DefaultValue:!1},FocusColor:{Type:"Color",DefaultValue:4290822336},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},RulerPart:{Width:{RangeType:"MinMax",Range:[0,100],Type:"UDInt",DefaultValue:1},Color:{Type:"Color",DefaultValue:4278190080}},ScalingEntryPart:{BeginValue:{Type:"LReal",DefaultValue:0},EndValue:{Type:"LReal",DefaultValue:0},BeginValueTarget:{Type:"LReal",DefaultValue:0},EndValueTarget:{Type:"LReal",DefaultValue:0},DisplayName:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""}},Screen:{ScreenNumber:{Type:"UInt",DefaultValue:0},ScreenMaster:{IsSomRef:!0,Type:"HmiScreenMaster",DefaultValue:""},CurrentStyle:{IsSRef:!0,Type:"HmiStyle",DefaultValue:""},EnableExplicitUnlock:{IsSomRef:!0,Type:"HmiButton",DefaultValue:""},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},BackFillPattern:{IsEnum:!0,EnumType:"Enum",Type:"HmiFillPattern",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:4290822336},AlternateBackColor:{Type:"Color",DefaultValue:4293651435},BackGraphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},HorizontalAlignment:{IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:0},VerticalAlignment:{IsEnum:!0,EnumType:"Enum",Type:"HmiVerticalAlignment",DefaultValue:0},BackgroundFillMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiBackgroundFillMode",DefaultValue:0},BackGraphicStretchMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiGraphicStretchMode",DefaultValue:3},Name:{RangeType:"MaxLength",Range:512,Type:"String",DefaultValue:""},DisplayName:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},Layers:{Type:"LayerPart",IsPart:!0,IsArray:!0}},ScreenMaster:{Visible:{Type:"Bool",DefaultValue:!0},Name:{RangeType:"MaxLength",Range:512,Type:"String",DefaultValue:""},DisplayName:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},Layers:{Type:"LayerPart",IsPart:!0,IsArray:!0}},ScreenWindow:{TabIntoWindow:{Type:"Bool",DefaultValue:!1},Screen:{IsSRef:!0,Type:"HmiStoredScreen",DefaultValue:""},ScreenName:{RangeType:"MaxLength",Range:512,Type:"String",DefaultValue:""},ScreenNumber:{Type:"UInt",DefaultValue:0},System:{IsSRef:!0,Type:"HmiSystem",DefaultValue:""},CurrentZoomFactor:{RangeType:"MinMax",Range:[.01,8],Type:"LReal",DefaultValue:1},VerticalScrollBarVisibility:{IsEnum:!0,EnumType:"Enum",Type:"HmiScrollBarVisibility",DefaultValue:0},VerticalScrollBarPosition:{Type:"DInt",DefaultValue:0},HorizontalScrollBarVisibility:{IsEnum:!0,EnumType:"Enum",Type:"HmiScrollBarVisibility",DefaultValue:0},HorizontalScrollBarPosition:{Type:"DInt",DefaultValue:0},Adaption:{IsEnum:!0,EnumType:"Enum",Type:"HmiScreenWindowAdaption",DefaultValue:0},InteractiveZooming:{Type:"Bool",DefaultValue:!0},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},ScreenWindowLayout:{Name:{RangeType:"MaxLength",Range:512,Type:"String",DefaultValue:""},DisplayName:{IsRef:!0,Type:"HmiText",DefaultValue:""},CurrentStyle:{IsSRef:!0,Type:"HmiStyle",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0},ObjectId:{Type:"UDInt",DefaultValue:0}},ScrollBarSystemPart:{AlternateBackColor:{Type:"Color",DefaultValue:4286611584},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},AlternateForeColor:{Type:"Color",DefaultValue:4278190080},BackColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},ForeColor:{Type:"Color",DefaultValue:4278190080},ThumbForeColor:{Type:"Color",DefaultValue:4294967295},ThumbBackColor:{Type:"Color",DefaultValue:4290822336},VisibleValueRange:{Type:"LReal",DefaultValue:0},BeginValue:{Type:"LReal",DefaultValue:0},EndValue:{Type:"LReal",DefaultValue:0},Orientation:{IsEnum:!0,EnumType:"Enum",Type:"HmiOrientation",DefaultValue:0},CurrentValue:{Type:"LReal",DefaultValue:0},Thickness:{Type:"UDInt",DefaultValue:10},Floating:{Type:"Bool",DefaultValue:!1},SmallStepValueRange:{Type:"LReal",DefaultValue:0},HasFocus:{Type:"Bool",DefaultValue:!1},FocusColor:{Type:"Color",DefaultValue:4290822336},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},SelectionItemPart:{Text:{RangeType:"MaxLength",Range:32767,IsRef:!0,Type:"HmiText",DefaultValue:""},Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},IsSelected:{Type:"Bool",DefaultValue:!1},GraphicWidth:{Type:"UDInt",DefaultValue:0},GraphicHeight:{Type:"UDInt",DefaultValue:0}},SelectionSystemPart:{BorderWidth:{Type:"USInt",DefaultValue:2},BorderColor:{Type:"Color",DefaultValue:4278190335},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},Slider:{ThumbForeColor:{Type:"Color",DefaultValue:4294967295},ThumbBackColor:{Type:"Color",DefaultValue:4290822336},WriteDuringChange:{Type:"Bool",DefaultValue:!1},ShowValue:{Type:"Bool",DefaultValue:!1},ValuePosition:{IsEnum:!0,EnumType:"Enum",Type:"HmiSimplePosition",DefaultValue:0},BarMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiBarMode",DefaultValue:1},StraightScale:{Type:"StraightScalePart",IsPart:!0,IsArray:!1},ProcessValue:{Type:"Variant",DefaultValue:null},ThresholdIndicators:{IsEnum:!0,EnumType:"Flags",Type:"HmiThresholdIndicator",DefaultValue:2},ShowTrendIndicator:{Type:"Bool",DefaultValue:!0},TrendIndicatorColor:{Type:"Color",DefaultValue:4291611852},ProcessValueIndicatorForeColor:{Type:"Color",DefaultValue:4294967295},ProcessValueIndicatorBackColor:{Type:"Color",DefaultValue:4278190080},ProcessValueIndicatorMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiProcessIndicatorMode",DefaultValue:0},OriginValue:{Type:"LReal",DefaultValue:0},RelativeToOrigin:{RangeType:"MinMax",Range:[0,100],Type:"Bool",DefaultValue:!1},PeakIndicators:{IsEnum:!0,EnumType:"Flags",Type:"HmiPeakIndicator",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},NormalRangeColor:{Type:"Color",DefaultValue:4278255360},ComputedMaxPeakValue:{Type:"Variant",DefaultValue:null},ComputedMinPeakValue:{Type:"Variant",DefaultValue:null},ComputedValueTendency:{IsEnum:!0,EnumType:"Enum",Type:"HmiValueTendency",DefaultValue:0},ScaleBackColor:{Type:"Color",DefaultValue:4290822336},ScaleForeColor:{Type:"Color",DefaultValue:4278190080},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Thresholds:{Type:"ThresholdPart",IsPart:!0,IsArray:!0},Title:{Type:"TextPart",IsPart:!0,IsArray:!1},Label:{Type:"TextPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},SnapPointPart:{SourceItem:{IsSomRef:!0,Type:"HmiScreenItemBase",DefaultValue:""},SelectedSnapPointIndex:{Type:"UDInt",DefaultValue:0}},StatusBarPart:{Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},BackColor:{Type:"Color",DefaultValue:4292405740},ShowToolTips:{Type:"Bool",DefaultValue:!0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Elements:{IsPart:!0,IsArray:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1}},StraightScalePart:{Orientation:{IsEnum:!0,EnumType:"Enum",Type:"HmiOrientation",DefaultValue:0},ScalingType:{IsEnum:!0,EnumType:"Enum",Type:"HmiScalingType",DefaultValue:0},DivisionCount:{RangeType:"MinMax",Range:[1,1e3],Type:"DInt",DefaultValue:10},SubDivisionCount:{RangeType:"MinMax",Range:[1,250],Type:"DInt",DefaultValue:1},LargeTickLabelingStep:{Type:"USInt",DefaultValue:1},BeginValue:{Type:"LReal",DefaultValue:0},EndValue:{Type:"LReal",DefaultValue:100},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},LabelFont:{Type:"FontPart",IsPart:!0,IsArray:!1},MeasurementUnitType:{IsEnum:!0,EnumType:"Enum",Type:"HmiMeasurementUnit",DefaultValue:2},MeasurementUnit:{RangeType:"MaxLength",Range:32,Type:"String",DefaultValue:""},AutoScaling:{Type:"Bool",DefaultValue:!0},ScaleMode:{IsEnum:!0,EnumType:"Flags",Type:"HmiScaleMode",DefaultValue:3},LabelColor:{Type:"Color",DefaultValue:4278190080},TickColor:{Type:"Color",DefaultValue:4278190080}},SwacContainer:{Url:{Type:"String",DefaultValue:""},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},ContainedType:{IsSRef:!0,Type:"SRef",DefaultValue:""},Properties:{Type:"DynamicPropertyPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},SymbolContainer:{EffectColor:{Type:"Color",DefaultValue:4294901760},Effect:{IsEnum:!0,EnumType:"Enum",Type:"HmiSymbolEffect",DefaultValue:0},ProcessValue:{Type:"Variant",DefaultValue:null},Flip:{IsEnum:!0,EnumType:"Enum",Type:"HmiFlipMode",DefaultValue:0},Thresholds:{Type:"ThresholdPart",IsPart:!0,IsArray:!0},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},VisualizeQuality:{Type:"Bool",DefaultValue:!0},ContainedType:{IsSRef:!0,Type:"SRef",DefaultValue:""},Properties:{Type:"DynamicPropertyPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},SymbolicIOField:{AcceptOnDeactivated:{Type:"Bool",DefaultValue:!0},ExpandOnActivate:{Type:"Bool",DefaultValue:!1},AutoTabOnAccept:{Type:"Bool",DefaultValue:!1},IOFieldType:{IsEnum:!0,EnumType:"Enum",Type:"HmiIOFieldType",DefaultValue:2},ProcessValue:{Type:"Variant",DefaultValue:null},AcceptExplicitely:{Type:"Bool",DefaultValue:!0},Text:{IsRef:!0,Type:"HmiText",DefaultValue:""},Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},SelectionBackColor:{Type:"Color",DefaultValue:4294967295},SelectionForeColor:{Type:"Color",DefaultValue:4278190080},ResourceList:{IsSRef:!0,Type:"HmiResourceList",DefaultValue:""},SelectedIndex:{Type:"DInt",DefaultValue:-1},GraphicWidth:{Type:"UDInt",DefaultValue:0},GraphicHeight:{Type:"UDInt",DefaultValue:0},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},ForeColor:{Type:"Color",DefaultValue:4278190080},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},SystemDiagnosisControl:{SelectedIndex:{Type:"DInt",DefaultValue:-1},TimeZone:{Type:"HmiTimeZone",DefaultValue:-1},SystemDiagnosisViewType:{IsEnum:!0,EnumType:"Enum",Type:"HmiSystemDiagnosisViewType",DefaultValue:0},ShowStatusPath:{Type:"Bool",DefaultValue:!0},DiagnosisOverviewPathText:{IsRef:!0,Type:"HmiText",DefaultValue:""},DiagnosisBufferPathText:{IsRef:!0,Type:"HmiText",DefaultValue:""},SystemDiagnosisView:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},MatrixView:{Type:"MatrixViewPart",IsPart:!0,IsArray:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},SystemDiagnosisControlColumnPart:{SystemDiagnosisControlBlock:{IsEnum:!0,EnumType:"Enum",Type:"HmiSystemDiagnosisControlBlock",DefaultValue:0},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},SystemDiagnosisDetailViewPart:{HardwareDetails:{Type:"SystemDiagnosisHardwareDetailPart",IsPart:!0,IsArray:!0},ColoringMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiGridColoringMode",DefaultValue:2},ForeColor:{Type:"Color",DefaultValue:4278190080},BackColor:{Type:"Color",DefaultValue:4294967295},AlternateBackColor:{Type:"Color",DefaultValue:4293980400},AlternateForeColor:{Type:"Color",DefaultValue:4278190080},SelectionForeColor:{Type:"Color",DefaultValue:4294967295},SelectionBackColor:{Type:"Color",DefaultValue:4291136049},SelectFullRow:{Type:"Bool",DefaultValue:!0},GridSelectionMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiGridSelectionMode",DefaultValue:1},HorizontalScrollBarVisibility:{IsEnum:!0,EnumType:"Enum",Type:"HmiScrollBarVisibility",DefaultValue:0},VerticalScrollBarVisibility:{IsEnum:!0,EnumType:"Enum",Type:"HmiScrollBarVisibility",DefaultValue:0},SelectionBorderWidth:{Type:"USInt",DefaultValue:3},SelectionBorderColor:{Type:"Color",DefaultValue:4278190080},AllowSort:{Type:"Bool",DefaultValue:!0},RowHeight:{Type:"USInt",DefaultValue:0},GridLineColor:{Type:"Color",DefaultValue:4291611852},GridLineWidth:{Type:"USInt",DefaultValue:1},GridLineVisibility:{IsEnum:!0,EnumType:"Flags",Type:"HmiSimpleGridLine",DefaultValue:3},AllowFilter:{Type:"Bool",DefaultValue:!0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},HeaderSettings:{Type:"DataGridHeaderSettingsPart",IsPart:!0,IsArray:!1},CellPadding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},Columns:{IsPart:!0,IsArray:!0}},SystemDiagnosisHardwareDetailPart:{Visible:{Type:"Bool",DefaultValue:!0},SystemDiagnosisMatrixBlock:{IsEnum:!0,EnumType:"Enum",Type:"HmiSystemDiagnosisMatrixBlock",DefaultValue:0}},SystemDiagnosisMatrixColumnPart:{SystemDiagnosisMatrixBlock:{IsEnum:!0,EnumType:"Enum",Type:"HmiSystemDiagnosisMatrixBlock",DefaultValue:0},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},TagInterfacePart:{DataType:{Type:"USInt",DefaultValue:0},Tag:{IsSRef:!0,Type:"HmiTag",DefaultValue:""},TagDisplayName:{Type:"String",DefaultValue:""},StructuredTagType:{IsRef:!0,Type:"HmiStructuredTagType",DefaultValue:""}},Text:{Text:{RangeType:"MaxLength",Range:32767,IsRef:!0,Type:"HmiText",DefaultValue:""},VerticalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiVerticalAlignment",DefaultValue:1},HorizontalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:1},ForeColor:{Type:"Color",DefaultValue:4278190080},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},TextBox:{ReadOnly:{Type:"Bool",DefaultValue:!1},Text:{RangeType:"MaxLength",Range:32767,IsRef:!0,Type:"HmiText",DefaultValue:""},TextWrapping:{IsEnum:!0,EnumType:"Enum",Type:"HmiTextWrapping",DefaultValue:0},VerticalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiVerticalAlignment",DefaultValue:1},HorizontalTextAlignment:{RangeType:"Discrete",Range:[0,1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:1},TextTrimming:{IsEnum:!0,EnumType:"Enum",Type:"HmiTextTrimming",DefaultValue:0},ForeColor:{Type:"Color",DefaultValue:4278190080},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},TextPart:{Text:{RangeType:"MaxLength",Range:32767,IsRef:!0,Type:"HmiText",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},Visible:{Type:"Bool",DefaultValue:!0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1}},ThresholdPart:{BeginValue:{Type:"LReal",DefaultValue:0},Color:{Type:"Color",DefaultValue:4278190080},Name:{Type:"String",DefaultValue:""},DisplayName:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},ThresholdMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiThresholdMode",DefaultValue:0},EndValue:{Type:"LReal",DefaultValue:0},Value:{Type:"LReal",DefaultValue:0}},TimeAxisPart:{OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},AlwaysShowRecent:{Type:"Bool",DefaultValue:!0},LabelFont:{Type:"FontPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:512,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},DisplayName:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},AxisColor:{Type:"Color",DefaultValue:4278190080},AutoScaling:{Type:"Bool",DefaultValue:!0},ScaleMode:{IsEnum:!0,EnumType:"Flags",Type:"HmiScaleMode",DefaultValue:3},LabelColor:{Type:"Color",DefaultValue:4278190080},TickColor:{Type:"Color",DefaultValue:4278190080},TimeRangeBase:{RangeType:"Discrete",Range:[1,2,3,4,5,6,7],IsEnum:!0,EnumType:"Enum",Type:"HmiTimeRangeBase",DefaultValue:3},TimeRangeFactor:{Type:"DInt",DefaultValue:1},BeginTime:{Type:"DateTime",DefaultValue:0},EndTime:{Type:"DateTime",DefaultValue:0},PointCount:{Type:"DInt",DefaultValue:120},RangeType:{IsEnum:!0,EnumType:"Enum",Type:"HmiTimeRangeType",DefaultValue:0}},TimeRangeColumnPart:{TimeRangeBase:{RangeType:"Discrete",Range:[1,2,3,4,5,6,7],IsEnum:!0,EnumType:"Enum",Type:"HmiTimeRangeBase",DefaultValue:3},TimeRangeFactor:{Type:"DInt",DefaultValue:1},BeginTime:{Type:"DateTime",DefaultValue:0},EndTime:{Type:"DateTime",DefaultValue:0},PointCount:{Type:"DInt",DefaultValue:120},RangeType:{IsEnum:!0,EnumType:"Enum",Type:"HmiTimeRangeType",DefaultValue:0},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},ToggleSwitch:{IsAlternateState:{Type:"Bool",DefaultValue:!1},HotKey:{Type:"UInt",DefaultValue:0},Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},Text:{RangeType:"MaxLength",Range:32767,IsRef:!0,Type:"HmiText",DefaultValue:""},AlternateGraphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},AlternateText:{RangeType:"MaxLength",Range:32767,IsRef:!0,Type:"HmiText",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:4278190080},GraphicWidth:{Type:"UDInt",DefaultValue:0},GraphicHeight:{Type:"UDInt",DefaultValue:0},AlternateGraphicWidth:{Type:"UDInt",DefaultValue:0},AlternateGraphicHeight:{Type:"UDInt",DefaultValue:0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},BorderColor:{Type:"Color",DefaultValue:4278190080},AlternateBorderColor:{Type:"Color",DefaultValue:4294967295},BorderWidth:{Type:"USInt",DefaultValue:1},BackColor:{Type:"Color",DefaultValue:4286611584},AlternateBackColor:{Type:"Color",DefaultValue:4286611584},VisualizeQuality:{Type:"Bool",DefaultValue:!0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},RotationAngle:{Type:"Int",DefaultValue:0},RotationCenterX:{Type:"Real",DefaultValue:0},RotationCenterY:{Type:"Real",DefaultValue:0},RotationCenterPlacement:{IsEnum:!0,EnumType:"Enum",Type:"HmiRotationCenterPlacement",DefaultValue:0},ToolTipText:{RangeType:"MaxLength",Range:320,IsRef:!0,Type:"HmiText",DefaultValue:""},Opacity:{RangeType:"MinMax",Range:[0,1],Type:"Real",DefaultValue:1},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},ToolBarPart:{UseHotKeys:{Type:"Bool",DefaultValue:!0},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},BackColor:{Type:"Color",DefaultValue:4292405740},ShowToolTips:{Type:"Bool",DefaultValue:!0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},Elements:{IsPart:!0,IsArray:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Padding:{Type:"PaddingPart",IsPart:!0,IsArray:!1}},TooltipSystemPart:{BackColor:{Type:"Color",DefaultValue:268435455},ForeColor:{Type:"Color",DefaultValue:4278190080},BorderColor:{Type:"Color",DefaultValue:4278190080},Text:{IsRef:!0,Type:"HmiText",DefaultValue:""},Graphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},VerticalAlignment:{RangeType:"Discrete",Range:[0,2],IsEnum:!0,EnumType:"Enum",Type:"HmiVerticalAlignment",DefaultValue:0},HorizontalAlignment:{RangeType:"Discrete",Range:[0,2],IsEnum:!0,EnumType:"Enum",Type:"HmiHorizontalAlignment",DefaultValue:0},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1},Font:{Type:"FontPart",IsPart:!0,IsArray:!1},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},TopLevelScreenWindow:{Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0},Screen:{IsSRef:!0,Type:"HmiStoredScreen",DefaultValue:""},ScreenName:{RangeType:"MaxLength",Range:512,Type:"String",DefaultValue:""},ScreenNumber:{Type:"UInt",DefaultValue:0},System:{IsSRef:!0,Type:"HmiSystem",DefaultValue:""},CurrentZoomFactor:{RangeType:"MinMax",Range:[.01,8],Type:"LReal",DefaultValue:1},VerticalScrollBarVisibility:{IsEnum:!0,EnumType:"Enum",Type:"HmiScrollBarVisibility",DefaultValue:0},VerticalScrollBarPosition:{Type:"DInt",DefaultValue:0},HorizontalScrollBarVisibility:{IsEnum:!0,EnumType:"Enum",Type:"HmiScrollBarVisibility",DefaultValue:0},HorizontalScrollBarPosition:{Type:"DInt",DefaultValue:0},Adaption:{IsEnum:!0,EnumType:"Enum",Type:"HmiScreenWindowAdaption",DefaultValue:0},InteractiveZooming:{Type:"Bool",DefaultValue:!0},Monitor:{RangeType:"MinMax",Range:[1,32],Type:"USInt",DefaultValue:1},StartupPosition:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowStartupPosition",DefaultValue:0},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0}},TouchArea:{BackColor:{Type:"Color",DefaultValue:16777215},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Authorization:{IsRef:!0,Type:"HmiFunctionRight",DefaultValue:""},Operability:{IsEnum:!0,EnumType:"Flags",Type:"HmiOperability",DefaultValue:0},RequireExplicitUnlock:{Type:"Bool",DefaultValue:!1}},TrendAreaPart:{SelectedTrend:{IsSomRef:!0,Type:"HmiTrendPart",DefaultValue:""},StatisticRulers:{Type:"RulerPart",IsPart:!0,IsArray:!1},TopTimeAxes:{Type:"TimeAxisPart",IsPart:!0,IsArray:!0},BottomTimeAxes:{Type:"TimeAxisPart",IsPart:!0,IsArray:!0},Trends:{Type:"TrendPart",IsPart:!0,IsArray:!0},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},BackColor:{Type:"Color",DefaultValue:4292401644},GridLines:{IsEnum:!0,EnumType:"Flags",Type:"HmiGridLine",DefaultValue:3},MajorGridLinesColor:{Type:"Color",DefaultValue:4289774020},MinorGridLinesColor:{Type:"Color",DefaultValue:4291747794},SizeFactor:{RangeType:"MinMax",Range:[1,100],Type:"UInt",DefaultValue:1},VisibleTrendCount:{Type:"UInt",DefaultValue:0},Ruler:{Type:"RulerPart",IsPart:!0,IsArray:!1},LeftValueAxes:{Type:"YValueAxisPart",IsPart:!0,IsArray:!0},RightValueAxes:{Type:"YValueAxisPart",IsPart:!0,IsArray:!0}},TrendColumnPart:{TrendInfoBlock:{IsEnum:!0,EnumType:"Enum",Type:"HmiTrendInfoBlock",DefaultValue:0},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Enabled:{Type:"Bool",DefaultValue:!0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},MinimumWidth:{Type:"UDInt",DefaultValue:0},MaximumWidth:{Type:"UDInt",DefaultValue:0},AllowSort:{Type:"Bool",DefaultValue:!0},SortDirection:{IsEnum:!0,EnumType:"Enum",Type:"HmiSortDirection",DefaultValue:0},SortOrder:{Type:"UInt",DefaultValue:0},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},ForeColor:{Type:"Color",DefaultValue:0},BackColor:{Type:"Color",DefaultValue:0},Header:{Type:"DataGridColumnHeaderPart",IsPart:!0,IsArray:!1},Content:{Type:"ContentPart",IsPart:!0,IsArray:!1}},TrendCompanion:{TrendCompanionMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiTrendCompanionMode",DefaultValue:0},ShowAlways:{Type:"Bool",DefaultValue:!0},UseSourceControlBackColor:{Type:"Bool",DefaultValue:!1},UseSourceControlTrendColors:{Type:"Bool",DefaultValue:!0},SourceTrendControl:{IsSomRef:!0,Type:"HmiTrendControlBase",DefaultValue:""},TimeZone:{Type:"HmiTimeZone",DefaultValue:-1},TrendRulerView:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},TrendStatisticAreaView:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},TrendStatisticResultView:{Type:"DataGridViewPart",IsPart:!0,IsArray:!1},SnapToSourceControl:{Type:"Bool",DefaultValue:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},TrendControl:{ShowStatisticRulers:{Type:"Bool",DefaultValue:!1},TimeZone:{Type:"HmiTimeZone",DefaultValue:-1},TrendAreas:{Type:"TrendAreaPart",IsPart:!0,IsArray:!0},AreaSpacing:{Type:"UInt",DefaultValue:10},Online:{Type:"Bool",DefaultValue:!0},ExtendRulerToAxis:{Type:"Bool",DefaultValue:!1},ShowRuler:{Type:"Bool",DefaultValue:!0},ShiftAxes:{Type:"Bool",DefaultValue:!1},Legend:{Type:"LegendPart",IsPart:!0,IsArray:!1},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},TrendPart:{TimeAxis:{IsSomRef:!0,Type:"HmiTimeAxisPart",DefaultValue:""},AggregationMode:{RangeType:"Discrete",Range:[1,2],IsEnum:!0,EnumType:"Enum",Type:"HmiAggregationMode",DefaultValue:1},TrendMode:{IsEnum:!0,EnumType:"Enum",Type:"HmiTrendMode",DefaultValue:1},Visible:{Type:"Bool",DefaultValue:!0},DisplayName:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},DashType:{IsEnum:!0,EnumType:"Enum",Type:"HmiDashType",DefaultValue:0},LineWidth:{Type:"USInt",DefaultValue:1},LineColor:{Type:"Color",DefaultValue:4278190080},BackFillPattern:{RangeType:"Discrete",Range:[65536,0,1048835,1048834,1048833,1048832,1048579,1048578,1048577,1048576],IsEnum:!0,EnumType:"Enum",Type:"HmiFillPattern",DefaultValue:65536},BackColor:{Type:"Color",DefaultValue:4278190080},AlternateBackColor:{Type:"Color",DefaultValue:16777215},MarkerType:{IsEnum:!0,EnumType:"Enum",Type:"HmiMarkerType",DefaultValue:2},MarkerDimension:{Type:"UDInt",DefaultValue:3},MarkerColor:{Type:"Color",DefaultValue:4278190080},MarkerGraphic:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},ShowLoggedDataImmediately:{Type:"Bool",DefaultValue:!0},YValueAxis:{IsSomRef:!0,Type:"HmiYValueAxisPart",DefaultValue:""},TrendDescription:{Type:"String",DefaultValue:""},QualityVisualization:{Type:"QualityPart",IsPart:!0,IsArray:!1},Thresholds:{Type:"ThresholdPart",IsPart:!0,IsArray:!0},DataSourceY:{Type:"DataSourcePart",IsPart:!0,IsArray:!1}},WebControl:{Url:{RangeType:"MaxLength",Range:2048,Type:"String",DefaultValue:""},BackColor:{Type:"Color",DefaultValue:4291611852},ToolBar:{Type:"ToolBarPart",IsPart:!0,IsArray:!1},StatusBar:{Type:"StatusBarPart",IsPart:!0,IsArray:!1},WindowFlags:{IsEnum:!0,EnumType:"Flags",Type:"HmiWindowFlag",DefaultValue:123},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Icon:{IsRef:!0,Type:"HmiGraphic",DefaultValue:""},CaptionColor:{Type:"Color",DefaultValue:4287730586},WindowState:{IsEnum:!0,EnumType:"Enum",Type:"HmiWindowState",DefaultValue:0},Caption:{Type:"TextPart",IsPart:!0,IsArray:!1},Top:{Type:"DInt",DefaultValue:0},Left:{Type:"DInt",DefaultValue:0},Width:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},Height:{RangeType:"MinMax",Range:[0,2147483647],Type:"UDInt",DefaultValue:0},CurrentQuality:{IsEnum:!0,EnumType:"Flags",Type:"HmiQuality",DefaultValue:0},FocusColor:{Type:"Color",DefaultValue:4290822336},HasFocus:{Type:"Bool",DefaultValue:!1},ShowFocusVisual:{Type:"Bool",DefaultValue:!0},Margin:{Type:"MarginPart",IsPart:!0,IsArray:!1},Name:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},Layer:{IsSomRef:!0,Type:"HmiLayerPart",DefaultValue:""},Enabled:{Type:"Bool",DefaultValue:!0},TabIndex:{Type:"UInt",DefaultValue:0}},WindowFrameSystemPart:{BorderWidth:{Type:"USInt",DefaultValue:2},BorderColor:{Type:"Color",DefaultValue:4287730586},CaptionHeight:{Type:"DInt",DefaultValue:30},RenderingTemplate:{IsSRef:!0,Type:"HmiRenderingTemplate",DefaultValue:""},Width:{Type:"UDInt",DefaultValue:0},Height:{Type:"UDInt",DefaultValue:0}},XValueAxisPart:{ApplyScalingEntries:{Type:"Bool",DefaultValue:!1},ShowScalingDisplayNames:{Type:"Bool",DefaultValue:!1},AutoRange:{Type:"Bool",DefaultValue:!0},HelpLines:{Type:"HelpLinePart",IsPart:!0,IsArray:!0},ScalingEntries:{Type:"ScalingEntryPart",IsPart:!0,IsArray:!0},Name:{RangeType:"MaxLength",Range:512,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},DisplayName:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},AxisColor:{Type:"Color",DefaultValue:4278190080},ScalingType:{IsEnum:!0,EnumType:"Enum",Type:"HmiScalingType",DefaultValue:0},DivisionCount:{RangeType:"MinMax",Range:[1,1e3],Type:"DInt",DefaultValue:10},SubDivisionCount:{RangeType:"MinMax",Range:[1,250],Type:"DInt",DefaultValue:1},LargeTickLabelingStep:{Type:"USInt",DefaultValue:1},BeginValue:{Type:"LReal",DefaultValue:0},EndValue:{Type:"LReal",DefaultValue:100},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},LabelFont:{Type:"FontPart",IsPart:!0,IsArray:!1},MeasurementUnitType:{IsEnum:!0,EnumType:"Enum",Type:"HmiMeasurementUnit",DefaultValue:2},MeasurementUnit:{RangeType:"MaxLength",Range:32,Type:"String",DefaultValue:""},AutoScaling:{Type:"Bool",DefaultValue:!0},ScaleMode:{IsEnum:!0,EnumType:"Flags",Type:"HmiScaleMode",DefaultValue:3},LabelColor:{Type:"Color",DefaultValue:4278190080},TickColor:{Type:"Color",DefaultValue:4278190080}},YValueAxisPart:{ApplyScalingEntries:{Type:"Bool",DefaultValue:!1},ShowScalingDisplayNames:{Type:"Bool",DefaultValue:!1},AutoRange:{Type:"Bool",DefaultValue:!0},HelpLines:{Type:"HelpLinePart",IsPart:!0,IsArray:!0},ScalingEntries:{Type:"ScalingEntryPart",IsPart:!0,IsArray:!0},Name:{RangeType:"MaxLength",Range:512,Type:"String",DefaultValue:""},Visible:{Type:"Bool",DefaultValue:!0},DisplayName:{RangeType:"MaxLength",Range:1e3,IsRef:!0,Type:"HmiText",DefaultValue:""},AxisColor:{Type:"Color",DefaultValue:4278190080},ScalingType:{IsEnum:!0,EnumType:"Enum",Type:"HmiScalingType",DefaultValue:0},DivisionCount:{RangeType:"MinMax",Range:[1,1e3],Type:"DInt",DefaultValue:10},SubDivisionCount:{RangeType:"MinMax",Range:[1,250],Type:"DInt",DefaultValue:1},LargeTickLabelingStep:{Type:"USInt",DefaultValue:1},BeginValue:{Type:"LReal",DefaultValue:0},EndValue:{Type:"LReal",DefaultValue:100},OutputFormat:{RangeType:"MaxLength",Range:128,Type:"String",DefaultValue:""},LabelFont:{Type:"FontPart",IsPart:!0,IsArray:!1},MeasurementUnitType:{IsEnum:!0,EnumType:"Enum",Type:"HmiMeasurementUnit",DefaultValue:2},MeasurementUnit:{RangeType:"MaxLength",Range:32,Type:"String",DefaultValue:""},AutoScaling:{Type:"Bool",DefaultValue:!0},ScaleMode:{IsEnum:!0,EnumType:"Flags",Type:"HmiScaleMode",DefaultValue:3},LabelColor:{Type:"Color",DefaultValue:4278190080},TickColor:{Type:"Color",DefaultValue:4278190080}}}},function(e,t){!function(){!function(e){"use strict";var t,s="[big.js] ",l=s+"Invalid ",D=l+"decimal places",n=l+"rounding mode",S=s+"Division by zero",i={},b=void 0,u=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function C(e,t,i,r){var a=e.c;if(0!==(i=i===b?e.constructor.RM:i)&&1!==i&&2!==i&&3!==i)throw Error(n);if(t<1)r=3===i&&(r||!!a[0])||0===t&&(1===i&&5<=a[0]||2===i&&(5<a[0]||5===a[0]&&(r||a[1]!==b))),a.length=1,r?(e.e=e.e-t+1,a[0]=1):a[0]=e.e=0;else if(t<a.length){if(r=1===i&&5<=a[t]||2===i&&(5<a[t]||5===a[t]&&(r||a[t+1]!==b||1&a[t-1]))||3===i&&(r||!!a[0]),a.length=t--,r)for(;9<++a[t];)a[t]=0,t--||(++e.e,a.unshift(1));for(t=a.length;!a[--t];)a.pop()}return e}function o(e,t,i){var r=e.e,a=e.c.join(""),n=a.length;if(t)a=a.charAt(0)+(1<n?"."+a.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)a="0"+a;a="0."+a}else if(0<r)if(++r>n)for(r-=n;r--;)a+="0";else r<n&&(a=a.slice(0,r)+"."+a.slice(r));else 1<n&&(a=a.charAt(0)+"."+a.slice(1));return e.s<0&&i?"-"+a:a}i.abs=function(){var e=new this.constructor(this);return e.s=1,e},i.cmp=function(e){var t,i=this.c,r=(e=new this.constructor(e)).c,a=this.s,n=e.s,o=this.e,e=e.e;if(!i[0]||!r[0])return i[0]?a:r[0]?-n:0;if(a!=n)return a;if(t=a<0,o!=e)return e<o^t?1:-1;for(n=(o=i.length)<(e=r.length)?o:e,a=-1;++a<n;)if(i[a]!=r[a])return i[a]>r[a]^t?1:-1;return o==e?0:e<o^t?1:-1},i.div=function(e){var t=this.constructor,i=this.c,r=(e=new t(e)).c,a=this.s==e.s?1:-1,n=t.DP;if(n!==~~n||n<0||1e6<n)throw Error(D);if(!r[0])throw Error(S);if(!i[0])return e.s=a,e.c=[e.e=0],e;var o,s,l,u,h,d=r.slice(),c=o=r.length,p=i.length,m=i.slice(0,o),g=m.length,T=e,f=T.c=[],y=0,n=n+(T.e=this.e-e.e)+1;for(T.s=a,a=n<0?0:n,d.unshift(0);g++<o;)m.push(0);do{for(l=0;l<10;l++){if(o!=(g=m.length))u=g<o?1:-1;else for(h=-1,u=0;++h<o;)if(r[h]!=m[h]){u=r[h]>m[h]?1:-1;break}if(!(u<0))break;for(s=g==o?r:d;g;){if(m[--g]<s[g]){for(h=g;h&&!m[--h];)m[h]=9;--m[h],m[g]+=10}m[g]-=s[g]}for(;!m[0];)m.shift()}}while(f[y++]=u?l:++l,m[0]&&u?m[g]=i[c]||0:m=[i[c]],(c++<p||m[0]!==b)&&a--);return f[0]||1==y||(f.shift(),T.e--,n--),n<y&&C(T,n,t.RM,m[0]!==b),T},i.eq=function(e){return 0===this.cmp(e)},i.gt=function(e){return 0<this.cmp(e)},i.gte=function(e){return-1<this.cmp(e)},i.lt=function(e){return this.cmp(e)<0},i.lte=function(e){return this.cmp(e)<1},i.minus=i.sub=function(e){var t,i,r,a,n=this.constructor,o=this.s,s=(e=new n(e)).s;if(o!=s)return e.s=-s,this.plus(e);var l=this.c.slice(),u=this.e,h=e.c,d=e.e;if(l[0]&&h[0]){if(o=u-d){for((r=(a=o<0)?(o=-o,l):(d=u,h)).reverse(),s=o;s--;)r.push(0);r.reverse()}else for(i=((a=l.length<h.length)?l:h).length,o=s=0;s<i;s++)if(l[s]!=h[s]){a=l[s]<h[s];break}if(a&&(r=l,l=h,h=r,e.s=-e.s),0<(s=(i=h.length)-(t=l.length)))for(;s--;)l[t++]=0;for(s=t;o<i;){if(l[--i]<h[i]){for(t=i;t&&!l[--t];)l[t]=9;--l[t],l[i]+=10}l[i]-=h[i]}for(;0===l[--s];)l.pop();for(;0===l[0];)l.shift(),--d;l[0]||(e.s=1,l=[d=0]),e.c=l,e.e=d}else h[0]?e.s=-s:l[0]?e=new n(this):e.s=1;return e},i.mod=function(e){var t,i=this,r=i.constructor,a=i.s,n=(e=new r(e)).s;if(e.c[0])return t=(i.s=e.s=1)==e.cmp(i),i.s=a,e.s=n,t?new r(i):(a=r.DP,n=r.RM,r.DP=r.RM=0,i=i.div(e),r.DP=a,r.RM=n,this.minus(i.times(e)));throw Error(S)},i.plus=i.add=function(e){var t,i,r,a=this.constructor;if(e=new a(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var n=this.e,o=this.c,s=e.e,l=e.c;if(o[0]&&l[0]){if(o=o.slice(),t=n-s){for((r=0<t?(s=n,l):(t=-t,o)).reverse();t--;)r.push(0);r.reverse()}for(o.length-l.length<0&&(r=l,l=o,o=r),t=l.length,i=0;t;o[t]%=10)i=(o[--t]=o[t]+l[t]+i)/10|0;for(i&&(o.unshift(i),++s),t=o.length;0===o[--t];)o.pop();e.c=o,e.e=s}else l[0]||(o[0]?e=new a(this):e.s=this.s);return e},i.pow=function(e){var t=this,i=new t.constructor("1"),r=i,a=e<0;if(e!==~~e||e<-1e6||1e6<e)throw Error(l+"exponent");for(a&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return a?i.div(r):r},i.prec=function(e,t){if(e!==~~e||e<1||1e6<e)throw Error(l+"precision");return C(new this.constructor(this),e,t)},i.round=function(e,t){if(e===b)e=0;else if(e!==~~e||e<-1e6||1e6<e)throw Error(D);return C(new this.constructor(this),e+this.e+1,t)},i.sqrt=function(){var e,t,i,r=this.constructor,a=this.s,n=this.e,o=new r("0.5");if(!this.c[0])return new r(this);if(a<0)throw Error(s+"No square root");for(n=(e=0===(a=Math.sqrt(this+""))||a===1/0?((t=this.c.join("")).length+n&1||(t+="0"),n=((n+1)/2|0)-(n<0||1&n),new r(((a=Math.sqrt(t))==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+n)):new r(a+"")).e+(r.DP+=4);i=e,e=o.times(i.plus(this.div(i))),i.c.slice(0,n).join("")!==e.c.slice(0,n).join(""););return C(e,(r.DP-=4)+e.e+1,r.RM)},i.times=i.mul=function(e){var t,i=this.constructor,r=this.c,a=(e=new i(e)).c,n=r.length,o=a.length,s=this.e,l=e.e;if(e.s=this.s==e.s?1:-1,r[0]&&a[0]){for(e.e=s+l,n<o&&(t=r,r=a,a=t,l=n,n=o,o=l),t=new Array(l=n+o);l--;)t[l]=0;for(s=o;s--;){for(o=0,l=n+s;s<l;)o=t[l]+a[s]*r[l-s-1]+o,t[l--]=o%10,o=o/10|0;t[l]=o}for(o?++e.e:t.shift(),s=t.length;!t[--s];)t.pop();e.c=t}else e.c=[e.e=0];return e},i.toExponential=function(e,t){var i=this,r=i.c[0];if(e!==b){if(e!==~~e||e<0||1e6<e)throw Error(D);for(i=C(new i.constructor(i),++e,t);i.c.length<e;)i.c.push(0)}return o(i,!0,!!r)},i.toFixed=function(e,t){var i=this,r=i.c[0];if(e!==b){if(e!==~~e||e<0||1e6<e)throw Error(D);for(e=e+(i=C(new i.constructor(i),e+i.e+1,t)).e+1;i.c.length<e;)i.c.push(0)}return o(i,!1,!!r)},i.toJSON=i.toString=function(){var e=this.constructor;return o(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},i.toNumber=function(){var e=Number(o(this,!0,!0));if(!0!==this.constructor.strict||this.eq(e.toString()))return e;throw Error(s+"Imprecise conversion")},i.toPrecision=function(e,t){var i=this,r=i.constructor,a=i.c[0];if(e!==b){if(e!==~~e||e<1||1e6<e)throw Error(l+"precision");for(i=C(new r(i),e,t);i.c.length<e;)i.c.push(0)}return o(i,e<=i.e||i.e<=r.NE||i.e>=r.PE,!!a)},i.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(s+"valueOf disallowed");return o(this,this.e<=e.NE||this.e>=e.PE,!0)},(t=function o(){function s(e){if(!(this instanceof s))return e===b?o():new s(e);if(e instanceof s)this.s=e.s,this.e=e.e,this.c=e.c.slice();else{if("string"!=typeof e){if(!0===s.strict)throw TypeError(l+"number");e=0===e&&1/e<0?"-0":String(e)}var t,i,r,a=this,n=e;if(!u.test(n))throw Error(l+"number");for(a.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,-1<(t=n.indexOf("."))&&(n=n.replace(".","")),0<(i=n.search(/e/i))?(t<0&&(t=i),t+=+n.slice(i+1),n=n.substring(0,i)):t<0&&(t=n.length),r=n.length,i=0;i<r&&"0"==n.charAt(i);)++i;if(i==r)a.c=[a.e=0];else{for(;0<r&&"0"==n.charAt(--r););for(a.e=t-i-1,a.c=[],t=0;i<=r;)a.c[t++]=+n.charAt(i++)}}this.constructor=s}return s.prototype=i,s.DP=20,s.RM=1,s.NE=-7,s.PE=21,s.strict=!1,s.roundDown=0,s.roundHalfUp=1,s.roundHalfEven=2,s.roundUp=3,s}()).default=t.Big=t,e.Big=t}(this)}.call(window)},function(e,t){!function(){!function(e){"use strict";var r,a={EMPTY:0,BOOL:1,INT8:2,INT16:3,INT32:4,INT64:5,UINT8:6,UINT16:7,UINT32:8,UINT64:9,FLOAT:10,DOUBLE:11,TIMESPAN:12,DATETIME:13,CY:15,BITSET8:17,BITSET16:18,BITSET32:19,BITSET64:20,BLOB:21,ICfUnknown:25,VOID:26,CHROM_CHAR:27,VARIANT:48,UUID:49,STR:50,REF:51,SREF:52,ICfDispatch:53,TYPE_MASK:4095,SAFEARRAY:8192,BYREF:16384,RESERVED:32768,ERROR:65535},t={};function n(e,t,i){t instanceof r?o(e,t._value,t._vt):!Array.isArray(t)&&"object"==typeof t?t instanceof Big?o(e,new Big(t),i):t instanceof DatePrecise?o(e,new DatePrecise(t),i):t instanceof Date?o(e,new Date(t),i):null===t?o(e,t,i):o(e,t.Value,t.VT):o(e,t,i)}function o(e,t,i){null==t?(i=a.EMPTY,t=null):void 0===i&&(i="number"==typeof t?a.DOUBLE:"boolean"==typeof t?a.BOOL:a.STR),e._value=t,e._vt=i}t.valueOf=function(){switch(this._vt){case a.UINT64:case a.BITSET64:case a.INT64:return new Big(this._value);case a.TIMESPAN:case a.DATETIME:return new DatePrecise(this._value)}return this._value},t.jsValueOf=function(){var e=this.valueOf();switch(this._vt){case a.UINT64:case a.BITSET64:case a.INT64:return Number(e);case a.TIMESPAN:case a.DATETIME:return e.getTime()}return e},t.typeOf=function(){return this._vt},t.setValue=function(e,t){return n(this,e,t),this},r=function i(){function r(e,t){if(!(this instanceof r))return void 0===e?i():new r(e,t);n(this,e,t),this.constructor=r}return r.prototype=t,r.CF_VT=a,r}(),e.Variant=r}(this)}.call(window)},function(e,t){!function(){!function(e){"use strict";var t={},i=new Big("10000000"),r=new Big("116444736000000000"),a=new Big("100");function n(e){return e<0?Math.ceil(e):Math.floor(e)}function o(e,t){return new(e.bind.apply(e,[null].concat(t)))}function s(){var e,t,i=this,r=arguments.length;if(!(i instanceof s))return 0===r?new s:o(s,[].slice.call(arguments));0===r?i.setTime(Date.now()):1===r?(t=arguments[0])instanceof s?(i.setCurrentDataType(t._currentDataType),i.setHrTime(t._hrTime)):t instanceof Date?i.setTime(t.getTime()):Array.isArray(t)?i.setHrTime(t):"string"==typeof t?(e=new Date(t),i.setTime(e.getTime())):t instanceof Big?(i.setCurrentDataType(13),i.setDateTimeValue(t)):i.setTime(t):(t=arguments[0])instanceof Big?(i.setCurrentDataType(arguments[1]),13===i._currentDataType?i.setDateTimeValue(t):i.setTimeSpanValue(t)):(e=o(Date,[].slice.call(arguments)),i.setTime(e.getTime()),7<r&&(i.setMicroseconds(arguments[7]),8<r)&&i.setNanoseconds(arguments[8])),i.constructor=s}t.setTime=function(e){var e=1e3*+e,t=n(e/1e6);return this._hrTime=[t,e%1e6*1e3],this},t.setHrTime=function(e){return Array.isArray(e)?this._hrTime=[e[0]||0,e[1]||0]:this._hrTime=[0,0],this},t.setMilliseconds=function(e){var t=this.getMicroseconds(),i=this.getNanoseconds();return this._hrTime[1]=1e6*e+1e3*t+i,this},t.setMicroseconds=function(e){var t=this.getMilliseconds(),i=this.getNanoseconds();return this._hrTime[1]=1e6*t+1e3*e+i,this},t.setNanoseconds=function(e){var t=this.getMilliseconds(),i=this.getMicroseconds();return this._hrTime[1]=1e6*t+1e3*i+e,this},t.setDateTimeValue=function(e){var e=e.minus(r),t=e.div(i),e=e.mod(i).times(a);return this._hrTime=[n(t.valueOf()),n(e.valueOf())],this},t.setTimeSpanValue=function(e){var t=e.div(i),e=e.mod(i).times(a);return this._hrTime=[n(t.valueOf()),n(e.valueOf())],this},t.setCurrentDataType=function(e){this._currentDataType=e},t.getTime=function(){return(1e6*this._hrTime[0]+this._hrTime[1]/1e3)/1e3},t.getHrTime=function(){return[this._hrTime[0],this._hrTime[1]]},t.getMilliseconds=function(){return Math.floor(this._hrTime[1]/1e6%1e3)},t.getMicroseconds=function(){return Math.floor(this._hrTime[1]/1e3%1e3)},t.getNanoseconds=function(){return Math.floor(this._hrTime[1]%1e3)},t.getDateTimeValue=function(){var e=new Big(this._hrTime[0]);return new Big(this._hrTime[1]).div(a).plus(e.times(i)).plus(r)},t.getTimeSpanValue=function(){var e=new Big(this._hrTime[1]),t=new Big(this._hrTime[0]),e=e.div(a);return t.times(i).plus(e)},t.getCurrentDataType=function(){return this._currentDataType||13},t.toDate=function(){return new Date(this.getTime())},t.valueOf=function(){return this.getTime()},t.toString=function(){return this.toDate().toString()},t.toJSON=function(){return{_value:this._hrTime,_vt:13}},t.toBIG=function(){return(13===this._currentDataType?this.getDateTimeValue():this.getTimeSpanValue()).toString()},s.prototype=t,e.DatePrecise=s}(this)}.call(window)},function(e,t,i){var r;i=[i(1)],void 0!==(t="function"==typeof(r=function(e){var i=e._pathNormalize,a=e._validatePresence,r=e._validateType,t,t=function(){function t(){}var e=t.prototype;var i={};function o(e,t){var i=e.length;while(i--)if(e[i].listener===t)return i;return-1}function r(t){return function e(){return this[t].apply(this,arguments)}}e.getListeners=function e(t){var i=this._getEvents();var r;var a;if(t instanceof RegExp){r={};for(a in i)if(i.hasOwnProperty(a)&&t.test(a))r[a]=i[a]}else r=i[t]||(i[t]=[]);return r};e.flattenListeners=function e(t){var i=[];var r;for(r=0;r<t.length;r+=1)i.push(t[r].listener);return i};e.getListenersAsObject=function e(t){var i=this.getListeners(t);var r;if(i instanceof Array){r={};r[t]=i}return r||i};e.addListener=function e(t,i){var r=this.getListenersAsObject(t);var a=typeof i==="object";var n;for(n in r)if(r.hasOwnProperty(n)&&o(r[n],i)===-1)r[n].push(a?i:{listener:i,once:false});return this};e.on=r("addListener");e.addOnceListener=function e(t,i){return this.addListener(t,{listener:i,once:true})};e.once=r("addOnceListener");e.defineEvent=function e(t){this.getListeners(t);return this};e.defineEvents=function e(t){for(var i=0;i<t.length;i+=1)this.defineEvent(t[i]);return this};e.removeListener=function e(t,i){var r=this.getListenersAsObject(t);var a;var n;for(n in r)if(r.hasOwnProperty(n)){a=o(r[n],i);if(a!==-1)r[n].splice(a,1)}return this};e.off=r("removeListener");e.addListeners=function e(t,i){return this.manipulateListeners(false,t,i)};e.removeListeners=function e(t,i){return this.manipulateListeners(true,t,i)};e.manipulateListeners=function e(t,i,r){var a;var n;var o=t?this.removeListener:this.addListener;var s=t?this.removeListeners:this.addListeners;if(typeof i==="object"&&!(i instanceof RegExp)){for(a in i)if(i.hasOwnProperty(a)&&(n=i[a]))if(typeof n==="function")o.call(this,a,n);else s.call(this,a,n)}else{a=r.length;while(a--)o.call(this,i,r[a])}return this};e.removeEvent=function e(t){var i=typeof t;var r=this._getEvents();var a;if(i==="string")delete r[t];else if(t instanceof RegExp){for(a in r)if(r.hasOwnProperty(a)&&t.test(a))delete r[a]}else delete this._events;return this};e.removeAllListeners=r("removeEvent");e.emitEvent=function e(t,i){var r=this.getListenersAsObject(t);var a;var n;var o;var s;for(o in r)if(r.hasOwnProperty(o)){n=r[o].length;while(n--){a=r[o][n];if(a.once===true)this.removeListener(t,a.listener);s=a.listener.apply(this,i||[]);if(s===this._getOnceReturnValue())this.removeListener(t,a.listener)}}return this};e.trigger=r("emitEvent");e.emit=function e(t){var i=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,i)};e.setOnceReturnValue=function e(t){this._onceReturnValue=t;return this};e._getOnceReturnValue=function e(){if(this.hasOwnProperty("_onceReturnValue"))return this._onceReturnValue;else return true};e._getEvents=function e(){return this._events||(this._events={})};t.noConflict=function e(){i.EventEmitter=originalGlobalValue;return t};return t}(),n=function(e,t){r(e,t,typeof e==="undefined"||typeof e==="function","Function")},o,s,l=new t;
/*!
 * EventEmitter v4.2.7 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */function u(e,t){r(e,t,typeof e==="string"||e instanceof RegExp,"String or RegExp")}function h(i,r){return function(e,t){a(e,"event");u(e,"event");a(t,"listener");n(t,"listener");return r[i].apply(r,arguments)}}function d(e){return h("off",e)}function c(e){return h("on",e)}function p(e){return h("once",e)}function m(){o=e.prototype.get;e.prototype.get=function(e){var t=o.apply(this,arguments);e=i(e,this.attributes).join("/");l.trigger("get",[e,t]);this.ee.trigger("get",[e,t]);return t}}return e.off=d(l),e.on=c(l),e.once=p(l),s=e.prototype.init,e.prototype.init=function(){var e;this.ee=e=new t;this.off=d(e);this.on=c(e);this.once=p(e);s.apply(this,arguments)},(e._eventInit=m)(),e})?r.apply(t,i):r)&&(e.exports=t)},function(e,t,i){var r;i=[i(1)],void 0!==(t="function"==typeof(r=function(e){var r=e._alwaysArray,t=function(i){var e,t;e=function(t){return function(e){e=r(e);return i.get([t].concat(e))}};t=e("supplemental");t.weekData=e("supplemental/weekData");t.weekData.firstDay=function(){return i.get("supplemental/weekData/firstDay/{territory}")||i.get("supplemental/weekData/firstDay/001")};t.weekData.minDays=function(){var e=i.get("supplemental/weekData/minDays/{territory}")||i.get("supplemental/weekData/minDays/001");return parseInt(e,10)};t.timeData=e("supplemental/timeData");t.timeData.allowed=function(){return i.get("supplemental/timeData/{territory}/_allowed")||i.get("supplemental/timeData/001/_allowed")};t.timeData.preferred=function(){return i.get("supplemental/timeData/{territory}/_preferred")||i.get("supplemental/timeData/001/_preferred")};return t},i=e.prototype.init;return e.prototype.init=function(){i.apply(this,arguments);this.supplemental=t(this)},e})?r.apply(t,i):r)&&(e.exports=t)},function(e,t,i){var r;i=[i(1)],void 0!==(t="function"==typeof(r=function(t){var e=t._coreLoad,u=t._jsonMerge,h=t._pathNormalize,d=t._resourceGet,i=t._validatePresence,r=t._validateTypePath,c=function(e,t){var i,r;if(t==="root")return;i=h(["supplemental/parentLocales/parentLocale",t]);r=d(e._resolved,i)||d(e._raw,i);if(r)return r;r=t.substr(0,t.lastIndexOf(e.localeSep));if(!r)return"root";return r},p=function(e,t,i){var r,a=e,n=t.length;for(r=0;r<n-1;r++){if(!a[t[r]])a[t[r]]={};a=a[t[r]]}a[t[r]]=i},a=function(){var l;l=function(e,t,i,r,a){var n,o,s;if(typeof t==="undefined"||t===a)return;n=h(i,r);s=d(e._resolved,n);if(s!==undefined&&typeof s!=="object")return s;s=d(e._raw,n);if(s===undefined){o=c(e,t);s=l(e,o,i,u(r,{bundle:o}),t)}if(s!==undefined)p(e._resolved,n,s);return s};return l}();if(t._raw={},t.load=function(){t._raw=e(t,t._raw,arguments)},t.prototype.get=function(e){i(e,"path");r(e,"path");return a(t,this.attributes&&this.attributes.bundle||"",e,this.attributes)},t._eventInit)t._eventInit();return t})?r.apply(t,i):r)&&(e.exports=t)},function(e,t,i){var r;
/*!
 * Globalize v1.4.3 2020-03-19T12:34Z Released under the MIT license
 * http://git.io/TrdQbw
 */
r=function(F,e){function v(e,t){i(e,t,void 0===e||"number"==typeof e,"Number")}function n(e,t){i(e,t,void 0===e||"string"==typeof e,"a string")}function o(e,t,i){var r;return 0===e?e:(r=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),i(e,{exponent:r-=t}))}function h(b,C){return function(e){return _(e,"value"),v(e,"value"),e=e,i=C,(t=b)[1],s=t[2],l=t[3],u=t[4],h=t[5],d=t[6],c=t[7],p=t[8],m=t[9],g=t[15],T=t[16],f=t[17],y=t[18],D=t[19],S=t[20],isNaN(e)?f:(f=e<0?(o=t[12],r=t[13],t[14]):(o=t[11],r=t[0],t[10]),isFinite(e)?(-1!==o.indexOf("%")?e*=100:-1!==o.indexOf("")&&(e*=1e3),S&&(n=Math.abs(Math.floor(e)).toString().length-1,"0"===(a=3<=(n=Math.min(n,S.maxExponent))?S[n]&&S[n].other:a)?a=null:a&&(t=a.split("0").length-1,e/=Math.pow(10,n-(t-1)))),e=isNaN(h*d)?w(e,s,l,u,g,c):V(e,h,d,g),S&&a&&(o=i?i(+e):"other",r+=(t=(a=S[n][o]||a).match(P))[1],f=t[3]+f),e=e.replace(/^-/,""),(r+(e=p?A(e,p,m):e)+f).replace(/('([^']|'')+'|'')|./g,function(e,t){return t?E(t):(e=e.replace(/[.,\-+E%\u2030]/,function(e){return y[e]}),D?e.replace(/[0-9]/,function(e){return D[+e]}):e)})):r+T+f);var t,i,r,a,n,o,s,l,u,h,d,c,p,m,g,T,f,y,D,S}}function d(e){var t=I(e);if("latn"!==t){if("numeric"!==(e=e.supplemental(["numberingSystems",t]))._type)throw C("`"+e._type+"` numbering system");return e._digits}}function c(e){var t,i,r,a,n,o,s,l,u,h,d,c,p,m;if(!(e=e.match(x)))throw new Error("Invalid pattern: "+e);if(l=e[1],s=e[4],t=e[5],p=e[9],d=e[10],m=e[11],p?p.replace(/(@+)(#*)/,function(e,t,i){o=t.length,r=o+i.length}):(p=e[8],e=e[7],i=p?(p.replace(/[0-9]+/,function(e){a=e}),a=a?(h=+("0."+a),a.length):0,p.length-1):a=0,e.replace(/0+$/,function(e){n=e.length})),d)throw C({feature:"scientific notation (not implemented)"});if(s)throw C({feature:"padding (not implemented)"});return-1!==(p=t.lastIndexOf(","))&&(u=t.split(".")[0].length-p-1,-1!==(e=t.lastIndexOf(",",p-1)))&&(c=p-1-e),[l,s,n,a,i,o,r,h,u,c,m]}function D(e,t,i){var r,a,n,o,s,l,u;function h(e,t){e in i&&(n[t]=i[e])}return i=i||{},s=(e=e.split(";"))[0],e=e[1]||"-"+s,r=(e=c(e))[0],e=e[10],o="truncate"===(o=(o=i.round)||"round")?L:Math[o],(a=function(e,t){var i,r;if(e=+e,isNaN(e))return NaN;if("object"==typeof t&&t.exponent){if(r=1,0===(i=+t.exponent))return o(e);if("number"!=typeof i||i%1!=0)return NaN}else{if(1===(r=+t||1))return o(e);if(isNaN(r))return NaN;i=+(r=r.toExponential().split("e"))[1],r=+r[0]}return(e=e.toString().split("e"))[0]=+e[0]/r,e[1]=e[1]?+e[1]-i:-i,(e=(e=o(+(e[0]+"e"+e[1]))).toString().split("e"))[0]=+e[0]*r,e[1]=e[1]?+e[1]+i:i,+(e[0]+"e"+e[1])}).generatorString=function(){return"numberRound("+(i.round?'"'+i.round+'"':"")+")"},n=c(s).concat([s,r+s+e,r,e,a,R("infinity",t),R("nan",t),function(e){var t,i={};for(t in B)i[t]=R(B[t],e);return i}(t),d(t)]),i.compact&&(n[2]=1,n[3]=0,n[4]=0,n[5]=n[6]=void 0,n[20]=(s=i.compact,l=0,u=t.main(["numbers/decimalFormats-numberSystem-"+I(t),s,"decimalFormat"]),(u=Object.keys(u).reduce(function(e,t){var i=t.split("0").length-1,r=t.split("-")[2];return e[i]=e[i]||{},e[i][r]=u[t],l=Math.max(i,l),e},{})).maxExponent=l,u)),h("minimumIntegerDigits",2),h("minimumFractionDigits",3),h("maximumFractionDigits",4),h("minimumSignificantDigits",5),h("maximumSignificantDigits",6),!1===i.useGrouping&&(n[8]=null),"minimumFractionDigits"in i&&!("maximumFractionDigits"in i)?n[4]=Math.max(n[3],n[4]):!("minimumFractionDigits"in i)&&"maximumFractionDigits"in i&&(n[3]=Math.min(n[3],n[4])),n}function s(e,t){var i,r,a,n,o,s,l,u,h;return i=[["nan"],["prefix","infinity","suffix"],["prefix","number","suffix"],["negativePrefix","infinity","negativeSuffix"],["negativePrefix","number","negativeSuffix"]],a=t[0],r=t[1]||{},u=t[2],e=M(e),h=e,!i.some(function(e){var i=h;return e.every(function(e){var t;return null!==i.match(u[e])&&(i=i.replace(u[e],(t=e,function(e){switch(e=e.split("").map(function(e){return a[e]||r[e]||e}).join(""),t){case"infinity":o=1/0;break;case"nan":o=NaN;break;case"number":e=e.replace(/,/g,""),o=+e;break;case"prefix":case"negativePrefix":s=e;break;case"suffix":l=e;break;case"negativeSuffix":l=e,n=!0;break;default:throw new Error("Internal error")}return""})),!0)})&&!i.length})||isNaN(o)?NaN:(-1!==(t=""+s+l).indexOf("%")?o/=100:-1!==t.indexOf("")&&(o/=1e3),n&&(o*=-1),o)}function S(t,i){return Object.keys(t).map(function(e){return i([e,t[e]])}).reduce(function(e,t){return e[t[0]]=t[1],e},{})}function l(e,t,i){var r,a,e=D(e,t,i),i=M(e[0]),n=e[4],o=e[5],s=e[6],l=e[8],u=e[9],h=M(e[10]),d=M(e[13]),c=M(e[14]),p=M(e[16]),m=M(e[17]),g=S(e[18],function(e){return[e[0],M(e[1])]}),e=e[19],t=S(function(e){var t,i={};for(t in B)i[R(B[t],e)]=t;return i}(t),function(e){return[M(e[0]),e[1]]}),T=e?"["+e+"]":"\\d",f=b(g[","]),y=b(g["."]);return e&&(r=e.split("").reduce(function(e,t,i){return e[t]=String(i),e},{})),i=(e=[i,h,d,c].map(function(e){return e.replace(/('([^']|'')+'|'')|./g,function(e,t){return t?E(t):e.replace(/[\-+E%\u2030]/,function(e){return g[e]})})}))[0],h=e[1],d=e[2],c=e[3],a=T+"+",l&&(a="("+(e=u?T+"{1,"+u+"}(("+f+T+"{"+u+"})*("+f+T+"{"+l+"}))":T+"{1,"+l+"}("+f+T+"{"+l+"})+")+"|"+a+")"),isNaN(o*s)&&!n||(a="("+(a=a+"("+(e=y+T+"+")+"|"+y+")?|("+a+")?"+e)+")"),[t,r,{infinity:new RegExp("^"+b(p)),nan:new RegExp("^"+b(m)),negativePrefix:new RegExp("^"+b(d)),negativeSuffix:new RegExp("^"+b(c)),number:new RegExp("^"+a),prefix:new RegExp("^"+b(i)),suffix:new RegExp("^"+b(h))}]}function p(e,t){if("decimal"!==e&&"percent"!==e)throw new Error("Invalid style");return t.main(["numbers",e+"Formats-numberSystem-"+I(t),"standard"])}var t=e._createError,b=e._regexpEscape,m=e._runtimeBind,u=e._stringPad,g=e._validateCldr,T=e._validateDefaultLocale,_=e._validateParameterPresence,f=e._validateParameterRange,i=e._validateParameterType,y=e._validateParameterTypePlainObject,C=function(e){return t("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})},P=/^([^0]*)(0+)([^0]*)$/,A=function(e,t,i){for(var r=t,a="",n=!!i,o=(e=String(e).split("."))[0].length;r<o;)a=e[0].slice(o-r,o)+(a.length?",":"")+a,o-=r,n&&(r=i,n=!1);return e[0]=e[0].slice(0,o)+(a.length?",":"")+a,e.join(".")},w=function(e,t,i,r,a,n){return e=r?a(e,n||{exponent:-r}):a(e),e=String(e),r&&/e-/.test(e)&&(e=(+e).toFixed(r).replace(/0+$/,"").replace(/\.$/,"")),i&&((e=e.split("."))[1]=u(e[1]||"",i,!0),e=e.join(".")),t&&((e=e.split("."))[0]=u(e[0],t),e=e.join(".")),e},V=function(e,t,i,r){var a;if(i<t&&(i=t),e=(+(e=+(a=o(e,t,r))==+(i=o(e,i,r))?a:i)).toString(10),/e/.test(e))throw C({feature:"integers out of (1e21, 1e-7)"});return 0<t-e.replace(/^0+|\./g,"").length&&((e=e.split("."))[1]=u(e[1]||"",t-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e},x=/^(('([^']|'')*'|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,E=function(e){return e[0]+e[e.length-1]!=="''"?e:"''"===e?"'":e.replace(/''/g,"'").slice(1,-1)},I=function(e){var t=e.attributes["u-nu"];return t?-1!==["native","traditional","finance"].indexOf(t="traditio"===t?"traditional":t)?e.main(["numbers/otherNumberingSystems",t]):t:e.main("numbers/defaultNumberingSystem")},R=function(e,t){return t.main(["numbers/symbols-numberSystem-"+I(t),e])},B={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","":"perMille"},L=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},r=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/g,a=/[\-\u058A\u05BE\u1400\u1806\u2010-\u2015\u2E17\u2E1A\u2E3A\u2E3B\u2E40\u301C\u3030\u30A0\uFE31\uFE32\uFE58\uFE63\uFF0D\u2212]/g,H=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g,M=function(e){return e.replace(r,"").replace(a,"-").replace(H," ")};return e.numberFormatter=e.prototype.numberFormatter=function(e){var t,i,r,a;y(e,"options"),i=this.cldr,t=[e=e||{}],T(i),i.on("get",g);try{u=e.raw||p(e.style||"decimal",i),r=[a=D(u,i,e)]}finally{i.off("get",g)}var n=(u=a)[2],o=u[3],s=u[4],l=u[5],u=u[6];if(isNaN(l*u)){if(!isNaN(l)||!isNaN(u))throw new Error("Neither or both the minimum and maximum significant digits must be present");f(n,"minimumIntegerDigits",1,21),f(o,"minimumFractionDigits",0,20),f(s,"maximumFractionDigits",o,20)}else f(l,"minimumSignificantDigits",1,21),f(u,"maximumSignificantDigits",l,21);return e.compact&&r.push(this.pluralGenerator()),n=h.apply(null,r),m(t,i,n,r),n},e.numberParser=e.prototype.numberParser=function(e){var t,i,r,a;if(y(e,"options"),i=this.cldr,t=[e=e||{}],T(i),e.compact)throw C({feature:"compact number parsing (not implemented)"});return i.on("get",g),r=e.raw||p(e.style||"decimal",i),r=l(r,i,e),i.off("get",g),m(t,i,e=function(e){return _(e,"value"),n(e,"value"),s(e,a)},[a=r]),e},e.formatNumber=e.prototype.formatNumber=function(e,t){return _(e,"value"),v(e,"value"),this.numberFormatter(t)(e)},e.parseNumber=e.prototype.parseNumber=function(e,t){return _(e,"value"),n(e,"value"),this.numberParser(t)(e)},e._createErrorUnsupportedFeature=C,e._numberNumberingSystem=I,e._numberNumberingSystemDigitsMap=d,e._numberPattern=p,e._numberSymbol=R,e._looseMatching=M,e._removeLiteralQuotes=E,e._stringPad=u,e._validateParameterTypeNumber=v,e._validateParameterTypeString=n,e},e.exports=r(i(3),i(0))},function(e,t,i){var r;
/*!
 * Globalize v1.4.3 2020-03-19T12:34Z Released under the MIT license
 * http://git.io/TrdQbw
 */
r=function(u,e){function r(e,t){k(e,t,void 0===e||e instanceof Date,"Date")}function t(i,r){return r=r||function(e,t,i){return e[i]=t,e},Object.keys(i).reduce(function(e,t){return r(e,t,i[t])},{})}function c(e){return G[e]||e}function d(e,t){for(var i="",r=0;r<t;r++)i+=e;return i}var p=e._createError,D=e._createErrorUnsupportedFeature,S=e._formatMessage,O=e._isPlainObject,b=e._looseMatching,N=e._numberNumberingSystemDigitsMap,C=e._numberSymbol,v=e._regexpEscape,f=e._removeLiteralQuotes,_=e._runtimeBind,g=e._stringPad,a=e._validate,h=e._validateCldr,P=e._validateDefaultLocale,n=e._validateParameterPresence,k=e._validateParameterType,A=e._validateParameterTypePlainObject,w=e._validateParameterTypeString,W="GyYuUrQqMLlwWEecdDFghHKkmsSAzZOvVXx".split("").reduce(function(e,t,i){return e[t]=i,e},{}),G=t({e:"eEc",L:"ML"},function(t,i,e){return e.split("").forEach(function(e){t[e]=i}),t}),V=/([a-z])\1*|'([^']|'')+'|''|./gi;function U(e,t){var i,r,a,n="dates/calendars/gregorian/dateTimeFormats/availableFormats",o=j,s=Y,l=e.main([n,t]);if(t&&!l){for(a in r=[],i=e.main([n]))r.push({skeleton:a,pattern:i[a],rate:s(t,a)});(r=r.filter(function(e){return-1<e.rate}).sort(function(e,t){return e.rate-t.rate})).length&&(n=C("decimal",e),l=o(t,r[0].pattern,n))}return l}function x(e,r){var t,i,a,n,o,s,l,u,h=U;function d(e,t,i){return S(r.main(["dates/calendars/gregorian/dateTimeFormats",e]),[i,t])}switch(!0){case"skeleton"in e:i=(i=e.skeleton).replace(/j/g,function(){return r.supplemental.timeData.preferred()}),u=W,(s=i).replace(/[^GyYuUrQqMLlwWEecdDFghHKkmsSAzZOvVXx]/,function(e){throw p("E_INVALID_OPTIONS","Invalid field `{invalidField}` of skeleton `{value}`",{invalidField:e,type:"skeleton",value:s})}),s.split("").every(function(e){if(u[e]<l)throw p("E_INVALID_OPTIONS","Invalid order `{invalidField}` of skeleton `{value}`",{invalidField:e,type:"skeleton",value:s});return l=u[e],!0}),(t=h(r,i))||(a=i.split(/[^hHKkmsSAzZOvVXx]/).slice(-1)[0],i=i.split(/[^GyYuUrQqMLlwWdDFgEec]/)[0],i=h(r,i),a=h(r,a),n=/(MMMM|LLLL).*[Ec]/.test(i)?"full":/MMMM|LLLL/.test(i)?"long":/MMM|LLL/.test(i)?"medium":"short",t=i&&a?d(n,i,a):i||a);break;case"date"in e:case"time"in e:t=r.main(["dates/calendars/gregorian","date"in e?"dateFormats":"timeFormats",e.date||e.time]);break;case"datetime"in e:t=d(e.datetime,r.main(["dates/calendars/gregorian/dateFormats",e.datetime]),r.main(["dates/calendars/gregorian/timeFormats",e.datetime]));break;case"raw"in e:t=e.raw;break;default:throw p("E_INVALID_PAR_VALUE","Invalid `{name}` value ({value}).",{name:{name:"options",value:e},value:o})}return t}function T(e){return X.indexOf(e.supplemental.weekData.firstDay())}function E(e,t,i,r){if(i)return r.main(["dates/timeZoneNames/zone",i,e<4?"short":"long",t])||(i=r.supplemental(["metaZones/metazoneInfo/timezone",i,0,"usesMetazone/_mzone"]),r.main(["dates/timeZoneNames/metazone",i,e<4?"short":"long",t]))}function I(e){return e.split(";").map(function(e){return e.slice(0,e.indexOf("H")+1)}).join(";")}function R(e,t){return e.split(";").map(function(e){e=e.split(/H+/);return e.splice(1,0,t),e.join("")}).join(";")}function z(e,t){function i(){return t}return i.dataCacheKey=e,i}var j=function(e,t,i){var r=e.match(/S/g),r=r?r.length:0;return t=-1!==(e=(t=function(e,t){for(var i,r,a,n,o,s=c,l=e.match(V),u=t.match(V),h=0;h<u.length;h++)for(r=u[h].charAt(0),a=u[h].length,i=0;i<l.length;i++)n=l[i].charAt(0),o=l[i].length,s(r)===s(n)&&a<o&&(u[h]=d(r,o));return u.join("")}(e.replace(/S/g,""),t)).lastIndexOf("s"))&&0!==r?t.slice(0,e+1)+i+d("S",r)+t.slice(e+1):t},Y=function(e,t){var i,r,a,n,o,s,l,u,h,d=c;if(e===t)return 0;if(e=e.match(V),t=t.match(V),e.length!==t.length)return-1;for(a=1,u=0;u<e.length;u++){for(s=d(i=e[u].charAt(0)),l=null,h=0;h<t.length&&s!==(l=d(r=t[h].charAt(0)));h++)l=null;if(null===l)return-1;n=e[u].length,o=t[h].length,a+=Math.abs(n-o),i!==r&&(a+=1),(n<3&&3<=o||3<=n&&o<3)&&(a+=20)}return a},X=["sun","mon","tue","wed","thu","fri","sat"],y=(s.prototype.clone=function(){return new s(this.original,this.timeZoneData)},["getFullYear","getMonth","getDate","getDay","getHours","getMinutes","getSeconds","getMilliseconds"].forEach(function(e){var t="getUTC"+e.substr(3);s.prototype[e]=function(){return this.local[t]()}}),s.prototype.valueOf=s.prototype.getTime=function(){return this.local.getTime()+60*this.getTimezoneOffset()*1e3},s.prototype.getTimezoneOffset=function(){var e=o(this.original,this.timeZoneData.untils);return this.timeZoneData.offsets[e]},["setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","setMilliseconds"].forEach(function(e){var i="setUTC"+e.substr(3);s.prototype[e]=function(e){var t=this.local;return this.setWrap(function(){return t[i](e)})}}),s.prototype.setTime=function(e){return this.local.setTime(e)},s.prototype.isDST=function(){var e=o(this.original,this.timeZoneData.untils);return Boolean(this.timeZoneData.isdsts[e])},s.prototype.inspect=function(){var e=o(this.original,this.timeZoneData.untils),t=this.timeZoneData.abbrs;return this.local.toISOString().replace(/Z$/,"")+" "+(t&&t[e]+" "||-1*this.getTimezoneOffset()+" ")+(this.isDST()?"(daylight savings)":"")},s.prototype.toDate=function(){return new Date(this.getTime())},["toISOString","toJSON","toUTCString"].forEach(function(e){s.prototype[e]=function(){return this.toDate()[e]()}}),s);function i(e,t,i){Object.defineProperty(e,t,{value:i})}function o(e,t){for(var i=0,r=e.getTime();i<t.length-1&&r>=t[i];)i++;return i}function q(e){var t=this.getTimezoneOffset(),e=e(),i=(this.original.setTime(new Date(this.getTime())),this.getTimezoneOffset());return i-t&&this.original.setMinutes(this.original.getMinutes()+i-t),e}function s(e,t){if(i(this,"original",new Date(e.getTime())),i(this,"local",new Date(e.getTime())),i(this,"timeZoneData",t),i(this,"setWrap",q),!(t.untils&&t.offsets&&t.isdsts))throw new Error("Invalid IANA data");this.setTime(this.local.getTime()-60*this.getTimezoneOffset()*1e3)}function K(d,c,p){var e,m=[],g=["abbreviated","wide","narrow"],T=p.digitsRe;return d=b(d),e=p.pattern.match(V).every(function(e){var t,i,r,a,n={};function o(e,t){var i,r,e=d.match(e);return t=t||function(e){return+e},e&&(r=e[1],e.length<6?n.value=60*t(e[i=r?1:3]):e.length<10?n.value=60*t(e[(i=r?[1,3]:[5,7])[0]])+t(e[i[1]]):n.value=60*t(e[(i=r?[1,3,5]:[7,9,11])[0]])+t(e[i[1]])+t(e[i[2]])/60,r&&(n.value*=-1),1)}function s(){return 1===i&&(r=!0,a=T)}function l(){return(1===i||2===i)&&(r=!0,a=new RegExp("^("+T.source+"){1,2}"))}function u(){return 2===i&&(r=!0,a=new RegExp("^("+T.source+"){2}"))}function h(e){e=p[e.join("/")];e&&e.some(function(e){if(e[1].test(d))return n.value=e[0],a=e[1],!0})}switch(t=(n.type=e).charAt(0),i=e.length,"Z"===t&&(i=i<4?(t="x",4):i<5?(t="O",4):(t="X",5)),"z"===t&&p.standardOrDaylightTzName&&(n.value=null,a=p.standardOrDaylightTzName),"v"===t&&(p.genericTzName?(n.value=null,a=p.genericTzName):(t="V",i=4)),"V"===t&&p.timeZoneName&&(n.value=2===i?p.timeZoneName:null,a=p.timeZoneNameRe),t){case"G":h(["gregorian/eras",i<=3?"eraAbbr":4===i?"eraNames":"eraNarrow"]);break;case"y":case"Y":r=!0,a=1===i?new RegExp("^("+T.source+")+"):2===i?new RegExp("^("+T.source+"){1,2}"):new RegExp("^("+T.source+"){"+i+",}");break;case"Q":case"q":s()||u()||h(["gregorian/quarters","Q"===t?"format":"stand-alone",g[i-3]]);break;case"M":case"L":l()||h(["gregorian/months","M"===t?"format":"stand-alone",g[i-3]]);break;case"D":i<=3&&(r=!0,a=new RegExp("^("+T.source+"){"+i+",3}"));break;case"W":case"F":s();break;case"e":case"c":if(i<=2){s()||u();break}case"E":6===i?(h(["gregorian/days",["c"===t?"stand-alone":"format"],"short"]),h(["gregorian/days",["c"===t?"stand-alone":"format"],"abbreviated"])):h(["gregorian/days",["c"===t?"stand-alone":"format"],g[i<3?0:i-3]]);break;case"a":h(["gregorian/dayPeriods/format/wide"]);break;case"w":1===i&&(r=!0,a=new RegExp("^("+T.source+"){1,2}"))||u();break;case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":l();break;case"S":r=!0,a=new RegExp("^("+T.source+"){"+i+"}");break;case"A":r=!0,a=new RegExp("^("+T.source+"){"+(i+5)+"}");break;case"v":case"V":case"z":if(a&&a.test(d))break;if("V"===t&&2===i)break;case"O":if(d===p["timeZoneNames/gmtZeroFormat"])n.value=0,a=p["timeZoneNames/gmtZeroFormatRe"];else if(!p["timeZoneNames/hourFormat"].some(function(e){if(o(e,c))return a=e,!0}))return null;break;case"X":if("Z"===d){n.value=0,a=/^Z/;break}case"x":if(p.x.some(function(e){if(o(e))return a=e,!0}))break;return null;case"'":n.type="literal",a=new RegExp("^"+v(f(e)));break;default:n.type="literal",a=new RegExp("^"+v(e))}return!!a&&(d=d.replace(a,function(e){return n.lexeme=e,r&&(n.value=c(e)),""}),!!n.lexeme)&&!(r&&isNaN(n.value)||(m.push(n),0))}),(e=""!==d?!1:e)?m:[]}function Z(t,i,r){return function(e){return n(e,"value"),w(e,"value"),function(e,a){var n,o,s,l,u,h,d,c,p=new Date,m=[];if(a.timeZoneData&&(p=new y(p,a.timeZoneData())),!e.length)return null;if(!e.every(function(e){var t,i,r;if("literal"!==e.type)switch(t=e.type.charAt(0),r=e.type.length,t="j"===t?a.preferredTimeData:t){case"G":m.push(0),u=+e.value;break;case"y":if(i=e.value,2===r){if(L(i,0,99))return!1;(i+=100*Math.floor(p.getFullYear()/100))>p.getFullYear()+20&&(i-=100)}p.setFullYear(i),m.push(0);break;case"Y":throw D({feature:"year pattern `"+t+"`"});case"Q":case"q":break;case"M":case"L":if(i=r<=2?e.value:+e.value,L(i,1,12))return!1;l=i,m.push(1);break;case"w":case"W":break;case"d":o=e.value,m.push(2);break;case"D":s=e.value,m.push(2);break;case"F":break;case"e":case"c":case"E":break;case"a":n=e.value;break;case"h":if(i=e.value,L(i,1,12))return!1;h=d=!0,p.setHours(12===i?0:i),m.push(3);break;case"K":if(i=e.value,L(i,0,11))return!1;h=d=!0,p.setHours(i),m.push(3);break;case"k":if(i=e.value,L(i,1,24))return!1;h=!0,p.setHours(24===i?0:i),m.push(3);break;case"H":if(i=e.value,L(i,0,23))return!1;h=!0,p.setHours(i),m.push(3);break;case"m":if(i=e.value,L(i,0,59))return!1;p.setMinutes(i),m.push(4);break;case"s":if(i=e.value,L(i,0,59))return!1;p.setSeconds(i),m.push(5);break;case"A":p.setHours(0),p.setMinutes(0),p.setSeconds(0);case"S":i=Math.round(e.value*Math.pow(10,3-r)),p.setMilliseconds(i),m.push(6);break;case"z":case"Z":case"O":case"v":case"V":case"X":case"x":"number"==typeof e.value&&(c=e.value)}return!0}))return null;if(h&&!(!n^d))return null;if(0===u&&p.setFullYear(-1*p.getFullYear()+1),void 0!==l&&ee(p,l-1),void 0!==o){if(L(o,1,$(p)))return null;p.setDate(o)}else if(void 0!==s){if(L(s,1,J(p.getFullYear())?366:365))return null;p.setMonth(0),p.setDate(s)}return d&&"pm"===n&&p.setHours(p.getHours()+12),void 0!==c&&p.setMinutes(p.getMinutes()+c-p.getTimezoneOffset()),m=Math.max.apply(null,m),p=(p=B(p,["year","month","day","hour","minute","second","milliseconds"][m]))instanceof y?p.toDate():p}(K(e,t,r),i)||null}}function Q(t,i){return function(e){return n(e,"value"),r(e,"value"),o=e,s=t,u=[],h=(l=i).timeSeparator,l.timeZoneData&&(o=new y(o,l.timeZoneData())),l.pattern.replace(V,function(e){var t,i,r,a=e.charAt(0),n=e.length;switch("Z"===(a="j"===a?l.preferredTime:a)&&(n=n<4?(a="x",4):n<5?(a="O",4):(a="X",5)),"z"!==a||(r=o.isDST?o.isDST()?l.daylightTzName:l.standardTzName:r)||(a="O",n<4&&(n=1)),a){case"G":r=l.eras[o.getFullYear()<0?0:1];break;case"y":r=o.getFullYear(),2===n&&(r=+(r=String(r)).substr(r.length-2));break;case"Y":(r=new Date(o.getTime())).setDate(r.getDate()+7-m(o,l.firstDay)-l.firstDay-l.minDays),r=r.getFullYear(),2===n&&(r=+(r=String(r)).substr(r.length-2));break;case"Q":case"q":r=Math.ceil((o.getMonth()+1)/3),2<n&&(r=l.quarters[a][n][r]);break;case"M":case"L":r=o.getMonth()+1,2<n&&(r=l.months[a][n][r]);break;case"w":r=m(B(o,"year"),l.firstDay),r=Math.ceil((te(o)+r)/7)-(7-r>=l.minDays?0:1);break;case"W":r=m(B(o,"month"),l.firstDay),r=Math.ceil((o.getDate()+r)/7)-(7-r>=l.minDays?0:1);break;case"d":r=o.getDate();break;case"D":r=te(o)+1;break;case"F":r=Math.floor(o.getDate()/7)+1;break;case"e":case"c":if(n<=2){r=m(o,l.firstDay)+1;break}case"E":r=X[o.getDay()],r=l.days[a][n][r];break;case"a":r=l.dayPeriods[o.getHours()<12?"am":"pm"];break;case"h":r=o.getHours()%12||12;break;case"H":r=o.getHours();break;case"K":r=o.getHours()%12;break;case"k":r=o.getHours()||24;break;case"m":r=o.getMinutes();break;case"s":r=o.getSeconds();break;case"S":r=Math.round(o.getMilliseconds()*Math.pow(10,n-3));break;case"A":r=Math.round(re(o)*Math.pow(10,n-3));break;case"z":break;case"v":if(l.genericTzName){r=l.genericTzName;break}case"V":if(l.timeZoneName){r=l.timeZoneName;break}"v"===e&&(n=1);case"O":r=0===o.getTimezoneOffset()?l.gmtZeroFormat:(t=n<4?(t=o.getTimezoneOffset(),l.hourFormat[t%60-t%1==0?0:1]):l.hourFormat,r=ae(o,t,h,s),l.gmtFormat.replace(/\{0\}/,r));break;case"X":if(0===o.getTimezoneOffset()){r="Z";break}case"x":t=o.getTimezoneOffset(),1===n&&t%60-t%1!=0&&(n+=1),4!==n&&5!==n||t%1!=0||(n-=2),r=ae(o,r=["+HH;-HH","+HHmm;-HHmm","+HH:mm;-HH:mm","+HHmmss;-HHmmss","+HH:mm:ss;-HH:mm:ss"][n-1],":");break;case":":r=h;break;case"'":r=f(e);break;default:r=e}"number"==typeof r&&(r=s[n](r)),"literal"===(i=ie[a]||"literal")&&u.length&&"literal"===u[u.length-1].type?u[u.length-1].value+=r:u.push({type:i,value:r})}),u;var o,s,l,u,h}}var J=function(e){return 1===new Date(e,1,29).getMonth()},$=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},B=function(e,t){switch(e=e instanceof y?e.clone():new Date(e.getTime()),t){case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0)}return e},ee=function(e,t){var i=e.getDate();e.setDate(1),e.setMonth(t),t=e,e=i,i=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),t.setDate(e<1?1:e<i?e:i)},L=function(e,t,i){return e<t||i<e},m=function(e,t){return(e.getDay()-t+7)%7},te=function(e){return Math.floor((t=B(e,"year"),(e.getTime()-t.getTime())/864e5));var t},ie=t({era:"G",year:"yY",quarter:"qQ",month:"ML",week:"wW",day:"dDF",weekday:"ecE",dayperiod:"a",hour:"hHkK",minute:"m",second:"sSA",zone:"zvVOxX"},function(t,i,e){return e.split("").forEach(function(e){t[e]=i}),t}),re=function(e){return e-B(e,"day")},ae=function(e,t,i,r){var e=e.getTimezoneOffset(),a=Math.abs(e);return r=r||{1:function(e){return g(e,1)},2:function(e){return g(e,2)}},t.split(";")[0<e?1:0].replace(":",i).replace(/HH?/,function(e){return r[e.length](Math.floor(a/60))}).replace(/mm/,function(){return r[2](Math.floor(a%60))}).replace(/ss/,function(){return r[2](Math.floor(a%1*60))})};function M(e){return void 0!==e.skeleton||void 0!==e.date||void 0!==e.time||void 0!==e.datetime||void 0!==e.raw}function F(e,t){h(e,t,{skip:[/dates\/calendars\/gregorian\/dateTimeFormats\/availableFormats/,/dates\/calendars\/gregorian\/days\/.*\/short/,/dates\/timeZoneNames\/zone/,/dates\/timeZoneNames\/metazone/,/globalize-iana/,/supplemental\/metaZones/,/supplemental\/timeData\/(?!001)/,/supplemental\/weekData\/(?!001)/]})}function ne(e){l("date",e),l("time",e),l("datetime",e)}function l(e,t){t=t[e];a("E_INVALID_OPTIONS",'Invalid `{{type}: "{value}"}`.',void 0===t||-1!==["short","medium","long","full"].indexOf(t),{type:e,value:t})}function oe(e,t){a("E_INVALID_OPTIONS",'Invalid `{skeleton: "{value}"}` based on provided CLDR.',void 0===t||"string"==typeof e&&e,{type:"skeleton",value:t})}function H(i){return function(e,t){/globalize-iana/.test(e)&&a("E_MISSING_IANA_TZ","Missing required IANA timezone content for `{timeZone}`: `{path}`.",t,{path:e.replace(/globalize-iana\//,""),timeZone:i})}}return e.loadTimeZone=function(e){var t={"globalize-iana":e};n(e,"json"),A(e,"json"),u.load(t)},e.dateFormatter=e.prototype.dateFormatter=function(e){var t,i;return A(e,"options"),M(e=e||{})||(e.skeleton="yMd"),t=[e],e=this.dateToPartsFormatter(e),i=e,_(t,this.cldr,t=function(e){return i(e).map(function(e){return e.value}).join("")},[e]),t},e.dateToPartsFormatter=e.prototype.dateToPartsFormatter=function(e){var t,i,r,a,n,o,s,l,u,h,d,c,p;A(e,"options"),i=this.cldr,M(e=e||{})||(e.skeleton="yMd"),ne(e),P(i),s=e.timeZone,w(s,"options.timeZone"),t=[e],i.on("get",F),s&&(l=H(s),i.on("get",l));try{oe(n=x(e,i),e.skeleton),d=s,c={numberFormatters:{},pattern:u=n,timeSeparator:C("timeSeparator",h=i)},p=["abbreviated","wide","narrow"],d&&(c.timeZoneData=z("iana/"+d,{offsets:h.get(["globalize-iana/zoneData",d,"offsets"]),untils:h.get(["globalize-iana/zoneData",d,"untils"]),isdsts:h.get(["globalize-iana/zoneData",d,"isdsts"])})),u.replace(V,function(e){var t,i,r,a,n=e.charAt(0),o=e.length;switch("j"===n&&(c.preferredTime=n=h.supplemental.timeData.preferred()),"Z"===n&&4===o&&(n="O",o=4),"z"===n&&(a=E(o,"standard",d,h),t=E(o,"daylight",d,h),a&&(c.standardTzName=a),t&&(c.daylightTzName=t),a&&t||(n="O",o<4&&(o=1))),"v"!==n||(r=E(o,"generic",d,h))||(n="V",o=4),n){case"G":c.eras=h.main(["dates/calendars/gregorian/eras",o<=3?"eraAbbr":4===o?"eraNames":"eraNarrow"]);break;case"y":i=!0;break;case"Y":c.firstDay=T(h),c.minDays=h.supplemental.weekData.minDays(),i=!0;break;case"u":case"U":throw D({feature:"year pattern `"+n+"`"});case"Q":case"q":2<o?(c.quarters||(c.quarters={}),c.quarters[n]||(c.quarters[n]={}),c.quarters[n][o]=h.main(["dates/calendars/gregorian/quarters","Q"===n?"format":"stand-alone",p[o-3]])):i=!0;break;case"M":case"L":2<o?(c.months||(c.months={}),c.months[n]||(c.months[n]={}),c.months[n][o]=h.main(["dates/calendars/gregorian/months","M"===n?"format":"stand-alone",p[o-3]])):i=!0;break;case"w":case"W":c.firstDay=T(h),c.minDays=h.supplemental.weekData.minDays(),i=!0;break;case"d":case"D":case"F":i=!0;break;case"g":throw D({feature:"Julian day pattern `g`"});case"e":case"c":if(o<=2){c.firstDay=T(h),i=!0;break}case"E":c.days||(c.days={}),c.days[n]||(c.days[n]={}),c.days[n][o]=6===o?h.main(["dates/calendars/gregorian/days","c"===n?"stand-alone":"format","short"])||h.main(["dates/calendars/gregorian/days","c"===n?"stand-alone":"format","abbreviated"]):h.main(["dates/calendars/gregorian/days","c"===n?"stand-alone":"format",p[o<3?0:o-3]]);break;case"a":c.dayPeriods={am:h.main("dates/calendars/gregorian/dayPeriods/format/wide/am"),pm:h.main("dates/calendars/gregorian/dayPeriods/format/wide/pm")};break;case"h":case"H":case"K":case"k":case"m":case"s":case"S":case"A":i=!0;break;case"v":if(1!==o&&4!==o)throw D({feature:"timezone pattern `"+u+"`"});c.genericTzName=r;break;case"V":if(1===o)throw D({feature:"timezone pattern `"+u+"`"});if(d){if(2===o){c.timeZoneName=d;break}var s,l=h.main(["dates/timeZoneNames/zone",d,"exemplarCity"]);if(3===o&&(s=l=l||h.main(["dates/timeZoneNames/zone/Etc/Unknown/exemplarCity"])),s=l&&4===o?S(h.main("dates/timeZoneNames/regionFormat"),[l]):s){c.timeZoneName=s;break}}"v"===e&&(o=1);case"O":c.gmtFormat=h.main("dates/timeZoneNames/gmtFormat"),c.gmtZeroFormat=h.main("dates/timeZoneNames/gmtZeroFormat"),l=h.main("dates/timeZoneNames/hourFormat"),c.hourFormat=o<4?[I(l),R(l,"H")]:R(l,"HH");case"Z":case"X":case"x":m(1),m(2)}i&&m(o)}),o=c}finally{i.off("get",F),l&&i.off("get",l)}function m(e){c.numberFormatters[e]=g("",e)}for(a in r=o.numberFormatters,delete o.numberFormatters,r)r[a]=this.numberFormatter({raw:r[a]});return e=Q(r,o),_(t,i,e,[r,o]),e},e.dateParser=e.prototype.dateParser=function(e){var t,i,r,a,n,o,s,l,u,h,d,c,p,m,g,T;A(e,"options"),i=this.cldr,M(e=e||{})||(e.skeleton="yMd"),ne(e),P(i),n=e.timeZone,w(n,"options.timeZone"),t=[e];try{i.on("get",F),n&&i.on("get",H(n)),oe(a=x(e,i),e.skeleton),d=i,c=n,m={pattern:b(h=a)},g=C("timeSeparator",d),T=["abbreviated","wide","narrow"],p=(p=N(d))?"["+p+"]":"\\d",m.digitsRe=new RegExp(p),d.on("get",y),h.match(V).forEach(function(e){var t,i,r=e.charAt(0),a=e.length;if("Z"===r&&(a=a<5?(r="O",4):(r="X",5)),"z"===r&&(n=E(a,"standard",c,d),t=E(a,"daylight",c,d),n=n&&v(b(n)),t=t&&v(b(t)),(n||t)&&(m.standardOrDaylightTzName=new RegExp("^"+"("+[n,t].filter(function(e){return e}).reduce(function(e,t){return e+"|"+t})+")")),n&&t||(r="O",a<4&&(a=1))),"v"===r){if(1!==a&&4!==a)throw D({feature:"timezone pattern `"+h+"`"});var n=E(a,"generic",c,d);n?(m.genericTzName=new RegExp("^"+v(b(n))),r="O"):(r="V",a=4)}switch(r){case"G":d.main(["dates/calendars/gregorian/eras",a<=3?"eraAbbr":4===a?"eraNames":"eraNarrow"]);break;case"u":case"U":throw D({feature:"year pattern `"+r+"`"});case"Q":case"q":2<a&&d.main(["dates/calendars/gregorian/quarters","Q"===r?"format":"stand-alone",T[a-3]]);break;case"M":case"L":2<a&&d.main(["dates/calendars/gregorian/months","M"===r?"format":"stand-alone",T[a-3]]);break;case"g":throw D({feature:"Julian day pattern `g`"});case"e":case"c":if(a<=2)break;case"E":6===a?d.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],"short"])||d.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],"abbreviated"]):d.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],T[a<3?0:a-3]]);break;case"a":d.main("dates/calendars/gregorian/dayPeriods/format/wide");break;case"V":if(1===a)throw D({feature:"timezone pattern `"+h+"`"});if(c){if(2===a){m.timeZoneName=c,m.timeZoneNameRe=new RegExp("^"+v(c));break}var o,s=d.main(["dates/timeZoneNames/zone",c,"exemplarCity"]);3===a&&(o=s=s||d.main(["dates/timeZoneNames/zone/Etc/Unknown/exemplarCity"])),(o=s&&4===a?S(d.main("dates/timeZoneNames/regionFormat"),[s]):o)&&(o=b(o),m.timeZoneName=o,m.timeZoneNameRe=new RegExp("^"+v(o)))}"v"===e&&(a=1);case"z":case"O":i=d.main("dates/timeZoneNames/gmtFormat"),d.main("dates/timeZoneNames/gmtZeroFormat"),d.main("dates/timeZoneNames/hourFormat"),m["timeZoneNames/gmtZeroFormatRe"]=new RegExp("^"+v(m["timeZoneNames/gmtZeroFormat"])),s=m["timeZoneNames/hourFormat"],m["timeZoneNames/hourFormat"]=(a<4?[R(s,"H"),I(s)]:[R(s,"HH")]).map(function(e){return f(e,i,p,g)});case"X":case"x":m.x=[["+HHmm;-HHmm","+HH;-HH"],["+HHmm;-HHmm"],["+HH:mm;-HH:mm"],["+HHmmss;-HHmmss","+HHmm;-HHmm"],["+HH:mm:ss;-HH:mm:ss","+HH:mm;-HH:mm"]][a-1].map(function(e){return f(e)})}}),d.off("get",y),o=m,l=n,u={preferredTimeData:(s=i).supplemental.timeData.preferred()},l&&(u.timeZoneData=z("iana/"+l,{offsets:s.get(["globalize-iana/zoneData",l,"offsets"]),untils:s.get(["globalize-iana/zoneData",l,"untils"]),isdsts:s.get(["globalize-iana/zoneData",l,"isdsts"])})),r=u}finally{i.off("get",F),n&&i.off("get",H(n))}function f(e,t,i,r){return i=i||"\\d",t=t||"{0}",e=e.replace("+","\\+").replace(/HH|mm|ss/g,"(("+i+"){2})").replace(/H|m/g,"(("+i+"){1,2})"),e=(e=r?e.replace(/:/g,r):e).split(";").map(function(e){return t.replace("{0}",e)}).join("|"),new RegExp("^"+e)}function y(e,t){/(timeZoneNames\/zone|supplemental\/metaZones|timeZoneNames\/metazone|timeZoneNames\/regionFormat|timeZoneNames\/gmtFormat)/.test(e)||t&&("gregorian/dayPeriods/format/wide"===(e=e.replace(/^.*\/dates\//,"").replace(/calendars\//,""))&&(t=function(e,t){var i,r={};for(i in e)t.test(i)&&(r[i]=e[i]);return r}(t,/^am|^pm/)),t=O(t)?Object.keys(t).map(function(e){return[e,new RegExp("^"+v(b(t[e])))]}).sort(function(e,t){return t[1].source.length-e[1].source.length}):b(t),m[e]=t)}return e=this.numberParser({raw:"0"}),s=Z(e,r,o),_(t,i,s,[e,r,o]),s},e.formatDate=e.prototype.formatDate=function(e,t){return n(e,"value"),r(e,"value"),this.dateFormatter(t)(e)},e.formatDateToParts=e.prototype.formatDateToParts=function(e,t){return n(e,"value"),r(e,"value"),this.dateToPartsFormatter(t)(e)},e.parseDate=e.prototype.parseDate=function(e,t){return n(e,"value"),w(e,"value"),this.dateParser(t)(e)},e},e.exports=r(i(3),i(0))},function(e,t,i){"use strict";i.r(t);i(6),i(7),i(8);n=Object.prototype.hasOwnProperty,N=Object.prototype.toString,window.Node&&Node.prototype&&!Node.prototype.contains&&(Node.prototype.contains=function(e){return!!(16&this.compareDocumentPosition(e))});var n,N,k={each:function(e,t){var i,r=0,a=e.length;if(void 0===a||k.isFunction(e)){for(i in e)if(!1===t.call(e[i],i,e[i]))break}else for(var n=e[0];r<a&&!1!==t.call(n,r,n);n=e[++r]);return e},isFunction:function(e){return"[object Function]"===N.call(e)},isObject:function(e){return null!==e&&"object"==typeof e},isEmptyObject:function(e){for(var t in e)return!1;return!0},isPlainObject:function(e){if(!e||!k.isObject(e)||e.nodeType||e.setInterval)return!1;if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1;for(var t in e);return void 0===t||n.call(e,t)},extend:function(){var e,t,i=arguments[0]||{},r=1,a=arguments.length,n=!1;for("boolean"==typeof i&&(n=i,i=arguments[1]||{},r=2),"object"==typeof i||k.isFunction(i)||(i={}),a===r&&(i=k,--r);r<a;r++)if(null!=(e=arguments[r]))for(t in e){var o,s=i[t];i!==(o=e[t])&&(n&&o&&(k.isPlainObject(o)||Array.isArray(o))?(s=s&&(k.isPlainObject(s)||Array.isArray(s))?s:Array.isArray(o)?[]:{},i[t]=k.extend(n,s,o)):void 0!==o&&(i[t]=o))}return i},ajax:function(e){var t=new XMLHttpRequest,i=void 0===e.async||e.async;i&&(t.responseType=e.dataType||""),t.open("get",e.url,i),t.onload=function(){200===t.status||0===t.status?"json"===t.responseType?e.success(t.response,t.statusText):t.responseText?"json"===e.dataType?e.success(JSON.parse(t.responseText),t.statusText):e.success(t.responseText,t.statusText):e.error&&e.error("unsupported responseType"):e.error&&e.error(t.statusText)},t.send()},getElementsByClassName:function(e,t,i){var r,a,n,o,s=[];if(e.getElementsByClassName)s=e.getElementsByClassName(t);else for(i=i||"*",o=(r=e.all||e.getElementsByTagName(i)).length,n=0;n<o;n++)(a=r[n]).className&&-1!==a.className.baseVal.indexOf(t)&&s.push(a);return s.remove=function(){for(var e=this.length-1;0<=e;e--)this[e].parentNode.removeChild(this[e])},s.attr=function(e,t){for(var i=this.length,r=0;r<i;r++)"text-decoration"===e?this[r].style.textDecoration=t:this[r].setAttribute(e,t)},s},filter:function(e,t){if(W(e)){var i,r,a={};for(i in e)e.hasOwnProperty(i)&&(r=e[i],t(i,r))&&(W(r)||Array.isArray(r)?a[i]=k.filter(r,t):void 0!==r&&(a[i]=r));return a}return Array.isArray(e)?e.map(function(e){return k.filter(e,t)}):e}};function W(e){return!!e&&e.constructor===Object}var D=k,c={hasPointers:function(){return void 0!==this.Pointers.createInstance},Pointers:{mapEventName:function(e){return e}},Connection:{sendTraceEvent:function(e,t){}}},G=i(0),U=i.n(G),v=(i(12),i(13),{HmiAggregationMode:{None:0,TimeAverageStepped:1,MinMax:2},HmiAlarmBlock:{Undefined:0,ID:1,Name:2,Class:3,Priority:4,Group:5,Origin:6,Area:7,Comments:8,Information:9,LoopInAlarm:10,EventText:11,AlarmText1:12,AlarmText2:13,AlarmText3:14,AlarmText4:15,AlarmText5:16,AlarmText6:17,AlarmText7:18,AlarmText8:19,AlarmText9:20,AlarmState:21,ModificationTime:22,RaiseTime:23,AcknowledgeTime:24,ClearTime:25,ResetTime:26,SuppresionsState:27,EscalationLevel:28,Context:29,Duration:30,AcknowledgmentState:31,Value:32,ValueQuality:33,ValueLimit:34,HostName:36,UserName:37,ProcessValue1:38,ProcessValue2:39,ProcessValue3:40,ProcessValue4:41,ProcessValue5:42,ProcessValue6:43,ProcessValue7:44,ProcessValue8:45,ProcessValue9:46,ProcessValue10:47,ClassSymbol:48,StateText:49,GroupID:50},HmiAlarmControlID:{None:0,Help:1,Configuration:2,AlarmView:3,AlarmStatisticsView:5,AlarmAnnunciator:7,SingleAcknowledgment:8,GroupAcknowledgment:9,AlwaysShowRecent:10,SelectionDisplay:11,DisplayOptionsSetup:12,DisabledAlarmsSetup:13,FirstLine:14,PreviousLine:15,NextLine:16,LastLine:17,InfoTextSetup:18,CommentsSetup:19,LoopInAlarm:20,DisableAlarm:21,EnableAlarm:22,ShelveAlarm:23,UnshelveAlarm:24,SortSetup:25,TimeBaseSetup:26,CopyLines:27,PreviousPage:28,NextPage:29,TimeBase:256,Date:257,Time:258,PendingAlarms:259,Alarms:260,PendingAcknowledgeableAlarms:261,PendingShelvedAlarms:262,Selection:263,DisplayOption:264,Disabled:265,HasPendingShelvedAlarms:272,ConnectionStatus:273,Print:30,ShowActiveAlarms:31,ShowLoggedAlarms:32,ShowLoggedAlarmsUpdated:33,ShowDefinedAlarms:34,SingleReset:35,Export:36,MoveToNextAcknowledgeableAlarm:37,StartTime:274,EndTime:275,CurrentContextHint:276,SelectContext:38,StatusText:277,Custom:65536,PendingResettableAlarms:278,StatisticsSetup:39,MaximumRecordsExceeded:279},HmiAlarmSourceType:{NotConfigured:0,ActiveAlarms:1,LoggedAlarms:2,LoggedAlarmsUpdated:3,AlarmDefinition:4,AlarmStatistics:5},HmiAlarmStatisticBlock:{Undefined:0,AverageRaisedRaised:4097,AverageRaisedCleared:4098,AverageRaisedAcknowledged:4099,AverageRaisedReset:4100,Frequency:4101,SumRaisedRaised:4102,SumRaisedCleared:4103,SumRaisedAcknowledged:4104,SumRaisedReset:4105,ID:1,Name:2,Class:3,Priority:4,Group:5,Origin:6,Area:7,Comments:8,Information:9,LoopInAlarm:10,EventText:11,AlarmText1:12,AlarmText2:13,AlarmText3:14,AlarmText4:15,AlarmText5:16,AlarmText6:17,AlarmText7:18,AlarmText8:19,AlarmText9:20,AlarmState:21,ModificationTime:22,RaiseTime:23,AcknowledgeTime:24,ClearTime:25,ResetTime:26,SuppressionState:27,EscalationLevel:28,Context:29,Duration:30,AcknowledgmentState:31,Value:32,ValueQuality:33,ValueLimit:34,TagName:35,Computer:36,User:37,ProcessValue1:38,ProcessValue2:39,ProcessValue3:40,ProcessValue4:41,ProcessValue5:42,ProcessValue6:43,ProcessValue7:44,ProcessValue8:45,ProcessValue9:46,ProcessValue10:47,ClassSymbol:48,StateText:49},HmiApplicationState:{None:0,Running:1,Terminated:2,Crashed:3,CreateFailed:4},HmiBackgroundFillMode:{Window:0,Screen:1},HmiBarMode:{Segmented:0,Unicolor:1,SegmentedStatic:2,UnicolorStatic:3},HmiCapType:{Square:256,Round:0,Flat:512},HmiCharSet:{Console:0,UTF8:1,UTF16:2},HmiClientInfoType:{None:0,PrimaryDisplayWidth:1,PrimaryDisplayHeight:2,PrimaryDisplayPixelRatio:3},HmiContentMode:{GraphicOrText:0,GraphicAndText:1,Text:2,Graphic:3},HmiDashType:{Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4},HmiDataGridHeaderType:{None:0,Index:1,Content:2},HmiDetailedParameterControlBlock:{None:0,ParameterSetElementName:1,ParameterSetValue:2,ParameterSetElementUnit:3},HmiDetailedParameterControlID:{None:0,Help:1,Save:49,Create:48,SaveAs:50,Delete:51,Rename:52,WriteToPLC:53,ReadFromPLC:54,StatusText:256,Print:30,Export:36,Import:37,Cancel:38,Custom:65536},HmiDisplayViewType:{Standard:0,List:1,Details:2,SmallIcons:3,MediumIcons:4,LargeIcons:5},HmiEditMode:{None:0,Update:1,Create:2,Delete:4},HmiEventTrigger:{Unknown:0,Touch:1,Left:16,Middle:17,Right:18,Enter:256,Space:257,Escape:258},HmiFillDirection:{BottomToTop:0,TopToBottom:1,LeftToRight:2,RightToLeft:3},HmiFillPattern:{Solid:0,Transparent:65536,BackwardDiagonal:131075,Cross:131076,DiagonalCross:131077,ForwardDiagonal:131074,Horizontal:131072,Vertical:131073,GradientHorizontal:1048576,GradientVertical:1048577,GradientForwardDiagonal:1048578,GradientBackwardDiagonal:1048579,GradientHorizontalTricolor:1048832,GradientVerticalTricolor:1048833,GradientForwardDiagonalTricolor:1048834,GradientBackwardDiagonalTricolor:1048835},HmiFlashingCondition:{Never:0,Always:1,RangeViolation:2},HmiFlashingRate:{Slow:0,Medium:1,Fast:2,None:255},HmiFlipMode:{None:0,Horizontal:1},HmiFontStrikeOut:{None:0,Single:1},HmiFontWeight:{Light:300,Normal:400,SemiBold:600,Bold:700,None:0},HmiFunctionTrendControlID:{None:0,Help:1,Configuration:2,Ruler:3,ZoomArea:4,ZoomPlusMinus:5,ZoomXAxisPlusMinus:7,ZoomYAxisPlusMinus:8,MoveTrendArea:9,MoveAxesArea:10,OriginalView:11,SelectDataConnection:12,SelectTrends:13,SelectTimeRange:14,PreviousTrend:15,NextTrend:16,StartStop:17,ConnectionStatus:256,Print:30,Export:36,StatusText:277,Custom:65536},HmiGesture:{SwipeLeft:1,SwipeRight:2,SwipeUp:3,SwipeDown:4,Unknown:0},HmiGmpSetting:{None:0,GmpRelevant:1,CommentRequired:2,AcknowledgmentConfirmation:4,ElectronicSignatureConfirmation:8},HmiGraphicStretchMode:{None:0,Fill:1,Uniform:2,UniformToFill:3,Tiled:4},HmiGraphOverviewBlock:{Undefined:0,Step:1,StepName:2},HmiGridColoringMode:{None:0,Columns:1,Rows:2},HmiGridLine:{None:0,VerticalMajor:1,HorizontalMajor:2,VerticalMinor:4,HorizontalMinor:8},HmiGridSelectionMode:{None:0,Single:1,Multi:2},HmiHorizontalAlignment:{Left:0,Center:1,Right:2,Stretch:3},HmiIOFieldType:{Output:0,InputOutput:2},HmiKeyboardModifier:{None:0,Control:1,Shift:2,Alt:4},HmiLineEndType:{Line:0,EmptyArrow:1,Arrow:2,ReversedArrow:3,EmptyCircle:5,Circle:6},HmiLineJoinType:{Round:0,Bevel:4096,Miter:8192},HmiMarkerType:{None:0,Point:1,Square:2,Circle:3,Graphic:4},HmiMeasurementUnit:{None:0,Name:1,Symbol:2},HmiMediaControlID:{None:0,Play:1,Pause:2,Stop:3,SeekForward:4,SeekBackward:5,StatusText:277,Custom:65536,Mute:6},HmiOpenLinkMode:{None:0,Create:1,CreateAndConnect:2,Connect:3},HmiOperability:{Operable:0,DisabledProgrammatically:1,NoAuthorization:2,NoExplicitUnlock:4},HmiOrientation:{Horizontal:0,Vertical:1},HmiOverviewParameterControlBlock:{None:0,ParameterSetID:1,LastUser:2,LastAccess:3,ParameterSetElementOdd:4,ParameterSetElementEven:5},HmiOverviewParameterControlID:{None:0,Help:1,Configuration:2,FirstLine:3,PreviousLine:4,NextLine:5,LastLine:6,TimeBase:256,Date:257,Time:258,Column:259,Row:260,ParameterSetTypeName:261,ConnectionStatus:262,Selection:263,DeleteLine:7,CutLine:8,CopyLine:9,InsertLine:16,WriteToPLC:17,ReadFromPLC:18,Status:264,SortSetup:19,TimeBaseSetup:20,SelectParameterSetType:21,Print:30,Export:36,Import:37,Cancel:38,StatusText:277,Custom:65536},HmiPeakIndicator:{None:0,Low:1,High:2},HmiPipeConnectionState:{Unavailable:0,Connected:1,Disconnected:2},HmiProcessControlID:{None:0,Help:1,Configuration:2,FirstRecord:3,PreviousRecord:4,NextRecord:5,LastRecord:6,Edit:7,SelectDataConnection:9,SelectTimeRange:11,PreviousColumn:12,NextColumn:13,StartStop:14,CreateArchiveValue:17,TimeBase:256,Date:257,Time:258,ConnectionStatus:259,Column:260,Row:261,Print:30,Export:36,SelectContext:38,StartTime:274,EndTime:275,CurrentContextHint:276,DeleteArchiveValue:18,StatusText:277,Custom:65536},HmiProcessDiagnosisCriteriaAnalysisBlock:{SymbolName:0,Address:1,Value:2,Comment:3},HmiProcessDiagnosisCriteriaAnalysisControlID:{None:0,ConnectionStatus:256},HmiProcessDiagnosisDetailViewType:{None:0,Ladder:1,FunctionBlock:2},HmiProcessDiagnosisGraphOverviewControlID:{None:0,NextStep:1,JumpToAlarmControl:2,JumpToPlcCodeViewer:3,JumpToTiaPortal:4,CriteriaAnalysis:256,StepState:257,ConnectionStatus:258},HmiProcessDiagnosisOverviewControlID:{None:0,JumpToAlarmControl:1,Information:256,ConnectionStatus:257},HmiProcessDiagnosisPlcCodeViewerControlID:{None:0,Previous:1,Next:2,ZoomIn:3,ZoomOut:4,ToggleGRAPHMode:5,ResetToConfiguration:6,ToggleDetailView:7,ToggleCriteriaAnalysis:8,ConnectionStatus:256,StatusText:257},HmiProcessIndicatorMode:{Bar:0,Indicator:1,DetailedIndicator:2,BarWithDetailedIndicator:3},HmiQuality:{Bad:1,Uncertain:2,Good:4,UpperLimitViolation:64,LowerLimitViolation:128,None:0},HmiRequestResult:{None:0,Success:1,AccessDenied:2,InvalidName:3},HmiResourceListType:{Undefined:0,Text:1,Graphic:2,TextAndGraphic:3},HmiRotationCenterPlacement:{AbsoluteFromCenter:0,NormedFromCenter:1,AbsoluteToContainer:2},HmiScaleMode:{None:0,Labels:1,Ticks:2},HmiScalingType:{Linear:0,Logarithmic:1,NegativeLogarithmic:2,Tangent:4,Quadratic:5,Cubic:6},HmiScreenWindowAdaption:{None:0,WindowToScreen:1,ScreenToWindow:2},HmiScrollBarVisibility:{Automatic:0,Visible:1,Collapsed:2},HmiSelectionMode:{NonExclusive:0,Exclusive:1},HmiSimpleGridLine:{None:0,Vertical:1,Horizontal:2},HmiSimplePosition:{LeftOrTop:0,RightOrBottom:1},HmiSortDirection:{None:0,Ascending:1,Descending:2},HmiSourceState:{Idle:0,Busy:1},HmiSymbolEffect:{None:0,UseEffectColor:1},HmiSystemDiagnosisControlBlock:{Undefined:0,Number:1,DateTime:2,EventMessage:3,EventType:4,EventState:5},HmiSystemDiagnosisControlID:{None:0,Previous:2,Next:3,Reload:6,Home:5,Path:256,ConnectionStatus:273,FirstLine:14,PreviousLine:15,NextLine:16,LastLine:17,SplitView:18,Back:19,ShowDiagnosticBuffer:20},HmiSystemDiagnosisMatrixBlock:{Undefined:0,Status:1,Name:2,OperatingState:3,Rack:4,Slot:5,OrderNumber:6,Address:7,PlantDesignation:8,LocationIdentifier:9,Subsystem:10,Station:11,Subslot:12,SubAddress:13,SoftwareVersion:14,Installation:15,AdditionaInformation:16,ErrorDescription:17,ManufacturerID:18,HardwareVersion:19,ProfileID:20,SpecificProfileData:21,IandMDataVersion:22,SerialNumber:23,RevisionCounter:24,Type:25,IPAddress:32},HmiSystemDiagnosisViewType:{Diagnosis:0,Matrix:1,DistributedIO:2},HmiTextPosition:{Left:0,Right:1,Top:2,Bottom:3,Behind:4,InFront:5},HmiTextTrimming:{None:0,CharacterEllipsis:1},HmiTextWrapping:{NoWrap:0,WordWrap:1},HmiThresholdIndicator:{None:0,Lines:1,Markers:2},HmiThresholdMode:{Undefined:0,Upper:1,Lower:2,Normal:3,Minimum:4,Maximum:5},HmiTimeRangeBase:{Undefined:0,Millisecond:1,Second:2,Minute:3,Hour:4,Day:5,Month:6,Year:7},HmiTimeRangeStart:{Now:0,Fixed:1},HmiTimeRangeType:{TimeRange:0,FromBeginToEnd:1,PointCount:2},HmiTrendCompanionID:{None:0,Help:1,Configuration:2,RulerWindow:3,DefineStatisticsArea:4,CalculateStatistics:5,TimeBase:256,Date:257,Time:258,Column:259,Row:260,Source:261,ConnectionStatus:262,Print:30,Export:36,StatusText:277,Custom:65536},HmiTrendCompanionMode:{Ruler:0,StatisticArea:1,StatisticResult:2},HmiTrendControlID:{None:0,Help:1,FirstRecord:2,PreviousRecord:3,NextRecord:4,LastRecord:5,Ruler:6,ZoomArea:7,ZoomPlusMinus:8,ZoomTimeAxisPlusMinus:9,ZoomValueAxisPlusMinus:10,MoveTrendArea:11,MoveAxesArea:12,OriginalView:13,SelectDataConnection:14,SelectTrends:15,SelectTimeRange:16,PreviousTrend:17,NextTrend:18,StartStop:19,DefineStatisticsArea:20,CalculateStatistics:21,TimeBase:256,Date:257,Time:258,ConnectionStatus:259,Print:30,Export:36,Configuration:37,SelectContext:38,StartTime:274,EndTime:275,CurrentContextHint:276,StatusText:277,Custom:65536},HmiTrendInfoBlock:{None:0,Name:1,Index:2,Label:3,Show:4,TagNameY:5,TagNameX:6,YValue:7,XValueOrTimestamp:8,YValueLowerLimit:9,TimestampLowerLimit:10,YValueUpperLimit:11,TimestampUpperLimit:12,Minimum:13,MinimumTimestamp:14,Maximum:15,MaximumTimestamp:16,Average:17,StandardDeviation:18,Integral:19,WeightedAverageValue:20,Duration:21,NumberOfValues:22,AreaName:23,AreaNameLL:24,AreaNameHL:25,Sum:32},HmiTrendMode:{Points:0,Interpolated:1,Stepped:2,Bar:3,Value:4},HmiValueTendency:{Steady:0,Upwards:1,Downwards:2},HmiVerticalAlignment:{Top:0,Center:1,Bottom:2,Stretch:3},HmiVideoOutput:{Undefined:0,Stretch:1,PreserveAspectFit:2,PreserveAspectCrop:3},HmiVisibleAlarms:{None:0,UnSuppressed:1,Disabled:2,SuppressedByDesign:4,Shelved:8},HmiWebControlID:{None:0,Help:1,Previous:2,Next:3,Stop:4,Home:5,Reload:6,Go:7,Address:512,StatusText:277,Custom:65536},HmiWindowFlag:{None:0,ShowCaption:1,ShowBorder:2,AlwaysOnTop:4,CanSize:8,CanMove:16,CanMaximize:32,CanClose:64,AlwaysInParent:128},HmiWindowStartupPosition:{None:0,CenteredMonitor:1,Maximized:2,CenteredOwner:3},HmiWindowState:{Normal:0,Maximized:1,Minimized:2},HmiScreenObjectType:{AlarmColumnPart:40016,AlarmControl:33315,AlarmStatisticColumnPart:40017,AlarmStatisticsSettingsPart:4008,ApplicationPart:4714,BackgroundSystemPart:35001,BadgePart:666,Bar:10023,BindingSourceElement:7012,BlockSymbolSystemPart:35020,Button:10012,CheckBoxGroup:10029,Circle:10001,CircleSegment:10002,CircularArc:10003,Clock:10016,ComboBox:10048,CommandPart:7500,CommandSourceElement:7501,ConsideredColumnPart:4803,ContentPart:815,ControlBarButtonPart:33309,ControlBarDisplayPart:33313,ControlBarLabelPart:33311,ControlBarSeparatorPart:33319,ControlBarTextBoxPart:33312,ControlBarToggleSwitchPart:5712,CornersPart:40012,CurvedScalePart:93434,CustomWebControlContainer:100001,CustomWidgetContainer:100002,DataCellSystemPart:35004,DataGridColumnHeaderPart:40019,DataGridColumnPart:7513,DataGridControl:7514,DataGridHeaderSettingsPart:40020,DataGridViewPart:4007,DataSourcePart:33307,DcsFaceplateContainer:100003,DetailedParameterControl:33322,DetailedParameterControlColumnPart:8027,DotNetControlContainer:100005,DynamicPropertyPart:900,Ellipse:10004,EllipseSegment:10005,EllipticalArc:10006,FaceplateContainer:100004,FaceplateType:10052,FlowLineDecoratorSystemPart:35022,FocusEffectSystemPart:66601,FontPart:20034,FunctionTrendAreaPart:990001,FunctionTrendControl:33321,FunctionTrendPart:990010,Gauge:10021,GraphicView:10015,GraphOverviewControlColumnPart:33403,Group:6e3,HeaderCellSystemPart:35003,HelpLinePart:901330,HotKeyPart:1111,InputBehaviorPart:816,InputHintSystemPart:35009,IOField:10017,Label:10020,LayerPart:20002,LegendPart:990310,Line:10008,LineColorPart:33440,ListBox:10047,ListContainerSystemPart:35008,LogicSymbolSystemPart:35021,MarginPart:40014,MarkerSystemPart:35007,MatrixViewPart:13460,MediaControl:10044,ObjectExplorerControl:33332,OpenLinkElement:4712,OperabilityPart:5e3,OverviewParameterControl:33323,OverviewParameterControlColumnPart:8028,PaddingPart:40013,ParameterPart:4799,PipePart:4713,PlcDataSourcePart:33401,Polygon:10009,Polyline:10010,PopupScreenWindow:20007,ProcessColumnPart:34351,ProcessControl:33331,ProcessDiagnosisCriteriaAnalysisControl:33410,ProcessDiagnosisCriteriaAnalysisControlColumnPart:33411,ProcessDiagnosisGraphOverviewControl:33400,ProcessDiagnosisOperationModePart:33402,ProcessDiagnosisOverviewControl:33420,ProcessDiagnosisOverviewElementPart:33421,ProcessDiagnosisOverviewPart:33422,ProcessDiagnosisPlcCodeViewerControl:33430,QualityPart:902323,RadioButtonGroup:10030,Rectangle:10011,ResourceListEntryPart:999999,RulerIndicatorSystemPart:35006,RulerPart:34330,ScalingEntryPart:44490,Screen:20001,ScreenMaster:20008,ScreenWindow:20003,ScreenWindowLayout:20005,ScrollBarSystemPart:35e3,SelectionItemPart:40010,SelectionSystemPart:35002,Slider:10022,SnapPointPart:3333,StatusBarPart:33310,StraightScalePart:93433,SwacContainer:1e5,SymbolContainer:10025,SymbolicIOField:10019,SystemDiagnosisControl:33340,SystemDiagnosisControlColumnPart:8029,SystemDiagnosisDetailViewPart:46220,SystemDiagnosisHardwareDetailPart:4460,SystemDiagnosisMatrixColumnPart:43434,TagInterfacePart:4710,Text:10013,TextBox:10045,TextPart:40009,ThresholdPart:40008,TimeAxisPart:990003,TimeRangeColumnPart:34350,ToggleSwitch:10024,ToolBarPart:33308,TooltipSystemPart:35005,TopLevelScreenWindow:20004,TouchArea:1,TrendAreaPart:990002,TrendColumnPart:40021,TrendCompanion:33328,TrendControl:33300,TrendPart:990011,WebControl:10027,WindowFrameSystemPart:35010,XValueAxisPart:990004,YValueAxisPart:990005}});z=navigator.userAgent,j=navigator.appName,Q=Z=K=q=X=Y=!1,-1!==z.indexOf("MSIE")||-1!==z.indexOf("Trident")?(Z=!0,j="Microsoft Internet Explorer"):-1!==z.indexOf("Edge")?(Q=!0,j="Edge"):-1!==z.indexOf("Chrome")?(K=X=!0,j="Chrome"):-1!==z.indexOf("Safari")?(q=X=!0,j="Safari"):-1!==z.indexOf("AppleWebkit")?(X=!0,j="Safari"):-1!==z.indexOf("Firefox")&&(Y=!0,j="Firefox");var z,j,Y,X,q,K,Z,Q,J={mozilla:function(){return Y},webkit:function(){return X},safari:function(){return q},chrome:function(){return K},msie:function(){return Z},edge:function(){return Q},name:function(){return j},android:function(){return/Android/i.test(z)},blackberry:function(){return/BlackBerry/i.test(z)},ios:function(){return/iPhone|iPad|iPod/i.test(z)},operaMobile:function(){return/Opera Mini/i.test(z)},windowsMobile:function(){return/IEMobile/i.test(z)}},$=i(2),S={disablePreventDefaultEvents:!1,drawInsideFrame:!1,showDeveloperTooltip:!1,useCloning:!0,checkProperties:!1,zoomOnPoint:!0,zoomWithMouseWheelOnly:!1,scrollPopups:!1,assetSuffix:"",minZoomFactor:.01,maxZoomFactor:8},G=function(){function r(e){this.size=0,this.limit=e,this.oldest=this.newest=null,this._keymap=new Map}const a=Symbol("newer"),n=Symbol("older");return r.Entry=function(e,t){this.key=e,this.value=t,this[a]=null,this[n]=null},r.prototype.markEntryAsUsed=function(e){e!==this.newest&&(e[a]&&(e===this.oldest&&(this.oldest=e[a]),e[a][n]=e[n]),e[n]&&(e[n][a]=e[a]),e[a]=null,e[n]=this.newest,this.newest&&(this.newest[a]=e),this.newest=e)},r.prototype.get=function(e){e=this._keymap.get(e);if(e)return this.markEntryAsUsed(e),e.value},r.prototype.set=function(e,t){var i=this._keymap.get(e);return i?(i.value=t,this.markEntryAsUsed(i)):(i=new r.Entry(e,t),this._keymap.set(e,i),this.newest?(this.newest[a]=i)[n]=this.newest:this.oldest=i,this.newest=i,++this.size,this.size>this.limit&&this.shift()),this},r.prototype.shift=function(){var e=this.oldest;if(e)return this.oldest[a]?(this.oldest=this.oldest[a],this.oldest[n]=null):(this.oldest=null,this.newest=null),e[a]=e[n]=null,this._keymap.delete(e.key),--this.size,[e.key,e.value]},r.prototype.clear=function(){this.oldest=this.newest=null,this.size=0,this._keymap.clear()},r}(),ee=new G(500),te=function(){function e(){this.item=null,this.imgName="",this.cbImageLoaded=null,this.params=null}function n(e,t){return!e||e.includes("%")||!t||t.includes("%")}e.clear=function(){ee.clear()};return e.prototype.loadImage=function(e,t,i,r){if(""!==t){var a=this,n=ee.get(t);if(n&&i)i(e,{imgName:t,params:r,w:n.w,h:n.h});else{this.item=e,this.imgName=t,this.cbImageLoaded=i,this.params=r;const o=(0===t.indexOf("data:image/",0)?"":0===t.indexOf("content/images/",0)?e.gfxWebLib.connection.getAppDir():e.gfxWebLib.connection.getImageUrl())+t;t.endsWith(".svg")?fetch(o).then(e=>{e.ok&&e.text().then(e=>{e=(new DOMParser).parseFromString(e,"image/svg+xml");a.cbOnSVG(e,o)})}).catch(()=>{a.cbOnError()}):a.loadAsImage(o)}}},e.prototype.loadAsImage=function(e){const t=this;this.pictImg=new Image,this.pictImg.onload=function(){t.cbOnPictLoaded()},this.pictImg.onerror=function(){t.cbOnError()},this.pictImg.src=e},e.prototype.cbOnSVG=function(e,t){let i;var r,a;this.cbImageLoaded&&(r=e.firstElementChild.getAttribute("width"),a=e.firstElementChild.getAttribute("height"),n(r,a)&&(r=(e=function(e){e=e.firstElementChild.getAttribute("viewBox");let t,i;return e&&4===e.split(" ").length&&(t=e.split(" ")[2],i=e.split(" ")[3]),{width:t,height:i}}(e)).width,a=e.height,n(r,a)||(i={imgName:this.imgName,params:this.params,w:r,h:a},this.cbImageLoaded(this.item,i),ee.set(this.imgName,{w:i.w,h:i.h}),this.cleanUp())),i||this.loadAsImage(t))},e.prototype.cbOnPictLoaded=function(){var e;this.cbImageLoaded&&(e={imgName:this.imgName,params:this.params,w:this.pictImg.width,h:this.pictImg.height},this.cbImageLoaded(this.item,e),0!==this.imgName.indexOf("data:image/",0)&&ee.set(this.imgName,{w:this.pictImg.width,h:this.pictImg.height}),this.cleanUp())},e.prototype.cleanUp=function(){this.pictImg&&(this.pictImg.onload=this.pictImg.onerror=null,this.pictImg=null),this.item=this.cbImageLoaded=null},e.prototype.cbOnError=function(){O.consolLog(O.enumTraceMode.Error,"Failed to load: "+this.imgName),this.cleanUp()},e}();function ie(e){return"rgb("+e.join(",")+")"}var re={setProps:function(e,t,i){var r=M,a=F,n=a.mkColorObj(r.getProp(t,"BackColor")),o=ie(n.values),s=a.mkColorObj(r.getProp(t,"AlternateBackColor")),l=ie(s.values);switch(e){case 0:case 4096:return!1;case 1048576:i.x1="0%",i.y1="0%",i.x2="100%",i.y2="0%",i.stops=[],i.stops[0]={offset:"0%",color:o,opacity:n.alpha},i.stops[1]={offset:"100%",color:l,opacity:s.alpha};break;case 1048577:i.x1="0%",i.y1="0%",i.x2="0%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:o,opacity:n.alpha},i.stops[1]={offset:"100%",color:l,opacity:s.alpha};break;case 1048578:i.x1="0%",i.y1="0%",i.x2="100%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:o,opacity:n.alpha},i.stops[1]={offset:"100%",color:l,opacity:s.alpha};break;case 1048579:i.x1="100%",i.y1="0%",i.x2="0%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:o,opacity:n.alpha},i.stops[1]={offset:"100%",color:l,opacity:s.alpha};break;case 1048832:i.x1="0%",i.y1="0%",i.x2="100%",i.y2="0%",i.stops=[],i.stops[0]={offset:"0%",color:o,opacity:n.alpha},i.stops[1]={offset:"50%",color:l,opacity:s.alpha},i.stops[2]={offset:"100%",color:o,opacity:n.alpha};break;case 1048833:i.x1="0%",i.y1="0%",i.x2="0%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:o,opacity:n.alpha},i.stops[1]={offset:"50%",color:l,opacity:s.alpha},i.stops[2]={offset:"100%",color:o,opacity:n.alpha};break;case 1048834:i.x1="0%",i.y1="0%",i.x2="100%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:o,opacity:n.alpha},i.stops[1]={offset:"50%",color:l,opacity:s.alpha},i.stops[2]={offset:"100%",color:o,opacity:n.alpha};break;case 1048835:i.x1="0%",i.y1="100%",i.x2="100%",i.y2="0%",i.stops=[],i.stops[0]={offset:"0%",color:o,opacity:n.alpha},i.stops[1]={offset:"50%",color:l,opacity:s.alpha},i.stops[2]={offset:"100%",color:o,opacity:n.alpha};break;case 1049088:i.x1="0%",i.y1="0%",i.x2="0%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:o,opacity:n.alpha},i.stops[1]={offset:"15%",color:o,opacity:n.alpha},i.stops[2]={offset:"85%",color:o,opacity:n.alpha},i.stops[3]={offset:"100%",color:o,opacity:n.alpha};break;default:return!1}return!0},setBackColors:function(e,t,i,r){var a=ie(i.values),n=i.alpha.toString(),o=r?ie(r.values):a,s=r?r.alpha.toString():n;switch(e){case 0:case 4096:break;case 1048576:case 1048577:case 1048578:case 1048579:t[0].setAttribute("stop-color",a),t[0].setAttribute("stop-opacity",n);break;case 1048832:case 1048833:case 1048834:case 1048835:t[0].setAttribute("stop-color",a),t[0].setAttribute("stop-opacity",n),t[2].setAttribute("stop-color",a),t[2].setAttribute("stop-opacity",n);break;case 1049088:t[0].setAttribute("stop-color",o),t[0].setAttribute("stop-opacity",s),t[1].setAttribute("stop-color",a),t[1].setAttribute("stop-opacity",n),t[2].setAttribute("stop-color",a),t[2].setAttribute("stop-opacity",n),t[3].setAttribute("stop-color",o),t[3].setAttribute("stop-opacity",s)}}};function ne(e,t){var i,r,a=document.createElement(e);for(i in t)if(t.hasOwnProperty(i))switch(r=t[i],i){case"textNode":a.appendChild(document.createTextNode(r));break;case"appendTo":r.appendChild(a);break;default:a.setAttribute(i,r)}return a}function oe(e){for(;e.firstChild;)oe(e.firstChild),e.removeChild(e.firstChild)}var se,le,ue,_={createDomElement:ne,createDomScreenItemNode:function(e,t){return(t=t||{})["data-rtoid"]=e.rtoid,t["data-tif-id"]=void 0!==e.props.Name?e.props.Name:"",t=ne("div",t),E.addTifLibExpandoProps(e,t),t},createSvgScreenItemNode:function(e){var t,i=ae;return e.useSvgNodeForEvents=!0,e.domNode=ne("div",{style:"position: absolute; pointer-events: none;"}),t=i.createSvgElement("svg",{style:"position: absolute; pointer-events: none; overflow: visible;",focusable:"false",appendTo:e.domNode}),e.domSvgNode=i.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;",appendTo:t}),e.domNode},removeAllChilds:oe,removeNodeWithAllChilds:function(e){oe(e),e.parentNode&&e.parentNode.removeChild(e)},setBBox:function(e,t){e=e.style;e.left=t.l+"px",e.top=t.t+"px",e.width=t.w+"px",e.height=t.h+"px"},setZoom:function(e,t){e=e.style;e.transformOrigin="0 0",e.transform="scale("+t+")"}};function he(e,t){return!e._lastAccess||e._lastAccess<t._lastAccess?-1:1}function de(e){var t,i=e.accessList,r=i.length;if(0<r){i.sort(he);for(var a=0;a<r;a++){var n,o=i[a];o&&o._lastAccess&&(n=le(n=o)?n.domNodeModal?1e4:1e3:1,n=n+10*a,t=void 0,t=(o=o).domNode)&&("PWC-WINDOW-DIRECTIVE"===t.tagName&&(t=t.firstElementChild),(o=o.domNodeModal)?o.style.zIndex=n.toString():t.style.zIndex=n.toString())}}var s=e.accessList.length-1;if(0<=s)return ue(e,e.accessList[s]);ue(null)}se=v,ue=function(e,t){t!==e.front&&(e.front,e.front=t)};var ce,pe={createManager:function(){return{accessList:[],front:null}},cleanUp:function(e){e&&(e.accessList.length=0,e.front=null)},register:function(e,t){e.accessList.push(t)},unregister:function(e,t){t=e.accessList.indexOf(t);-1!==t&&e.accessList.splice(t,1)},bringToFront:function(e,t){return t!==e.front&&(t._lastAccess=Date.now(),de(e),!0)},sendToBack:function(e,t){t._lastAccess=-Date.now(),de(e)},orderWindows:function(e,t){t&&(t._lastAccess=Date.now()),de(e)},getActive:function(e){return e.front},clearActive:function(e){e.front=null},bringAlwaysOnTop:function(e){var t=e.accessList,i=t.length;if(0<i){for(var r=!1,a=Date.now(),n=0;n<i;n++){var o=t[n];o&&le(o)&&(o._lastAccess=a+n,r=!0)}r&&de(e)}},isAlwaysOnTop:le=function(e){return!!(e.props.WindowFlags&se.HmiWindowFlag.AlwaysOnTop)}},me=(ce=["","webkit","Moz","moz","MS","ms"],{bindIframeEvents:function(e){if(e._internal&&e._internal.iframe){const t=e._internal.iframe.getIFrame();if(t){e=()=>{var e=new window.CustomEvent("iframe",{bubbles:!1,cancelable:!1});t.dispatchEvent(e)};try{t.contentWindow.addEventListener("pointermove",e,{capture:!0,passive:!0}),t.contentWindow.addEventListener("pointerdown",e,{capture:!0,passive:!0}),t.contentWindow.addEventListener("keydown",e,{capture:!0,passive:!0})}catch(e){t.addEventListener("pointerenter",()=>{var e=new window.CustomEvent("iframe_enter",{bubbles:!1,cancelable:!1});t.dispatchEvent(e)},{capture:!0,passive:!0})}}}},equalRect:function(e,t){return e.l===t.l&&e.t===t.t&&e.w===t.w&&e.h===t.h},equalPoint:function(e,t){return e.x===t.x&&e.y===t.y},copyPoint:function(e,t){t.x=e.x,t.y=e.y},inRect:function(e,t){return!(t.x<e.l||t.x>e.l+e.w||t.y<e.t||t.y>e.t+e.h)},inflateRect:function(e,t,i){return e.l=e.l-t,e.t=e.t-i,e.w=e.w+2*t,e.h=e.h+2*i,e},copyRect:function(e,t){return t.l=e.l,t.t=e.t,t.w=e.w,t.h=e.h,t},mkId:ge,mkGuid:function(e,t){return void 0===e.guidIndex||2147483647<=e.guidIndex?e.guidIndex=0:e.guidIndex+=1,ge(e,t)+"_"+e.guidIndex.toString()},mkUrl:function(e,t,i){return"url(#"+(!0===i?t:ge(e,t))+")"},setPrefixedStyle:function(e,t,i){t=function(e,t){for(var i,r=t[0].toUpperCase()+t.slice(1),a=0;a<ce.length;){if((i=(i=ce[a])?i+r:t)in e)return i;a++}}(e.style,t);if(t)return e.style[t]=i,!0},stripOffset:function(e,t){return e-t},equals:Te,upperBound:function(e,t,i,r,a){var n,o,s,l;if(!a&&!fe(t,i,r))return-1;if(n=i<=r?r-i+1:i-r+1,t[s=i<=r?i:r]>e)return 0;if(t[r]<=e)return-1;for(;0<n;)e>=t[l=s+(o=n/2)]?(s=l+1,n-=1+o):n=o;return s},lowerBound:function(e,t,i,r,a){var n,o,s,l;if(!a&&!fe(t,i,r))return-1;if(s=i<=r?i:r,n=i<=(r=i<=r?r:i)?r-i+1:i-r+1,t[r]<e)return r;if(t[i]>=e)return-1;for(;0<n;)e>t[l=s+(o=n/2)]?(s=l+1,n-=1+o):n=o;return s},findMagnitude:function(e){return Math.floor(Math.log(e)/Math.LN10)},getMagnitudeValue:function(e){return Math.pow(10,e)},debounce:function(i,r){var a=null;return function(){var e=this,t=arguments;window.clearTimeout(a),a=window.setTimeout(function(){i.apply(e,t)},r)}},throttle:function(r,a){var n,o=null;return a=a||250,function(){var e=this,t=arguments,i=Date.now();n&&i<n+a?(window.clearTimeout(o),o=window.setTimeout(function(){n=i,r.apply(e,t)},a)):(n=i,r.apply(e,t))}},checkPartPermission:function(e,t,i){t={props:{Operability:t.Operability}};return e.gfxWebLib.interaction.checkPermission(t,i)},isScreenWindow:function(e){return-1!==e.props.Type.indexOf("ScreenWindow")},isScreenContainer:function(e){return me.isScreenWindow(e)||"FaceplateContainer"===e.props.Type},isScreen:function(e){return"Screen"===e.props.Type||"FaceplateType"===e.props.Type},idToRTOID:function(e,t){return t=t||0,ye(e)+"_"+ye(t)}});function ge(e,t){return void 0!==e.subid?t+"_"+e.rtoid+"_"+e.subid:t+"_"+e.rtoid}function Te(t,i){var e,r;return t===i||typeof t==typeof i&&null!==t&&null!==i&&("object"==typeof t?t.constructor===i.constructor&&(t instanceof Array?t.length===i.length&&t.every(function(e,t){return Te(e,i[t])}):(e=Object.keys(t),r=Object.keys(i),e.length===r.length&&e.every(function(e){return Te(t[e],i[e])}))):t===i)}function fe(e,t,i){return!(!e||!e.length||t<0||i<0||i>=e.length||t>=e.length)}function ye(e){return e.toString(16).padStart(2,"0").toUpperCase()}var P=me,De=i(4);Se=1033,be="",Ce={lcid:"init",textResources:{}},ve=Object.freeze({ToFileSuffix:{en:"en-US",es:"es-ES",de:"de-DE",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR","zh-TW":"zh-TW","zh-CHS":"zh-CHS"},ToDefaultDateFormat:{en:{f:"M/d/yyyy"},es:{f:"dd/MM/yyyy"},de:{f:"dd.MM.yyyy"},fr:{f:"dd/MM/yyyy"},it:{f:"dd/MM/yyyy"},ja:{f:"yyyy/MM/dd"},ko:{f:"yyyy-MM-dd"},"zh-TW":{f:"yyyy/M/d"},"zh-CHS":{f:"yyyy/M/d"}},ToDefaultTimeFormat:{en:{f:"h:mm:ss tt"},es:{f:"HH:mm:ss"},de:{f:"HH:mm:ss"},fr:{f:"HH:mm:ss"},it:{f:"HH:mm:ss"},ja:{f:"HH:mm:ss"},ko:{f:"HH:mm:ss"},"zh-TW":{f:"tt h:mm:ss"},"zh-CHS":{f:"tt h:mm:ss"}},ToDefaultDurationFormat:{en:{f:"d HH:mm:ss.ms"},es:{f:"d HH:mm:ss.ms"},de:{f:"d HH:mm:ss.ms"},fr:{f:"d HH:mm:ss.ms"},it:{f:"d HH:mm:ss.ms"},ja:{f:"d HH:mm:ss.ms"},ko:{f:"d HH:mm:ss.ms"},"zh-TW":{f:"d HH:mm:ss.ms"},"zh-CHS":{f:"d HH:mm:ss.ms"}},ToIOFieldDateFormat:{en:{f:"%2d/%2d/%04d",ph:"__/__/____",sep:"/ ",p1:"month",p2:"date",p3:"year"},es:{f:"%02d/%02d/%04d",ph:"__.__.____",sep:". ",p1:"date",p2:"month",p3:"year"},de:{f:"%02d.%02d.%04d",ph:"__.__.____",sep:". ",p1:"date",p2:"month",p3:"year"},fr:{f:"%02d/%02d/%04d",ph:"__.__.____",sep:". ",p1:"date",p2:"month",p3:"year"},it:{f:"%02d/%02d/%04d",ph:"__.__.____",sep:". ",p1:"date",p2:"month",p3:"year"},ja:{f:"%04d/%02d/%02d",ph:"__.__.____",sep:". ",p1:"year",p2:"month",p3:"date"},ko:{f:"%04d-%02d-%02d",ph:"__.__.____",sep:". ",p1:"year",p2:"month",p3:"date"},"zh-TW":{f:"%04d.%2d.%2d",ph:"__.__.____",sep:". ",p1:"year",p2:"month",p3:"date"},"zh-CHS":{f:"%04d.%2d.%2d",ph:"__.__.____",sep:". ",p1:"year",p2:"month",p3:"date"}},ToIOFieldTimeFormat:{en:{f:"%2d:%02d:%02d %s",ph:"__:__:__ __",sep:": aApPmM",p1:"hour",p2:"min",p3:"sec",p4:"tm"},es:{f:"%2d:%02d:%02d",ph:"__:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"},de:{f:"%02d:%02d:%02d",ph:"__:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"},fr:{f:"%02d:%02d:%02d",ph:"__:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"},it:{f:"%02d:%02d:%02d",ph:"__:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"},ja:{f:"%2d:%02d:%02d",ph:"__:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"},ko:{f:"%s %2d:%02d:%02d",ph:"__:__:__",sep:": aApPmM",p1:"tm",p2:"hour",p3:"min",p4:"sec"},"zh-TW":{f:"%s %02d:%02d:%02d",ph:"__ __:__:__",sep:": aApPmM",p1:"tm",p2:"hour",p3:"min",p4:"sec"},"zh-CHS":{f:"%2d:%02d:%02d",ph:"__ __:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"}},ToIOFieldTimeMSFormat:{en:{f:"%2d:%02d:%02d.%03d %s",ph:"__:__:__.___ __",sep:":. aApPmM",p1:"hour",p2:"min",p3:"sec",p4:"msec",p5:"tm"},es:{f:"%2d:%02d:%02d.%03d",ph:"__:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"},de:{f:"%02d:%02d:%02d.%03d",ph:"__:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"},fr:{f:"%02d:%02d:%02d.%03d",ph:"__:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"},it:{f:"%02d:%02d:%02d.%03d",ph:"__:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"},ja:{f:"%2d:%2d:%02d.%03d",ph:"__:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"},ko:{f:"%s %2d:%2d:%02d.%03d",ph:"__:__:__.___",sep:":. aApPmM",p1:"tn",p2:"hour",p3:"min",p4:"sec",p5:"msec"},"zh-TW":{f:"%s %02d:%02d:%02d.%03d",ph:"__ __:__:__.___",sep:":. aApPmM",p1:"tm",p2:"hour",p3:"min",p4:"sec",p5:"msec"},"zh-CHS":{f:"%2d:%02d:%02d.%03d",ph:"__ __:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"}},ToSupportedLocale:{4:"zh-CHS",1025:"en",2049:"en",3073:"en",4097:"en",5121:"en",6145:"en",7169:"en",8193:"en",9217:"en",10241:"en",11265:"en",12289:"en",13313:"en",14337:"en",15361:"en",16385:"en",1026:"en",1027:"es",1028:"zh-TW",2052:"zh-CHS",3076:"zh-TW",4100:"zh-CHS",5124:"zh-TW",1029:"en",1030:"en",1031:"de",2055:"de",3079:"de",4103:"de",5127:"de",1032:"en",1033:"en",2057:"en",3081:"en",4105:"en",5129:"en",6153:"en",7177:"en",8201:"en",9225:"en",10249:"en",11273:"en",12297:"en",13321:"en",2058:"es",1034:"es",3082:"es",4106:"es",5130:"es",6154:"es",7178:"es",8202:"es",9226:"es",10250:"es",11274:"es",12298:"es",13322:"es",14346:"es",15370:"es",16394:"es",17418:"es",18442:"es",19466:"es",20490:"es",1035:"en",1036:"fr",2060:"fr",3084:"fr",4108:"fr",5132:"fr",6156:"fr",1037:"en",1038:"en",1039:"en",1040:"it",2064:"it",1041:"ja",1042:"ko",1043:"en",2067:"en",1044:"en",2068:"en",1045:"en",1046:"en",2070:"en",1048:"en",1049:"en",1050:"en",2074:"en",3098:"en",1051:"en",1052:"en",1053:"en",2077:"en",1054:"en",1055:"en",1056:"en",1057:"en",1058:"en",1059:"en",1060:"en",1061:"en",1062:"en",1063:"en",1065:"en",1066:"en",1067:"en",1068:"en",2092:"en",1069:"es",1071:"en",1078:"en",1079:"en",1080:"en",1081:"en",1086:"en",2110:"en",1087:"en",1088:"en",1089:"en",1091:"en",2115:"en",1092:"en",1094:"en",1095:"en",1097:"en",1098:"en",1099:"en",1102:"en",1103:"en",2128:"en",1110:"es",1111:"en",1114:"en",1125:"en",5146:"en",25626:"en",1117:"en"},ToCulture:{4:"zh-Hans",1025:"ar-SA",2049:"ar-IQ",3073:"ar-EG",4097:"ar-LY",5121:"ar-DZ",6145:"ar-MA",7169:"ar-TN",8193:"ar-OM",9217:"ar-YE",10241:"ar-SY",11265:"ar-JO",12289:"ar-LB",13313:"en",14337:"ar-AE",15361:"ar-BH",16385:"ar-QA",1026:"bg-BG",1027:"ca-ES",1028:"zh-TW",2052:"zh-CN",3076:"zh-HK",4100:"zh-SG",5124:"zh-MO",1029:"cs-CZ",1030:"da-DK",1031:"de-DE",2055:"de-CH",3079:"de-AT",4103:"de-LU",5127:"de-LI",1032:"el-GR",1033:"en-US",2057:"en-GB",3081:"en-AU",4105:"en-CA",5129:"en-NZ",6153:"en-IE",7177:"en-ZA",8201:"en-JM",9225:"en-CB",10249:"en-BZ",11273:"en-TT",12297:"en-ZW",13321:"en-PH",2058:"es-MX",1034:"es-ES",3082:"es-ES",4106:"es-GT",5130:"es-CR",6154:"es-PA",7178:"es-DO",8202:"es",9226:"es-VE",10250:"es-PE",11274:"es-AR",12298:"es-EC",13322:"es-CL",14346:"es-UY",15370:"es-PY",16394:"es-BO",17418:"es-SV",18442:"es-HN",19466:"es-NI",20490:"es-PR",1035:"fi-FI",1036:"fr-FR",2060:"fr-BE",3084:"fr-CA",4108:"fr-CH",5132:"fr-LU",6156:"fr-MC",1037:"he-IL",1038:"hu-HU",1039:"is-IS",1040:"it-IT",2064:"it-CH",1041:"ja-JP",1042:"ko-KR",1043:"nl-NL",2067:"nl-BE",1044:"nb-NO",2068:"nn-NO",1045:"pl-PL",1046:"en",2070:"pt-PT",1048:"ro-RO",1049:"ru-RU",1050:"hr-HR",2074:"sr-SP-Latn",3098:"sr-SP-Cyrl",1051:"sk-SK",1052:"sq-AL",1053:"sv-SE",2077:"sv-FI",1054:"th-TH",1055:"tr-TR",1056:"ur-PK",1057:"id-ID",1058:"uk-U",1059:"be-BY",1060:"sl-SI",1061:"et-EE",1062:"lv-LV",1063:"lt-LT",1065:"fa-IR",1066:"vi-VN",1067:"hy-AM",1068:"az-AZ-Latn",2092:"az-AZ-Cyrl",1069:"eu-ES",1071:"mk-MK",1078:"af-ZA",1079:"ka-GE",1080:"fo-FO",1081:"hi-IN",1086:"ms-MY",2110:"ms-BN",1087:"kk-KZ",1088:"ky-KG",1089:"sw-KE",1091:"uz-UZ-Latn",2115:"uz-UZ-Cyrl",1092:"tt-RU",1094:"pa-IN",1095:"gu-IN",1097:"ta-IN",1098:"te-IN",1099:"kn-IN",1102:"mr-IN",1103:"sa-IN",2128:"mn-MN",1110:"gl-ES",1111:"kok-IN",1114:"syr-SY",1125:"div-MV",5146:"bs-BA-Latn",25626:"bs-BA-Cyrl",1117:"iu-CA-Latn"},ToLocale:{af:54,"af-za":1078,sq:28,"sq-al":1052,"gsw-fr":1156,"am-et":1118,ar:1,"ar-dz":5121,"ar-bh":15361,"ar-eg":3073,"ar-iq":2049,"ar-jo":11265,"ar-kw":13313,"ar-lb":12289,"ar-ly":4097,"ar-ma":6145,"ar-om":8193,"ar-qa":16385,"ar-sa":1025,"ar-sy":10241,"ar-tn":7169,"ar-ae":14337,"ar-ye":9217,hy:43,"hy-am":1067,"as-in":1101,az:44,"az-cyrl-az":2092,"az-latn-az":1068,"ba-ru":1133,eu:45,"eu-es":1069,be:35,"be-by":1059,"bn-bd":2117,"bn-in":1093,"bs-cyrl-ba":8218,"bs-latn-ba":5146,"br-fr":1150,bg:2,"bg-bg":1026,ca:3,"ca-es":1027,"zh-hk":3076,"zh-mo":5124,"zh-cn":2052,"zh-hans":4,"zh-sg":4100,"zh-tw":1028,"zh-hant":31748,"co-fr":1155,hr:26,"hr-hr":1050,"hr-ba":4122,cs:5,"cs-cz":1029,da:6,"da-dk":1030,"prs-af":1164,div:101,"div-mv":1125,nl:19,"nl-be":2067,"nl-nl":1043,en:9,"en-au":3081,"en-bz":10249,"en-ca":4105,"en-029":9225,"en-in":16393,"en-ie":6153,"en-jm":8201,"en-my":17417,"en-nz":5129,"en-ph":13321,"en-sg":18441,"en-za":7177,"en-tt":11273,"en-gb":2057,"en-us":1033,"en-zw":12297,et:37,"et-ee":1061,fo:56,"fo-fo":1080,"fil-ph":1124,fi:11,"fi-fi":1035,fr:12,"fr-be":2060,"fr-ca":3084,"fr-fr":1036,"fr-lu":5132,"fr-mc":6156,"fr-ch":4108,"fy-nl":1122,gl:86,"gl-es":1110,ka:55,"ka-ge":1079,de:7,"de-at":3079,"de-de":1031,"de-li":5127,"de-lu":4103,"de-ch":2055,el:8,"el-gr":1032,"kl-gl":1135,gu:71,"gu-in":1095,"ha-latn-ng":1128,he:13,"he-il":1037,hi:57,"hi-in":1081,hu:14,"hu-hu":1038,is:15,"is-is":1039,"ig-ng":1136,id:33,"id-id":1057,"iu-latn-ca":2141,"iu-cans-ca":1117,"ga-ie":2108,"xh-za":1076,"zu-za":1077,it:16,"it-it":1040,"it-ch":2064,ja:17,"ja-jp":1041,kn:75,"kn-in":1099,kk:63,"kk-kz":1087,"km-kh":1107,"qut-gt":1158,"rw-rw":1159,sw:65,"sw-ke":1089,kok:87,"kok-in":1111,ko:18,"ko-kr":1042,ky:64,"ky-kg":1088,"lo-la":1108,lv:38,"lv-lv":1062,lt:39,"lt-lt":1063,"wee-de":2094,"lb-lu":1134,mk:47,"mk-mk":1071,ms:62,"ms-bn":2110,"ms-my":1086,"ml-in":1100,"mt-mt":1082,"mi-nz":1153,"arn-cl":1146,mr:78,"mr-in":1102,"moh-ca":1148,mn:80,"mn-mn":1104,"mn-mong-cn":2128,"ne-np":1121,no:20,"nb-no":1044,"nn-no":2068,"oc-fr":1154,"or-in":1096,"ps-af":1123,fa:41,"fa-ir":1065,pl:21,"pl-pl":1045,pt:22,"pt-br":1046,"pt-pt":2070,pa:70,"pa-in":1094,"quz-bo":1131,"quz-ec":2155,"quz-pe":3179,ro:24,"ro-ro":1048,"rm-ch":1047,ru:25,"ru-ru":1049,"smn-fi":9275,"smj-no":4155,"smj-se":5179,"se-fi":3131,"se-no":1083,"se-se":2107,"sms-fi":8251,"sma-no":6203,"sma-se":7227,sa:79,"sa-in":1103,sr:31770,"sr-cyrl-ba":7194,"sr-cyrl-sp":3098,"sr-cyrl-cs":3098,"sr-latn-ba":6170,"sr-latn-sp":2074,"sr-latn-cs":2074,"nso-za":1132,"tn-za":1074,"si-lk":1115,sk:27,"sk-sk":1051,sl:36,"sl-si":1060,es:10,"es-ar":11274,"es-bo":16394,"es-cl":13322,"es-co":9226,"es-cr":5130,"es-do":7178,"es-ec":12298,"es-sv":17418,"es-gt":4106,"es-hn":18442,"es-mx":2058,"es-ni":19466,"es-pa":6154,"es-py":15370,"es-pe":10250,"es-pr":20490,"es-es":3082,"es-us":21514,"es-uy":14346,"es-ve":8202,sv:29,"sv-fi":2077,"sv-se":1053,syr:90,"syr-sy":1114,"tg-cyrl-tj":1064,"tzm-latn-dz":2143,ta:73,"ta-in":1097,tt:68,"tt-ru":1092,te:74,"te-in":1098,th:30,"th-th":1054,"bo-cn":1105,tr:31,"tr-tr":1055,"tk-tm":1090,"ug-cn":1152,uk:34,"uk-ua":1058,"wen-de":1070,ur:32,"ur-pk":1056,uz:67,"uz-cyrl-uz":2115,"uz-latn-uz":1091,vi:42,"vi-vn":1066,"cy-gb":1106,"wo-sn":1160,"sah-ru":1157,"ii-cn":1144,"yo-ng":1130}}),_e=function(e,t){var i=t.texts.TBID_NML_LCID;e.lcid=i,e.texts=t.texts};var Se,be,Ce,ve,_e,Pe,Ae,we={setLocale:function(e,t){var i,r,a;if(void 0===(r=ve.ToSupportedLocale[e=e||1033])&&(O.consolLog(O.enumTraceMode.Error,"TextBib.setLocale() Wrong culture: "+e),r=ve.ToSupportedLocale[1033],e=1033),Se=e,r!==be)for(i in Ce.textResources)a=Ce.textResources[i],function(e,t,i){var r=e+t+".json";r+=S.assetSuffix,D.ajax({url:r,async:false,dataType:"json",error:function(e){O.traceErr(e,"TextBib.readText(): "+r);_e(i,De)},success:function(e){_e(i,e)}})}(t+"content/systemdata/"+i+"_",ve.ToFileSuffix[r],a),be=r},getLocale:function(){return Se},registerTextResource:function(e){e&&!Ce.textResources[e]&&(Ce.textResources[e]={texts:{}})},getText:function(e,t,i){return Ce.textResources[t=t||"WebUX"]&&Ce.textResources[t].texts[e]?Ce.textResources[t].texts[e]:i||"Text:"+e.toString()},getLocaleMaps:function(e){return e?Object.defineProperty({},e,{value:ve[e],enumerable:!0}):ve},getLocaliziedDateTimeFormat:function(e){var t=be||ve.ToSupportedLocale[1033];switch(e){case"TBID_NML_DF_Default_Date":return ve.ToDefaultDateFormat[t];case"TBID_NML_DF_Default_Time":return ve.ToDefaultTimeFormat[t];case"TBID_NML_DF_Default_Duration":return ve.ToDefaultDurationFormat[t];case"TBID_NML_DF_IOField_Date":return ve.ToIOFieldDateFormat[t];case"TBID_NML_DF_IOField_Time":return ve.ToIOFieldTimeFormat[t];case"TBID_NML_DF_IOField_TimeMS":return ve.ToIOFieldTimeMSFormat[t]}return null},getCultureByLocaleId:function(e){e=ve.ToCulture[e=e||1033];return e=void 0===e?ve.ToCulture[1033]:e},getLocaleIdByCulture:function(e){return ve.ToLocale[e.toLowerCase()]||1033}},Ve=(Pe={},Ae=function(e){return!!e.gfxWebLib.interaction.checkPermission(e,!1)&&M.getProp(e,"Enabled")},"undefined"!=typeof SWAC&&SWAC.Container&&(SWAC.Container.onCreated.subscribe(function(e){var n,e=e.data.name,o=Ve.getItem(e);o&&(n=SWAC.Container.get({name:e})).onReady.subscribe(function(e){n.onMouseEvents&&window.MouseEvent&&n.onMouseEvents.subscribe(function(){var e=c.Pointers.mapEventName("mousedown"),e=new window.MouseEvent(e,{bubbles:!1});o.domNode.dispatchEvent(e)},"mousedown");var i=o.props.Properties;if(n.dpc.list().forEach(function(e){var t=i[e];void 0!==t&&n.dpc.set(e,t)}),n.dpc.onValueChanged.subscribe(function(e){var t=e.data.key,e=e.data.value;P.equals(o.props.Properties[t],e)||(o.props.Properties[t]=e,o.gfxWebLib.connection.sendPartPropertyByName(o.rtoid,"Properties",t,e,!1,!0))}),E.hasActions(o)){var t,r,a=n.proxy;for(r in a)a.hasOwnProperty(r)&&"object"==typeof(t=a[r])&&t.subscribe&&t.subscribe(function(e){o.gfxWebLib.connection.sendEventByName(o.rtoid,e.type,e.data)})}o.control.handler.onReady(o)})}),SWAC.Container.onFailure.subscribe(function(e){"integrityCheck"!==e.data.details.phase&&O.consolLog(O.enumTraceMode.Error,"Component failed during "+e.data.details.phase+": "+e.data.name)})),{DOM_TYPE:"html",onInit:function(e){Ee(e)},onChanged:function(e,t,i){var r,a,n,o,s,l,u;r=e,a=t,(t=(i=i)?(n={},"Properties"===(o=(s=i.split(":"))[0].split("."))[0]?(i=M.getPart(r,i),D.extend(i,a),1<s.length&&(n[(o=s[1].split("."))[0]]=M.getPart(r,"Properties:"+o[0]),a=n),{Properties:a}):(n[o[0]]=a,n)):a).ContainedType&&!e.readyState&&(e.props.ContainedType=t.ContainedType,0<e.control.width)&&0<e.control.height&&(xe(e),e.readyState=1),2===e.readyState?(i=e,s=t,(u=SWAC.Container.get({name:i.rtoid}))&&(s.Properties?(l=s.Properties,u.dpc.list().forEach(function(e){void 0!==l[e]&&u.dpc.set(e,l[e])})):(D.extend(!0,i.props,s),void 0!==s.Visible&&Re(i),void 0!==s.Enabled&&Ie(i)))):O.consolLog(O.enumTraceMode.Error,"onChanged call in wrong readyState: "+e.rtoid+" readyState: "+e.readyState)},onCurrentStyle:function(e,t){e.handler.changeTemplate(e)},onResized:function(e){e.readyState?Le(e):xe(e)&&(e.readyState=1)},onCleanUp:function(e){(t=e)===Pe[t.rtoid]&&delete Pe[t.rtoid];var t=SWAC.Container.get({name:e.rtoid});t&&t.beginRemove().then(function(){},function(e){11007!==e.reasonCode&&O.traceErr(e,"HmiSWACContainer.onCleanup()")})},getItem:function(e){return Pe[e]},invokeMethod:function(e,t){2===e.readyState?Be(e,t):(e.methods=e.methods||[],e.methods.push(t))},onReady:function(e){e.readyState=2,R.handleDelayedUpdates(e);var t=e,i=t.methods;if(i){O.consolLog(O.enumTraceMode.Info,"HmiSWACContainer._invokeCachedMethods: "+t.rtoid);for(var r=0;r<i.length;r++)Be(t,i[r]);delete t.methods}Le(e),Ie(e),Re(e)},isReady:function(e){return 2===e.readyState},setLocale:function(e){"undefined"!=typeof SWAC&&SWAC.Container&&(e=we.getCultureByLocaleId(e),SWAC.Container.setLanguage(e))}});function xe(i){var e=M,t=e.getProp(i,"ContainedType"),r=e.getProp(i,"Url");return t&&(-1!==t.indexOf("SwacLogin")&&(i.SwacLogin=!0),SWAC.Container.beginCreate([{name:i.rtoid,source:r,type:t,parent:i.control.domNode,settings:{width:i.control.width+"px",height:i.control.height+"px",flavor:"ui",designMode:i.gfxWebLib.appMode===zl.EDIT}}]).then(function(e){var t=SWAC.Container.get({name:i.rtoid});t&&P.bindIframeEvents(t)},function(e){O.consolLog(O.enumTraceMode.Error,"Component "+i.rtoid+" could not be created"),i.SwacLogin&&i.gfxWebLib.dialogs.showRuntimeDialogWithIcon("The url "+r+" is unavailable.","fa fa-warning fa-3x","SwacLogin")}),1)}function Ee(e){e.props.ContainedType||O.consolLog(O.enumTraceMode.Error,"initItem ContainedType is missing! item: "+e.rtoid),e.readyState=0,e.props.Properties=e.props.Properties||{},e.control.domNode=_.createDomElement("div",{style:"position:absolute; pointer-events:visiblePainted;",appendTo:e.control.domParent}),e._overlay=_.createDomElement("div",{style:"position:absolute; display:none; left:0px; top:0px; width:100%; height:100%; background-color:rgba( 225, 225, 225, 0 );",appendTo:e.control.domNode}),Pe[e.rtoid]=e}function Ie(e){e.control.domNode.appendChild(e._overlay),Ae(e)?e._overlay.style.display="none":e._overlay.style.display="block"}function Re(e){var t=M.getProp(e,"Visible");(e=SWAC.Container.get({name:e.rtoid}))&&e.hasUI()&&e.beginShow(t)}function Be(e,t){var i=SWAC.Container.get({name:e.rtoid});if(i)if(e.SwacLogin&&"beginLogin"===t.name){var r=i,a=e,n=t,o=r.proxy[n.name];if(typeof o==="function"){var s=n.params;s.service=a.gfxWebLib.umcservice.getServiceEndpoint();s.dontnotifyrenew=true;s.sigalg="PS256";o.call(r,s).then(function(i){O.consolLog(O.enumTraceMode.Info,"beginLogin succeeded");if(i.claim)a.gfxWebLib.umcservice.init(i.claim,s.changeuser);a.gfxWebLib.umcservice.getKey(function(e,t){if(!e){i.key=t.newkey;i.keysig=t.sig}a.gfxWebLib.connection.sendAsyncMethodResult(a.rtoid,n.id,i)})},function(e){O.consolLog(O.enumTraceMode.Error,"beginLogin failed")})}}else{var o=i,l=e,u=t,r=o.proxy[u.name];if(typeof r==="function"){i=u.params;if(!Array.isArray(i)){i=[];i.push(u.params)}r.apply(o,i).then(function(e){O.consolLog(O.enumTraceMode.Info,"Successfully called method "+u.name);l.gfxWebLib.connection.sendAsyncMethodResult(l.rtoid,u.id,e)},function(e){O.consolLog(O.enumTraceMode.Error,"Failed calling method "+u.name)})}}}function Le(e){var t=SWAC.Container.get({name:e.rtoid});e.control.domNode.style.width=e.control.width+"px",e.control.domNode.style.height=e.control.height+"px",t&&t.hasUI()&&t.beginPosition("0px","0px",e.control.width+"px",e.control.height+"px")}var Me,Fe,He,Oe,Ne,ke,We,Ge,Ue,ze,je,Ye,Xe,qe,Ke=Ve,Ze=(ke=v,Ue=Ge=We=null,ze={},je=function(e){var t;e.control.domNode.appendChild(e._overlay),!!(t=e).gfxWebLib.interaction.checkPermission(t,!1)&&M.getProp(t,"Enabled")?e._overlay.style.display="none":e._overlay.style.display="block"},Ye=function(e,t){var i=M.getProp(e,"Visible"),e=SWAC.Container.get({name:e.rtoid});e&&e.hasUI()&&(e.beginShow(i),t)&&e._internal&&e._internal.iframe&&e._internal.iframe.show(i)},Xe=function(e){return et(e)?D.filter(e,function(e){return"."!==e[0]&&"ElementID"!==e&&"Type"!==e}):e},qe=function(e){return et(e)?D.filter(e,function(e){return"ElementID"!==e&&"Type"!==e}):e},"undefined"!=typeof SWAC&&SWAC.Container&&((Me=window.location.origin+window.location.pathname).endsWith("/")||((Me.endsWith(".html")||Me.endsWith(".htm"))&&(Me=Me.slice(0,Me.lastIndexOf("/"))),Me+="/"),Fe=function(e){if(-1!==e.indexOf("<root>")){var t=JSON.parse(e);if(Array.isArray(t)&&1<t.length&&-1!==(t=t[t.length-1]).indexOf("<")&&-1!==t.indexOf(">"))return t.slice(t.indexOf("<")+1,t.indexOf(">"))}return e},Ne={},We={unregisterService:function(e){delete Ne[e]},DomainLogic:{sendData:function(e,t,i){e=Ne[e];return"object"==typeof e&&(e.onDLSendData.fire({id:t,data:i}),!0)},onStyleChanged:function(e,t){e=Ne[e];return"object"==typeof e&&(e.onStyleChanged.fire(t),!0)},Service:function(a){a=Fe(a),(Ne[a]=this).sendDLEvent=function(e,t){var i=Ze.getItem(a);i&&(i=function(e){for(;e._dialog;)e=e._dialog.parent;return e}(i)).gfxWebLib.connection.sendDomainLogicEvent(i.rtoid,e,[0],[t])},this.onDLSendData=new SWAC.Eventing.Event("onDLSendData"),this.onStyleChanged=new SWAC.Eventing.Event("onStyleChanged"),this.getConfig=function(){var e=Ze.getItem(a),t=e.gfxWebLib.connection.getImageUrl();return{downloadUrl:t.replace("resources","download"),uploadUrl:t.replace("resources","upload"),styleName:e.gfxWebLib.getStyle(!0),channelNames:e.gfxWebLib.channelregistry.browse()}},this.channels={},this.onChannelCallback=new SWAC.Eventing.Event("onChannelCallback"),this.openChannel=(t,i,r,e)=>{Ze.getItem(a).gfxWebLib.channelregistry.open(e).then(e=>{this.channels[r]=e,this.onChannelCallback.fire({guid:t,payload:{guid:i}})},e=>{this.onChannelCallback.fire({guid:t,payload:{guid:i,error:e}})})},this.callChannel=(e,i,t,r,a)=>{switch(e){case"fire":var n=this.channels[i];n&&n.fire(r);break;case"request":n=this.channels[i];n&&n.request(r).then(e=>{this.onChannelCallback.fire({guid:i,payload:{guid:t,data:e}})},e=>{this.onChannelCallback.fire({guid:i,payload:{guid:t,error:e}})});break;case"subscribe":n=this.channels[i];n&&n.subscribe(r,(e,t)=>{this.onChannelCallback.fire({guid:i,payload:{guid:a,data:t}})}).then(e=>{this.onChannelCallback.fire({guid:i,payload:{guid:t,data:{id:e.id}}})},e=>{this.onChannelCallback.fire({guid:i,payload:{guid:t,error:e}})});break;case"unsubscribe":n=this.channels[i];n&&n.unsubscribe(a).then(e=>{this.onChannelCallback.fire({guid:i,payload:{guid:t,data:e}})},e=>{this.onChannelCallback.fire({guid:i,payload:{guid:t,error:e}})});break;case"close":n=this.channels[i];n&&(n.close(),delete this.channels[i])}}}},Formatting:{Service:function(){this.format=function(e,t){return H.format(e,t)},this.getConfig=function(){return{cldrDataPath:Me+"content/systemdata/cldr-data",cldrTimeZoneJson:H.Timezone.getTimeZoneJson(),localeMaps:we.getLocaleMaps("ToCulture")}}}},TextBib:{Service:function(){this.getConfig=function(){return{localeMaps:we.getLocaleMaps()}}}}},Oe={},Ge={unregisterService:function(e){delete Oe[e]},Dialogues:{Service:function(n){n=Fe(n),(Oe[n]=this).beginOpen=function(e,t,i,r){var a=Ze.getItem(n),a=a.gfxWebLib.dialogs.showCCDialog(a,e,t,i,r);if(a)return a.rtoid},this.beginClose=function(e,t){e=Ze.getItem(e);return e.gfxWebLib.dialogs.closeCCDialog(e),t},this.beginCancel=function(e,t){e=Ze.getItem(e);return e.gfxWebLib.dialogs.closeCCDialog(e),t},this.selfGetDialog=function(){var e,t=Ze.getItem(n);return t&&t._dialog?(e={id:t._dialog.id,data:t._dialog.data},t._dialog.data=null,e):null},this.selfClose=function(e,t){var i=Ze.getItem(n),i=Oe[i._dialog.parent.rtoid];i&&i.onCloseDialog.fire({id:e,cancel:!1,data:t})},this.selfCancel=function(e,t){var i=Ze.getItem(n),i=Oe[i._dialog.parent.rtoid];i&&i.onCloseDialog.fire({id:e,cancel:!0,data:t})},this.onCloseDialog=new SWAC.Eventing.Event("onCloseDialog")}}},He={},Ue={unregisterService:function(e){delete He[e]},Pickers:{Service:function(a){a=Fe(a),(He[a]=this).openPicker=function(e,t){var i=Ze.getItem(a),r=He[i.rtoid];return!(!r||(t.callback=function(e,t){r.onClosePicker.fire({value:t})},"DateTimePicker"!==e)||(i.gfxWebLib.dialogs.showDateTimePicker(i,t),0))},this.onClosePicker=new SWAC.Eventing.Event("onClosePicker")}}},SWAC.Services.register("hmi.dl",We.DomainLogic.Service,{delegable:!1}),SWAC.Services.register("formatting.output",We.Formatting.Service,{delegable:!1}),SWAC.Services.register("dialogues",Ge.Dialogues.Service,{delegable:!1}),SWAC.Services.register("textbib",We.TextBib.Service,{delegable:!1}),SWAC.Services.register("picker",Ue.Pickers.Service,{delegable:!1}),SWAC.Container.onCreated.subscribe(function(e){var h,e=e.data.name,d=Ze.getItem(e);d&&(h=SWAC.Container.get({name:e})).onReady.subscribe(function(){h.onMouseEvents&&window.MouseEvent&&h.onMouseEvents.subscribe(function(){var e=c.Pointers.mapEventName("mousedown"),e=new window.MouseEvent(e,{bubbles:!1});d.domNode.dispatchEvent(e)},"mousedown");var e,t,i=[],r=[],a=d.props.Properties,n=h.dpc.open("properties"),o=(n&&(n.list().forEach(function(e){var t=a[e];void 0!==t&&r.push(n.beginSet(e,qe(t)))}),i.push(Promise.all(r).then(()=>{n.onValueChanged.subscribe(function(e){var t=e.data.key.substr("properties.".length),e=e.data.value,i=d.props.Properties[t];P.equals(qe(i),e)||(et(i)?(D.extend(!0,i,e),d.gfxWebLib.connection.sendPartPropertyByName(d.rtoid,"Properties",t,i,!1,!0)):(d.props.Properties[t]=e,d.gfxWebLib.connection.sendPartPropertyByName(d.rtoid,"Properties",t,e,!1,!0)))})}))),[]),s=d._props,l=h.dpc.open("container"),u=(l&&(l.list().forEach(function(e){void 0!==s[e]&&o.push(l.beginSet(e,Xe(d.props[e])))}),i.push(Promise.all(o).then(()=>{l.onValueChanged.subscribe(function(e){var t=e.data.key.substr("container.".length),e=e.data.value,i=M.getPropRaw(d,t);P.equals(Xe(i),e)||(d.gfxWebLib.connection.sendPropertyByName(d.rtoid,t,e,!1,!0),d.handler.applyChanged(d,t,e),"Visible"===t?Ye(d):"Enabled"===t&&je(d))})}))),delete d._props,h.proxy);for(e in u)u.hasOwnProperty(e)&&"object"==typeof(t=u[e])&&t.subscribe&&t.subscribe(function(e){d.gfxWebLib.connection.sendEventByName(d.rtoid,e.type,e.data)});Promise.all(i).then(()=>{d.control.handler.onReady(d)}),Ye(d,!0)})}),SWAC.Container.onFailure.subscribe(function(e){"integrityCheck"!==e.data.details.phase&&O.consolLog(O.enumTraceMode.Error,"Control failed during "+e.data.details.phase+": "+e.data.name)})),{DOM_TYPE:"html",onInit:function(e){$e(e)},onChanged:function(e,t,i){t.ContainedType&&!e.readyState&&(e.props.ContainedType=t.ContainedType,0<e.control.width)&&0<e.control.height&&(Je(e),e.readyState=1),2===e.readyState?(e.transactions=e.transactions||[],e.transactions.push({props:t,part:i}),(t=SWAC.Container.get({name:e.rtoid})).transaction.isActive()||rt(e,t)):O.consolLog(O.enumTraceMode.Error,"onChanged call in wrong readyState: "+e.rtoid+" readyState: "+e.readyState)},onCreatePart:function(e,t,i){var r={},a=t.split(":");1<a.length&&(t=t.substr(0,t.lastIndexOf(".")),t=M.getPart(e,t),Array.isArray(t))&&(t.push(i),r[(t=a[1].split("."))[0]]=M.getPart(e,"Properties:"+t[0]),tt(e,{Properties:r}))},onDeletePart:function(e,t){var i,r={},a=t.split(":");1<a.length&&(i=t.substr(0,t.lastIndexOf(".")),i=M.getPart(e,i),Array.isArray(i))&&(t=parseInt(t.substr(t.lastIndexOf(".")+1),10),-1!==(t=M.findIndexByID(i,t)))&&(i.splice(t,1),r[(i=a[1].split("."))[0]]=M.getPart(e,"Properties:"+i[0]),tt(e,{Properties:r}))},onMovePart:function(e,t,i){var r,a={},n=t.split(":");1<n.length&&(r=t.substr(0,t.lastIndexOf(".")),r=M.getPart(e,r),Array.isArray(r))&&(t=parseInt(t.substr(t.lastIndexOf(".")+1),10),-1!==(t=M.findIndexByID(r,t)))&&(t=r.splice(t,1),r.splice(i,0,t[0]),a[(r=n[1].split("."))[0]]=M.getPart(e,"Properties:"+r[0]),tt(e,{Properties:a}))},onDLSendData:function(e,t,i){if(We)for(var r in We.DomainLogic.sendData(e.rtoid,t,i),ze)if(ze.hasOwnProperty(r)){r=ze[r];if(r._dialog&&r._dialog.parent===e)return void Ze.onDLSendData(r,t,i)}},onCurrentStyle:function(e,t){if(e.handler.changeTemplate(e),We)for(var i in We.DomainLogic.onStyleChanged(e.rtoid,t),ze)if(ze.hasOwnProperty(i)){i=ze[i];if(i._dialog&&i._dialog.parent===e)return i.props.CaptionColor=e.props.CaptionColor,i.props.FocusColor=e.props.FocusColor,i.props.RenderingTemplate=e.props.RenderingTemplate,void Ze.onCurrentStyle(i,t)}},onResized:function(e){var t,i,r,a;e.readyState?(t=e,i=SWAC.Container.get({name:t.rtoid}),r=t.control.width+"px",a=t.control.height+"px",t.control.domNode.style.width=r,t.control.domNode.style.height=a,i&&i.hasUI()&&i.beginPosition("0px","0px",r,a)):Je(e)&&(e.readyState=1)},onCleanUp:function(e){(t=e)===ze[t.rtoid]&&delete ze[t.rtoid],We&&We.unregisterService(t.rtoid),Ge&&Ge.unregisterService(t.rtoid),Ue&&Ue.unregisterService(t.rtoid);var t=SWAC.Container.get({name:e.rtoid});t&&t.beginRemove().then(Qe,function(e){11007!==e.reasonCode&&O.traceErr(e,"HmiCustomWebControlContainer.onCleanup()")})},getItem:function(e){return ze[e]},invokeMethod:function(e,t){2===e.readyState?it(e,t):(e.methods=e.methods||[],e.methods.push(t))},onReady:function(e){e.readyState=2,R.handleDelayedUpdates(e);var t=e,i=t.methods;if(i){O.consolLog(O.enumTraceMode.Info,"HmiCustomWebControlContainer._invokeCachedMethods: "+t.rtoid);for(var r=0;r<i.length;r++)it(t,i[r]);delete t.methods}je(e)},isReady:function(e){return 2===e.readyState},createDialogPage:function(e,t){(t=t||{}).window=t.window||{};var i={startURL:t.view,_dialog:{id:t.id,data:t.data,parent:e}},t={Operability:ke.HmiOperability.Operable,Name:t.id,Left:t.window.Left||0,Top:t.window.Top||0,Width:t.window.Width||100,Height:t.window.Height||100,WindowFlags:t.window.WindowFlags||0,Caption:{Text:t.window.Caption||"",ForeColor:e.props.Caption.ForeColor,Font:{Name:e.props.Caption.Font.Name,Size:e.props.Caption.Font.Size,Underline:e.props.Caption.Font.Underline,StrikeOut:e.props.Caption.Font.StrikeOut,Weight:e.props.Caption.Font.Weight,Italic:e.props.Caption.Font.Italic}},BackColor:t.window.BackColor||0,ContainedType:e.props.ContainedType,RenderingTemplate:e.props.RenderingTemplate,CaptionColor:e.props.CaptionColor,FocusColor:e.props.FocusColor},r="_"+SWAC.Guid.generate(),e=e.gfxWebLib.createHmiObject("CustomWebControlContainer",e.rtoid+r,t,i);return e&&e.control?e:null}});function Qe(){}function Je(t){var e,i=M.getProp(t,"ContainedType"),r=t.control.width+"px",a=t.control.height+"px";return i&&(e=t.gfxWebLib.connection.getCustomControlUrl()+i+"/",t.startURL&&(t.gfxWebLib.appMode!==zl.EDIT?e+=t.startURL.split("/").pop():e=t.startURL),t.control.domNode.style.width=r,t.control.domNode.style.height=a,SWAC.Container.beginCreate([{name:t.rtoid,source:e,type:i,parent:t.control.domNode,settings:{width:r,height:a,flavor:"ui",designMode:t.gfxWebLib.appMode===zl.EDIT}}]).then(function(){var e=SWAC.Container.get({name:t.rtoid});e&&P.bindIframeEvents(e)},function(){O.consolLog(O.enumTraceMode.Error,"Control "+t.rtoid+" could not be created")}),1)}function $e(e){e.props.ContainedType||O.consolLog(O.enumTraceMode.Error,"initItem ContainedType is missing! item: "+e.rtoid),e.readyState=0,e.props.Properties=e.props.Properties||{},e.control.domNode=_.createDomElement("div",{style:"position:absolute; pointer-events:visiblePainted;",appendTo:e.control.domParent}),e._overlay=_.createDomElement("div",{style:"position:absolute; display:none; left:0px; top:0px; width:100%; height:100%; background-color:rgba( 225, 225, 225, 0 );",appendTo:e.control.domNode}),ze[e.rtoid]=e}function et(e){return"object"==typeof e&&null!==e}function tt(t,i){var r,a,n,o=!1,e=SWAC.Container.get({name:t.rtoid});return e&&(i.Properties?(r=t.props.Properties,a=i.Properties,(n=e.dpc.open("properties"))&&n.list().forEach(function(e){void 0!==a[e]&&(n.beginSet(e,qe(r[e])),o=!0)})):((n=e.dpc.open("container"))&&n.list().forEach(function(e){void 0!==i[e]&&(n.beginSet(e,Xe(t.props[e])),o=!0)}),void 0!==i.Visible&&Ye(t),void 0!==i.Enabled&&je(t))),o}function it(t,i){var e,r,a=SWAC.Container.get({name:t.rtoid});a&&"function"==typeof(e=a.proxy[i.name])&&(r=i.params,Array.isArray(r)||(r=[]).push(i.params),e.apply(a,r).then(function(e){t.gfxWebLib.connection.sendAsyncMethodResult(t.rtoid,i.id,e)},function(e){O.consolLog(O.enumTraceMode.Error,"Failed calling method "+i.name)}))}function rt(t,i){var e,r,a,n,o,s=t.transactions.shift(),s=(e=t,r=s.props,(s=s.part)?(a={},"Properties"===(o=(n=s.split(":"))[0].split("."))[0]?(s=M.getPart(e,s),D.extend(s,r),1<n.length&&(a[(o=n[1].split("."))[0]]=M.getPart(e,"Properties:"+o[0]),r=a),{Properties:r}):(a[o[0]]={},a)):r);i.transaction.start(),tt(t,s)?i.transaction.beginCommit().then(function(e){0<t.transactions.length&&rt(t,i)},function(e){O.consolLog(O.enumTraceMode.Error,"beginCommit failed, errorCode: "+e.reasonCode+" error message: "+e.message),0<t.transactions.length?rt(t,i):i.transaction.isActive()&&i.transaction.cancel()}):0<t.transactions.length?rt(t,i):i.transaction.cancel()}var at=Ze;function nt(e,t,i,r){e.control&&"FaceplateContainer"!==e.props.Type||void 0!==(t=M.getProp(e,t,F.enumConverter[i],0))&&(null!==t?e.domNode.style.setProperty(r,t):e.domNode.style.removeProperty(r))}function ot(e){for(var t=e.firstElementChild;t;)t.style&&"defs"!==t.nodeName&&(t.style["pointer-events"]="visiblePainted"),t=t.nextElementSibling}function st(e,t){var i=M,r=F;e.domSvgNode.setAttribute("focusable",!1),e.domSvgNode.setAttribute("width",Math.max(0,i.getProp(e,"Width"))),e.domSvgNode.setAttribute("height",Math.max(0,i.getProp(e,"Height"))),e.domSvgNode.style["pointer-events"]="none",ot(e.domSvgNode),e.domSvgNode.setAttribute("opacity",i.getProp(e,"Opacity",r.enumConverter.None,1)),E.setEnabled(e),e.quality=E.Quality.create(e),E.Quality.ShowQuality(e),nt(e,"RotationAngle","TransformRotate","transform"),nt(e,"RotationCenterX","TransformOriginPlaced","transform-origin"),e.operable&&(P.isScreenContainer(e)?e.domSvgNode:e.domNode).style.setProperty("touch-action","none"),e.handler&&e.handler.onScopeInitialized&&e.handler.onScopeInitialized(e,t)}function lt(e,t){var i=F,r=E,a=f;void 0!==t.Enabled&&r.setEnabled(e),e.domNode&&(void 0!==t.Visible&&(e.domNode.style.display=i.convertTo(i.enumConverter.Display,t.Visible,e)),void 0!==t.Left&&(e.domNode.style.left=t.Left+"px",a.fireEvent(e,"Moved")),void 0!==t.Top&&(e.domNode.style.top=t.Top+"px",a.fireEvent(e,"Moved")),void 0!==t.RotationAngle&&(nt(e,"RotationAngle","TransformRotate","transform"),"hidden"!==e.domNode.style.getPropertyValue("backface-visibility"))&&e.domNode.style.setProperty("backface-visibility","hidden"),void 0===t.RotationCenterX&&void 0===t.RotationCenterY&&void 0===t.RotationCenterPlacement||(nt(e,"RotationCenterPlacement","TransformOriginPlaced","transform-origin"),r.Quality.ShowQuality(e)),void 0===t.CurrentQuality&&void 0===t.VisualizeQuality||r.Quality.ShowQuality(e),void 0!==t.Name)&&e.domNode.setAttribute("data-tif-id",t.Name),e.domSvgNode&&(void 0===t.Width&&void 0===t.Height||(void 0!==t.Width&&e.domSvgNode.setAttribute("width",Math.max(0,t.Width)),void 0!==t.Height&&e.domSvgNode.setAttribute("height",Math.max(0,t.Height)),nt(e,"RotationCenterPlacement","TransformOriginPlaced","transform-origin"),r.Quality.ShowQuality(e),a.fireEvent(e,"Resized")),void 0!==t.Opacity)&&e.domSvgNode.setAttribute("opacity",t.Opacity)}function ut(e,t,i){var r;return e.popupContainer?(r={},"Left"===t?(E.getRelPosToTLSW(e.popupContainer,r),(i-r.x)/r.adaptScreenToWindowFactor):"Top"===t?(E.getRelPosToTLSW(e.popupContainer,r),(i-r.y)/r.adaptScreenToWindowFactor):i):i}var T={HANDLE_NAME:"WebRTPU.Handler",DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.Advanced.WebRTPU.Handler",DISABLE_SETSELECTIONPROPS:!1,onInit:function(e,t){var i=M,r=F;return e.handler.updateFrameAttributes=lt,e.popupContainer&&(e.handler.updatePopupPosition=ut),e.domNode=_.createDomElement("div",{style:"position:absolute; user-select:none; backface-visibility:hidden; left:"+i.getProp(e,"Left")+"px; top:"+i.getProp(e,"Top")+"px; display:"+i.getProp(e,"Visible",r.enumConverter.Display)+";"}),e.control&&(e.domNode.style.width="1px"),R.onInit(e,st,t),e.domNode},onCurrentLanguage:function(e){R.onCurrentLanguage(e)},onCurrentStyle:function(e){R.onCurrentStyle(e)},onChanged:function(e,t,i){return R.onChanged(e,t,i)},onCreatePart:function(e,t,i){return R.onCreatePart(e,t,i)},onDeletePart:function(e,t){return R.onDeletePart(e,t)},onMovePart:function(e,t,i){return R.onMovePart(e,t,i)},onFocus:function(e){R.onFocus(e)},onFocusOut:function(e){R.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return R.checkInnerNavigation(e,t,i,r)},onCleanUp:function(e){R.onCleanUp(e)},getPropertyBinding:function(){return null},getBounds:function(e){return R.getBounds(e)},onFlashing:function(e,t,i){R.onFlashing(e,t,i)},checkControlIsReady:function(e){return R.checkControlIsReady(e)},addDelayedUpdates:function(e,t,i,r){R.addDelayedUpdates(e,t,i,r)},handleDelayedUpdates:function(e){R.handleDelayedUpdates(e)},webRtpuIsArray:function(e){return R.webRtpuIsArray(e)},setAllPartProps:function(e,t){R.setAllPartProps(e,t)},registerWebRTPUContent:function(e,t,i){R.registerWebRTPUContent(e,t,i)},setParamProps:function(e,t,i){R.setParamProps(e,t,i)},getTemplatePrefixUri:function(e){return R.getTemplatePrefixUri(e)},loadSubTemplate:function(e,t,i,r,a,n){return R.loadSubTemplate(e,t,i,r,a,n)},removeSubTemplate:function(e){R.removeSubTemplate(e)},changeTemplate:function(e){e.templateInstance&&(e.templateInstance.remove(!0,!0,!1),e.templateInstance=null),"CustomWebControlContainer"!==e.props.Type&&"SwacContainer"!==e.props.Type||(e._controlProperties=D.extend(!0,{},e.props.Properties)),R.onInit(e,function(e){var t=M;e.domSvgNode.setAttribute("focusable",!1),e.domSvgNode.setAttribute("width",Math.max(0,t.getProp(e,"Width"))),e.domSvgNode.setAttribute("height",Math.max(0,t.getProp(e,"Height"))),e.domSvgNode.style["pointer-events"]="none",ot(e.domSvgNode),e.domSvgNode.setAttribute("opacity",t.getProp(e,"Opacity",0,1)),nt(e,"RotationAngle","TransformRotate","transform"),nt(e,"RotationCenterX","TransformOriginPlaced","transform-origin"),e.operable&&(P.isScreenContainer(e)?e.domSvgNode:e.domNode).style.setProperty("touch-action","none"),e._controlProperties&&(e.props.Properties=e._controlProperties,delete e._controlProperties)},!0)}};ct=(dt={extended_v16:{HmiScrollBarSystemPart:{BackColor:8421504,ThumbBackColor:4286348677,Floating:!(ht=""),RenderingTemplate:"include.scrollbar.svghmi"},HmiHeaderCellSystemPart:{BackColor:8421504,RenderingTemplate:"include.headercell.svghmi"},HmiSelectionSystemPart:{BackColor:4290822336,RenderingTemplate:"include.selection.svghmi"},HmiBackgroundSystemPart:{RenderingTemplate:"include.background.svghmi"},HmiDataCellSystemPart:{RenderingTemplate:"include.datacell.svghmi"},HmiListContainerSystemPart:{RenderingTemplate:"include.listcontainer.svghmi"},HmiMarkerSystemPart:{RenderingTemplate:"include.marker.svghmi"},HmiRulerIndicatorSystemPart:{RenderingTemplate:"include.rulerindicator.svghmi"},HmiTooltipSystemPart:{BackColor:4294967295,RenderingTemplate:"include.tooltip.svghmi"}},extended:{HmiScrollBarSystemPart:{BackColor:8421504,ThumbBackColor:4286348677,Floating:!0,RenderingTemplate:"include.style.extended.scrollbar.svghmi"},HmiHeaderCellSystemPart:{BackColor:8421504,RenderingTemplate:"include.style.extended.headercell.svghmi"},HmiSelectionSystemPart:{BackColor:4290822336,RenderingTemplate:"include.style.extended.selection.svghmi"},HmiBackgroundSystemPart:{RenderingTemplate:"include.style.extended.background.svghmi"},HmiDataCellSystemPart:{RenderingTemplate:"include.style.extended.datacell.svghmi"},HmiListContainerSystemPart:{RenderingTemplate:"include.style.extended.listcontainer.svghmi"},HmiMarkerSystemPart:{RenderingTemplate:"include.style.extended.marker.svghmi"},HmiRulerIndicatorSystemPart:{RenderingTemplate:"include.style.extended.rulerindicator.svghmi"},HmiTooltipSystemPart:{RenderingTemplate:"include.style.extended.tooltip.svghmi"}},flat_bright:{HmiWindowFrameSystemPart:{BorderColor:4286288546},HmiScrollBarSystemPart:{BackColor:4291680737,ThumbBackColor:4286288546,FocusColor:4280704255,BorderWidth:0,Thickness:20,RenderingTemplate:"include.style.flat.scrollbar.svghmi"},HmiHeaderCellSystemPart:{BackColor:8421504,RenderingTemplate:"include.style.flat.headercell.svghmi"},HmiSelectionSystemPart:{RenderingTemplate:"include.style.flat.selection.svghmi"},HmiBackgroundSystemPart:{BackColor:4290822336,RenderingTemplate:"include.style.flat.background.svghmi"},HmiDataCellSystemPart:{FocusColor:4280704255,RenderingTemplate:"include.style.flat.datacell.svghmi"},HmiListContainerSystemPart:{RenderingTemplate:"include.style.flat.listcontainer.svghmi"},HmiMarkerSystemPart:{RenderingTemplate:"include.style.flat.marker.svghmi"},HmiRulerIndicatorSystemPart:{FocusColor:4280704255,BackColor:4294967295,RenderingTemplate:"include.style.flat.rulerindicator.svghmi"},HmiTooltipSystemPart:{ForeColor:4280363308,BackColor:4294967295,BorderColor:4288393150,Font:{Name:"Siemens Sans",Size:14},RenderingTemplate:"include.style.flat.tooltip.svghmi"}},flat_dark:{HmiWindowFrameSystemPart:{BorderColor:4286812576},HmiScrollBarSystemPart:{BackColor:4282008146,ThumbBackColor:4286812576,FocusColor:4283673087,BorderWidth:0,Thickness:20,RenderingTemplate:"include.style.flat.scrollbar.svghmi"},HmiHeaderCellSystemPart:{BackColor:8421504,RenderingTemplate:"include.style.flat.headercell.svghmi"},HmiSelectionSystemPart:{RenderingTemplate:"include.style.flat.selection.svghmi"},HmiBackgroundSystemPart:{BackColor:4290822336,RenderingTemplate:"include.style.flat.background.svghmi"},HmiDataCellSystemPart:{FocusColor:4283673087,RenderingTemplate:"include.style.flat.datacell.svghmi"},HmiListContainerSystemPart:{RenderingTemplate:"include.style.flat.listcontainer.svghmi"},HmiMarkerSystemPart:{RenderingTemplate:"include.style.flat.marker.svghmi"},HmiRulerIndicatorSystemPart:{FocusColor:4283673087,BackColor:4280296493,RenderingTemplate:"include.style.flat.rulerindicator.svghmi"},HmiTooltipSystemPart:{ForeColor:4294967295,BackColor:4280296493,BorderColor:4286812576,Font:{Name:"Siemens Sans",Size:14},RenderingTemplate:"include.style.flat.tooltip.svghmi"}}}).extended;var ht,dt,ct,pt,mt,gt={setResourceCachePrefix:function(e){ht=e},getStyleProps:function(e){return dt[e]},setStyleProps:function(e){ct=e},getSystemPartDefault:function(e){var t;return e.startsWith("Hmi")?e=(t=e).slice(3):t="Hmi"+e,t=ct[t]?D.extend(!0,{},ct[t]):{},R.setAllPartProps(t,e),t.RenderingTemplate&&(t.RenderingTemplate=ht+t.RenderingTemplate),t}};function Tt(e,t){e&&e.node&&(e.node.style.left=t+"px")}function ft(e,t){e&&e.node&&(e.node.style.top=t+"px")}function yt(e,t,i){var r;e&&e.node&&(r="Height",e.props.Orientation===pt.HmiOrientation.Vertical&&(e.node.style.height=t+"px"),e.props.Orientation===pt.HmiOrientation.Horizontal&&(e.node.style.width=t+"px",r="Width"),i||((i={})[r]=t,R.onChanged(e,i)))}function Dt(e,t,i){var r;e&&e.node&&(r="Width",e.props.Orientation===pt.HmiOrientation.Vertical?e.node.style.width=t+"px":(e.node.style.height=t+"px",r="Height"),i||((i={})[r]=t,R.onChanged(e,i)))}function St(e,t){e&&e.node&&(e.node.style.display=t?"inline":"none")}function bt(e,t,i){e=e.screen.container,"MOVE_TRIGGERED"===t&&(r.desktopOverlay(e,i),i||r.fireEvent(e,"MovedEnd"))}function Ct(e,t){e&&t&&R.onChanged(e,t)}function vt(e,t,i){var r;e&&t&&(r={},void 0!==i&&(r.Visible=i),void 0!==t.left&&(r.Left=t.left),void 0!==t.top&&(r.Top=t.top),void 0!==t.width&&(r.Width=t.width),void 0!==t.height&&(r.Height=t.height),mt(e,r))}function _t(e){e&&e.templateInstance&&(R.removeSubTemplate(e.templateInstance),e.templateInstance=null)}var Pt,At,wt,Vt,xt,Et,It,Rt,Bt,Lt,Mt,Ft,Ht,Ot,Nt,kt,Wt,Gt,Ut,zt,jt,Yt,Xt,qt,Kt,Zt,Qt,Jt,$t,ei,u={createScrollBase:function(e,t,i,r,a,n){var o=gt,s=_;return e&&i&&r?((e={gfxWebLib:e.gfxWebLib,node:null,handler:{}}).handler.onChanged=function(e,t){Ct(e,t)},e.handler.onCommand=n||bt,e.cbOnTemplateLoaded=i,e.cbOnChanged=r,e.cbOnResized=a||vt,(n=o.getSystemPartDefault("ScrollBarSystemPart")).Type="ScrollBarSystemPart",i=n,r=t,(a=e)&&i&&(D.extend(i,r),a.props=i),e.node=s.createDomElement("div",{style:"position: absolute; overflow: hidden; left:0px; top:0px; width:"+e.props.Width+"px; height:"+e.props.Height+"px;"}),e):null},loadAndAppendScrollBar:function(e,t){var i,r=null;return e.cbOnTemplateLoaded&&e.cbOnChanged&&(i={ActualX:0,ActualY:0,ActualWidth:e.props.Width,ActualHeight:e.props.Height},r=R.loadSubTemplate(e.node,e,e.props.Type,e.props.RenderingTemplate,e.cbOnChanged,e.cbOnTemplateLoaded,i),t)&&t.appendChild(e.node),E.addTifLibExpandoProps(e,e.node),r},templateLoaded:function(e){return!(!e||!e.templateInstance)},repositionResizeScrollBar:function(e,t,i){e.cbOnResized(e,t,i)},setLeft:Tt,setTop:ft,setMutableExtent:yt,setFixedExtent:Dt,setVisibility:St,updateScrollBarProps:Ct,setScrollBarProps:mt=function(e,t){e&&t&&(void 0!==t.Left&&(Tt(e,t.Left),delete t.Left),void 0!==t.Top&&(ft(e,t.Top),delete t.Top),void 0!==t.Visible&&(St(e,t.Visible),delete t.Visible),void 0!==t.Width&&(e.props.Orientation===pt.HmiOrientation.Vertical?Dt:yt)(e,t.Width,!0),void 0!==t.Height&&(e.props.Orientation===pt.HmiOrientation.Vertical?yt:Dt)(e,t.Height,!0),Ct(e,t))},cleanUpScrollBar:_t,deleteScrollBase:function(e){_t(e)}},ti={DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.Advanced.HmiScreenWindowUseWebRTPU",DISABLE_SETSELECTIONPROPS:!0,onInit:function(e){var t,i,r=f,a=M;return e._screenNodesCreated=!1,E.onInitEnabled(e),"PopupScreenWindow"===e.props.Type&&((t=ri(e,a.getProp(e,"Left"),a.getProp(e,"Top")))&&(D.extend(e.props,t),e.gfxWebLib.connection.sendPropertiesByName(e.rtoid,t)),t=ii(e,a.getProp(e,"Width"),a.getProp(e,"Height")))&&(D.extend(e.props,t),e.gfxWebLib.connection.sendPropertiesByName(e.rtoid,t)),a=e,(t=f.initWindowLocals()).origHorizontalScrollBarPosition=0,t.origVerticalScrollBarPosition=0,a._windowLocals=t,a=e,f.initControl(a),a.control.domParent=null,a.control.domSvgParent=null,i=e,(a=f).initEvents(i),i.control.handler.onResized&&a.subscribeEvent(i,"Resized",function(e){i._resizedEvent=!0,i.control.handler.onResized(e),i._resizedEvent=!1}),i.control.handler.onMoved&&a.subscribeEvent(i,"Moved",function(e){i.control.handler.onMoved(e)}),(a=T.onInit(e)).setAttribute("data-rtoid",e.rtoid),e._templateDirectoryPrefix=r.getTemplateDirectoryPrefix(e),r.addActiveItem(e),e.gfxWebLib.appMode!==zl.EDIT&&a.addEventListener(r.mapEventName("mousedown"),ai,!0),(r=e)._windowLocals&&"FaceplateContainer"!==r.props.Type&&((e=r._windowLocals).origHorizontalScrollBarPosition=M.getProp(r,"HorizontalScrollBarPosition"),e.origVerticalScrollBarPosition=M.getProp(r,"VerticalScrollBarPosition")),a},initProcessValueAndOutputFormats:function(){},adaptWindowToScreen:function(e){var t,i,r,a,n;e.isTopLevelScreenWindow||(r=M,n=a=0,(t=e).screen&&(i=Math.min(S.maxZoomFactor,Math.max(S.minZoomFactor,r.getPropRaw(t,"CurrentZoomFactor"))),a=r.getPropRaw(t.screen,"Width")*i,n=r.getPropRaw(t.screen,"Height")*i),r={width:a,height:n},t=oi(e),i=si(e,t),a={Width:r.width+2*t,Height:r.height+2*t+i},!e.startupPositionHandled&&(e.startupPositionHandled=!0,n=ii(e,a.Width,a.Height))&&D.extend(a,n),T.onChanged(e,a),e.gfxWebLib.connection.sendPropertiesByName(e.rtoid,a))},onCurrentLanguage:function(e,t){e.isTopLevelScreenWindow||T.onCurrentLanguage(e,t)},onCurrentStyle:function(e,t){e.isTopLevelScreenWindow?wt.zoomOnPoint&&(s.cleanUpScrollBars(e),s.createScrollBars(e),ti.onScreenChanged(e)):((e.control&&e.control.handler.onCurrentStyle?e.control.handler:T).onCurrentStyle(e,t),e.control&&e.control.domParentRoot&&e.control.domParentRoot.style&&(e.control.domParentRoot.style.borderRadius=Pt.calcContentRadius(e)))},onScreenChangedPre:function(e){s.onScreenChangedPre(e)},onScreenChanged:function(e){var t,i,r={};e._windowLocals&&(r.HorizontalScrollBarPosition=e._windowLocals.origHorizontalScrollBarPosition,r.VerticalScrollBarPosition=e._windowLocals.origVerticalScrollBarPosition,t=M.getProp(e,"HorizontalScrollBarPosition"),i=M.getProp(e,"VerticalScrollBarPosition"),r.HorizontalScrollBarPosition===t&&r.VerticalScrollBarPosition===i||(e.props.HorizontalScrollBarPosition=r.HorizontalScrollBarPosition,e.props.VerticalScrollBarPosition=r.VerticalScrollBarPosition,e.gfxWebLib.connection.sendPropertiesByName(e.rtoid,{HorizontalScrollBarPosition:r.HorizontalScrollBarPosition,VerticalScrollBarPosition:r.VerticalScrollBarPosition}))),s.onScreenChanged(e,r)},onChanged:function(e,t,i){var r,a,n;t=t,i=i,n=T,(r=e).container&&r.container.isCleanedUp||(r.isTopLevelScreenWindow||r.templateInstance?(e=r.props.WindowFlags&At.HmiWindowFlag.AlwaysOnTop,E.onChangedEnabled(r,t,i)&&r.screen&&window.setTimeout(function(){r.screen.handler.onChanged(r.screen,{Enabled:M.getProp(r.screen,"Enabled")})},0),r.isTopLevelScreenWindow||((a=ri(r,t.Left,t.Top))&&(D.extend(t,a),r.gfxWebLib.connection.sendPropertiesByName(r.rtoid,a)),n.onChanged(r,t,i)),i||(void 0!==t.Name&&r.domNode.setAttribute("data-tif-id",t.Name),void 0===t.CurrentZoomFactor&&void 0===t.Adaption||f.fireEvent(r,"Resized",!0),void 0!==t.WindowFlags&&e!=(t.WindowFlags&At.HmiWindowFlag.AlwaysOnTop)&&(a=r.container)&&pe.orderWindows(a.winManager,r)),r.control&&r.control.handler.onChanged(r,t),s.onUpdateWindowProps(r,t)):n.addDelayedUpdates(ti.onChanged,r,t,i))},onFocus:function(e){f.fireEvent(e,"Activated"),e.isTopLevelScreenWindow||T.onFocus(e)},onFocusOut:function(e){f.fireEvent(e,"Deactivated"),e.isTopLevelScreenWindow||T.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){if(!e.isTopLevelScreenWindow)return T.checkInnerNavigation(e,t,i,r)},onKeyDown:function(e,t,i,r){var a=e.gfxWebLib.keyboard.getKeycodes(),n=e.gfxWebLib.keyboard.getFlags(),o=!1;if(e.screen)if(r&n.CTRL)i||(-1!==[107,187,171].indexOf(t)?(li(e,-1),o=!0):-1!==[109,189,173].indexOf(t)&&(li(e,1),o=!0));else if(!e.props.Adaption&&(wt.zoomOnPoint||!e.isTopLevelScreenWindow))switch(t){case a.ARROWLEFT:case a.ARROWRIGHT:s.click(e,!0,t===a.ARROWRIGHT,r&n.CTRL?1e6:20),o=!0;break;case a.ARROWUP:case a.ARROWDOWN:s.click(e,!1,t===a.ARROWDOWN,r&n.CTRL?1e6:20),o=!0;break;case a.HOME:case a.END:s.click(e,!1,t===a.END,1e6),s.click(e,!0,t===a.END,1e6),o=!0;break;case a.PAGEUP:case a.PAGEDOWN:r&n.SHIFT?s.page(e,!0,t===a.PAGEDOWN):s.page(e,!1,t===a.PAGEDOWN),o=!0}return o},onMouseWheel:function(e,t,i,r){var a=e.gfxWebLib.keyboard.getFlags();if(e.screen)return wt.zoomWithMouseWheelOnly&&!(i&a.CTRL)||i&a.CTRL&&!wt.zoomWithMouseWheelOnly?(li(e,t,r),!0):e.props.Adaption||!wt.zoomOnPoint&&e.isTopLevelScreenWindow?void 0:(i&a.SHIFT?s.click(e,!0,0<t,t,!0):s.click(e,!1,0<t,t,!0),!0)},onPinchZoom:function(e,t,i){e.screen&&li(e,t,i,!0)},onPan:function(e,t,i){if(e.screen&&!e.props.Adaption&&(wt.zoomOnPoint||!e.isTopLevelScreenWindow))return s.click(e,i,t<0,-t,!0,!0)},onCommand:function(e,t,i){var r=f;switch(t){case"MAXIMIZE":f.handleMaximize(e);break;case"RESTORE":f.handleRestore(e);break;case"CLOSE":f.handleClose(e);break;case"MOVE_TRIGGERED":ni(e,i),i||(r.ensureVisibility(e,"MovedEnd"),r.fireEvent(e,"MovedEnd"));break;case"RESIZE_TRIGGERED":ni(e,i),i||(r.ensureVisibility(e,"ResizedEnd"),r.fireEvent(e,"ResizedEnd"));break;case"MOVED":r.fireEvent(e,"Moved")}},getPropertyBinding:function(){return T.getPropertyBinding()},getBounds:function(e){return T.getBounds(e)},bringToFront:function(e){return f.bringToFront(e)},getClientRect:function(e){var t={left:0,top:0,width:0,height:0};return e.control?(t.left=e.control.left,t.top=e.control.top,t.width=e.control.width,t.height=e.control.height,t):Pt.getContentRect(e)},onCleanUp:function(t){if(f.removeActiveItem(t),s.cleanUpScrollBars(t),t.control&&t.control.handler)try{t.control.handler.onCleanUp(t),t.control=null}catch(e){O.traceErr(e,"Advanced.cleanUp: item.control.handler.onCleanUp rtoid: "+t.rtoid+" itemType: "+t.props.Type+" itemName: "+t.props.Name)}t.isTopLevelScreenWindow||T.onCleanUp(t)},subscribeEvent:function(e,t,i){f.subscribeEvent(e,t,i)},fireEvent:function(e,t){f.fireEvent(e,t)},desktopOverlay:ni,screenResized:function(e){e._resizedEvent||!wt.zoomOnPoint&&e.isTopLevelScreenWindow||s.onScreenResized(e)},getBorderWidth:oi,getTitleBarHeight:si,isScreenMoveable:function(e,t,i){var r=0,a=0;return!e.screen||e.props.Adaption||!wt.zoomOnPoint&&e.isTopLevelScreenWindow||(t&&(r=t<0?s.isScreenMoveable(e,"right",1):s.isScreenMoveable(e,"left",-1)),i&&(a=i<0?s.isScreenMoveable(e,"down",1):s.isScreenMoveable(e,"up",-1))),0!==Math.trunc(r)||0!==Math.trunc(a)},changeTemplate:function(e){T.changeTemplate(e)}};function ii(e,t,i){if("PopupScreenWindow"===e.props.Type){var r,a,n=M,o=n.getProp(e,"StartupPosition"),n=n.getProp(e,"IsModal",0,!1),s=window.scrollX,l=window.scrollY;switch(n&&(s=l=0),o){case At.HmiWindowStartupPosition.CenteredMonitor:return{Left:Math.max(0,s+(document.documentElement.clientWidth-t)/2),Top:Math.max(0,l+(document.documentElement.clientHeight-i)/2)};case At.HmiWindowStartupPosition.Maximized:break;case At.HmiWindowStartupPosition.CenteredOwner:return e.popupContainer?(a=e.popupContainer.container,E.getRelPosToTLSW(a,r={}),{Left:r.x+Math.max(0,(a.control.width-t)/2),Top:r.y+Math.max(0,(a.control.height-i)/2)}):{Left:Math.max(0,s+(document.documentElement.clientWidth-t)/2),Top:Math.max(0,l+(document.documentElement.clientHeight-i)/2)}}}return null}function ri(e,t,i){var r;return"PopupScreenWindow"!==e.props.Type||!e.popupContainer||void 0===t&&void 0===i?null:(r={},E.getRelPosToTLSW(e.popupContainer,e={}),void 0!==t&&(r.Left=e.x+t*e.adaptScreenToWindowFactor),void 0!==i&&(r.Top=e.y+i*e.adaptScreenToWindowFactor),r)}function ai(e){f.doFocus(e)}function ni(e,t){f.desktopOverlay(e,t)}function oi(e){return M.getProp(e,"WindowFlags")&At.HmiWindowFlag.ShowBorder?gt.getSystemPartDefault("WindowFrameSystemPart").BorderWidth:0}function si(e,t){return M.getProp(e,"WindowFlags")&At.HmiWindowFlag.ShowCaption?gt.getSystemPartDefault("WindowFrameSystemPart").CaptionHeight:void 0!==t?t:oi(e)}function li(e,t,i,r){var a,n,o=M;o.getProp(e,"InteractiveZooming")&&o.getProp(e,"Adaption")!==At.HmiScreenWindowAdaption.ScreenToWindow&&(a=o.getProp(e,"CurrentZoomFactor"),n=t,(n=r?n:0<t?+(a-.1).toFixed(3):+(a+.1).toFixed(3))<=wt.maxZoomFactor)&&n>=wt.minZoomFactor&&(i?(r=o.getProp(e,"HorizontalScrollBarPosition")*a,t=o.getProp(e,"VerticalScrollBarPosition")*a,o=(r+i.x)*n/a-i.x,r=(t+i.y)*n/a-i.y,e.handler.onChanged(e,{CurrentZoomFactor:n,HorizontalScrollBarPosition:o/n,VerticalScrollBarPosition:r/n})):e.handler.onChanged(e,{CurrentZoomFactor:n}),e.gfxWebLib.connection.sendPropertyByName(e.rtoid,"CurrentZoomFactor",n,!1,!0))}function ui(e){var t=e.gfxWebLib.getStyle(),e=M.getProp(e,"WindowFlags"),i="0px",r="0px",a="0px",n="0px";return"extended"===t&&(e&Vt.HmiWindowFlag.ShowBorder&&(a=n=r=i="4px"),e&Vt.HmiWindowFlag.ShowCaption)&&(r=i="0px"),i+" "+r+" "+a+" "+n}function hi(e){var t=M;if(e){var i,r,a,n,o=e.handler.getClientRect(e);for(i in(r={}).ContentWidth=o?o.width:t.getProp(e,"Width",0,0),r.ContentHeight=o?o.height:t.getProp(e,"Height",0,0),Bt)Bt.hasOwnProperty(i)&&(a=t.getProp(e,i,0,0),n=Bt[i],r[i]=n(a))}return r}function di(e,t,i,r,a,n){if(r<Rt.Thickness)return!1;switch(e){case xt.HmiScrollBarVisibility.Visible:return!0;case xt.HmiScrollBarVisibility.Collapsed:return!1;default:return i<=t&&!a&&t-n<i?void 0:t<i}}function ci(e,t,i){var r,a=u;e&&(r=e.screenWindow,Mt(r,e))&&(Ut(r,e.gatherUpdatesScreen),Wt(e.gatherUpdatesScreen,e),t&&D.extend(e.gatherUpdatesWindow,t),kt(r,e.gatherUpdatesScreen,e.gatherUpdatesWindow,i),t=Gt(r,e.gatherUpdatesScreen),a.updateScrollBarProps(e,e.gatherUpdatesScreen),void 0!==e.gatherUpdatesScreen.CurrentValue&&Nt(r,e.gatherUpdatesScreen.CurrentValue,!0,!0,!1,!1),e.gatherUpdatesScreen={},e.gatherUpdatesWindow={},jt(r),a.updateScrollBarProps(r._scrollBaseVertical,t),Xt(r),Yt(r,e))}function pi(e,t,i){var r,a=u;e&&(r=e.screenWindow,Mt(r,e))&&(Jt(r,e.gatherUpdatesScreen),Zt(e.gatherUpdatesScreen,e),t&&D.extend(e.gatherUpdatesWindow,t),Kt(r,e.gatherUpdatesScreen,e.gatherUpdatesWindow,i),t=Qt(r,e.gatherUpdatesScreen),a.updateScrollBarProps(e,e.gatherUpdatesScreen),void 0!==e.gatherUpdatesScreen.CurrentValue&&Nt(r,e.gatherUpdatesScreen.CurrentValue,!1,!0,!1,!1),e.gatherUpdatesScreen={},e.gatherUpdatesWindow={},Xt(r),a.updateScrollBarProps(r._scrollBaseHorizontal,t),jt(r),Yt(r,e))}function mi(e){u.loadAndAppendScrollBar(e)}function gi(e){var t;e&&(t=(e=e.node).parentNode)&&t.removeChild(e)}function Ti(e){var t,i,r,a,n,o,s,l;"FaceplateContainer"!==e.props.Type&&(t=hi(e),n=gt.getSystemPartDefault("ScrollBarSystemPart"),Rt.Thickness=n.Thickness,Rt.Floating=n.Floating,n=qt,o=function(e,t){"HmiProps.CurrentValue"===e&&Nt(r,t,!0,!1,!1,!1)},s=jt,l=function(e,t,i){e=e.screenWindow;e&&"MOVE_TRIGGERED"===t&&ti.desktopOverlay(e,i)},a=zt(r=e,a=t),(a=u.createScrollBase(r,a,n,o,s,l)).gatherUpdatesScreen={},a.gatherUpdatesWindow={},(r._scrollBaseHorizontal=a).screenWindow=r,n=a,o=ei,s=function(e,t){"HmiProps.CurrentValue"===e&&Nt(i,t,!1,!1,!1,!1)},l=Xt,a=function(e,t,i){e=e.screenWindow;e&&"MOVE_TRIGGERED"===t&&ti.desktopOverlay(e,i)},e=$t(i=e,e=t),(e=u.createScrollBase(i,e,o,s,l,a)).gatherUpdatesScreen={},e.gatherUpdatesWindow={},(i._scrollBaseVertical=e).screenWindow=i,t=e,mi(n),mi(t))}function fi(e,t,i){var r,a;switch(t){case"up":return(r=e._scrollBaseVertical)&&0<r.props.CurrentValue?(a=r.props.CurrentValue+i)<0?i-a:i:0;case"down":return(r=e._scrollBaseVertical)&&r.props.CurrentValue<r.props.EndValue-r.props.VisibleValueRange?(a=r.props.CurrentValue+i)>r.props.EndValue-r.props.VisibleValueRange?i-(a-(r.props.EndValue-r.props.VisibleValueRange)):i:0;case"left":return(r=e._scrollBaseHorizontal)&&0<r.props.CurrentValue?(a=r.props.CurrentValue+i)<0?i-a:i:0;case"right":return(r=e._scrollBaseHorizontal)&&r.props.CurrentValue<r.props.EndValue-r.props.VisibleValueRange?(a=r.props.CurrentValue+i)>r.props.EndValue-r.props.VisibleValueRange?i-(a-(r.props.EndValue-r.props.VisibleValueRange)):i:0;default:return 0}}Pt={RequestContentCallback:function(e,t,i,r,a){var n,e=e.Store;return r=Math.max(0,r),a=Math.max(0,a),n=ae.createSvgElement("g",{id:"ContentGroup_"+e.rtoid}),e.control&&(e.control.width=r,e.control.height=a,e.control.left=t,e.control.top=i,e.control.domSvgParent=n,e.control.domParent?(s.cleanUpScrollBars(e),s.createScrollBars(e),ti.onScreenChanged(e)):(e.control.domParent=(n=r,r=a,(a=e).control.domParentRoot=_.createDomElement("div",{style:"position:absolute; pointer-events:none; overflow:hidden; left:"+t+"px; top:"+i+"px; width:"+n+"px; height:"+r+"px;",appendTo:a.domNode}),a.control.domParentRoot.style.borderRadius=ui(a),a.control.domParent=_.createDomElement("div",{style:"pointer-events:auto; position:relative;",appendTo:a.control.domParentRoot}),a.control.domParent),(t=e).control.handler.onInit(t),t.control.initialized=!0,f.fireEvent(e,"Resized"),s.createScrollBars(e))),new DocumentFragment},UpdateContentCallback:function(e,t,i,r,a){var n,e=e.Store;e.control&&(n=!1,r=Math.max(0,r),a=Math.max(0,a),r===e.control.width&&a===e.control.height||(e.control.width=r,e.control.height=a,f.fireEvent(e,"Resized"),n=!0),t===e.control.left&&i===e.control.top||(e.control.left=t,e.control.top=i,n=!0),n)&&(t=n={left:t,top:i,width:r,height:a},(i=(i=e).control.domParentRoot).style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=t.width+"px",i.style.height=t.height+"px",e.screen)&&e.screen.activated&&s.onUpdateContent(e,n)},getContentRect:function(e){var t={left:0,top:0,width:0,height:0};if(e.control)return t.left=e.control.left,t.top=e.control.top,t.width=e.control.width,t.height=e.control.height,t},calcContentRadius:ui},Et=wt=S,Rt={Thickness:10,Floating:!(It=0)},Bt={CurrentZoomFactor:function(e){return Math.min(S.maxZoomFactor,Math.max(S.minZoomFactor,e))},InteractiveZoom:function(e){return e},HorizontalScrollBarVisibility:function(e){return e},HorizontalScrollBarPosition:function(e){return e},VerticalScrollBarVisibility:function(e){return e},VerticalScrollBarPosition:function(e){return e}},Lt=function(e,t){t=t&&t.CurrentZoomFactor||M.getProp(e,"CurrentZoomFactor");return Math.min(S.maxZoomFactor,Math.max(S.minZoomFactor,t))},Mt=function(e,t){return e._screenNodesCreated&&u.templateLoaded(t)},Ft=function(e,t,i){var r,i=i.toFixed(2);e.scrollX=e.scrollX||"0",e.scrollY=e.scrollY||"0","left"===t?e.scrollX=i:e.scrollY=i,(r=e).pendingUpdate||(r.pendingUpdate=!0,window.requestAnimationFrame(()=>{r.pendingUpdate=!1,r.control&&r.control.domParent&&(r.control.domParent.style.transform=`translate(${r.scrollX}px, ${r.scrollY}px)`,r.isTopLevelScreenWindow)&&Et.scrollPopups&&r.control.handler.onScrollPopups(r,T)}))},Ht=function(e,t,i,r,a,n,o){return t&&void 0!==e[t]?e[t]:r&&i?i.props[r]:n&&a?M.getProp(a,n):o},Ot=function(e,t,i,r){var a,n,o,s,l,u,h,d=M;if(e)return a=d.getProp(e,"HorizontalScrollBarVisibility"),n=d.getProp(e,"VerticalScrollBarVisibility"),a===xt.HmiScrollBarVisibility.Collapsed&&n===xt.HmiScrollBarVisibility.Collapsed||(d=d.getProp(e,"Adaption",0,0))&xt.HmiScreenWindowAdaption.WindowToScreen||d&xt.HmiScreenWindowAdaption.ScreenToWindow?{visHori:!1,visVert:!1}:a===xt.HmiScrollBarVisibility.Visible&&n===xt.HmiScrollBarVisibility.Visible?{visHori:!0,visVert:!0}:(d=e.screen,o=((h=e._scrollBaseHorizontal)?h.props:Rt).Floating,s=h?h.props.Height:Rt.Thickness,void 0===i&&(i=Ht(void 0,void 0,h,"EndValue",d,"Width",0)),l=((e=e._scrollBaseVertical)?e.props:Rt).Floating,u=e?e.props.Width:Rt.Thickness,void 0===r&&(r=Ht(void 0,void 0,e,"EndValue",d,"Height",0)),d=Ht(t=t||{},"width",h,"VisibleValueRange",void 0,void 0,0),h=Ht(t,"height",e,"VisibleValueRange",void 0,void 0,0),t=di(a,d,i,h,l,u),e=di(n,h,r,d,o,s),void 0===t&&void 0===e?{visHori:!1,visVert:!1}:{visHori:t=void 0===t?e:t,visVert:e=void 0===e?t:e})},Nt=function(e,t,i,r,a,n){var o,s=i?e._scrollBaseHorizontal:e._scrollBaseVertical;s&&(o=void 0===t?s.props.CurrentValue:t,n&&(o=s.props.CurrentValue+t),o=Math.min(o,s.props.EndValue-s.props.VisibleValueRange),o=Math.round(Math.max(o,0)),a||Ft(e,i?"left":"top",-1*o),o/=Lt(e),n=i?"HorizontalScrollBarPosition":"VerticalScrollBarPosition",r?e.props[n]!==o&&(e.props[n]=o,e.gfxWebLib.connection.sendPropertyByName(e.rtoid,n,o,!1,!0)):(e.handler.onChanged(e,Object.defineProperty({},n,{value:o,enumerable:!0})),e.gfxWebLib.connection.sendPropertyByName(e.rtoid,n,o,!1,!0)))},kt=function(e,t,i,r){var a,n=M;void 0!==i.HorizontalScrollBarPosition&&(t.CurrentValue=i.HorizontalScrollBarPosition),void 0!==i.HorizontalScrollBarVisibility&&(t.Visibility=i.HorizontalScrollBarVisibility),void 0!==i.ContentWidth&&(t.VisibleValueRange=i.ContentWidth),r=r||Lt(e,i),void 0!==i.CurrentZoomFactor?(a=e.screen,t.EndValue=r*(void 0!==t.EndValue?t.EndValue:a?n.getProp(a,"Width"):0),t.CurrentValue=r*(void 0!==t.CurrentValue?t.CurrentValue:n.getProp(e,"HorizontalScrollBarPosition")),t.CurrentZoomFactor=i.CurrentZoomFactor):void 0!==t.EndValue?(t.EndValue=r*t.EndValue,t.CurrentValue=r*(void 0!==t.CurrentValue?t.CurrentValue:n.getProp(e,"HorizontalScrollBarPosition"))):void 0!==t.CurrentValue&&(t.CurrentValue=r*t.CurrentValue)},Wt=function(e,t){e.Width&&(e.EndValue=e.Width,t&&t.factor&&(e.EndValue=e.EndValue*t.factor),delete e.Width)},Gt=function(e,t,i){var r,a,n,o,s=M,l=null;if(t)return void 0===t.EndValue&&void 0===t.VisibleValueRange||(o=e.screen,n=e._scrollBaseHorizontal,r=Ht(t,"EndValue",n,"EndValue",o,"Width",0),a=Ht(t,"VisibleValueRange",n,"VisibleValueRange",e,"Width",0),n=Ht(t,"CurrentValue",n,"CurrentValue",void 0,void 0,0),o=o?s.getProp(o,"Height"):0,t.CurrentZoomFactor?o*=t.CurrentZoomFactor:o*=s.getProp(e,"CurrentZoomFactor"),s=!0,i=i||e.handler.getClientRect(e),l={Visible:(s=Ot(e,i,r,o)).visVert},t.Visible=s.visHori,t.Width=s.visVert?Math.max(0,a-Rt.Thickness):a,t.VisibleValueRange=Rt.Floating?a:t.Width,t.CurrentValue=Math.max(0,Math.min(n,r-t.VisibleValueRange))),l},Ut=function(e,t){t.BeginValue=t.BeginValue||0,t.Orientation=xt.HmiOrientation.Horizontal,t.Height=Rt.Thickness,t.Floating=Rt.Floating,t.Width=e.screen?M.getProp(e.screen,"Width"):0},zt=function(e,t){var i={};return Ut(e,i),Wt(i),t&&kt(e,i,t),Gt(e,i),i},jt=function(e,t){var i=e._scrollBaseHorizontal,r=e._scrollBaseVertical,a=i.node.firstChild,n=i.templateInstance;e&&a&&n&&(n=i.props,r=r.props,t=t?t.width:n.VisibleValueRange||0,a.setAttribute("width",t),a.setAttribute("height",n.Height),a.style.position="absolute",a=e.handler.getBorderWidth(e),e=M.getProp(e,"Height",0,0),u.setLeft(i,a-It),u.setTop(i,e-a-n.Height-It),e=t,i.props.Floating&&(e=Math.max(0,t-(r.Visible?r.Width:0))),u.setMutableExtent(i,e,!0),u.setVisibility(i,n.Visible))},Yt=function(e,t){t=t.node;e&&t&&(e=(e=e)&&e.domNode?e.domNode:null)&&e.appendChild(t)},Xt=function(e,t){var i,r=e._scrollBaseHorizontal,a=e._scrollBaseVertical,n=a.node.firstChild,o=a.templateInstance;e&&n&&o&&(o=a.props,r=r.props,t=t?t.height:o.VisibleValueRange||0,n.setAttribute("height",t),n.setAttribute("width",o.Width),n.style.position="absolute",n=e.handler.getBorderWidth(e),i=e.handler.getTitleBarHeight(e,0),e=M.getProp(e,"Width",0,0),u.setLeft(a,e-n-o.Width-It),u.setTop(a,n+i-It),e=t,a.props.Floating&&(e=Math.max(0,t-(r.Visible?r.Height:0))),u.setMutableExtent(a,e,!0),u.setVisibility(a,o.Visible))},qt=function(e,t){t&&ci(e)},Kt=function(e,t,i,r){var a,n=M;void 0!==i.VerticalScrollBarPosition&&(t.CurrentValue=i.VerticalScrollBarPosition),void 0!==i.VerticalScrollBarVisibility&&(t.Visibility=i.VerticalScrollBarVisibility),void 0!==i.ContentHeight&&(t.VisibleValueRange=i.ContentHeight),r=r||Lt(e,i),void 0!==i.CurrentZoomFactor?(a=e.screen,t.EndValue=r*(void 0!==t.EndValue?t.EndValue:a?n.getProp(a,"Height"):0),t.CurrentValue=r*(void 0!==t.CurrentValue?t.CurrentValue:n.getProp(e,"VerticalScrollBarPosition")),t.CurrentZoomFactor=i.CurrentZoomFactor):void 0!==t.EndValue?(t.EndValue=r*t.EndValue,t.CurrentValue=r*(void 0!==t.CurrentValue?t.CurrentValue:n.getProp(e,"VerticalScrollBarPosition"))):void 0!==t.CurrentValue&&(t.CurrentValue=r*t.CurrentValue)},Zt=function(e,t){e.Height&&(e.EndValue=e.Height,t&&t.factor&&(e.EndValue=e.EndValue*t.factor),delete e.Height)},Qt=function(e,t,i){var r,a,n,o,s=M,l=null;if(t)return void 0===t.EndValue&&void 0===t.VisibleValueRange||(o=e.screen,n=e._scrollBaseVertical,r=Ht(t,"EndValue",n,"EndValue",o,"Height",0),a=Ht(t,"VisibleValueRange",n,"VisibleValueRange",e,"Height",0),n=Ht(t,"CurrentValue",n,"CurrentValue",void 0,void 0,0),o=o?s.getProp(o,"Width"):0,t.CurrentZoomFactor?o*=t.CurrentZoomFactor:o*=s.getProp(e,"CurrentZoomFactor"),s=!0,i=i||e.handler.getClientRect(e),l={Visible:(s=Ot(e,i,o,r)).visHori},t.Visible=s.visVert,t.Height=s.visHori?Math.max(0,a-Rt.Thickness):a,t.VisibleValueRange=Rt.Floating?a:t.Height,t.CurrentValue=Math.max(0,Math.min(n,r-t.VisibleValueRange))),l},Jt=function(e,t){t.BeginValue=t.BeginValue||0,t.Orientation=xt.HmiOrientation.Vertical,t.Width=Rt.Thickness,t.Floating=Rt.Floating,t.Height=e.screen?M.getProp(e.screen,"Height"):0},$t=function(e,t){var i={};return Jt(e,i),Zt(i),t&&Kt(e,i,t),Qt(e,i),i},ei=function(e,t){t&&pi(e)};var yi,Di,s={createScrollBars:Ti,onUpdateContent:function(e,t){var i,r,a,n,o,s=u;e._scrollBaseHorizontal&&(i=t,a=(o=e)._scrollBaseHorizontal)&&i&&(r={VisibleValueRange:i.width},Gt(o,r,i),u.updateScrollBarProps(a,r),jt(o,i),void 0!==a.props.CurrentValue)&&Nt(o,a.props.CurrentValue,!0,void 0,!0,!1),e._scrollBaseVertical&&(r=t,(o=(i=e)._scrollBaseVertical)&&r&&(a={VisibleValueRange:r.height},n=Qt(i,a,r),u.updateScrollBarProps(o,a),Xt(i,r),void 0!==o.props.CurrentValue)&&Nt(i,o.props.CurrentValue,!1,!1,!0,!1),t=n,s.updateScrollBarProps(e._scrollBaseHorizontal,t))},onUpdateWindowProps:function(e,t){var i,r,a,n=u,o=e._scrollBaseHorizontal,s=e._scrollBaseVertical;o&&s&&(a={VisibleValueRange:(r=e.handler.getClientRect(e)).width},kt(e,a,t),Gt(e,a),D.extend(o.gatherUpdatesWindow,a),Mt(e,o)&&(n.updateScrollBarProps(o,o.gatherUpdatesWindow),o.gatherUpdatesWindow={}),void 0!==a.CurrentValue&&(i=void 0===t.CurrentZoomFactor,Nt(e,a.CurrentValue,!0,i,!1,!1)),a={VisibleValueRange:r.height},Kt(e,a,t),Qt(e,a),D.extend(s.gatherUpdatesWindow,a),Mt(e,s)&&(n.updateScrollBarProps(s,s.gatherUpdatesWindow),s.gatherUpdatesWindow={}),void 0!==a.CurrentValue&&(i=void 0===t.CurrentZoomFactor,Nt(e,a.CurrentValue,!1,i,!1,!1)),r={width:o.props.VisibleValueRange,height:s.props.VisibleValueRange},jt(e,r),Xt(e,r))},onScreenResized:function(e){var t=e.handler.getClientRect(e),t={ContentWidth:t.width,ContentHeight:t.height};ci(e._scrollBaseHorizontal,t),pi(e._scrollBaseVertical,t)},onScreenChanged:function(e,t){var i;e._screenNodesCreated=!0,Et.zoomOnPoint&&e.isTopLevelScreenWindow&&(e._scrollBaseHorizontal||e._scrollBaseVertical||Ti(e)),i=hi(e),D.extend(i,t),ci(e._scrollBaseHorizontal,i),pi(e._scrollBaseVertical,i)},onScreenChangedPre:function(e){e&&(e._screenNodesCreated=!1,e._scrollBaseHorizontal&&gi(e._scrollBaseHorizontal),e._scrollBaseVertical)&&gi(e._scrollBaseVertical)},click:function(e,t,i,r,a){return a||(r*=i?1:-1),t&&e._scrollBaseHorizontal?(r=fi(e,i?"right":"left",r))&&Nt(e,r,!0,!1,!1,!0):e._scrollBaseVertical&&(r=fi(e,i?"down":"up",r))&&Nt(e,r,!1,!1,!1,!0),0!==r},page:function(e,t,i){var r;t&&e._scrollBaseHorizontal?(r=e._scrollBaseHorizontal.props.VisibleValueRange*(i?1:-1),(r=fi(e,i?"right":"left",r))&&Nt(e,r,!0,!1,!1,!0)):e._scrollBaseVertical&&(r=e._scrollBaseVertical.props.VisibleValueRange*(i?1:-1),r=fi(e,i?"down":"up",r))&&Nt(e,r,!1,!1,!1,!0)},isScreenMoveable:fi,cleanUpScrollBars:function(e){var t=u,i=e._scrollBaseHorizontal,e=e._scrollBaseVertical;i&&(gi(i),t.cleanUpScrollBar(i)),e&&(gi(e),t.cleanUpScrollBar(e))}},Si=ti,bi=(yi=xt=Vt=At=pt=v,Di={Enabled:{func:["OperationEnabled"]},Visible:{gc:"Display",html:[{si:"domNode",ss:"display"}]},Left:{gc:"Pixel",html:[{si:"domNode",ss:"left"}]},Top:{gc:"Pixel",html:[{si:"domNode",ss:"top"}]},Width:{func:["_updateGeometry"]},Height:{func:["_updateGeometry"]},Adaption:{func:["_updateGeometry"]},WindowFlags:{func:["_updateWindowFlags"]},RotationCenterPlacement:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationCenterX:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationCenterY:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationAngle:{gc:"TransformRotate",html:[{si:"domNode",ss:"transform"}]}},{DOM_TYPE:"html",TEMPLATE_HANDLER_TYPE:"NATIVE",onInit:function(e){if(e.props.CurrentZoomFactor=1,e.props.TabIntoWindow=!0,e.props.InteractiveZooming=!1,e.props.VerticalScrollBarPosition=0,e.props.HorizontalScrollBarPosition=0,e.ignorePropertyBinding=!0,e.parentScreen=function(e){let t=e.container;for(;void 0===t.adaptScreenToWindowFactor;)t=t.container.container;return t}(e),vi(e)){var t=Si;if(e.handler!==t)return e.handler=t,e.container&&(e.domParent=e.container.domHtmlItems),t.onInit(e);e.props.HorizontalScrollBarVisibility=yi.HmiScrollBarVisibility.Collapsed,e.props.VerticalScrollBarVisibility=yi.HmiScrollBarVisibility.Collapsed}else(t=e).operable=!0,t.domNode=_.createDomScreenItemNode(t,{style:"position: absolute; pointer-events: none; overflow: hidden; content-visibility: auto;"}),t.control={left:0,top:0,width:t.props.Width,height:t.props.Height,domParent:t.domNode,handler:{onResized:bi.onResized,updateVisibility:bi.updateVisibility}},E.initAllAttributes(e),E.onInitEnabled(e);var i,r=e.screen;if(r&&!r.initialized){r.container=e,r.gfxWebLib=e.gfxWebLib,r.initialized=!0;var a=Ws.getHandler("Screen");if(a){if(a.onDocumentChanged(e.container.core,r),e.faceplateUpdates){for(var n=e.faceplateUpdates.length,o=0;o<n;o+=1){var s=e.faceplateUpdates[o];a.onObjectInitialized(r,s)}e.faceplateUpdates=null}a.onDocumentActivated(r)}}else r&&(i=e.control.domParent)&&r.activated&&i.appendChild(r.domNode);return e.domNode},onChanged:function(e,t,i){i||e.handler===bi&&(E.onChangedEnabled(e,t,i)&&e.screen&&window.setTimeout(function(){e.screen.handler.onChanged(e.screen,{Enabled:M.getProp(e.screen,"Enabled")})},0),E.onChanged(e,t))},onCurrentStyle:function(e,t){e.handler!==bi&&e.handler.changeTemplate(e),e.screen&&e.screen.handler.updateStyle(screen,t)},onResized:function(e){e.screen&&(M.getProp(e,"Adaption")&yi.HmiScreenWindowAdaption.WindowToScreen&&e.handler.adaptWindowToScreen(e),e.screen.handler.adaptToScreenOrWindow(e),bi.updateVisibility(e))},updateVisibility:function(e){var t;e.screen&&(t=M.getProp(e,"Adaption"),e.screen.declutterFactor=e.parentScreen.declutterFactor||e.parentScreen.adaptScreenToWindowFactor,t&yi.HmiScreenWindowAdaption.ScreenToWindow&&(e.screen.declutterFactor=e.screen.adaptScreenToWindowFactor),e.screen.handler.declutterLayers(e.screen,e.screen.declutterFactor))},onKeyDown:function(){return!1},onCleanUp:function(e){try{e.screen&&e.screen.handler&&e.screen.handler.onCleanUp(e.screen)}catch(e){O.traceErr(e,"HmiFaceplateContainer:onCleanUp()")}},getPropertyBinding:function(){return Di},onPropBindFunc:function(e,t,i){switch(e){case"_updateGeometry":Ci(t,i);break;case"_updateWindowFlags":vi(r=t)&&window.setTimeout(function(){var e=r.domNode,t=(r.props.Enabled=r.orgEnabled,bi.onInit(r));e.parentNode.replaceChild(t,e)},0)}var r},onObjectInitialized:function(e,t){e.faceplateUpdates=e.faceplateUpdates||[],e.faceplateUpdates.push(t)},adaptWindowToScreen:function(e){var t=M;e.props.Width=t.getPropRaw(e.screen,"Width"),e.props.Height=t.getPropRaw(e.screen,"Height"),Ci(e,!0)}});function Ci(e,t){var i=E.getBounds(e);_.setBBox(e.domNode,i),e.control.width=i.w,e.control.height=i.h,t||bi.onResized(e)}function vi(e){return(e=M.getProp(e,"WindowFlags"))&yi.HmiWindowFlag.ShowCaption||e&yi.HmiWindowFlag.ShowBorder}var _i=bi;Pi=v;var Pi,Ai,wi,Vi,xi,Ei,Ii,Ri,Bi={DOM_TYPE:"svg",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiScreenWindow",onInit:function(e){var t=M;e.orgHorizontalScrollBarPosition=t.getProp(e,"HorizontalScrollBarPosition"),e.orgVerticalScrollBarPosition=t.getProp(e,"VerticalScrollBarPosition"),e.screen&&!1===e.screen.initialized&&(e.screen.handler.appendToParentNode(e.screen),e.screen.initialized=!0),e.gfxWebLib.appMode===zl.EDIT&&t.setProp(e,"ESScreen",e.props.Screen)},onChanged:function(e,t){void 0!==t.Screen&&e.gfxWebLib.appMode===zl.EDIT&&M.setProp(e,"ESScreen",t.Screen)},onCurrentStyle:function(e,t){e.handler.changeTemplate(e)},onResized:function(e){var t;(e=e).screen&&((t=M.getProp(e,"Adaption"))===Pi.HmiScreenWindowAdaption.WindowToScreen&&e.handler.adaptWindowToScreen(e),e.screen.handler.adaptToScreenOrWindow(e),e.screen.handler.declutterLayers(e.screen),t===Pi.HmiScreenWindowAdaption.ScreenToWindow)&&(e.props.CurrentZoomFactor=e.screen.adaptScreenToWindowFactor,e.gfxWebLib.connection.sendPropertyByName(e.rtoid,"CurrentZoomFactor",e.screen.adaptScreenToWindowFactor))},onCleanUp:function(e){[e.screen,e.pendingScreen].forEach(function(e){try{e&&e.handler&&e.handler.onCleanUp(e)}catch(e){O.traceErr(e,"HmiScreenWindow:onCleanUp()")}}),e.domNodeModal&&e.domParent.contains(e.domNodeModal)&&e.domParent.removeChild(e.domNodeModal)},scrollIntoView:function(e,t){var i=M,r=Math.max(.02,i.getPropRaw(e,"CurrentZoomFactor")),a=i.getPropRaw(e,"HorizontalScrollBarPosition"),n=i.getPropRaw(e,"VerticalScrollBarPosition"),o=e.handler.getClientRect(e);function s(e,t,i){return Math.max(0,Math.min(i,Math.max(t,e)))}var l=s(a,(t=1!==r?t.zoom(r):t).right-o.width,t.left,o.width),u=s(n,t.bottom-o.height,t.top,o.height),r=(l===a&&u===n||setTimeout(function(){e.handler.onChanged(e,{HorizontalScrollBarPosition:l,VerticalScrollBarPosition:u})},0),t=t.translate(i.getPropRaw(e,"Left")+o.left-l,i.getPropRaw(e,"Top")+o.top-u),e.container.container);r.control.handler.scrollIntoView(r,t)},getPropertyBinding:function(){return null}},Li=(Ai={},wi=(e,t,i,r="Mapping")=>{let a,n,o,s,l;if((a=e.props[i=i||"ToolBar"])&&a.Elements)for(s=(n=a.Elements).length,o=0;o<s;o++)if((l=n[o])&&l[r]===t)return l;return null},Vi=Symbol("tempEventCache"),{createControl:function(e,t){var i=e.gfxWebLib.rootDiv||document.getElementById("ID_MainDiv"),i=(Ai[e.rtoid]=e,angular.element(i).scope());e.domNode=i.create(t,e.rtoid)[0],e.domNode.setAttribute("data-tif-id",void 0!==e.props.Name?e.props.Name:""),E.addTifLibExpandoProps(e,e.domNode),(i=e._toolkitScope).$root.$$phase||i.$digest()},getItem:function(e){return Ai[e]},findElementByID:wi,findToolbarButtonByName:function(e,t){window.console.error("HmiTypes.Advanced.findToolbarButtonByName is obsolete with CHROM v2.35, please use findToolbarElementByID")},findToolbarElementByID:function(e,t){return wi(e,t,"ToolBar")},findStatusbarElementByName:function(e,t){window.console.error("HmiTypes.Advanced.findStatusbarElementByName is obsolete with CHROM v2.35, please use findStatusbarElementByID")},findStatusbarElementByID:function(e,t){return wi(e,t,"StatusBar")},onFlashing:function(e,t,i){void 0!==e.control.handler&&void 0!==e.control.handler.onFlashing&&e.control.handler.onFlashing(e,t,i)},cleanUpItem:function(e){void 0!==e.control.handler&&(e.control.handler.onCleanUp(e),e.control=null),e.handler.onCleanUp(e),e.domNode.parentNode&&e.domNode.parentNode.removeChild(e.domNode),e._toolkitScope&&(e._toolkitScope.$destroy(),e._toolkitScope=null)},onFocus:function(e){e.control&&e.control.handler&&e.control.handler.onFocus&&e.control.handler.onFocus(e)},onFocusOut:function(e){e.control&&e.control.handler&&e.control.handler.onFocusOut&&e.control.handler.onFocusOut(e)},handleDLData:function(e,t,i){e.control.handler.onDLSendData&&(e.control.initialized?e.control.handler.onDLSendData(e,t,i):Mi(e).push({method:!1,args:{id:t,data:i}}))},handleMethod:function(e,t){e.control.handler.invokeMethod&&(e.control.initialized?e.control.handler.invokeMethod(e,t):Mi(e).push({method:!0,args:t}))},onInitialized:function(i){var e=i.container,r=(e&&e.handler&&e.handler.onInitializedControl(e,i),i.gfxWebLib.connection.sendEventByName(i.rtoid,"Initialized"),i[Vi]);if(r){let t=!1;for(let e=0;e<r.length;e++){var a=r[e];a.method?i.control.handler.invokeMethod(i,a.args):(i.control.handler.onDLSendData(i,a.args.id,a.args.data),t=!0)}e&&t&&(e.dirtyFlags|=4,i.dirtyFlags|=2)}delete i[Vi]},cleanUpScope:function(e){var t=angular.element(e.domNode).scope();t&&(t._someToolTipVisible&&e.gfxWebLib.tooltip.hide(),t.$destroy(),t.item=null),e._toolkitScope&&(e._toolkitScope.$destroy(),e._toolkitScope.item=null,e._toolkitScope=null)},destroyControl:function(e){(e=e)===Ai[e.rtoid]&&delete Ai[e.rtoid]}});function Mi(e){return e[Vi]=e[Vi]||[],e[Vi]}Li.ToolBarApi=(xi="ToolBar:Elements.",Ei=v,{enable:function(e,t,i){t=Li.findToolbarElementByID(e,t);t&&t.Enabled!==i&&(e.handler.onChanged(e,{Enabled:i},xi+t.ElementID),e.gfxWebLib.connection.sendPartPropertyByName(e.rtoid,xi+t.ElementID,"Enabled",i,!1,!0))},check:function(e,t,i){t=Li.findToolbarElementByID(e,t);t&&t.IsAlternateState!==i&&(i=t.Type===Ei.HmiScreenObjectType.ControlBarToggleSwitchPart&&i,e.handler.onChanged(e,{IsAlternateState:i,Pressed:i},xi+t.ElementID),e.gfxWebLib.connection.sendPartPropertyByName(e.rtoid,xi+t.ElementID,"IsAlternateState",i,!1,!0))},icon:function(e,t,i){t=Li.findToolbarElementByID(e,t);t&&t.Icon!==i&&(e.handler.onChanged(e,{Icon:i},xi+t.ElementID),e.gfxWebLib.connection.sendPartPropertyByName(e.rtoid,xi+t.ElementID,"Icon",i,!1,!0))},visible:function(e,t,i){t=Li.findToolbarElementByID(e,t);t&&t.Visible!==i&&(e.handler.onChanged(e,{Visible:i},xi+t.ElementID),e.gfxWebLib.connection.sendPartPropertyByName(e.rtoid,xi+t.ElementID,"Visible",i,!1,!0))},text:function(e,t,i){t=Li.findToolbarElementByID(e,t);t&&t.Text!==i&&(e.handler.onChanged(e,{Text:i},xi+t.ElementID),e.gfxWebLib.connection.sendPartPropertyByName(e.rtoid,xi+t.ElementID,"Text",i,!1,!0))},tooltip:function(e,t,i){t=Li.findToolbarElementByID(e,t);t&&t.ToolTipText!==i&&(e.handler.onChanged(e,{ToolTipText:i},xi+t.ElementID),e.gfxWebLib.connection.sendPartPropertyByName(e.rtoid,xi+t.ElementID,"ToolTipText",i,!1,!0))}}),Li.StatusBarApi=(Ii="StatusBar:Elements.",{icon:function(e,t,i){t=Li.findStatusbarElementByID(e,t);t&&e.handler.onChanged(e,{Icon:i},Ii+t.ElementID)},visible:function(e,t,i){t=Li.findStatusbarElementByID(e,t);t&&e.handler.onChanged(e,{Visible:i},Ii+t.ElementID)},text:function(e,t,i){t=Li.findStatusbarElementByID(e,t);t&&e.handler.onChanged(e,{Text:i},Ii+t.ElementID)},tooltip:function(e,t,i){t=Li.findStatusbarElementByID(e,t);t&&e.handler.onChanged(e,{ToolTipText:i},Ii+t.ElementID)}}),Li.BadgeApi=(Ri="ToolBar:Elements.",{text:function(e,t,i){t=Li.findToolbarElementByID(e,t);t&&e.handler.onChanged(e,{Text:i},Ri+t.ElementID+":Badge")},visible:function(e,t,i){t=Li.findToolbarElementByID(e,t);t&&e.handler.onChanged(e,{Visible:i},Ri+t.ElementID+":Badge")}});var h,Fi,Hi,A=Li,Oi=function(){function e(){}function n(e,t){e.onClientUpdate=!0,A.ToolBarApi.text(e,c.HmiWebControlID.Address,t),e.onClientUpdate=!1}function r(){return J.name()}function o(e){e._overlay&&(M.getProp(e,"Enabled")?e._overlay.style.display="none":e._overlay.style.display="block")}function t(r){var e=(r.gfxWebLib.customsettings.getSetting("HmiWebControl","AllowPopups",!1)?" allow-popups":"")+(r.gfxWebLib.customsettings.getSetting("HmiWebControl","AllowModals",!1)?" allow-modals":""),a=_.createDomElement("iframe",{sandbox:p+e,style:"position:static; pointer-events:visiblePainted; border:0; width:100%; height:100%;",frameborder:"0",appendTo:r.control.domNode});r._overlay=_.createDomElement("div",{style:"position:absolute; display:none; left:0px; top:0px; width:100%; height:100%; background-color:rgba( 225, 225, 225, 0 );",appendTo:r.control.domNode}),g&&g.extendIFrame(a),(r._iFrame=a).onload=function(){y(r,"Done");var t=r,i=a,e=()=>{var e=new window.CustomEvent("iframe",{bubbles:!1,cancelable:!1});i.dispatchEvent(e)};try{i.contentWindow.addEventListener("pointermove",e,{capture:!0,passive:!0}),i.contentWindow.addEventListener("pointerdown",e,{capture:!0,passive:!0}),i.contentWindow.addEventListener("keydown",e,{capture:!0,passive:!0}),t.iframeEnterHandler&&(i.removeEventListener("pointerenter",t.iframeEnterHandler),t.iframeEnterHandler=null)}catch(e){t.iframeEnterHandler||(t.iframeEnterHandler=()=>{var e=new window.CustomEvent("iframe_enter",{bubbles:!1,cancelable:!1});i.dispatchEvent(e)},i.addEventListener("pointerenter",t.iframeEnterHandler,{capture:!0,passive:!0}))}},d(r),o(r),h(r)}function i(e){var t=e._iFrame;try{t.contentWindow.stop(),y(e,"Cancel")}catch(e){}}function a(e){var t={value:e.urlHome};""!==t.value&&l(t),n(e,t.value)}function s(e){var t=(e=e._iFrame).getAttribute("src"),i=r();e.setAttribute("src",m.urlBlank),e.setAttribute("src",t),"Chrome"===i&&null!==e.contentWindow&&e.contentWindow.focus()}function l(e){e.value=e.value.replace(/^\s+|\s+$/g,"");var t=e.value.toLowerCase();0===t.indexOf("http:")?e.value=e.value.replace(/http/i,"https"):0!==t.indexOf("https:")&&t.indexOf(":")<0&&(e.value="https://"+e.value)}function u(){}function h(e){var t,i,r,a={};a.value=M.getProp(e,"Url"),a.value?l(a):a.value=m.urlBlank,n(e,a.value),a=a.value,i=(e=e)._iFrame,r=new URL(a).pathname,i&&(a=""!==a?a:m.urlBlank,t=".pdf",(r=r).toLowerCase().substring(r.length-t.length,r.length)===t.toLowerCase()?i.removeAttribute("sandbox"):(r=(e.gfxWebLib.customsettings.getSetting("HmiWebControl","AllowPopups",!1)?" allow-popups":"")+(e.gfxWebLib.customsettings.getSetting("HmiWebControl","AllowModals",!1)?" allow-modals":""),i.setAttribute("sandbox",p+r)),i.setAttribute("src",T(a)),y(e,"Load"))}function d(e){var t=e.control.domNode;t&&(t.style.height=e.control.height+"px",t.style.width=e.control.width+"px")}var c=v,p="allow-forms allow-scripts allow-same-origin",m={urlHome:"",urlBlank:"about:blank"},g=null,T=function(e){var t=window.location.href;return("/"===t.substr(-1)?t:t+"/")===("/"===e.substr(-1)?e:e+"/")?e+"?":e},f=function(e,t){e._lastMsgName=t},y=function(e,t){e&&f(e,t)},D={init:e,btnList:null,extendIFrame:e,restoreIFrame:e,back:e,fore:e,cancel:i,home:a,refresh:s,go:u,open:e},S={init:e,btnList:null,extendIFrame:e,restoreIFrame:e,back:e,fore:e,cancel:i,home:a,refresh:s,go:u,open:e},b={init:e,btnList:null,extendIFrame:e,restoreIFrame:e,back:e,fore:e,cancel:i,home:a,refresh:s,go:u,open:e},C={init:e,btnList:null,extendIFrame:e,restoreIFrame:e,back:e,fore:e,cancel:i,home:a,refresh:s,go:u,open:e};switch(r()){case"Microsoft Internet Explorer":g=D;break;case"Firefox":g=S;break;case"Chrome":g=b;break;default:g=C}return g&&g.init(),{DOM_TYPE:"html",iFrameInterface:g,onInit:function(e){(e=e).readyState=0,e.urlHome=M.getProp(e,"Url"),e.control.domNode=_.createDomElement("div",{style:"position:absolute;pointer-events:visiblePainted",appendTo:e.control.domParent})},onChanged:function(e,t,i){i?t.Mapping===c.HmiWebControlID.Address?R.onChanged(e,{Text:M.getProp(e,"Url")},i):void 0!==t.Text&&M.getPart(e,i).Mapping===c.HmiWebControlID.Address&&(e.onClientUpdate&&e.gfxWebLib.connection.sendPartPropertyByName(e.rtoid,i,"Text",t.Text),e.props.Url!==t.Text)&&e.gfxWebLib.connection.sendPropertyByName(e.rtoid,"Url",t.Text,!0):(void 0!==t.Enabled&&o(e),void 0!==t.Url&&h(e))},onCurrentLanguage:function(){},onCurrentStyle:function(e,t){e.handler.changeTemplate(e)},onResized:function(e){e.readyState?d(e):(t(e),e.readyState=1)},onToolbarButton:function(e,t){switch(t){case c.HmiWebControlID.Help:e.gfxWebLib.dialogs.showHelp("#184433b1f4e27a81972293b2feade00b");break;case c.HmiWebControlID.Stop:g.cancel(e);break;case c.HmiWebControlID.Home:g.home(e);break;case c.HmiWebControlID.Reload:g.refresh(e);break;case c.HmiWebControlID.Go:g.go(e)}},invokeMethod:function(e,t){var i;t.params[1]?(i=A.findElementByID(e,t.params[0],"ToolBar","CustomID"))&&"FireCommand"===t.name&&Oi.onToolbarButton(e,i.Mapping):"FireCommand"===t.name&&Oi.onToolbarButton(e,t.params[0])},onCleanUp:function(e){e&&g&&g.restoreIFrame(e)}}}(),Ni=Oi,ki=(Fi=function(e){var t="Stopped",i=!1,r=!1,a=!1,n=!1,o=!1,s=!1,l=e.control.domNode,s=e.control.domNode.muted;e.canPlay&&(l.paused?r=0<l.currentTime?(t="Paused",a=n=o=!0):(t="Stopped",n=!0):(t="Playing",i=a=n=o=!0),l=A.findToolbarElementByID(e,h.HmiMediaControlID.Mute))&&l.Type===h.HmiScreenObjectType.ControlBarButtonPart&&(s=!0),Hi(e,h.HmiMediaControlID.Play,i),Hi(e,h.HmiMediaControlID.Pause,r),Hi(e,h.HmiMediaControlID.Stop,a),Hi(e,h.HmiMediaControlID.SeekForward,n),Hi(e,h.HmiMediaControlID.SeekBackward,o),Hi(e,h.HmiMediaControlID.Mute,s),t!==e.eventState&&(e.gfxWebLib.connection.sendEventByName(e.rtoid,t),e.eventState=t)},Hi=function(e,t,i){var r=A.findToolbarElementByID(e,t);r&&(r.Type===h.HmiScreenObjectType.ControlBarButtonPart?A.ToolBarApi.enable(e,t,i):r.Type===h.HmiScreenObjectType.ControlBarToggleSwitchPart&&(A.ToolBarApi.check(e,t,i),t!==h.HmiMediaControlID.Play&&!h.HmiMediaControlID.Pause||A.ToolBarApi.enable(e,t,e.canPlay)))},{DOM_TYPE:"html",onInit:function(e){var t;(t=e).eventState="Stopped",t.control.domNode=_.createDomElement("video",{style:"position:absolute; pointer-events:visiblePainted; object-fit:fill",preload:"metadata",appendTo:t.control.domParent}),t.canPlay=!1,t.control.domNode.addEventListener("canplay",function(){t.canPlay=!0,Fi(t)}),t.control.domNode.addEventListener("ended",function(){var e=t.control.domNode;e.paused||e.pause(),e.currentTime=0,Fi(t)}),Wi(t),Gi(t)},onChanged:function(e,t,i){!i&&e.control&&e.control.domNode&&(void 0!==t.Url&&Gi(e),void 0!==t.VideoOutput&&Wi(e),!1!==t.AutoPlay||e.control.domNode.paused||ki.onToolbarButton(e,h.HmiMediaControlID.Stop))},invokeMethod:function(e,t){switch(t.name){case"Pause":ki.onToolbarButton(e,h.HmiMediaControlID.Pause);break;case"Play":ki.onToolbarButton(e,h.HmiMediaControlID.Play);break;case"Stop":ki.onToolbarButton(e,h.HmiMediaControlID.Stop);break;case"FireCommand":var i;t.params[1]?(i=A.findElementByID(e,t.params[0],"ToolBar","CustomID"))&&ki.onToolbarButton(e,i.Mapping):ki.onToolbarButton(e,t.params[0])}},onCurrentLanguage:function(){},onCurrentStyle:function(e,t){e.handler.changeTemplate(e)},onResized:function(e){var t;(t=(e=e).control.domNode)&&(t.style.height=e.control.height+"px",t.style.width=e.control.width+"px")},onToolbarButton:function(e,t){switch(t){case h.HmiMediaControlID.Play:e.control.domNode.play(),Fi(e);break;case h.HmiMediaControlID.Pause:e.control.domNode.pause(),Fi(e);break;case h.HmiMediaControlID.Stop:e.control.domNode.pause(),e.control.domNode.currentTime=0,Fi(e);break;case h.HmiMediaControlID.SeekForward:e.control.domNode.currentTime+=Ui(e)/10,Fi(e);break;case h.HmiMediaControlID.SeekBackward:e.control.domNode.currentTime-=Ui(e)/10,Fi(e);break;case h.HmiMediaControlID.Mute:e.control.domNode.muted=!e.control.domNode.muted}},onFocusOut:function(){},onCleanUp:function(){}});function Wi(e){switch(M.getProp(e,"VideoOutput")){case h.HmiVideoOutput.Stretch:e.control.domNode.style.objectFit="fill";break;case h.HmiVideoOutput.PreserveAspectFit:e.control.domNode.style.objectFit="contain";break;case h.HmiVideoOutput.PreserveAspectCrop:e.control.domNode.style.objectFit="cover"}}function Gi(e){var t=M,i=t.getProp(e,"Url"),r=e.control.domNode;e.canPlay=!1,(r.src=i)&&(r.load(),t.getProp(e,"AutoPlay"))&&(r.muted=!0,r.play()),Fi(e)}function Ui(e){return e.canPlay?e.control.domNode.duration:0}var zi,ji=ki;function Yi(e,t){zi[e]=t}zi=[];var Xi,qi,Ki={initControlTypes:function(){Yi("SwacContainer",Ke),Yi("CustomWebControlContainer",at),Yi("FaceplateContainer",_i),Yi("ScreenWindow",Bi),Yi("PopupScreenWindow",Bi),Yi("WebControl",Ni),Yi("MediaControl",ji)},getHandler:function(e){return void 0!==zi[e]?zi[e]:null},isTypeSupported:function(e){return void 0!==zi[e]},addHandler:Yi,getExtendedMode:function(){return S.extendedMode}};function Zi(e){var t=pe,i=e.container;if(i)return t.bringToFront(i.winManager,e)}function Qi(e,t){for(var i=t.callbacks.length,r=0;r<i;r++)t.callbacks[r].call(null,e)}function Ji(e,t,i){var r;e.events&&(r=e.events[t])&&r.fire&&r.callbacks.length&&(i?Qi(e,r):(r.fire=!1,window.setTimeout(function(){e.control&&Qi(e,r),r.fire=!0},0)))}Xi=h=v,qi={};var $i,f={addActiveItem:function(e){qi[e.rtoid]=e},removeActiveItem:function(e){e===qi[e.rtoid]&&delete qi[e.rtoid]},doFocus:function(e){var t,i=M,e=e.currentTarget.getAttribute("data-rtoid"),e=qi[e];e&&(i.getProp(e,"Enabled")&&!P.isScreenContainer(e)&&e.gfxWebLib.selection.setActiveItem(e),t=0|Xi.HmiWindowFlag.ShowCaption,i.getProp(e,"WindowFlags")&t)&&Zi(e)},subscribeEvent:function(e,t,i){e=e.events[t];e&&e.callbacks.push(i)},fireEvent:Ji,desktopOverlay:function(e,t){var i=e.gfxWebLib.topLevelScreenWindow.getTopLevelScreenWindow(e);i&&i.control.handler.desktopOverlay(i,t,e.container.domNode.style.cursor)},getTemplateDirectoryPrefix:function(e){return R.getTemplatePrefixUri(e)},getImageExtents:function(e,t,i){var r,a,n=E,o=M;for(r in t)-1!==r.indexOf("Graphic")&&"GraphicStretchMode"!==r&&(a=i&&(a=o.getPartPathWithIndex(e,i))?"HmiProps."+a:"HmiProps",n.loadImage(e,t[r],r,a))},handleMaximize:function(e){var t,i=M,r=R;e.container&&i.getProp(e,"Enabled")&&(e.gfxWebLib.selection.setActiveItem(e),e._windowLocals.isMaximized||(t=e.container.container.screen.props,e._windowLocals.origX=i.getProp(e,"Left"),e._windowLocals.origY=i.getProp(e,"Top"),e._windowLocals.origWidth=i.getProp(e,"Width"),e._windowLocals.origHeight=i.getProp(e,"Height"),i=i.getProp(e,"WindowFlags"),e._windowLocals.origWindowFlags=i,e._windowLocals.isMaximized=!0,i={Left:0,Top:0,Width:t.Width,Height:t.Height},r.onChanged(e,i)))},handleRestore:function(e){var t,i=R;e._windowLocals.isMaximized&&(t={Left:e._windowLocals.origX,Top:e._windowLocals.origY,Width:e._windowLocals.origWidth,Height:e._windowLocals.origHeight},e._windowLocals.isMaximized=!1,i.onChanged(e,t))},handleClose:function(e){var t=M,i=e.container;t.getProp(e,"Enabled")&&(e.gfxWebLib.selection.setActiveItem(e),i)&&!i.isCleandUp&&(P.isScreenContainer(e)?(t=e.gfxWebLib.connection.getEventIDs(),e.gfxWebLib.connection.sendEvent(e.rtoid,t.OnScreenWindowClose)):e.gfxWebLib.connection.sendPropertyByName(e.rtoid,"Visible",!1,!0),Ji(e,"Closed"))},mapEventName:function(e){return c.Pointers.mapEventName(e)},bringToFront:Zi,initWindowLocals:function(){return{origX:0,origY:0,origWidth:0,origHeight:0,isMaximized:!1}},initControl:function(e){e.operable=!0,e.control={},e.control.handler=Ki.getHandler(e.props.Type),e.control.width=0,e.control.height=0,e.control.left=0,e.control.top=0,e.control.initialized=!1},initEvents:function(e){e.events={Moved:{fire:!0,callbacks:[]},MovedEnd:{fire:!0,callbacks:[]},Resized:{fire:!0,callbacks:[]},ResizedEnd:{fire:!0,callbacks:[]},Closed:{fire:!0,callbacks:[]},Activated:{fire:!0,callbacks:[]},Deactivated:{fire:!0,callbacks:[]},Apply:{fire:!0,callbacks:[]}}},ensureVisibility:function(e,t){var i,r,a,n,o,s,l=M,u=R;l.getProp(e,"WindowFlags")&Xi.HmiWindowFlag.AlwaysInParent&&(i=l.getPropRaw(e,"Left"),r=l.getPropRaw(e,"Top"),a=l.getPropRaw(e,"Width"),n=l.getPropRaw(e,"Height"),o=l.getPropRaw(e.container,"Width"),l=l.getPropRaw(e.container,"Height"),s={},"MovedEnd"===t?(i<0?s.Left=0:o<i+a&&(o<a?o<i&&(s.Left=o-50):s.Left=o-a),r<0?s.Top=0:l<r+n&&(l<n?l<r&&(s.Top=l-50):s.Top=l-n)):(i<0?(s.Left=0,s.Width=Math.abs(i+a)):o<i+a&&(s.Width=Math.abs(o-i)),r<0?(s.Top=0,s.Height=Math.abs(r+n)):l<r+n&&(s.Height=Math.abs(l-r))),D.isEmptyObject(s)||(u.onChanged(e,s),e.gfxWebLib.connection.sendPropertiesByName(e.rtoid,s)))}},er=i(5);function tr(e){return e?$i[e]:$i}$i=er;var p,ir,rr,ar,nr,or,sr,lr,ur,hr,dr,cr,pr,mr,gr,Tr,fr,yr,Dr,Sr,br={addDefaults:function(e,t){$i[e]=$i[e]||{};for(var i=$i[e],r=Object.keys(t),a=0;a<r.length;a++){var n=r[a];i[n]={DefaultValue:t[n]}}},getPropertyInfos:tr,getPropertyInfo:function(e,t){e=tr(e);if(e)return e[t]}};function Cr(e,t){if(e=p["Hmi"+e.props.Type+"ID"])switch(function(e,t){for(var i in e)if(t===e[i])return i;return null}(e,t)){case"TimeBase":return ur;case"ConnectionStatus":return lr;case"DisplayOption":return nr;case"Selection":return ar;case"Hidden":return sr;case"Lock":return or}return rr}function vr(e,t){var i;if(0<(e=(e="extendedstyle"!==(e=e.gfxWebLib.getStyle(!0).toLowerCase())&&"flatstyle_dark"!==e&&"flatstyle_bright"!==e?"extendedstyle":e).split("_")).length)return i="content/images/statusbar/"+e[0].replace("style","")+"/",1===e.length?i+t+".svg":i+e[1]+"/"+t+".svg"}function _r(e,t,i){if(void 0!==i){var r;if("StatusBar"!==t)return"flat"!==(t=e.gfxWebLib.getStyle())&&"extended"!==t&&(t="extended"),r=hr[e.props.Type]||e.props.Type,c.Icons?c.Icons.getToolBarUri(t+"/"+r+"/"+i):"content/advanced/"+t+"/"+r+"/"+i+".svg";t=Cr(e,i);if(t)return c.Icons?c.Icons.getStatusBarUri(t):vr(e,t)}return null}function Pr(e,t,i){var r=e.props[t];if(r&&r.Elements)for(var a=r.Elements,n=a.length,o=0;o<n;o++){var s=a[o];s.Type=dr(s.Type),yr(e,t,s,i)}}function Ar(e,t,i){var r=M;if(e=e.props[t])if(e.Elements&&e.Elements.length){for(var a=e.Elements,n=ir,o=0,s=null,l=t+":Elements.",u=a.length,h=0;h<u;h++){var d=a[h],c=cr(d.Type);d.Visible=r.getPropPart(d,c,"Visible"),d.Visible&&(d.Offset!==n&&(Array.isArray(i)?i.push({props:{Offset:n},path:l+d.ElementID}):d.Offset=n),d.Margin=r.getPropPart(d,c,"Margin"),d.Margin.Top=r.getPropPart(d.Margin,"MarginPart","Top"),d.Margin.Left=r.getPropPart(d.Margin,"MarginPart","Left"),d.Margin.Bottom=r.getPropPart(d.Margin,"MarginPart","Bottom"),d.Margin.Right=r.getPropPart(d.Margin,"MarginPart","Right"),d.Width=r.getPropPart(d,c,"Width"),d.Height=r.getPropPart(d,c,"Height"),n+=Dr(d,s),o=Math.max(o,d.Margin.Top+d.Height+d.Margin.Bottom),s=d)}var p=o;e.Height!==p&&(Array.isArray(i)?i.push({props:{Height:p},path:t}):e.Height=p)}else 0!==e.Height&&(Array.isArray(i)?i.push({props:{Height:0},path:t}):e.Height=0);return i}function wr(e){return"ToolBar"===(e=e.split(".")[0])||"StatusBar"===e?e:""}function Vr(e,t){if(Array.isArray(t))for(var i=t.length,r=0;r<i;r++){var a=t[r];Sr(e,a.props,a.path)}}ir=10,ur=7,hr={AlarmControl:"AlarmView",TrendControl:"TrendView",FunctionTrendControl:"FunctionTrendView",ProcessControl:"ProcessView",TrendCompanion:"RulerView",ObjectExplorerControl:"BrowsingView"},dr=function(e){return p.HmiScreenObjectType[e]||e},pr=function(e,t,i,r,a,n,o,s){var l,u,h=M,d=cr(t.Type);return o=o||[],l=h.getPropPart(t,d,"Graphic"),u=h.getPropPart(t,d,"Text"),a?(!l&&t.Content.ContentMode===p.HmiContentMode.GraphicOrText&&!u||!l&&t.Content.ContentMode!==p.HmiContentMode.Text&&t.Content.ContentMode!==p.HmiContentMode.GraphicOrText?(l=_r(e,i,t.Mapping))&&(t.Content=h.getPropPart(t,d,"Content"),t.Content.GraphicStretchMode=p.HmiGraphicStretchMode.Fill,t.Graphic=l,t._fakeIcon=!0):s&&t._fakeIcon?(l=_r(e,i,t.Mapping))&&(t.Content.GraphicStretchMode=p.HmiGraphicStretchMode.Fill,t.Graphic=l,t._fakeIcon=!0):l&&E.loadImage(e,l,"Graphic",i+":Elements."+t.ElementID),t.Badge={Text:"",Visible:!1}):(r.hasOwnProperty("Mapping")&&t._fakeIcon&&(l=_r(e,i,r.Mapping))&&(r.Graphic=l),r.hasOwnProperty("Icon")&&t._fakeIcon&&("StatusBar"===i?r.Graphic="content/images/statusbar/"+r.Icon+".svg":(a=e.gfxWebLib.getStyle(),u=hr[e.props.Type]||e.props.Type,r.Graphic="content/advanced/"+a+"/"+u+"/"+r.Icon+".svg")),o.push({props:r,path:n})),o},mr=function(e,t,i,r,a,n,o,s){var l,u,h=M;return o=o||[],l=h.getPropPart(t,"ControlBarDisplayPart","Graphic"),u=h.getPropPart(t,"ControlBarDisplayPart","Text"),a?!l&&t.Content.ContentMode===p.HmiContentMode.GraphicOrText&&!u||!l&&t.Content.ContentMode!==p.HmiContentMode.Text&&t.Content.ContentMode!==p.HmiContentMode.GraphicOrText?(l=_r(e,i,t.Mapping))&&(t.Content=h.getPropPart(t,"ControlBarDisplayPart","Content"),t.Content.GraphicStretchMode=p.HmiGraphicStretchMode.Fill,t.Graphic=l,t._fakeIcon=!0):s&&t._fakeIcon?(l=_r(e,i,t.Mapping))&&(t.Content.GraphicStretchMode=p.HmiGraphicStretchMode.Fill,t.Graphic=l,t._fakeIcon=!0):l&&E.loadImage(e,l,"Graphic",i+":Elements."+t.ElementID):(r.hasOwnProperty("Mapping")&&t._fakeIcon&&(l=_r(e,i,r.Mapping))&&(r.Graphic=l),r.hasOwnProperty("Icon")&&t._fakeIcon&&("StatusBar"===i?r.Graphic=vr(e,r.Icon):(a=e.gfxWebLib.getStyle(),u=hr[e.props.Type]||e.props.Type,r.Graphic="content/advanced/"+a+"/"+u+"/"+r.Icon+".svg")),o.push({props:r,path:n})),o},gr=function(e,t,i,r,a,n,o){return o=o||[]},Tr=function(e,t,i,r,a,n,o){return o=o||[]},fr=function(e,t,i,r,a,n,o){return o=o||[]},yr=function(e,t,i,r){var a={};i.Type===p.HmiScreenObjectType.ControlBarButtonPart||i.Type===p.HmiScreenObjectType.ControlBarToggleSwitchPart?pr(e,i,t,a,!0,void 0,void 0,r):i.Type===p.HmiScreenObjectType.ControlBarDisplayPart?mr(e,i,t,a,!0,void 0,void 0,r):i.Type===p.HmiScreenObjectType.ControlBarLabelPart?gr(e,i,t,a,!0):i.Type===p.HmiScreenObjectType.ControlBarTextBoxPart?Tr(e,i,t,a,!0):i.Type===p.HmiScreenObjectType.ControlBarSeparatorPart&&fr(e,i,t,a,!0)};var xr,Er,Ir,Rr={findIndex:function(e,t){for(var i=e.length,r=0;r<i;r++)if(e[r].ElementID===t)return r;return-1},initControlBar:function(e,t,i,r,a){!e.props[t]&&br.getPropertyInfo(e.props.Type,t)&&(e.props[t]={Elements:[]}),r&&Pr(e,t,a),Ar(e,t)},updateControlBar:Sr=function(e,t,i){R.onChanged(e,t,i)},removeControlBar:function(e,t){e=e.props[t];e&&e.Elements&&(e.Elements.length=0)},onUpdate:function(e,t,i){var r,a,n,o,s,l,u=i.split(":"),h=wr(u[0]);if(2===u.length){var d=u[1].split(".")[0];if("Elements"===d)if(u[1].split(".")[1]){var c=M.getPart(e,i);if(c)return a=e,n=h,o=t,s=i,l=(l=r)||[],(c=c).Type===p.HmiScreenObjectType.ControlBarButtonPart||c.Type===p.HmiScreenObjectType.ControlBarToggleSwitchPart?l=pr(a,c,n,o,!1,s,l):c.Type===p.HmiScreenObjectType.ControlBarDisplayPart?l=mr(a,c,n,o,!1,s,l):c.Type===p.HmiScreenObjectType.ControlBarLabelPart?l=gr(a,c,n,o,!1,s,l):c.Type===p.HmiScreenObjectType.ControlBarTextBoxPart?l=Tr(a,c,n,o,!1,s,l):c.Type===p.HmiScreenObjectType.ControlBarSeparatorPart&&(l=fr(a,c,n,o,!1,s,l)),Vr(e,r=l),void((t.hasOwnProperty("Width")||t.hasOwnProperty("Height")||t.hasOwnProperty("Visible"))&&(r=Ar(e,h,[]),Vr(e,r)))}else if(Array.isArray(t))return Sr(e,{Elements:t},h),Pr(e,h),r=Ar(e,h,[]),void Vr(e,r)}else if(3===u.length&&"Margin"===(d=u[2].split(".")[0]))return Sr(e,t,i),r=Ar(e,h,[]),void Vr(e,r);Sr(e,t,i)},onCreatePart:function(e,t,i){var r=t.split(":"),a=wr(r[0]);if(a&&2===r.length&&"Elements"===r[1].split(".")[0])return i.Type=dr(i.Type),yr(e,a,i),R.onCreatePart(e,t,i)&&(r=Ar(e,a,[]),Vr(e,r)),!0},onDeletePart:function(e,t){var i=t.split(":"),r=wr(i[0]);if(r)return 1===i.length?(Sr(e,{Visible:!1},r),!0):2===i.length&&R.onDeletePart(e,t)?(i=Ar(e,r,[]),Vr(e,i),!0):void 0},onMovePart:function(e,t,i){var r=t.split(":");if(2===r.length){r=wr(r[0]);if(r)if(R.onMovePart(e,t,i))return t=Ar(e,r,[]),Vr(e,t),!0}},getTypeNameFromId:cr=function(e){if("number"==typeof e)switch(e){case p.HmiScreenObjectType.ControlBarButtonPart:return"ControlBarButtonPart";case p.HmiScreenObjectType.ControlBarToggleSwitchPart:return"ControlBarToggleSwitchPart";case p.HmiScreenObjectType.ControlBarDisplayPart:return"ControlBarDisplayPart";case p.HmiScreenObjectType.ControlBarLabelPart:return"ControlBarLabelPart";case p.HmiScreenObjectType.ControlBarSeparatorPart:return"ControlBarSeparatorPart";case p.HmiScreenObjectType.ControlBarTextBoxPart:return"ControlBarTextBoxPart"}return e},onKeyDown:function(){return!1}},Br=(Er={Visible:ar=1,Enabled:1,Icon:"",Left:rr=0,Top:0,Width:0,Height:0,WindowFlags:123,Caption:"",FocusColor:4286434550,HasFocus:!(Dr=function(e,t){var i=0;return t?0<t.Margin.Right&&0<e.Margin.Left?i+=Math.max(t.Margin.Right,e.Margin.Left):i+=t.Margin.Right+e.Margin.Left:i+=e.Margin.Left,i+=e.Width})},{DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.Advanced.HmiWindowUseWebRTPU",DISABLE_SETSELECTIONPROPS:!0,onInit:function(e,t){var i,r,a=f,n=T,o=Rr;return E.onInitEnabled(e),t||(e._windowLocals=f.initWindowLocals()),i=e,f.initControl(i),i.control.domParent=null,i.control.domSvgParent=null,r=e,f.initEvents(r),r.control.handler.onResized&&Mr(r,"Resized",function(e){r.control.handler.onResized(e)}),r.control.handler.onResizedEnd&&Mr(r,"ResizedEnd",function(e){r.control.handler.onResizedEnd(e)}),r.control&&r.control.handler.onMoved&&Mr(r,"Moved",function(e){r.control.handler.onMoved(e)}),o.initControlBar(e,"StatusBar",!0,!0,t),o.initControlBar(e,"ToolBar",!0,!0,t),"CustomWebControlContainer"!==e.props.Type&&"SwacContainer"!==e.props.Type||(e._controlProperties=e.props.Properties,delete e.props.Properties,"CustomWebControlContainer"===e.props.Type&&(e._props=D.extend(!0,{},e.props))),(i=n.onInit(e,t)).setAttribute("data-rtoid",e.rtoid),e._templateDirectoryPrefix=a.getTemplateDirectoryPrefix(e),a.addActiveItem(e),e.gfxWebLib.appMode!==zl.EDIT&&i.addEventListener((o="mousedown",f.mapEventName(o)),Lr,!0),i},onScopeInitialized:function(e,t){e._controlProperties&&(e.props.Properties=e._controlProperties,delete e._controlProperties),e.control&&(Yr.onContentInitialized(e,t),f.fireEvent(e,"Resized"))},onDLSendData:function(e,t,i){A.handleDLData(e,t,i)},invokeMethodAsync:function(e,t){A.handleMethod(e,t)},onScreenItemsInitialized:function(e){e.control&&e.control.handler&&e.control.handler.onScreenItemsInitialized&&e.control.handler.onScreenItemsInitialized(e)},initProcessValueAndOutputFormats:function(){},onCurrentLanguage:function(e,t){T.onCurrentLanguage(e,t)},onCurrentStyle:function(e,t){(e.control&&e.control.handler.onCurrentStyle?(Rr.initControlBar(e,"StatusBar",!0,!0,!0),Rr.initControlBar(e,"ToolBar",!0,!0,!0),e.control.handler):T).onCurrentStyle(e,t)},onChanged:function(e,t,i){var r=f,a=T;if(!e.container||!e.container.isCleanedUp)if(e.templateInstance&&a.checkControlIsReady(e))if(i&&i.startsWith("Properties"))e.control.handler.onChanged(e,t,i);else{r.getImageExtents(e,t,i);var n,o,s,l,u=e,h=t,r=i,d=Rr,c=T,p=Er,m=u.props.WindowFlags&xr.HmiWindowFlag.AlwaysOnTop;if(E.onChangedEnabled(u,h,r),!c.onChanged(u,h,r))if(r){var g=r.split(":")[0].split(".")[0];"ToolBar"!==g&&"StatusBar"!==g||d.onUpdate(u,h,r),u.control&&u.control.handler.onChanged(u,h,r)}else{for(l in h)"StatusBar"===l||"ToolBar"===l?(n=n||{})[l]=h[l]:void 0===p[l]?(o=o||{})[l]=h[l]:(s=s||{})[l]=h[l],"Name"===l?u.domNode.setAttribute("data-tif-id",h.Name):"BackColor"===l&&((s=s||{})[l]=h[l]);if(n)if(u.gfxWebLib.appMode===zl.EDIT){for(l in n)u.props[l]=n[l],"StatusBar"===l?d.initControlBar(u,"StatusBar",!0,!0):d.initControlBar(u,"ToolBar",!0,!0);d.updateControlBar(u,n[l],l)}else u.handler.onChanged(u,n[l],l);s&&void 0!==s.WindowFlags&&m!=(s.WindowFlags&xr.HmiWindowFlag.AlwaysOnTop)&&(g=u.container)&&pe.orderWindows(g.winManager,u),c.onChanged(u,h,r),u.control&&(o||s)&&(m=D.extend(o,s),u.control.handler.onChanged(u,m))}}else a.addDelayedUpdates(Br.onChanged,e,t,i)},onFocus:function(e){f.fireEvent(e,"Activated"),T.onFocus(e)},onFocusOut:function(e){f.fireEvent(e,"Deactivated"),T.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return T.checkInnerNavigation(e,t,i,r)},onKeyDown:function(e,t,i,r){var a=Rr.onKeyDown(e,t,i,r);return a=!a&&e.control&&e.control.handler.onKeyDown?e.control.handler.onKeyDown(e,t,i,r):a},onMouseWheel:function(e,t,i){if(e.control&&e.control.handler.onMouseWheel)return e.control.handler.onMouseWheel(e,t,i)},onCreatePart:function(e,t,i){var r=T,a=t.split(":")[0].split(".")[0];e.templateInstance&&r.checkControlIsReady(e)?"ToolBar"===a||"StatusBar"===a?(r.setAllPartProps(i,i.Type),Rr.onCreatePart(e,t,i)):("CustomWebControlContainer"!==e.props.Type&&r.onCreatePart(e,t,i),e.control&&window.setTimeout(function(){e&&e.control&&e.control.handler.onCreatePart&&e.control.handler.onCreatePart(e,t,i)},0)):r.addDelayedUpdates(Br.onCreatePart,e,t,i)},onDeletePart:function(e,t){var i=T,r=t.split(":")[0].split(".")[0];e.templateInstance&&i.checkControlIsReady(e)?"ToolBar"===r||"StatusBar"===r?Rr.onDeletePart(e,t):("CustomWebControlContainer"!==e.props.Type&&i.onDeletePart(e,t),e.control&&window.setTimeout(function(){e&&e.control&&e.control.handler.onDeletePart&&e.control.handler.onDeletePart(e,t)},0)):i.addDelayedUpdates(Br.onDeletePart,e,t,void 0)},onMovePart:function(e,t,i){var r=T,a=t.split(":")[0].split(".")[0];e.templateInstance&&r.checkControlIsReady(e)?"ToolBar"===a||"StatusBar"===a?Rr.onMovePart(e,t,i):("CustomWebControlContainer"!==e.props.Type&&r.onMovePart(e,t,i),e.control&&window.setTimeout(function(){e.control&&e.control.handler.onMovePart&&e.control.handler.onMovePart(e,t,i)},0)):r.addDelayedUpdates(Br.onMovePart,e,t,i)},onFlashing:function(e,t,i){A.onFlashing(e,t,i),T.onFlashing(e,t,i)},onCommand:function(e,t,i){var r,a,n=f;switch(t){case"MAXIMIZE":f.handleMaximize(e);break;case"RESTORE":f.handleRestore(e);break;case"CLOSE":f.handleClose(e);break;case"MOVE_TRIGGERED":Fr(e,i),i||(n.ensureVisibility(e,"MovedEnd"),n.fireEvent(e,"MovedEnd"));break;case"RESIZE_TRIGGERED":Fr(e,i),i||(n.ensureVisibility(e,"ResizedEnd"),n.fireEvent(e,"ResizedEnd"));break;case"MOVED":n.fireEvent(e,"Moved");break;case"BUTTON_RELEASED":case"BUTTON_PRESSED":case"BUTTON_ENTER":case"BUTTON_LEAVE":h=e,r=i;var o=a=(a=(o=A).findElementByID(h,r,"ToolBar")?"ToolBar":"")||(o.findElementByID(h,r,"StatusBar")?"StatusBar":a),s=e,l=i,u=o,h=t,d=M,c=A.findElementByID(s,l,u);if(c)switch(h){case"BUTTON_RELEASED":255&l&&s.gfxWebLib.connection.sendToolBarCommand(s.rtoid,l,!1),"ToolBar"===u?s.control&&s.control.handler.onToolbarButton&&s.control.handler.onToolbarButton(s,l):s.control&&s.control.handler.onStatusbarElement&&s.control.handler.onStatusbarElement(s,l);break;case"BUTTON_PRESSED":break;case"BUTTON_ENTER":var p=d.getProp(s,u);d.getPropPart(p,u+"Part","ShowToolTips")&&c.ToolTipText&&(s.gfxWebLib.tooltip.show({props:{ToolTipText:c.ToolTipText}},window.pageX,window.pageY),s._someToolTipVisible=!0);break;case"BUTTON_LEAVE":s._someToolTipVisible&&(s.gfxWebLib.tooltip.hide(),s._someToolTipVisible=!1)}break;case"SHOW_TOOLTIP":case"HIDE_TOOLTIP":var m=e,g=i;switch(t){case"SHOW_TOOLTIP":g&&(m.gfxWebLib.tooltip.show({props:{ToolTipText:g}},window.pageX,window.pageY),m._someToolTipVisible=!0);break;case"HIDE_TOOLTIP":m._someToolTipVisible&&(m.gfxWebLib.tooltip.hide(),m._someToolTipVisible=!1)}break;case"EXPAND_COLLAPSE":r=i,(a=e).control&&a.control.handler.onExpandCollapse&&a.control.handler.onExpandCollapse(a,r)}},listProvider:{setUpdateFunction:function(e,t,i){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.setUpdateFunction)return e.control.handler.listProvider.setUpdateFunction(e,t,i)},setUpdateCurrentFunction:function(e,t,i){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.setUpdateCurrentFunction)return e.control.handler.listProvider.setUpdateCurrentFunction(e,t,i)},hasList:function(e,t){return!!(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.hasList)&&e.control.handler.listProvider.hasList(e,t)},getList:function(e,t){return e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.getList?e.control.handler.listProvider.getList(e,t):[]},releaseList:function(e,t){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.releaseList)return e.control.handler.listProvider.releaseList(e,t)},setSelection:function(e,t,i,r){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.setSelection)return e.control.handler.listProvider.setSelection(e,t,i,r)},notyfyResourceListContainer:function(e,t,i){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.notyfyResourceListContainer)return e.control.handler.listProvider.notyfyResourceListContainer(e,t,i)},notyfyResourceListContainerCurrrent:function(e,t,i){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.notyfyResourceListContainerCurrrent)return e.control.handler.listProvider.notyfyResourceListContainerCurrrent(e,t,i)}},getPropertyBinding:function(){return T.getPropertyBinding()},getBounds:function(e){return T.getBounds(e)},bringToFront:function(e){return f.bringToFront(e)},getClientRect:function(e){return Yr.getContentRect(e)},applyChanged:function(e,t,i){T.onChanged(e,Object.defineProperty({},t,{value:i,enumerable:!0}))},onCleanUp:function(t,e){var i=T;if(f.removeActiveItem(t),t._someToolTipVisible&&t.gfxWebLib.tooltip.hide(),t.control&&t.control.handler)try{t.control.handler.onCleanUp(t,e),t.control=null}catch(e){O.traceErr(e,"Advanced.cleanUp: item.control.handler.onCleanUp rtoid: "+t.rtoid+" itemType: "+t.props.Type+" itemName: "+t.props.Name)}i.onCleanUp(t)},subscribeEvent:Mr,fireEvent:function(e,t){f.fireEvent(e,t)},desktopOverlay:Fr,changeTemplate:function(e){T.changeTemplate(e)}});function Lr(e){f.doFocus(e)}function Mr(e,t,i){f.subscribeEvent(e,t,i)}function Fr(e,t){f.desktopOverlay(e,t)}function Hr(e,t,i,r,a){return e.control.domParentRoot=_.createDomElement("div",{style:"position:absolute; pointer-events:none; overflow:hidden; left:"+t+"px; top:"+i+"px; width:"+r+"px; height:"+a+"px;",appendTo:e.domNode}),e.control.domParentRoot.style.borderRadius=function(e){var t=M.getProp(e,"WindowFlags"),i=e.props.StatusBar,e=e.props.ToolBar,r="4px",a="4px",n="4px",o="4px";if(t&Ir.HmiWindowFlag.ShowCaption&&(a=r="0px"),i&&i.Height&&(n=o="0px"),e&&e.Height)switch(e.ToolBarPosition){case 0:a=r="0px";break;case 2:o=r="0px";break;case 3:n=a="0px";break;default:n=o="0px"}return r+" "+a+" "+n+" "+o}(e),e.control.domParent=_.createDomElement("div",{style:"pointer-events:auto; position:relative;",appendTo:e.control.domParentRoot}),e.control.domParent}function Or(e,t){(e=e.control.domParentRoot).style.left=t.left+"px",e.style.top=t.top+"px",e.style.width=t.width+"px",e.style.height=t.height+"px"}Ir=xr=p=v;var Nr,kr,Wr,Gr,Ur,zr,jr,Yr={RequestContentCallback:function(e,t,i,r,a){var n,e=e.Store;return r=Math.max(0,r),a=Math.max(0,a),n=ae.createSvgElement("g",{id:"ContentGroup_"+e.rtoid}),e.control&&(e.control.width=r,e.control.height=a,e.control.left=t,e.control.top=i,e.control.domSvgParent=n,e.control.domParent?Or(e,{left:t,top:i,width:r,height:a}):e.control.domParent=Hr(e,t,i,r,a)),new DocumentFragment},UpdateContentCallback:function(e,t,i,r,a){e=e.Store;e.control&&(r=Math.max(0,r),a=Math.max(0,a),r===e.control.width&&a===e.control.height||(e.control.width=r,e.control.height=a,f.fireEvent(e,"Resized")),Or(e,{left:t,top:i,width:r,height:a}))},getContentRect:function(e){var t={left:0,top:0,width:0,height:0};if(e.control)return t.left=e.control.left,t.top=e.control.top,t.width=e.control.width,t.height=e.control.height,t},onContentInitialized:function(e,t){e.control.handler.onInit(e,t),e.control.initialized=!0,A.onInitialized(e)}},r=Br;function Xr(e,t,i){var r=ae,t=r.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"3",orient:"auto",appendTo:e});return r.createSvgElement("circle",{cx:"5",cy:"5",r:"5",fill:i,stroke:"none",appendTo:t}),t}function qr(e,t,i){var r=ae,t=r.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"3",orient:"auto",appendTo:e});return r.createSvgElement("circle",{cx:"5",cy:"5",r:"3.5",fill:"none",stroke:i,"stroke-width":"3",appendTo:t}),t}function Kr(e,t,i,r,a){var n=ae,t=n.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:a?"2":"1",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:e});return n.createSvgElement("path",{d:"M0,0 L0,10",fill:"none",stroke:i,"stroke-width":Math.max(1,.67*r),appendTo:t}),t}Nr=0,kr=1,Wr=nr=2,Gr=or=3,Ur=sr=4,zr=lr=5,jr=6;var Zr,Qr,Jr,$r={createRemoveSvgLineMarkerStart:function(e){var t,i,r,a,n,o,s=M,l=F,u=s.getProp(e,"StartType"),h=ae.getSvgDefs(e);if(null!==e.svgMarkerStart&&(e.svgLine.removeAttribute("marker-start"),h.removeChild(e.svgMarkerStart),e.svgMarkerStart=null),u!==Nr){var d=s.getProp(e,"LineColor",l.enumConverter.Color),c=s.getProp(e,"LineWidth"),p=P.mkId(e,"ID_StartMarker"),m=null,l=E.getBounds(e);if(l.w||l.h){switch(u){case kr:a=p,n=d,a=(o=ae).createSvgElement("marker",{id:a,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:h}),o.createSvgElement("path",{d:"M0,5 L10,0 L5,5 L10,10 Z",fill:n,stroke:"none",appendTo:a}),m=a;break;case Wr:o=p,n=d,o=(a=ae).createSvgElement("marker",{id:o,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:h}),a.createSvgElement("path",{d:"M0,5 L10,0 L10,10 Z",fill:n,stroke:"none",appendTo:o}),m=o;break;case Gr:t=p,i=d,t=(r=ae).createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:h}),r.createSvgElement("path",{d:"M0,0 L10,5 L0,10 Z",fill:i,stroke:"none",appendTo:t}),m=t;break;case Ur:m=Kr(h,p,d,c,!0);break;case zr:m=qr(h,p,d);break;case jr:m=Xr(h,p,d)}null!==m&&(e.svgMarkerStart=m,e.svgLine.setAttribute("marker-start","url(#"+p+")"))}}},createRemoveSvgLineMarkerEnd:function(e){var t,i,r,a,n,o,s=M,l=F,u=s.getProp(e,"EndType"),h=ae.getSvgDefs(e);if(null!==e.svgMarkerEnd&&(e.svgLine.removeAttribute("marker-end"),h.removeChild(e.svgMarkerEnd),e.svgMarkerEnd=null),u!==Nr){var d=s.getProp(e,"LineColor",l.enumConverter.Color),c=s.getProp(e,"LineWidth"),p=P.mkId(e,"ID_EndMarker"),m=null,l=E.getBounds(e);if(l.w||l.h){switch(u){case kr:a=p,n=d,a=(o=ae).createSvgElement("marker",{id:a,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:h}),o.createSvgElement("path",{d:"M0,0 L10,5 L0,10 L 5,5 Z",fill:n,stroke:"none",appendTo:a}),m=a;break;case Wr:o=p,n=d,o=(a=ae).createSvgElement("marker",{id:o,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:h}),a.createSvgElement("path",{d:"M0,0 L10,5 L0,10 Z",fill:n,stroke:"none",appendTo:o}),m=o;break;case Gr:t=p,i=d,t=(r=ae).createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:h}),r.createSvgElement("path",{d:"M10,0 L0,5 L10,10 Z",fill:i,stroke:"none",appendTo:t}),m=t;break;case Ur:m=Kr(h,p,d,c,!1);break;case zr:m=qr(h,p,d);break;case jr:m=Xr(h,p,d)}null!==m&&(e.svgMarkerEnd=m,e.svgLine.setAttribute("marker-end","url(#"+p+")"))}}}},er=(Zr={Enabled:{func:["OperationEnabled"]},DashType:{gc:"LineDashArray",func:["_BgLine","_setPoints"],svg:[{si:"svgLine",sp:"stroke-dasharray"}],dep:["LineColor","AlternateLineColor","LineWidth","CapType","JoinType"]},Points:{func:["_setPoints"],dep:["StartType","EndType"]},StartType:{func:["_StartStyle"]},EndType:{func:["_EndStyle"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},CapType:{gc:"LineCap",svg:[{si:"svgLine",sp:"stroke-linecap"},{si:"svgBackgroundLine",sp:"stroke-linecap"}]},JoinType:{gc:"LineJoin",svg:[{si:"svgLine",sp:"stroke-linejoin"},{si:"svgBackgroundLine",sp:"stroke-linejoin"}]},LineColor:{gc:"Color",svg:[{si:"svgLine",sp:"stroke"}],dep:["StartType","EndType"]},AlternateLineColor:{gc:"Color",svg:[{si:"svgBackgroundLine",sp:"stroke"}]},LineWidth:{gc:"None",svg:[{si:"svgLine",sp:"stroke-width"},{si:"svgBackgroundLine",sp:"stroke-width"}],dep:["DashType"]},Left:{func:["_setPoints"],dep:["RotationAngle"]},Top:{func:["_setPoints"],dep:["RotationAngle"]},Width:{dep:["RotationAngle"]},Height:{dep:["RotationAngle"]}},Qr={useCloning:S.useCloning,blueprint:null,expressions:null},Jr=function(){var e=new XPathEvaluator,t={};return t.Line=e.createExpression("svg:path[1]",function(e){return"http://www.w3.org/2000/svg"}),e=null,t},{DOM_TYPE:"svg",onInit:function(e){var t,i;return Qr.useCloning?ea(e):(e.svgBackgroundLine=e.svgLine=e.svgMarkerStart=e.svgMarkerEnd=null,i=ae,(t=e).domSvgNode=t.domNode=i.createSvgScreenItemNode(t,{style:"pointer-events: visiblePainted;"}),t.svgLine=i.createSvgElement("path",{fill:"none",appendTo:t.domSvgNode}),E.initAllAttributes(e),e.domNode)},onChanged:function(e,t,i){t=M.handleScreenModelPart(e,t,i),E.onChanged(e,t)},onCleanUp:function(e){var t=_;e.svgMarkerStart&&t.removeNodeWithAllChilds(e.svgMarkerStart),e.svgMarkerEnd&&t.removeNodeWithAllChilds(e.svgMarkerEnd)},getPropertyBinding:function(){return Zr},onPropBindFunc:function(e,t){switch(e){case"_setPoints":ta(t);break;case"_buildPoints":n=M,(a=t).props.Points=a.props.Points||[],a.props.Points[0]=n.getPropRaw(a,"X1"),a.props.Points[1]=n.getPropRaw(a,"Y1"),a.props.Points[2]=n.getPropRaw(a,"X2"),a.props.Points[3]=n.getPropRaw(a,"Y2"),ta(a);break;case"_BgLine":n=t,a=F,0!==(r=(i=M).getProp(n,"DashType",a.enumConverter.LineStyle))&&null===n.svgBackgroundLine&&(n.svgBackgroundLine=ae.createSvgElement("path",{fill:"none","stroke-dasharray":i.getProp(n,"DashType",a.enumConverter.AlternateLineDashArray)}),n.domSvgNode.insertBefore(n.svgBackgroundLine,n.domSvgNode.firstChild)),0===r&&null!==n.svgBackgroundLine&&(n.domSvgNode.removeChild(n.svgBackgroundLine),n.svgBackgroundLine=null);break;case"_StartStyle":$r.createRemoveSvgLineMarkerStart(t);break;case"_EndStyle":$r.createRemoveSvgLineMarkerEnd(t)}var i,r,a,n},getBounds:function(e){var t,i,r=M.getPropRaw(e,"Points"),a=r.length,n=Number.MIN_VALUE,o=Number.MIN_VALUE,s=Number.MAX_VALUE,l=Number.MAX_VALUE;if(1<a){for(t=0;t<a;t+=2)(i=r[t])<s&&(s=i),n<i&&(n=i),(i=r[t+1])<l&&(l=i),o<i&&(o=i);return{l:0,t:0,w:n-s,h:o-l}}return{l:0,t:0,w:0,h:0}},getRefPoint:function(e){var t=M;return{x:t.getProp(e,"Left"),y:t.getProp(e,"Top")}}});function ea(e){var t,i,r;return i=e,t="blueprint_line",(r=Qr).blueprint||(r.useCloning=!1,i=i.gfxWebLib.createHmiObject(i.props.Type,t),r.useCloning=!0,r.blueprint=i.domNode,i.domNode=null,i=null,r.expressions=Jr()),e.svgBackgroundLine=e.svgLine=e.svgMarkerStart=e.svgMarkerEnd=null,t=e,r=(i=Qr).blueprint.cloneNode(!0),t.domNode=t.domSvgNode=r,ae.augmentSvgScreenItemNode(t,{},t.domNode),r=i.expressions.Line,t.svgLine=r.evaluate(t.domNode,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,e.props.Enabled=M.getPropRaw(e,"Enabled"),e.props.Visible=M.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),e.domNode}function ta(e){var t=M,i=t.getPropRaw(e,"Points"),r=t.getPropRaw(e,"Left"),a=t.getPropRaw(e,"Top"),n=0,o=2,s=i.length/2,l="";if(1<s)for(l="M"+(i[n+0]+r)+" "+(i[n+1]+a)+"L"+(i[n+2]+r)+" "+(i[n+3]+a),i[t=2*s-4]===i[2+t]&&i[1+t]===i[3+t]&&--s,n+=4;o<s;o+=1)l+="L"+(i[n]+r)+","+(i[n+1]+a),n+=2;e.svgBackgroundLine&&e.svgBackgroundLine.setAttribute("d",l),e.svgLine&&e.svgLine.setAttribute("d",l)}var ia,ra=er,aa=D.extend(!0,{},er);function na(e,t,i){for(var r,a=i?0:1,n=a,o=a,s=1/0,l=-1/0,u=0;u<t;u+=1)(r=e[a])<s&&(s=r,n=a),l<r&&(l=r,o=a),a+=2;return{Min:s,MinIndex:n,Max:l,MaxIndex:o}}delete(ia=D.extend(!0,{},aa.getPropertyBinding())).JoinType,delete ia.Points,ia.DashType={gc:"LineDashArray",func:["_BgLine","_buildPoints"],svg:[{si:"svgLine",sp:"stroke-dasharray"}],dep:["LineColor","AlternateLineColor","LineWidth","CapType"]},ia.X1={func:["_buildPoints"],dep:["StartType","EndType"]},ia.Y1={func:["_buildPoints"],dep:["StartType","EndType"]},ia.X2={func:["_buildPoints"],dep:["StartType","EndType"]},ia.Y2={func:["_buildPoints"],dep:["StartType","EndType"]},ia.Left={func:["_buildPoints"],dep:["RotationAngle"]},ia.Top={func:["_buildPoints"],dep:["RotationAngle"]},aa.getPropertyBinding=function(){return ia};var oa,sa,la={getCoordsMinMax:na,calcMinMaxWidth:function(e,t){return na(e,t,!0)},calcMinMaxHeight:function(e,t){return na(e,t,!1)}};function ua(e){var t,i;function r(e){return"http://www.w3.org/2000/svg"}return sa.blueprint||(sa.useCloning=!1,t=e.gfxWebLib.createHmiObject(e.props.Type,"blueprint_rect"),sa.useCloning=!0,sa.blueprint=t.domNode,t.domNode=null,t=null,t=new XPathEvaluator,(i={}).BI=t.createExpression("svg:polygon[4]",r),i.BIFR=t.createExpression("svg:polygon[2]",r),i.BBI=t.createExpression("svg:polygon[3]",r),i.BBIFR=t.createExpression("svg:polygon[1]",r),sa.expressions=i),t=e,i=sa.blueprint.cloneNode(!0),t.domNode=t.domSvgNode=i,ae.augmentSvgScreenItemNode(t,{},t.domNode),e.border=E.Border.createBorderClone(e.domNode,sa.expressions),e.props.Enabled=M.getPropRaw(e,"Enabled"),e.props.Visible=M.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),e.domNode}oa={Enabled:{func:["OperationEnabled"]},DashType:{gc:"BorderDashArray",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-dasharray"}],dep:["BorderWidth","BorderColor","AlternateBorderColor","JoinType"]},BorderWidth:{gc:"None",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["DashType"]},BackFillPattern:{gc:"Fill",func:["Border.BorderItems"],dep:["BackColor"]},Points:{func:["_setPoints"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ShowFillLevel:{func:["Border.BorderItems"]},FillLevel:{func:["Border.FillClip"]},FillDirection:{func:["Border.FillClip"]},JoinType:{gc:"LineJoin",svg:[{si:"border.svgBorderItem",sp:"stroke-linejoin"},{si:"border.svgBorderBgItem",sp:"stroke-linejoin"}]},BackColor:{func:["Border.BackColors"]},AlternateBackColor:{dep:["BackFillPattern"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},AlternateBorderColor:{gc:"Color",svg:[{si:"border.svgBorderBgItem",sp:"stroke"}]},Left:{func:["_setPoints","Border.FillClip"],dep:["RotationAngle"]},Top:{func:["_setPoints","Border.FillClip"],dep:["RotationAngle"]},Width:{func:["Border.FillClip"],dep:["RotationAngle"]},Height:{func:["Border.FillClip"],dep:["RotationAngle"]}},sa={useCloning:S.useCloning,blueprint:null,expressions:null};var ha,da,ca={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"polygon",onInit:function(e){return sa.useCloning?ua(e):(e.border=E.Border.createBorder(),e.domSvgNode=e.domNode=ae.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;","fill-rule":"evenodd"}),E.initAllAttributes(e),e.domNode)},onChanged:function(e,t,i){t=M.handleScreenModelPart(e,t,i),E.onChanged(e,t)},onCleanUp:function(e){},getPropertyBinding:function(){return oa},onPropBindFunc:function(e,t){if("_setPoints"===e){var e=t,t=M,i=t.getPropRaw(e,"Points"),r=t.getPropRaw(e,"Left"),a=t.getPropRaw(e,"Top"),n=0,o=2,s="",l=i.length/2;if(1<l)for(s+=i[n+0]+r+","+(i[n+1]+a)+" "+(i[n+2]+r)+","+(i[n+3]+a),n+=4;o<l;o+=1)s+=" "+(i[n]+r)+","+(i[n+1]+a),n+=2;E.Border.setAttribute(e.border,"points",s)}},getBounds:function(e){var t,i=la,r=M,a=e.props.Points?e.props.Points.length:0,n={l:0,t:0,w:0,h:0};return a&&(t=i.calcMinMaxWidth(e.props.Points,a),i=i.calcMinMaxHeight(e.props.Points,a),n.l=t.Min,n.t=i.Min,n.w=t.Max-n.l,n.h=i.Max-n.t),n.l=n.l+r.getProp(e,"Left"),n.t=n.t+r.getProp(e,"Top"),n},getRefPoint:function(e){var t=M;return{x:t.getProp(e,"Left"),y:t.getProp(e,"Top")}}};function pa(e){var t,i;function r(e){return"http://www.w3.org/2000/svg"}return da.blueprint||(da.useCloning=!1,t=e.gfxWebLib.createHmiObject(e.props.Type,"blueprint_rect"),da.useCloning=!0,da.blueprint=t.domNode,t.domNode=null,t=null,t=new XPathEvaluator,(i={}).BI=t.createExpression("svg:path[4]",r),i.BIFR=t.createExpression("svg:path[2]",r),i.BBI=t.createExpression("svg:path[3]",r),i.BBIFR=t.createExpression("svg:path[1]",r),da.expressions=i),t=e,i=da.blueprint.cloneNode(!0),t.domNode=t.domSvgNode=i,ae.augmentSvgScreenItemNode(t,{},t.domNode),e.border=E.Border.createBorderClone(e.domNode,da.expressions),e.props.Enabled=M.getPropRaw(e,"Enabled"),e.props.Visible=M.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),e.domNode}ha={Enabled:{func:["OperationEnabled"]},DashType:{gc:"BorderDashArray",func:["Border.BorderItems","Border.BorderRect"],svg:[{si:"border.svgBorderItem",sp:"stroke-dasharray"}],dep:["BorderWidth","BorderColor","AlternateBorderColor"]},BorderWidth:{gc:"None",func:["Border.BorderItems","Border.BorderRect"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["DashType"]},BackFillPattern:{func:["Border.BorderItems","Border.BorderRect"],dep:["BackColor"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ShowFillLevel:{func:["Border.BorderItems","Border.BorderRect"]},FillLevel:{func:["Border.FillClip"]},FillDirection:{func:["Border.FillClip"]},Corners:{func:["Border.BorderRect"]},BackColor:{func:["Border.BackColors"]},AlternateBackColor:{dep:["BackFillPattern"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},AlternateBorderColor:{gc:"Color",svg:[{si:"border.svgBorderBgItem",sp:"stroke"}]},Left:{func:["Border.BorderRect","Border.FillClip"],dep:["RotationAngle"]},Top:{func:["Border.BorderRect","Border.FillClip"],dep:["RotationAngle"]},Width:{func:["Border.BorderRect","Border.FillClip"],dep:["RotationAngle"]},Height:{func:["Border.BorderRect","Border.FillClip"],dep:["RotationAngle"]}},da={useCloning:S.useCloning,blueprint:null,expressions:null};var d,m,ma,ga,g,y,Ta,fa,l,b,C,w,ya,Da,Sa,ba,o,Ca,va,_a,Pa,Aa,wa,Va,xa,Ea,Ia={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",onInit:function(e){return da.useCloning?pa(e):(e.border=E.Border.createBorder(),e.domSvgNode=e.domNode=ae.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"}),E.initAllAttributes(e),e.domNode)},onChanged:function(e,t,i){t=M.handleScreenModelPart(e,t,i),E.onChanged(e,t)},onCleanUp:function(e){},getPropertyBinding:function(){return ha}};function Ra(e,t){return e=Da(e),t=Da(t),e<=t?t-e:t+360-e}function Ba(e){return Ta<e}function La(e,t){e.Left=t.l,e.Top=t.t,e.Width=t.w,e.Height=t.h}function Ma(e,t,i,r){e=e.props.Type,ba(e)?t.Radius=i:(t.RadiusWidth=i,t.RadiusHeight=r)}function Fa(e){return"CircularArc"===e||"EllipticalArc"===e||"TubeArc"===e}function Ha(e){var t={};e.access("ArcObject",fa,t),fa||(t.centerPoint={x:0,y:0}),g=t.centerPoint,ma={x:0,y:0},ga={x:0,y:0},d={l:0,t:0,w:0,h:0},m={l:0,t:0,w:0,h:0}}function Oa(e,t,i){var r=ya-o(e,t,i,"StartAngle");return{Start:r-o(e,t,i,"AngleRange"),End:r}}function Na(e,t,i,r){r.l=o(e,t,i,"Left"),r.t=o(e,t,i,"Top"),r.w=o(e,t,i,"Width"),r.h=o(e,t,i,"Height")}function ka(e,t,i,r,a){var n=M,o=va(t),s=0,l={};switch(void 0===i&&(i=n.getProp(e,"RadiusWidth")),void 0===r&&(r=n.getProp(e,"RadiusHeight")),!a&&e.centrePoint&&(a=e.centrePoint),o){case y.RIGHT_UPPER:s=(90-t)*Math.PI/180,l.x=a.x+Math.floor(i*Math.cos(s)+.5),l.y=a.y-Math.floor(r*Math.sin(s)+.5);break;case y.LEFT_UPPER:s=(t-270)*Math.PI/180,l.x=a.x-Math.floor(i*Math.cos(s)+.5),l.y=a.y-Math.floor(r*Math.sin(s)+.5);break;case y.LEFT_LOWER:s=(270-t)*Math.PI/180,l.x=a.x-Math.floor(i*Math.cos(s)+.5),l.y=a.y+Math.floor(r*Math.sin(s)+.5);break;case y.RIGHT_LOWER:s=(t-90)*Math.PI/180,l.x=a.x+Math.floor(i*Math.cos(s)+.5),l.y=a.y+Math.floor(r*Math.sin(s)+.5)}return l}function Wa(e,t,i,r,a,n,o,s,l){var u=P,r=Ca(e,t,r,a,n,l),e=Ca(e,t,i,a,n,l);u.copyPoint(r,o),u.copyPoint(e,s)}function Ga(e,t,i,r,a,n,o,s){var l=P;fa&&!0!==s||(l.copyRect(n,e.rect),e.rect.b=n.t+n.h,e.rect.r=n.l+n.w,Pa(e,t,i,r,a),l.copyPoint(e.centrePoint,g))}function Ua(e,t,i,r,a,n){"width"===n?a.h=wa(e,t,i,r):"height"===n&&(d.w=Va(e,t,i,r))}function za(e,t,i,r,a,n){var o,s=P,l={l:0,t:0,w:0,h:0};return(0!==r.h&&0!==r.w||0!==a.h&&0!==a.w)&&(a=_a(e.x,e.y),o=_a(t.x,t.y),a===y.RIGHT_UPPER?o===y.RIGHT_UPPER?e.x>t.x?(l.t=t.y,Sa(n)?(l.l=i.x,l.w=e.x-i.x,l.h=i.y-t.y):(l.l=t.x,l.w=e.x-t.x,l.h=e.y-t.y)):l=s.copyRect(r,l):o===y.LEFT_UPPER?(l.l=t.x,l.t=r.t,l.w=e.x-t.x,Sa(n)?l.h=i.y-r.t:l.h=Math.max(e.y,t.y)-r.t):o===y.LEFT_LOWER?(l.l=r.l,l.t=r.t,l.w=e.x-r.l,l.h=t.y-r.t):(l.l=r.l,l.t=r.t,l.w=Math.max(e.x,t.x)-r.l,l.h=r.h):a===y.LEFT_UPPER?o===y.LEFT_UPPER?e.x>t.x?(l.l=t.x,l.t=e.y,Sa(n)?(l.w=i.x-t.x,l.h=i.y-e.y):(l.w=e.x-t.x,l.h=t.y-e.y)):l=s.copyRect(r,l):o===y.RIGHT_UPPER?(l.l=r.l,l.t=Math.min(e.y,t.y),l.w=r.w,l.h=r.t+r.h-l.t):o===y.LEFT_LOWER?(l.l=r.l,l.t=e.y,l.h=t.y-e.y,Sa(n)?l.w=i.x-r.l:l.w=Math.max(e.x,t.x)-r.l):(l.l=r.l,l.t=e.y,l.w=t.x-r.l,l.h=r.t+r.h-e.y):a===y.LEFT_LOWER?o===y.LEFT_LOWER?e.x<t.x?(l.l=e.x,Sa(n)?(l.t=i.y,l.w=i.x-e.x,l.h=t.y-i.y):(l.t=e.y,l.w=t.x-e.x,l.h=t.y-e.y)):l=s.copyRect(r,l):o===y.RIGHT_UPPER?(l.l=e.x,l.t=t.y,l.w=r.l+r.w-e.x,l.h=r.t+r.h-t.y):o===y.LEFT_UPPER?(l.l=Math.min(e.x,t.x),l.t=r.t,l.w=r.l+r.w-l.l,l.h=r.h):(l.l=e.x,l.w=t.x-e.x,Sa(n)?(l.t=i.y,l.h=r.t+r.h-i.y):(l.t=Math.min(e.y,t.y),l.h=r.t+r.h-l.t)):o===y.RIGHT_LOWER?e.x<t.x?Sa(n)?(l.l=i.x,l.t=i.y,l.w=t.x-i.x,l.h=e.y-i.y):(l.l=e.x,l.t=t.y,l.w=t.x-e.x,l.h=e.y-t.y):l=s.copyRect(r,l):o===y.RIGHT_UPPER?(l.h=e.y-t.y,Sa(n)?(l.l=i.x,l.t=t.y,l.w=r.l+r.w-i.x):(l.l=Math.min(e.x,t.x),l.t=t.y,l.w=r.l+r.w-l.l)):o===y.LEFT_UPPER?(l.l=t.x,l.t=r.t,l.w=r.l+r.w-t.x,l.h=e.y-r.t):(l.l=r.l,l.t=r.t,l.w=r.w,l.h=Math.max(e.y,t.y)-r.t)),l}function ja(e,t,i,r,a,n,o){var s,t=t%360,l=va(e=e%360),u=va(t),h=Aa(e),d=Aa(t),h=h*Math.PI/180,d=d*Math.PI/180;l===y.RIGHT_UPPER?u===y.RIGHT_UPPER?e<t?(a=Math.floor(i.w/Math.cos(d)+.5),n=Math.floor(i.h/Math.sin(h)+.5),r.x=i.l,r.y=i.t+i.h):(a=Math.round(i.w/2),n=Math.round(i.h/2),r.x=Math.round(i.l+i.w/2),r.y=Math.round(i.t+i.h/2)):u===y.LEFT_UPPER?(a=Math.round(i.w/2),n=Math.floor(i.h/(1+Math.sin(Math.max(d,h)))+.5),r.x=Math.round(i.l+i.w/2),r.y=i.t+i.h-n):u===y.LEFT_LOWER?(a=Math.floor(i.w/(1+Math.cos(d))+.5),n=Math.floor(i.h/(1+Math.sin(h))+.5),r.x=i.l+i.w-a,r.y=i.t+i.h-n):(a=i.w,n=Math.floor(i.h/(Math.sin(h)+Math.sin(d))+.5),s=Math.sin(d)/Math.sin(h)+Math.sin(d),r.x=i.l,r.y=Math.floor(i.t+i.h-s*i.h+.5)):l===y.LEFT_UPPER?u===y.LEFT_UPPER?e<t?(a=Math.floor(i.w/Math.cos(h)+.5),n=Math.floor(i.h/Math.sin(d)+.5),r.x=i.l+i.w,r.y=i.t+i.h):(a=Math.round(i.w/2),n=Math.round(i.h/2),r=Math.round(i.l+i.w/2),r=Math.round(i.t+i.h/2)):u===y.RIGHT_UPPER?(a=Math.floor(i.w/(Math.cos(h)+Math.cos(d))+.5),n=i.h,s=Math.cos(h)/(Math.cos(h)+Math.cos(d)),r.x=Math.floor(i.l+s*i.w+.5),r.y=i.t+i.h):u===y.LEFT_LOWER?(a=Math.floor(i.w/(1+Math.cos(Math.min(d,h)))+.5),n=Math.round(i.h/2),r.x=Math.round(i.l+i.w-a),r.t=Math.round(i.t+i.h/2)):(a=Math.floor(i.w/(1+Math.cos(h))+.5),n=Math.floor(i.h/(1+Math.sin(d))+.5),r.x=i.l+i.w-a,r.y=i.t+n):l===y.LEFT_LOWER?u===y.LEFT_LOWER?e<t?(a=Math.floor(i.w/Math.cos(d)+.5),n=Math.floor(i.h/Math.sin(h)+.5),r.x=i.l+i.w,r.y=i.t):(a=Math.round(i.w/2),n=Math.round(i.h/2),r.x=Math.round(i.l+i.w/2),r.y=Math.round(i.t+i.h/2)):u===y.RIGHT_UPPER?(a=Math.floor(i.w/(1+Math.cos(d))+.5),n=Math.floor(i.h/(1+Math.sin(h))+.5),r.x=i.l+a,r.y=i.t+n):u===y.LEFT_UPPER?(a=i.w,n=Math.floor(i.h/(Math.sin(h)+Math.sin(d))+.5),s=Math.sin(d)/(Math.sin(h)+Math.sin(d)),r.x=i.l+i.w,r.y=Math.floor(i.t+s*i.h+.5)):(a=Math.round(i.w/2),n=Math.floor(i.h/(1+Math.sin(Math.max(d,h)))+.5),r.x=Math.round(i.l+i.w/2),r.y=i.t+n):u===y.RIGHT_LOWER?e<t?(a=Math.floor(i.w/Math.cos(h)+.5),n=Math.floor(i.h/Math.sin(d)+.5),r.x=i.l,r.y=i.t):(a=Math.round(i.w/2),n=Math.round(i.h/2),r.x=Math.round(i.l+i.w/2),r.y=Math.round(i.t+i.h/2)):u===y.RIGHT_UPPER?(a=Math.floor(i.w/(1+Math.cos(Math.min(d,h)))+.5),n=Math.round(i.h/2),r.x=i.l+a,r.y=Math.round(i.t+i.h/2)):u===y.LEFT_UPPER?(a=Math.floor(i.w/(1+Math.cos(h))+.5),n=Math.floor(i.h/(1+Math.sin(d))+.5),r.x=i.l+a,r.y=i.t+i.h-n):(a=Math.floor(i.w/(Math.cos(h)+Math.cos(d))+.5),n=i.h,s=Math.cos(d)/(Math.cos(h)+Math.cos(d)),r.x=Math.floor(i.l+s*i.w+.5),r.y=i.t),xa(o,a,n,r)}function Ya(e,t){var i=P;e.rect&&(i.copyRect(t,e.rect),e.rect.r=e.rect.l+e.rect.w,e.rect.b=e.rect.t+e.rect.h)}function Xa(e,t,i,r,a){var n=P,t=t.Width,o=e.props.Type;Ha(a),Na(e,i,r,d),d.w=t,Fa(o)||Sa(o)?(a=Oa(e,i,r),C=a.Start,w=a.End,ba(o)&&(i=d.h,Ua(t,i,C,w,d,"width")),ja(C,w,d,g,l,b,m)):(ba(o)&&(d.h=t),n.copyRect(d,m)),Ma(e,r,Math.round(m.w/2),Math.round(m.h/2)),La(r,d),g.x=m.l+Math.round(m.w/2),g.y=m.t+Math.round(m.h/2),Ya(e,d),e.centrePoint&&n.copyPoint(g,e.centrePoint)}function qa(e,t,i,r,a){var n=P,t=t.Height,o=e.props.Type;Ha(a),Na(e,i,r,d),d.h=t,Fa(o)||Sa(o)?(a=Oa(e,i,r),C=a.Start,w=a.End,ba(o)&&(i=d.w,Ua(i,t,C,w,d,"height")),ja(C,w,d,g,l,b,m)):(ba(o)&&(d.w=t),n.copyRect(d,m)),Ma(e,r,Math.round(m.w/2),Math.round(m.h/2)),La(r,d),g.x=m.l+Math.round(m.w/2),g.y=m.t+Math.round(m.h/2),Ya(e,d),e.centrePoint&&n.copyPoint(g,e.centrePoint)}function Ka(e,t,i,r,a){var n=e.props.Type;Ba(t.Radius)&&(Ha(a),l=t.Radius,Na(e,i,r,d),a=Fa(n)||Sa(n)?(a=Oa(e,i,r),C=a.Start,w=a.End,t=o(e,i,r,"Radius"),Ga(e,C,w,t,t,d,0,!1),xa(m,l,l,g),Wa(e,g,C,w,l,l,ma,ga),za(ma,ga,g,m,d,n)):(g.x=d.l+Math.round(d.w/2),g.y=d.t+Math.round(d.h/2),xa(m,l,l,g),m),La(r,a),Ya(e,a))}function Za(e,t,i,r,a){var n=e.props.Type;Ba(t.RadiusWidth)&&(Ha(a),l=t.RadiusWidth,Na(e,i,r,d),b=o(e,i,r,"RadiusHeight"),a=Fa(n)||Sa(n)?(a=Oa(e,i,r),C=a.Start,w=a.End,t=o(e,i,r,"RadiusWidth"),Ga(e,C,w,t,b,d,0,!1),xa(m,l,b,g),Wa(e,g,C,w,l,b,ma,ga),za(ma,ga,g,m,d,n)):(g.x=d.l+Math.floor(d.w/2),g.y=d.t+Math.floor(d.h/2),xa(m,l,b,g),m),La(r,a),Ya(e,a))}function Qa(e,t,i,r,a){var n=e.props.Type;Ba(t.RadiusHeight)&&(Ha(a),b=t.RadiusHeight,Na(e,i,r,d),l=o(e,i,r,"RadiusWidth"),a=Fa(n)||Sa(n)?(a=Oa(e,i,r),C=a.Start,w=a.End,t=o(e,i,r,"RadiusHeight"),Ga(e,C,w,l,t,d,0,!1),xa(m,l,b,g),Wa(e,g,C,w,l,b,ma,ga),za(ma,ga,g,m,d,n)):(g.x=d.l+Math.round(d.w/2),g.y=d.t+Math.round(d.h/2),xa(m,l,b,g),m),La(r,a),Ya(e,a))}function Ja(e,t,i,r,a){var n=e.props.Type;Ha(a),Na(e,i,r,d),w=ya-t.StartAngle,a=ya-o(e,i,r,"StartAngle"),C=w-o(e,i,r,"AngleRange"),t=a-o(e,i,r,"AngleRange"),b=ba(n)?l=o(e,i,r,"Radius"):(l=o(e,i,r,"RadiusWidth"),o(e,i,r,"RadiusHeight")),Ga(e,t,a,l,b,d,0,!1),Wa(e,g,C,w,l,b,ma,ga),xa(m,l,b,g),i=za(ma,ga,g,m,d,n),La(r,i),Ya(e,i)}function $a(e,t,i,r,a){var n=e.props.Type;Ha(a),Na(e,i,r,d),w=ya-o(e,i,r,"StartAngle"),C=w-t.AngleRange,a=w-o(e,i,r,"AngleRange"),b=ba(n)?l=o(e,i,r,"Radius"):(l=o(e,i,r,"RadiusWidth"),o(e,i,r,"RadiusHeight")),Ga(e,a,w,l,b,d,0,!1),Wa(e,g,C,w,l,b,ma,ga),xa(m,l,b,g),t=za(ma,ga,g,m,d,n),La(r,t),Ya(e,t)}function en(){m=m||{},ma=ma||{},ga=ga||{}}fa=!(y={RIGHT_UPPER:1,LEFT_UPPER:2,LEFT_LOWER:3,RIGHT_LOWER:4}),w=C=b=l=Ta=0,ya=90,Da=function(e){return e%=360},Sa=function(e){return"CircleSegment"===e||"EllipseSegment"===e},ba=function(e){return"Circle"===e||"CircleSegment"===e||"CircularArc"===e||"RoundButton"===e},o=function(e,t,i,r){var a=M;return i[r]||t[r]||a.getProp(e,r)},Ca=function(e,t,i,r,a,n){return n||P.copyPoint(t,e.centrePoint),ka(e,i,r,a,t)},va=function(e){var t=y.RIGHT_UPPER;return 0<=(e=Da(e))&e<90&&(t=y.RIGHT_UPPER),90<=e&e<180&&(t=y.RIGHT_LOWER),180<=e&e<270&&(t=y.LEFT_LOWER),t=270<=e&e<360?y.LEFT_UPPER:t},_a=function(e,t){return e>=g.x?t>=g.y?y.RIGHT_LOWER:y.RIGHT_UPPER:t>=g.y?y.LEFT_LOWER:y.LEFT_UPPER},Aa=function(e){var t=0;switch(va(e)){case y.RIGHT_UPPER:t=90-(e=360===e?0:e);break;case y.LEFT_UPPER:t=e-270;break;case y.LEFT_LOWER:t=270-e;break;case y.RIGHT_LOWER:t=e-90}return t},wa=function(e,t,i,r){var i=i%360,r=r%360,a=va(i),n=va(r),o=Aa(i),s=Aa(r),o=o*Math.PI/180,s=s*Math.PI/180,e=Math.abs(Math.round(e));return a===y.RIGHT_UPPER?n===y.RIGHT_UPPER?i<r?Math.floor(e*(Math.sin(o)/Math.cos(s))+.5):e:n===y.LEFT_UPPER?Math.floor(e*(1+Math.sin(Math.max(s,o)))/2+.5):n===y.LEFT_LOWER?Math.floor(e*((1+Math.sin(o))/(1+Math.cos(s)))+.5):Math.floor(e*(Math.sin(o)+Math.sin(s))+.5):a===y.LEFT_UPPER?n===y.LEFT_UPPER?i<r?Math.floor(e*(Math.sin(s)/Math.cos(o))+.5):e:n===y.RIGHT_UPPER?Math.floor(e/(Math.cos(o)+Math.cos(s))+.5):n===y.LEFT_LOWER?Math.floor(2*e/(1+Math.cos(Math.min(o,s)))+.5):Math.floor(e*((1+Math.sin(s))/(1+Math.cos(o)))+.5):a===y.LEFT_LOWER?n===y.LEFT_LOWER?i<r?Math.floor(e*(Math.sin(o)/Math.cos(s))+.5):e:n===y.RIGHT_UPPER?Math.floor(e*((1+Math.sin(o))/(1+Math.cos(s)))+.5):n===y.LEFT_UPPER?Math.floor(e*(Math.sin(o)+Math.sin(s))+.5):Math.floor(e*(1+Math.sin(Math.max(s,o)))/2+.5):n===y.RIGHT_LOWER?i<r?Math.floor(e*(Math.sin(s)/Math.cos(o))+.5):e:n===y.RIGHT_UPPER?Math.floor(2*e/(1+Math.cos(Math.max(o,s)))+.5):a===y.LEFT_UPPER?Math.floor(e*((1+Math.sin(s))/(1+Math.cos(o)))+.5):Math.floor(e/(Math.cos(o)+Math.cos(s))+.5)},Va=function(e,t,i,r){var i=i%360,r=r%360,a=va(i),n=va(r),o=Aa(i),s=Aa(r),o=o*Math.PI/180,s=s*Math.PI/180,t=Math.abs(Math.round(t));return a===y.RIGHT_UPPER?n===y.RIGHT_UPPER?i<r?Math.floor(t*(Math.cos(s)/Math.sin(o))+.5):t:n===y.LEFT_UPPER?Math.floor(2*t/(1+Math.sin(Math.max(s,o)))+.5):n===y.LEFT_LOWER?Math.floor(t*((1+Math.cos(s))/(1+Math.sin(o)))+.5):Math.floor(t/(Math.sin(o)+Math.sin(s))+.5):a===y.LEFT_UPPER?n===y.LEFT_UPPER?i<r?Math.floor(t*(Math.cos(o)/Math.sin(s))+.5):t:n===y.RIGHT_UPPER?Math.floor(t*(Math.cos(o)+Math.cos(s))+.5):n===y.LEFT_LOWER?Math.floor(t*(1+Math.cos(Math.min(o,s)))/2+.5):Math.floor(t*((1+Math.cos(o))/(1+Math.sin(s)))+.5):a===y.LEFT_LOWER?n===y.LEFT_LOWER?i<r?Math.floor(t*(Math.cos(s)/Math.sin(o))+.5):t:n===y.RIGHT_UPPER?Math.floor(t*((1+Math.cos(s))/(1+Math.sin(o)))+.5):n===y.LEFT_UPPER?Math.floor(t/(Math.sin(o)+Math.sin(s))+.5):Math.floor(2*t/(1+Math.sin(Math.max(s,o)))+.5):n===y.RIGHT_LOWER?i<r?Math.floor(t*(Math.cos(o)/Math.sin(s))+.5):t:n===y.RIGHT_UPPER?Math.floor(t*(1+Math.cos(Math.min(o,s)))/2+.5):a===y.LEFT_UPPER?Math.floor(t*((1+Math.cos(o))/(1+Math.sin(s)))+.5):Math.floor(t*(Math.cos(o)+Math.cos(s))+.5)},xa=function(e,t,i,r){e.l=r.x-t,e.t=r.y-i,e.w=t+t,e.h=i+i},Ea={CircularArc:{Width:Xa,Height:qa,Radius:Ka,StartAngle:Ja,AngleRange:$a},CircleSegment:{Width:Xa,Height:qa,Radius:Ka,StartAngle:Ja,AngleRange:$a},Ellipse:{Width:Xa,Height:qa,RadiusWidth:Za,RadiusHeight:Qa},EllipticalArc:{Width:Xa,Height:qa,RadiusWidth:Za,RadiusHeight:Qa,StartAngle:Ja,AngleRange:$a},EllipseSegment:{Width:Xa,Height:qa,RadiusWidth:Za,RadiusHeight:Qa,StartAngle:Ja,AngleRange:$a},TubeArc:{Width:Xa,Height:qa,RadiusWidth:Za,RadiusHeight:Qa,StartAngle:Ja,AngleRange:$a},RoundButton:{Width:Xa,Height:qa,Radius:Ka}};var tn,rn,an,nn={getDepPropsHandling:function(){return Ea},calcPointFromAngle:ka,calcCenterpointFromAngles:Pa=function(e,t,i,r,a){var n,o,s,l,u=M,h=e.rect;void 0===r&&(r=u.getProp(e,"RadiusWidth")),void 0===a&&(a=u.getProp(e,"RadiusHeight")),i%=360,u=va(t%=360),n=va(i),o=Aa(t),s=Aa(i),o=o*Math.PI/180,s=s*Math.PI/180,u===y.RIGHT_UPPER?n===y.RIGHT_UPPER?90<Ra(i,t)?"EllipseSegment"===e.props.Type||"CircleSegment"===e.props.Type?e.centrePoint={x:h.l,y:h.b}:e.centrePoint={x:Math.floor(h.l-r*Math.cos(o)+.5),y:Math.floor(h.b+a*Math.sin(s)+.5)}:e.centrePoint={x:(h.l+h.r)/2,y:(h.t+h.b)/2}:n===y.LEFT_UPPER?e.centrePoint={x:(h.l+h.r)/2,y:h.b-a}:n===y.LEFT_LOWER?e.centrePoint={x:h.r-r,y:h.b-a}:(l=Math.sin(s)/(Math.sin(o)+Math.sin(s)),e.centrePoint={x:h.r-r,y:Math.floor(h.b-l*h.h+.5)}):u===y.LEFT_UPPER?n===y.LEFT_UPPER?90<Ra(i,t)?"EllipseSegment"===e.props.Type||"CircleSegment"===e.props.Type?e.centrePoint={x:h.r,y:h.b}:e.centrePoint={x:Math.floor(h.r+r*Math.cos(s)+.5),y:Math.floor(h.b+a*Math.sin(o)+.5)}:e.centrePoint={x:(h.l+h.r)/2,y:(h.t+h.b)/2}:n===y.RIGHT_UPPER?(l=Math.cos(o)/(Math.cos(o)+Math.cos(s)),e.centrePoint={x:Math.floor(h.l+l*h.w+.5),y:h.t+a}):n===y.LEFT_LOWER?e.centrePoint={x:h.r-r,y:(h.t+h.b)/2}:e.centrePoint={x:h.r-r,y:h.t+a}:u===y.LEFT_LOWER?n===y.LEFT_LOWER?90<Ra(i,t)?"EllipseSegment"===e.props.Type||"CircleSegment"===e.props.Type?e.centrePoint={x:h.r,y:h.t}:e.centrePoint={x:Math.floor(h.r+r*Math.cos(o)+.5),y:Math.floor(h.t-a*Math.sin(s)+.5)}:e.centrePoint={x:(h.l+h.r)/2,y:(h.t+h.b)/2}:n===y.RIGHT_UPPER?e.centrePoint={x:h.l+r,y:h.t+a}:n===y.LEFT_UPPER?(l=Math.sin(s)/(Math.sin(o)+Math.sin(s)),e.centrePoint={x:h.l+r,y:Math.floor(h.t+l*h.h+.5)}):e.centrePoint={x:(h.l+h.r)/2,y:h.t+a}:u===y.RIGHT_LOWER&&(n===y.RIGHT_LOWER?90<Ra(i,t)?"EllipseSegment"===e.props.Type||"CircleSegment"===e.props.Type?e.centrePoint={x:h.l,y:h.t}:e.centrePoint={x:Math.floor(h.l-r*Math.cos(s)+.5),y:Math.floor(h.t-a*Math.sin(o)+.5)}:e.centrePoint={x:(h.l+h.r)/2,y:(h.t+h.b)/2}:n===y.RIGHT_UPPER?e.centrePoint={x:h.l+r,y:(h.t+h.b)/2}:n===y.LEFT_UPPER?e.centrePoint={x:h.l+r,y:h.b-a}:(l=Math.cos(s)/(Math.cos(o)+Math.cos(s)),e.centrePoint={x:Math.floor(h.l+l*h.w+.5),y:h.b-a}))},diffAngle:Ra,calcAnglesFromRange:function(e){var t=M,i=t.getProp(e,"StartAngle"),t=t.getProp(e,"AngleRange");return{Start:(i=ya-i)-t,End:i}},calcPointFromCenterRadiusAngle:function(e,t,i,r,a,n){var o={},n=(n%=360)/180*Math.PI;return o.x=t+Math.cos(n)*r,o.y=i+Math.sin(n)*a,o},calcBounds:function(e,t,i,r,a,n,o,s){var l=e.props.Type;return en(),Ta<r&&Ta<a?(g={x:t,y:i},Fa(l)||Sa(l)?(xa(m,r,a,g),Wa(e,g,n,o,r,a,ma,ga,s),za(ma,ga,g,m,d,l)):(xa(m,r,a,g),m)):{l:t,t:i,w:0,h:0}},calcBoundsWhole:function(e,t,i,r,a){var n;return en(),Ta<r&&Ta<a&&(xa(m,r,a,g={x:t,y:i}),n=m),n}},er=(tn={Enabled:{func:["OperationEnabled"]},DashType:{gc:"BorderDashArray",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-dasharray"}],dep:["RadiusX","RadiusY","BorderWidth","BorderColor","AlternateBorderColor"]},BorderWidth:{gc:"None",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["DashType","RadiusX","RadiusY"]},BackFillPattern:{func:["Border.BorderItems"],dep:["BackColor"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ShowFillLevel:{func:["Border.BorderItems"]},FillLevel:{func:["Border.FillClip"]},FillDirection:{func:["Border.FillClip"]},BackColor:{func:["Border.BackColors"]},AlternateBackColor:{dep:["BackFillPattern"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},AlternateBorderColor:{gc:"Color",svg:[{si:"border.svgBorderBgItem",sp:"stroke"}]},CenterX:{func:["Border.FillClip","_setCx"],dep:["RotationAngle"]},CenterY:{func:["Border.FillClip","_setCy"],dep:["RotationAngle"]},RadiusX:{func:["Border.FillClip","_setRx"],dep:["RotationAngle"]},RadiusY:{func:["Border.FillClip","_setRy"],dep:["RotationAngle"]}},rn={useCloning:S.useCloning,blueprint:null,expressions:null},an={useCloning:S.useCloning,blueprint:null,expressions:null},{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"ellipse",onInit:function(e){if("Ellipse"===e.props.Type){if(rn.useCloning)return ln(e,"Ellipse")}else if(an.useCloning)return ln(e,"Circle");return e.border=E.Border.createBorder(),e.domSvgNode=e.domNode=ae.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"}),E.initAllAttributes(e),e.domNode},createExpressions:function(){function e(e){return"http://www.w3.org/2000/svg"}var t=new XPathEvaluator,i={};return i.BI=t.createExpression("svg:ellipse[4]",e),i.BIFR=t.createExpression("svg:ellipse[2]",e),i.BBI=t.createExpression("svg:ellipse[3]",e),i.BBIFR=t.createExpression("svg:ellipse[1]",e),t=null,i},onChanged:function(e,t,i){t=M.handleScreenModelPart(e,t,i),E.onChanged(e,t)},onCleanUp:function(e){},getPropertyBinding:function(){return tn},onPropBindFunc:function(e,t,i){switch(e){case"_setCx":s=t,l=M.getProp(s,"CenterX"),E.Border.setAttribute(s.border,"cx",l);break;case"_setCy":s=t,l=M.getProp(s,"CenterY"),E.Border.setAttribute(s.border,"cy",l);break;case"_setRx":n=t,o=M.getProp(n,"RadiusX"),E.Border.setAttribute(n.border,"rx",o);break;case"_setRy":n=t,o=M.getProp(n,"RadiusY"),E.Border.setAttribute(n.border,"ry",o);break;case"_setRadius":r=t,a=M.getProp(r,"Radius"),E.Border.setAttribute(r.border,"r",a)}var r,a,n,o,s,l},getBounds:un,getBoundsWhole:un,getRefPoint:hn,getCenterOffset:hn});function on(e,t,i){t.blueprint||(t.useCloning=!1,i=e.gfxWebLib.createHmiObject(e.props.Type,i),t.useCloning=!0,t.blueprint=i.domNode,i.domNode=null,i=null,t.expressions=e.handler.createExpressions())}function sn(e,t){t=t.blueprint.cloneNode(!0),e.domNode=e.domSvgNode=t,ae.augmentSvgScreenItemNode(e,{},e.domNode)}function ln(e,t){return"Ellipse"===t?(on(e,rn,"blueprint_ellipse"),sn(e,rn),e.border=E.Border.createBorderClone(e.domNode,rn.expressions)):(on(e,an,"blueprint_circle"),sn(e,an),e.border=E.Border.createBorderClone(e.domNode,an.expressions)),e.props.Enabled=M.getPropRaw(e,"Enabled"),e.props.Visible=M.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),e.domNode}function un(e){var t=nn,i=P,r=(o=M).getPropRaw(e,"CenterX"),a=o.getPropRaw(e,"CenterY"),n=o.getPropRaw(e,"RadiusX"),o=o.getPropRaw(e,"RadiusY"),s={},t=t.calcBounds(e,r,a,n,o,0,0);return i.copyRect(t,s),s}function hn(e){var t=M;return{x:t.getProp(e,"CenterX"),y:t.getProp(e,"CenterY")}}var dn,cn,pn,mn,gn,Tn=er,fn=D.extend(!0,{},er),er=(fn.BORDER_SVG_ELEM_TYPE="circle",delete(dn=D.extend(!0,{},fn.getPropertyBinding())).RadiusX,delete dn.RadiusY,dn.Radius={func:["Border.FillClip","_setRadius"]},dn.DashType={gc:"BorderDashArray",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-dasharray"}],dep:["Radius","BorderWidth","BorderColor","AlternateBorderColor"]},dn.BorderWidth={gc:"None",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["DashType","Radius"]},fn.createExpressions=function(){function e(e){return"http://www.w3.org/2000/svg"}var t=new XPathEvaluator,i={};return i.BI=t.createExpression("svg:circle[4]",e),i.BIFR=t.createExpression("svg:circle[2]",e),i.BBI=t.createExpression("svg:circle[3]",e),i.BBIFR=t.createExpression("svg:circle[1]",e),t=null,i},fn.getBounds=function(e){var t=M,i=t.getPropRaw(e,"Radius"),r=2*i;return{l:t.getProp(e,"CenterX")-i,t:t.getProp(e,"CenterY")-i,w:r,h:r}},fn.getBoundsWhole=fn.getBounds,fn.getPropertyBinding=function(){return dn},cn=!1,pn={Enabled:{func:["OperationEnabled"]},DashType:{gc:"LineDashArray",func:["_BgLine","_updateGeometry"],svg:[{si:"svgLine",sp:"stroke-dasharray"}],dep:["LineColor","AlternateLineColor","LineWidth","CapType"]},StartType:{func:["_StartStyle"]},EndType:{func:["_EndStyle"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},CapType:{gc:"LineCap",svg:[{si:"svgLine",sp:"stroke-linecap"},{si:"svgBackgroundLine",sp:"stroke-linecap"}]},LineColor:{gc:"Color",svg:[{si:"svgLine",sp:"stroke"}],dep:["StartType","EndType"]},AlternateLineColor:{gc:"Color",svg:[{si:"svgBackgroundLine",sp:"stroke"}]},LineWidth:{gc:"None",svg:[{si:"svgLine",sp:"stroke-width"},{si:"svgBackgroundLine",sp:"stroke-width"}],dep:["DashType"]},CenterX:{func:["_updateGeometry"],dep:["RotationAngle"]},CenterY:{gc:"Pixel",func:["_updateGeometry"],dep:["RotationAngle"]},RadiusX:{gc:"None",func:["_updateGeometry"]},RadiusY:{gc:"None",func:["_updateGeometry"]},StartAngle:{gc:"None",func:["_updateGeometry"]},AngleRange:{gc:"None",func:["_updateGeometry"]}},mn={useCloning:S.useCloning,blueprint:null,expressions:null},gn=function(){var e=new XPathEvaluator,t={};return t.Line=e.createExpression("svg:path[1]",function(e){return"http://www.w3.org/2000/svg"}),e=null,t},{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",onInit:function(e){var t,i;return mn.useCloning?yn(e):((i=e).svgBackgroundLine=i.svgLine=i.svgMarkerStart=i.svgMarkerEnd=null,i.rect={l:0,t:0,w:0,h:0},i=ae,(t=e).domSvgNode=t.domNode=i.createSvgScreenItemNode(t,{style:"pointer-events: visiblePainted;"}),t.svgLine=i.createSvgElement("path",{fill:"none",appendTo:t.domSvgNode}),E.initAllAttributes(e),Dn(e),e.domNode)},onChanged:function(e,t,i){cn=!1,t=M.handleScreenModelPart(e,t,i),E.onChanged(e,t),cn&&Dn(e)},onCleanUp:function(e){var t=_;e.svgMarkerStart&&t.removeNodeWithAllChilds(e.svgMarkerStart),e.svgMarkerEnd&&t.removeNodeWithAllChilds(e.svgMarkerEnd)},getPropertyBinding:function(){return pn},onPropBindFunc:function(e,t,i){switch(e){case"_updateGeometry":cn=!0;break;case"_BgLine":r=t,0!==(a=M.getProp(r,"DashType",F.enumConverter.LineStyle))&&null===r.svgBackgroundLine&&(r.svgBackgroundLine=ae.createSvgElement("path",{fill:"none"}),r.domSvgNode.insertBefore(r.svgBackgroundLine,r.domSvgNode.firstChild)),0===a&&null!==r.svgBackgroundLine&&(r.domSvgNode.removeChild(r.svgBackgroundLine),r.svgBackgroundLine=null);break;case"_StartStyle":$r.createRemoveSvgLineMarkerStart(t);break;case"_EndStyle":$r.createRemoveSvgLineMarkerEnd(t)}var r,a},getBounds:function(e){var t=M,i=nn,r=P,a=t.getProp(e,"CenterX"),n=t.getProp(e,"CenterY"),o="EllipticalArc"===e.props.Type?t.getProp(e,"RadiusX"):t.getProp(e,"Radius"),s="EllipticalArc"===e.props.Type?t.getProp(e,"RadiusY"):o,l=t.getProp(e,"StartAngle")+90,t=l+t.getProp(e,"AngleRange"),u={},i=i.calcBounds(e,a,n,o,s,l,t,!0);return r.copyRect(i,u),u},getBoundsWhole:function(e){var t=M,i=nn,r=P,a=t.getProp(e,"CenterX"),n=t.getProp(e,"CenterY"),o="EllipticalArc"===e.props.Type?t.getProp(e,"RadiusX"):t.getProp(e,"Radius"),t="EllipticalArc"===e.props.Type?t.getProp(e,"RadiusY"):o,s={},i=i.calcBoundsWhole(e,a,n,o,t);return r.copyRect(i,s),s},getRefPoint:Sn,getCenterOffset:Sn});function yn(e){var t,i,r;return i=e,t="blueprint_segment",(r=mn).blueprint||(r.useCloning=!1,i=i.gfxWebLib.createHmiObject(i.props.Type,t),r.useCloning=!0,r.blueprint=i.domNode,i.domNode=null,i=null,r.expressions=gn()),e.svgBackgroundLine=e.svgLine=e.svgMarkerStart=e.svgMarkerEnd=null,e.rect={l:0,t:0,w:0,h:0},t=e,r=(i=mn).blueprint.cloneNode(!0),t.domNode=t.domSvgNode=r,ae.augmentSvgScreenItemNode(t,{},t.domNode),r=i.expressions.Line,t.svgLine=r.evaluate(t.domNode,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,e.props.Enabled=M.getPropRaw(e,"Enabled"),e.props.Visible=M.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),Dn(e),e.domNode}function Dn(e){var t=nn,i=M,r=i.getProp(e,"CenterX"),a=i.getProp(e,"CenterY"),n="EllipticalArc"===e.props.Type?i.getProp(e,"RadiusX"):i.getProp(e,"Radius"),o="EllipticalArc"===e.props.Type?i.getProp(e,"RadiusY"):n,s=i.getProp(e,"StartAngle"),l=(i=i.getProp(e,"AngleRange"))+s,u=180<t.diffAngle(s,l)?1:0,h=t.calcPointFromCenterRadiusAngle(e,r,a,n,o,s),l=t.calcPointFromCenterRadiusAngle(e,r,a,n,o,l),d="M"+ae.pointParameter(h.x,h.y);P.equalPoint(h,l)&&0!==i&&(h=t.calcPointFromCenterRadiusAngle(e,r,a,n,o,s+180),d+="A"+ae.arcParameter(n,o,0,u,1,h.x,h.y)),d+="A"+ae.arcParameter(n,o,0,u,1,l.x,l.y),null!==e.svgBackgroundLine&&e.svgBackgroundLine.setAttribute("d",d),null!==e.svgLine&&e.svgLine.setAttribute("d",d)}function Sn(e){var t=M;return{x:t.getProp(e,"CenterX"),y:t.getProp(e,"CenterY")}}var bn,Cn,vn,_n,Pn,An=er,wn=D.extend(!0,{},er),er=(delete(bn=D.extend(!0,{},wn.getPropertyBinding())).RadiusX,delete bn.RadiusY,bn.Radius={gc:"None",func:["_updateGeometry"]},wn.getPropertyBinding=function(){return bn},Cn=!1,vn={Enabled:{func:["OperationEnabled"]},DashType:{gc:"BorderDashArray",func:["Border.BorderItems","_updateGeometry"],svg:[{si:"border.svgBorderItem",sp:"stroke-dasharray"}],dep:["BorderWidth","BorderColor","AlternateBorderColor"]},BorderWidth:{gc:"None",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["DashType"]},BackFillPattern:{func:["Border.BorderItems"],dep:["BackColor"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ShowFillLevel:{func:["Border.BorderItems"]},FillLevel:{func:["Border.FillClip"]},FillDirection:{func:["Border.FillClip"]},BackColor:{func:["Border.BackColors"]},AlternateBackColor:{dep:["BackFillPattern"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},AlternateBorderColor:{gc:"Color",svg:[{si:"border.svgBorderBgItem",sp:"stroke"}]},CenterX:{func:["_updateGeometry"],dep:["RotationAngle","FillLevel"]},CenterY:{func:["_updateGeometry"],dep:["RotationAngle","FillLevel"]},RadiusX:{func:["_updateGeometry"],dep:["FillLevel"]},RadiusY:{func:["_updateGeometry"],dep:["FillLevel"]},StartAngle:{func:["_updateGeometry"],dep:["FillLevel"]},AngleRange:{func:["_updateGeometry"],dep:["FillLevel"]}},_n={useCloning:S.useCloning,blueprint:null,expressions:null},Pn=function(){function e(e){return"http://www.w3.org/2000/svg"}var t=new XPathEvaluator,i={};return i.BI=t.createExpression("svg:path[4]",e),i.BIFR=t.createExpression("svg:path[2]",e),i.BBI=t.createExpression("svg:path[3]",e),i.BBIFR=t.createExpression("svg:path[1]",e),t=null,i},{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",onInit:function(e){var t;return _n.useCloning?Vn(e):((t=e).border=E.Border.createBorder(),t.rect={l:0,t:0,w:0,h:0},e.domSvgNode=e.domNode=ae.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"}),E.initAllAttributes(e),xn(e),e.domNode)},onChanged:function(e,t,i){Cn=!1,t=M.handleScreenModelPart(e,t,i),E.onChanged(e,t),Cn&&xn(e)},onCleanUp:function(e){},getPropertyBinding:function(){return vn},onPropBindFunc:function(e,t,i){"_updateGeometry"===e&&(Cn=!0)},getBounds:function(e){var t=M,i=nn,r=P,a=t.getPropRaw(e,"CenterX"),n=t.getPropRaw(e,"CenterY"),o="EllipseSegment"===e.props.Type?t.getProp(e,"RadiusX"):t.getProp(e,"Radius"),s="EllipseSegment"===e.props.Type?t.getProp(e,"RadiusY"):o,l=t.getProp(e,"StartAngle")+90,t=l+t.getProp(e,"AngleRange"),u={},i=i.calcBounds(e,a,n,o,s,l,t,!0);return r.copyRect(i,u),u},getBoundsWhole:function(e){var t=M,i=nn,r=P,a=t.getPropRaw(e,"CenterX"),n=t.getPropRaw(e,"CenterY"),o="EllipseSegment"===e.props.Type?t.getProp(e,"RadiusX"):t.getProp(e,"Radius"),t="EllipseSegment"===e.props.Type?t.getProp(e,"RadiusY"):o,s={},i=i.calcBoundsWhole(e,a,n,o,t);return r.copyRect(i,s),s},getRefPoint:En,getCenterOffset:En});function Vn(e){r=e,i="blueprint_segment",(t=_n).blueprint||(t.useCloning=!1,r=r.gfxWebLib.createHmiObject(r.props.Type,i),t.useCloning=!0,t.blueprint=r.domNode,r.domNode=null,r=null,t.expressions=Pn());var t,i=e,r=_n;return r=_n.blueprint.cloneNode(!0),i.domNode=i.domSvgNode=r,ae.augmentSvgScreenItemNode(i,{},i.domNode),e.border=E.Border.createBorderClone(e.domNode,_n.expressions),e.rect={l:0,t:0,w:0,h:0},e.props.Enabled=M.getPropRaw(e,"Enabled"),e.props.Visible=M.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),xn(e),e.domNode}function xn(e){var t=nn,i=(s=M).getProp(e,"CenterX"),r=s.getProp(e,"CenterY"),a="EllipseSegment"===e.props.Type?s.getProp(e,"RadiusX"):s.getProp(e,"Radius"),n="EllipseSegment"===e.props.Type?s.getProp(e,"RadiusY"):a,o=s.getProp(e,"StartAngle"),s=s.getProp(e,"AngleRange"),l=180<t.diffAngle(o=o<0?360+o%360:o,h=(s=s<0?360+s%360:s)+o)?1:0,u=t.calcPointFromCenterRadiusAngle(e,i,r,a,n,o),h=t.calcPointFromCenterRadiusAngle(e,i,r,a,n,h),d="M"+ae.pointParameter(u.x,u.y);P.equalPoint(u,h)&&0!==s&&(u=t.calcPointFromCenterRadiusAngle(e,i,r,a,n,o+180),d+="A"+ae.arcParameter(a,n,0,l,1,u.x,u.y)),d=(d+="A"+ae.arcParameter(a,n,0,l,1,h.x,h.y))+"L"+ae.pointParameter(i,r),E.Border.setAttribute(e.border,"d",d+="Z")}function En(e){var t=M;return{x:t.getProp(e,"CenterX"),y:t.getProp(e,"CenterY")}}var In,Rn,Bn,Ln,Mn,Fn,Hn,On,V,Nn,kn,Wn,Gn,Un,zn=er,jn=D.extend(!0,{},er);function Yn(e,t,i,r){var a=Fn;return a=(a=a+"_"+Bn[t])+"_"+i,a="string"==typeof r?a+"_"+r:a}function Xn(e,t){return null!==ae.lookupSvgDef(e,t)}function qn(e,t){return!!(e=e.imgFilters)&&!!Gn(t)&&void 0!==(e=e.FilterList)[t]&&!0===e[t]}function Kn(e,t){var i;e.imgFilters||Un(e),!0!==(i=(e=e.imgFilters).FilterList)[t]&&(i[t]=!0,e.Count=e.Count+1)}function Zn(e,t){var i,r=ae;return!("string"!=typeof t||!Gn(t)||(qn(e,t)&&(delete(i=e.imgFilters).FilterList[t],i.Count=i.Count-1,r.removeSvgDef(e,t)),0))}delete(In=D.extend(!0,{},jn.getPropertyBinding())).RadiusX,delete In.RadiusY,In.Radius={gc:"None",func:["_updateGeometry"],dep:["FillLevel"]},jn.getPropertyBinding=function(){return In},Bn=["None","CTT","SvgNat"],Mn=["BLEN","COMA","COTR","COMP","CVMA","DFLI","DPMA","DILI","FLOO","FCTA","FCTB","FCTG","FCTR","GABL","IMAG","MERG","MENO","MORP","OFFS","POLI","SPEL","SPOL","TILE","TURB"],Fn="filter",Hn={BLEN:{},COMA:{filterType:"COMA",type:"matrix",values:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],computeSubType:function(e){e=e.values;return On(e)},createFilterElement:function(e,t){var i=ae,r="",a="",n=e.values;if(20===n.length){for(var o=0;o<20;o++)a=a+n[o]+" ";r=i.createSvgElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:n,result:t})}return r}},COTR:{},COMP:{},CVMA:{},DFLI:{},DPMA:{},DILI:{},FLOO:{},FCTA:{},FTCB:{},FTCG:{},FTCR:{},GABL:{},IMAG:{},MERG:{},MENO:{},MORP:{},OFFS:{},POLI:{},SPEL:{},SPOL:{},TILE:{},TURB:{}},On=function(e){for(var t="",i=0;i<20;i++)t=t+e[i]+"_";return t},V={row0Entry0Unity:"1.0 0.0 0.0 0.0",row0Entry0Mult100:"100.0 0.0 0.0 0.0",row1Entry1Unity:" 0.0 1.0 0.0 0.0",row1Entry1Mult100:" 0.0 100.0 0.0 0.0",row2Entry2Unity:" 0.0 0.0 1.0 0.0",row2Entry2Mult100:" 0.0 0.0 100.0 0.0",row3Entry3Unity:" 0.0 0.0 0.0 1.0 0.0",row3Entry4Point5:" 0.0 0.0 0.0 0.0 0.5",addVal:[" 1.0"," 0.97"," 0.94"," 0.91"," 0.89"," 0.85"," 0.82"," 0.787"," 0.757"," 0.726"," 0.6944"," 0.68"," 0.66"," 0.61"," 0.59"," 0.55"," 0.9929"," 0.9926"," 0.9921"," 0.9916"," 0.9911"," 0.9906"," 0.9901"," 0.9895"," 0.989"," 0.9884"," 0.9878"," 0.9871"," 0.9865"," 0.9858"," 0.9851"," 0.9844"," 0.9837"," 0.9829"," 0.9821"," 0.9813"," 0.9805"," 0.9796"," 0.9787"," 0.9778"," 0.9769"," 0.9759"," 0.9749"," 0.9739"," 0.9729"," 0.9719"," 0.9708"," 0.9697"," 0.9685"," 0.9674"," 0.9662"," 0.965"," 0.9638"," 0.9625"," 0.9612"," 0.9599"," 0.9585"," 0.9572"," 0.9558"," 0.9544"," 0.9529"," 0.9514"," 0.9499"," 0.9484"," 0.9468"," 0.9452"," 0.9436"," 0.942"," 0.9403"," 0.9386"," 0.9368"," 0.936"," 0.934"," 0.932"," 0.93"," 0.928"," 0.926"," 0.924"," 0.922"," 0.92"," 0.918"," 0.916"," 0.914"," 0.912"," 0.91"," 0.908"," 0.905"," 0.903"," 0.901"," 0.899"," 0.896"," 0.894"," 0.892"," 0.889"," 0.887"," 0.884"," 0.882"," 0.879"," 0.876"," 0.874"," 0.871"," 0.868"," 0.866"," 0.863"," 0.86"," 0.857"," 0.854"," 0.852"," 0.849"," 0.846"," 0.843"," 0.84"," 0.837"," 0.833"," 0.83"," 0.827"," 0.824"," 0.821"," 0.817"," 0.814"," 0.811"," 0.807"," 0.804"," 0.8"," 0.797"," 0.793"," 0.79"," 0.786"," 0.783"," 0.779"," 0.775"," 0.772"," 0.768"," 0.764"," 0.76"," 0.756"," 0.752"," 0.748"," 0.744"," 0.74"," 0.736"," 0.732"," 0.728"," 0.724"," 0.72"," 0.716"," 0.712"," 0.708"," 0.704"," 0.699"," 0.694"," 0.689"," 0.685"," 0.681"," 0.677"," 0.671"," 0.666"," 0.661"," 0.657"," 0.653"," 0.649"," 0.642"," 0.638"," 0.634"," 0.628"," 0.622"," 0.618"," 0.614"," 0.609"," 0.602"," 0.597"," 0.592"," 0.587"," 0.582"," 0.576"," 0.571"," 0.564"," 0.56"," 0.555"," 0.548"," 0.544"," 0.536"," 0.532"," 0.525"," 0.52"," 0.513"," 0.508"," 0.502"," 0.498"," 0.492"," 0.485"," 0.478"," 0.473"," 0.466"," 0.461"," 0.453"," 0.447"," 0.442"," 0.434"," 0.428"," 0.422"," 0.414"," 0.408"," 0.402"," 0.395"," 0.388"," 0.383"," 0.375"," 0.368"," 0.361"," 0.355"," 0.348"," 0.34"," 0.333"," 0.328"," 0.32"," 0.312"," 0.305"," 0.297"," 0.29"," 0.283"," 0.277"," 0.269"," 0.261"," 0.253"," 0.246"," 0.238"," 0.23"," 0.223"," 0.215"," 0.207"," 0.199"," 0.192"," 0.184"," 0.176"," 0.168"," 0.16"," 0.152"," 0.144"," 0.136"," 0.13"," 0.12"," 0.114"," 0.104"," 0.095"," 0.085"," 0.077"," 0.069","  0.061"," 0.053"," 0.043"," 0.034"," 0.026"," 0.018"," 0.007"," 0.0"],subVal:[" -0.0"," -0.05"," -0.07"," -0.11"," -0.14"," -0.17"," -0.19"," -0.21"," -0.25"," -0.29"," -0.3"," -0.334"," -0.37"," -0.4"," -0.45"," -0.5"," -0.0013"," -0.0017"," -0.0022"," -0.0026"," -0.0031"," -0.0036"," -0.0042"," -0.0047"," -0.0053"," -0.0058"," -0.0065"," -0.0071"," -0.0077"," -0.0084"," -0.0091"," -0.0098"," -0.0107"," -0.0113"," -0.0121"," -0.0129"," -0.0138"," -0.0146"," -0.0155"," -0.0164"," -0.0173"," -0.0183"," -0.0193"," -0.0203"," -0.0213"," -0.0224"," -0.0235"," -0.0246"," -0.0267"," -0.0268"," -0.028"," -0.0292"," -0.0305"," -0.0317"," -0.033"," -0.0343"," -0.0358"," -0.037"," -0.0384"," -0.0399"," -0.0413"," -0.0428"," -0.0443"," -0.0458"," -0.0476"," -0.049"," -0.0506"," -0.0523"," -0.0539"," -0.0556"," -0.0574"," -0.06"," -0.061"," -0.063"," -0.065"," -0.067"," -0.069"," -0.071"," -0.073"," -0.075"," -0.077"," -0.079"," -0.081"," -0.083"," -0.085"," -0.087"," -0.09"," -0.092"," -0.094"," -0.096"," -0.099"," -0.101"," -0.104"," -0.106"," -0.109"," -0.111"," -0.114"," -0.116"," -0.119"," -0.121"," -0.124"," -0.127"," -0.129"," -0.132"," -0.135"," -0.138"," -0.141"," -0.144"," -0.147"," -0.15"," -0.152"," -0.156"," -0.159"," -0.162"," -0.165"," -0.168"," -0.171"," -0.174"," -0.178"," -0.181"," -0.184"," -0.188"," -0.191"," -0.195"," -0.198"," -0.202"," -0.205"," -0.209"," -0.215"," -0.218"," -0.222"," -0.226"," -0.23"," -0.234"," -0.238"," -0.242"," -0.246"," -0.25"," -0.253"," -0.257"," -0.261"," -0.265"," -0.27"," -0.274"," -0.277"," -0.281"," -0.285"," -0.291"," -0.2965"," -0.301"," -0.305"," -0.31"," -0.313"," -0.318"," -0.323"," -0.328"," -0.332"," -0.336"," -0.34"," -0.347"," -0.351"," -0.355"," -0.362"," -0.367"," -0.372"," -0.375"," -0.38"," -0.387"," -0.391"," -0.395"," -0.402"," -0.406"," -0.41"," -0.419"," -0.424"," -0.43"," -0.435"," -0.44"," -0.446"," -0.45"," -0.455"," -0.462"," -0.468"," -0.475"," -0.48"," -0.485"," -0.49"," -0.498"," -0.502"," -0.508"," -0.512"," -0.52"," -0.529"," -0.535"," -0.54"," -0.548"," -0.554"," -0.56"," -0.565"," -0.572"," -0.58"," -0.585"," -0.592"," -0.598"," -0.605"," -0.61"," -0.614"," -0.625"," -0.63"," -0.64"," -0.645"," -0.65"," -0.66"," -0.665"," -0.674"," -0.682"," -0.687"," -0.695"," -0.702"," -0.708"," -0.716"," -0.72"," -0.73"," -0.739"," -0.748"," -0.755"," -0.76"," -0.769"," -0.778"," -0.785"," -0.792"," -0.8"," -0.807"," -0.816"," -0.825"," -0.83"," -0.84"," -0.847"," -0.856"," -0.865"," -0.87"," -0.88"," -0.89"," -0.899"," -0.908"," -0.915"," -0.92"," -0.928"," -0.936"," -0.948"," -0.955"," -0.963"," -0.971"," -0.979"," -0.991"," -1.0"]},Nn=function(e,t){var i,r,a,n=ae;r=15<(i=t)[0]?V.row0Entry0Unity:V.row0Entry0Mult100,r=(r=(r+=V.addVal[i[0]].toString())+(15<i[1]?V.row1Entry1Unity:V.row1Entry1Mult100)+V.addVal[i[1]].toString())+(15<i[2]?V.row2Entry2Unity:V.row2Entry2Mult100)+V.addVal[i[2]].toString(),i=r+=V.row3Entry3Unity,r=n.createSvgElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:i,result:"stage1Addition"}),e.appendChild(r),r=n.createSvgElement("feColorMatrix",{in:"stage1Addition",type:"matrix",values:"-1.0 0.0 0.0 0.0 1.0  0.0 -1.0 0.0 0.0 1.0  0.0 0.0 -1.0 0.0 1.0  0.0 0.0 0.0 1.0 0.0",result:"stage1Inversion"}),e.appendChild(r),a=15<(t=t)[0]?V.row0Entry0Unity:V.row0Entry0Mult100,a=(a=(a+=V.subVal[t[0]].toString())+(15<t[1]?V.row1Entry1Unity:V.row1Entry1Mult100)+V.subVal[t[1]].toString())+(15<t[2]?V.row2Entry2Unity:V.row2Entry2Mult100)+V.subVal[t[2]].toString(),i=a+=V.row3Entry4Point5,r=n.createSvgElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:i,result:"stage1Subtraction"}),e.appendChild(r),t=n.createSvgElement("feBlend",{in:"stage1Inversion",in2:"stage1Subtraction",mode:"screen",result:"stage1ColorZero"}),e.appendChild(t),r=n.createSvgElement("feColorMatrix",{in:"stage1ColorZero",type:"matrix",values:"2.0 0.0 0.0 0.0 0.0  0.0 2.0 0.0 0.0 0.0  0.0 0.0 2.0 0.0 0.0  0.0 0.0 0.0 2.0 -1.0",result:"stage1AlphaCorrection"}),e.appendChild(r)},kn=function(e){var t,i,r=ae,a=r.createSvgElement("feColorMatrix",{in:"stage1AlphaCorrection",type:"matrix",values:"1.0 1.0 1.0 0.0 0.0  1.0 1.0 1.0 0.0 0.0  1.0 1.0 1.0 0.0 0.0  0.0 0.0 0.0 1.0 0.0",result:"stage2RGBAddition"});e.appendChild(a),a=r.createSvgElement("feColorMatrix",{in:"stage2RGBAddition",type:"matrix",values:"1.0 0.0 0.0 0.0 0.499999  0.0 1.0 0.0 0.0 0.499999  0.0 0.0 1.0 0.0 0.499999  0.0 0.0 0.0 1.0 0.0",result:"stage2RGBThresholdRaise"}),e.appendChild(a),t=r.createSvgElement("feComponentTransfer",{result:"stage2Discretization"}),i=r.createSvgElement("feFuncR",{type:"discrete",tableValues:"1.0 0.0"}),t.appendChild(i),i=r.createSvgElement("feFuncG",{type:"discrete",tableValues:"1.0 0.0"}),t.appendChild(i),i=r.createSvgElement("feFuncB",{type:"discrete",tableValues:"1.0 0.0"}),t.appendChild(i),e.appendChild(t),a=r.createSvgElement("feColorMatrix",{in:"stage2Discretization",type:"matrix",values:"0.0 0.0 0.0 0.0 0.0  0.0 0.0 0.0 0.0 0.0  0.0 0.0 0.0 0.0 0.0  -1.0 1.0 -1.0 1.0 0.0",result:"stage2ColorAlphaZero"}),e.appendChild(a)},Wn=function(e){var t,i=ae,r=i.createSvgElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"1.0 0.0 0.0 0.0 0.0  0.0 1.0 0.0 0.0 0.0  0.0 0.0 1.0 0.0 0.0  0.0 0.0 0.0 0.0 0.5",result:"stage3AlphaZeroPointFive"});e.appendChild(r),t=i.createSvgElement("feBlend",{in:"stage2ColorAlphaZero",in2:"stage3AlphaZeroPointFive",mode:"screen",result:"stage3ColorAlphaZero"}),e.appendChild(t),r=i.createSvgElement("feColorMatrix",{in:"stage3ColorAlphaZero",type:"matrix",values:"2.0 0.0 0.0 0.0 0.0  0.0 2.0 0.0 0.0 0.0  0.0 0.0 2.0 0.0 0.0  0.0 0.0 0.0 2.0 -1.0",result:"stage3Correction"}),e.appendChild(r)},Gn=function(e){return"string"==typeof e&&e.slice(0,Fn.length)===Fn},Un=function(e){e.imgFilters={},e.imgFilters.Count=0,e.imgFilters.FilterList={}};var Qn,Jn,$n,eo,to,io,ro,ao,no,oo,so={enumFilterType:Rn={None:0,ColorToTransparency:1,SvgNative:2},enumFilterTypeSvgNative:Ln={Blend:0,ColorMatrix:1,ComponentTransfer:2,Composite:3,ConvolveMatrix:4,DiffuseLighting:5,DisplacementMap:6,DistantLight:7,Flood:8,FuncA:9,FuncB:10,FuncG:11,FuncR:12,GaussianBlur:13,Image:14,Merge:15,MergeNode:16,Morphology:17,Offset:18,PointLight:19,SpecularLighting:20,SpotLight:21,Tile:22,Turbulence:23},configFilterColorToTransparency:function(e,t,i){var r={},t=F.colorToRgb(t),a=65536*t[0]+256*t[1]+t[2],a=Yn(0,Rn.ColorToTransparency,a.toString(),i);return""===a?null:(r.Type=Rn.ColorToTransparency,r.Id=a,r.ColorArray=t,r)},configFilterSvgNative:function(e,t,i){var r,a={};return t?(a.Type=Rn.SvgNative,r=t.computeSubType(t),a.Id=Yn(0,Rn.SvgNative,r,i),a.filterProps=t,a):null},getFilterPropsSvgNative:function(e){e=Ln[e];return e&&Mn[e]?D.extend(!0,{},Hn[Mn[e]]):null},filterExistent:Xn,getFilterCount:function(e){e=e.imgFilters;return e?e.Count:0},getFilterIdFromConfig:function(e){var t="";return t=e.Id?e.Id:t},usesFilter:qn,createFilter:function(e,t){var i,r,a,n,o=ae,s=null;if(!(r=t)||"number"!=typeof r.Type||!Gn(r.Id))return!1;if(r=t.Id,null!==(i=o.lookupSvgDef(e,r)))return qn(e,r)||(o.appendSvgDef(e,i),Kn(e,r)),!0;switch(t.Type){case Rn.ColorToTransparency:a=ae,n=t.ColorArray,a=a.createSvgElement("filter",{id:t.Id}),Nn(a,n),kn(a),Wn(a),s=a;break;case Rn.SvgNative:n=t,a=ae.createSvgElement("filter",{id:n.Id}),n=(0,(n=n.filterProps).createFilterElement)(n,n.result),a.appendChild(n),s=a;break;default:s=null}return null!==s&&(o.appendSvgDef(e,s),Kn(e,r),!0)},addFilterToSvgImage:function(e,t,i){return!(!t||!Gn(i)||!Xn(e,i)||(t.setAttribute("filter","url(#"+i+")"),0))},getFilterIdFromSvgImage:function(e){return(e=e&&e.getAttribute("filter"))?e.slice(5,e.length-1):""},removeFilter:Zn,removeFilterQuantity:function(e,t){var i=e.imgFilters,r=0;if(i){for(var a in t=t<i.Count?t:i.Count,i.FilterList){if(!(r<t))break;Zn(e,a),r+=1}i.Count=i.Count-r}},removeAllFilters:function(e){var t,i=e.imgFilters;if(i){for(var r in t=i.FilterList)Zn(e,r);t.length=0,i.Count=0,delete e.imgFilters}}};function lo(e){var t,i;function r(e){return"http://www.w3.org/2000/svg"}return $n.blueprint||($n.useCloning=!1,t=e.gfxWebLib.createHmiObject(e.props.Type,"blueprint_graphicview"),$n.useCloning=!0,$n.blueprint=t.domNode,t.domNode=null,t=new XPathEvaluator,(i={}).BI=t.createExpression("svg:rect[4]",r),i.BIFR=t.createExpression("svg:rect[2]",r),i.BBI=t.createExpression("svg:rect[3]",r),i.BBIFR=t.createExpression("svg:rect[1]",r),i.IM=t.createExpression("svg:image[1]",r),i.IMCP=t.createExpression("svg:clipPath[1]",r),i.IMCR=t.createExpression("svg:clipPath[1]/svg:path[1]",r),i.IMTP=t.createExpression("svg:pattern[1]",r),i.IMTR=t.createExpression("svg:rect[1]",r),$n.expressions=i),t=e,i=$n.blueprint.cloneNode(!0),t.domNode=t.domSvgNode=i,ae.augmentSvgScreenItemNode(t,{},t.domNode),i=$n.expressions,t.svgImage=i.IM.evaluate(t.domNode,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,t.svgImageClipPath=null,t.svgImageClipRect=null,t.svgImageTilingPattern=null,t.svgImageTilingRect=null,t.imgData=null,uo(e),e.border=E.Border.createBorderClone(e.domNode,$n.expressions,!0),e.props.Enabled=M.getPropRaw(e,"Enabled"),e.props.Visible=M.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),e.domNode}function uo(e){e.imgData={upToDate:!1}}function ho(e){var t=M,i=new te;e&&e.imgData&&(t=t.getProp(e,"Graphic"),e.imgData.upToDate=!1,i.loadImage(e,t,to))}function co(e){var t,i,r,a,n,o,s,l,u,h=M,d=E,c=ae,p=d.getInnerBounds(e);if((n=(n=e)&&n.imgData&&n.imgData.upToDate?n.imgData.imgBounds:null)&&(a=function(e,t,i){var r=M,a={};if(i.w=i.w||e.props.GraphicWidth||0,i.h=i.h||e.props.GraphicHeight||0,e&&t&&i&&0<i.w&&0<i.h){var n=r.getProp(e,"GraphicStretchMode"),o=n!==Qn.HmiGraphicStretchMode.Fill;switch(n){case Qn.HmiGraphicStretchMode.None:io(e,t,i,a);break;case Qn.HmiGraphicStretchMode.Fill:ro(e,t,i,a);break;case Qn.HmiGraphicStretchMode.Uniform:ao(e,t,i,a);break;case Qn.HmiGraphicStretchMode.UniformToFill:no(e,t,i,a);break;case Qn.HmiGraphicStretchMode.Tiled:oo(e,t,i,a);break;default:io(e,t,i,a)}r.getProp(e,"ShowFillLevel")||eo(e,o)}else O.consolLog(O.enumTraceMode.Error,"Failed to get the graphic size of item (rtoid): "+e.rtoid);return a}(e,p,n),r=e.svgImage,a=a,r&&a&&ae.setBBox(r,a),r=e,a=p,n=n,s=(o=ae).getSvgDefs(r),l=M.getProp(r,"GraphicStretchMode")===Qn.HmiGraphicStretchMode.Tiled,(u=l&&!r.svgImageTilingPattern||!l&&r.svgImageTilingPattern)&&(null!==r.svgImageTilingPattern&&(s.removeChild(r.svgImageTilingPattern),r.svgImageTilingPattern=null,r.domSvgNode.removeChild(r.svgImageTilingRect),r.svgImageTilingRect=null),l)&&(r.svgImageTilingPattern=o.createSvgElement("pattern",{id:P.mkId(r,"ID_ImageTilingPattern"),patternUnits:"userSpaceOnUse",appendTo:s}),r.svgImageTilingRect=o.createSvgElement("rect",{appendTo:r.domSvgNode})),l&&a&&(r.svgImageTilingPattern.setAttribute("x",a.l),r.svgImageTilingPattern.setAttribute("y",a.t),r.svgImageTilingPattern.setAttribute("width",n.w),r.svgImageTilingPattern.setAttribute("height",n.h),o.setBBox(r.svgImageTilingRect,a)),u&&(s=e,M.getProp(s,"GraphicStretchMode")!==Qn.HmiGraphicStretchMode.Tiled?(s.domSvgNode.appendChild(s.svgImage),null!==s.svgImageClipPath&&s.svgImage.setAttribute("clip-path",P.mkUrl(s,"ID_ImageClipPath"))):(s.svgImage.removeAttribute("clip-path"),s.svgImageTilingPattern.appendChild(s.svgImage),s.svgImageTilingRect.setAttribute("fill",P.mkUrl(s,"ID_ImageTilingPattern")),s.svgImageTilingRect.setAttribute("clip-path",P.mkUrl(s,"ID_ImageClipPath")))),null!==e.svgImageClipPath)){if(l=h.getProp(e,"ShowFillLevel"),t=d.copyBounds(p),l)switch(i=h.getProp(e,"FillLevel"),h.getProp(e,"FillDirection")){case Qn.HmiFillDirection.BottomToTop:t.h=(100-i)/100*t.h;break;case Qn.HmiFillDirection.TopToBottom:t.t=t.t+i/100*t.h,t.h=(100-i)/100*t.h;break;case Qn.HmiFillDirection.LeftToRight:t.l=t.l+i/100*t.w,t.w=(100-i)/100*t.w;break;case Qn.HmiFillDirection.RightToLeft:t.w=(100-i)/100*t.w}c.setBBox(e.svgImageClipRect,t),e.svgImageBgRect&&c.setBBox(e.svgImageBgRect,p)}}Qn=v,Jn={Enabled:{func:["OperationEnabled"]},BackFillPattern:{func:["Border.BorderItems","Border.BorderRect","_ImageBounds"],dep:["BackColor"]},GraphicStretchMode:{func:["_ImageBounds"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ShowFillLevel:{func:["Border.BorderItems","Border.BorderRect","_ImageClipPath","_ImageBounds"]},FillLevel:{func:["Border.FillClip","_ImageBounds"]},FillDirection:{func:["Border.FillClip","_ImageBounds"]},Padding:{func:["_ImageBounds"]},BackColor:{func:["Border.BackColors"]},AlternateBackColor:{dep:["BackFillPattern"]},Left:{func:["Border.BorderRect","Border.FillClip","_ImageBounds"],dep:["RotationAngle"]},Top:{func:["Border.BorderRect","Border.FillClip","_ImageBounds"],dep:["RotationAngle"]},Width:{func:["Border.BorderRect","Border.FillClip","_ImageBounds"],dep:["RotationAngle"]},Height:{func:["Border.BorderRect","Border.FillClip","_ImageBounds"],dep:["RotationAngle"]},Graphic:{func:["_HandlePropGraphic"]}},$n={useCloning:S.useCloning,blueprint:null,expressions:null},eo=function(e,t){var i=M,r=ae,a=r.getSvgDefs(e),i=i.getProp(e,"ShowFillLevel");null!==e.svgImageClipPath&&(e.svgImageClipPath.removeChild(e.svgImageClipRect),e.svgImageClipRect=null,a.removeChild(e.svgImageClipPath),e.svgImageClipPath=null,e.svgImage.removeAttribute("clip-path"),e.svgImageBgRect)&&(e.domSvgNode.removeChild(e.svgImageBgRect),e.svgImageBgRect=null),(i||t)&&(e.svgImageClipPath=r.createSvgElement("clipPath",{id:P.mkId(e,"ID_ImageClipPath"),appendTo:a}),e.svgImageClipRect=r.createSvgElement("rect",{appendTo:e.svgImageClipPath}),e.svgImage.setAttribute("clip-path",P.mkUrl(e,"ID_ImageClipPath")),i)&&(e.svgImageBgRect=r.createSvgElement("rect",{fill:"rgba(0,0,0,0)",appendTo:e.domSvgNode}))},to=function(e,t){e.imgData.imgBounds={},e.imgData.imgBounds.w=t.w,e.imgData.imgBounds.h=t.h,e.imgData.upToDate=!0,co(e),e.svgImage.setAttributeNS(ae.xlinkNS,"xlink:href",e.imgData.imgUrl)},io=function(e,t,i,r){var a=t.w-i.w,n=t.h-i.h;r.l=t.l+a/2,r.t=t.t+n/2,r.w=i.w,r.h=i.h},ro=function(e,t,i,r){r.l=t.l,r.t=t.t,r.h=t.h,r.w=t.w},ao=function(e,t,i,r){var a,n=(t.w-i.w)/i.w,o=(t.h-i.h)/i.h;n<=0&&0<=o||n<=0&&o<=0&&Math.abs(n)>=Math.abs(o)||0<n&&0<o&&Math.abs(n)<=Math.abs(o)?(a=t.w/i.w,r.l=t.l,r.w=t.w,r.h=i.h*a,r.t=t.t+(t.h-r.h)/2):(a=t.h/i.h,r.t=t.t,r.h=t.h,r.w=i.w*a,r.l=t.l+(t.w-r.w)/2)},no=function(e,t,i,r){var a,n=(t.w-i.w)/i.w,o=(t.h-i.h)/i.h;0<=n&&o<=0||0<=n&&0<=o&&Math.abs(n)>=Math.abs(o)||n<0&&o<0&&Math.abs(n)<=Math.abs(o)?(a=t.w/i.w,r.l=t.l,r.w=t.w,r.h=i.h*a,r.t=t.t+(t.h-r.h)/2):(a=t.h/i.h,r.t=t.t,r.h=t.h,r.w=i.w*a,r.l=t.l+(t.w-r.w)/2)},oo=function(e,t,i,r){r.t=0,r.l=0,r.w=i.w,r.h=i.h};var po,mo,go,To,fo={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"rect",onInit:function(e){var t,i;return $n.useCloning?lo(e):((i=e).border=E.Border.createBorder(!0),i.svgImage=i.svgImageBgRect=i.svgImageClipPath=i.svgImageClipRect=i.svgImageTilingPattern=i.svgImageTilingRect=i.imgData=null,i=ae,(t=e).domSvgNode=t.domNode=i.createSvgScreenItemNode(t,{style:"pointer-events: visiblePainted;"}),t.svgImage=i.createSvgElement("image",{preserveAspectRatio:"none",appendTo:t.domSvgNode}),t.props.imageRendering&&(t.svgImage.style.imageRendering=t.props.imageRendering),uo(e),E.initAllAttributes(e),e.domNode)},onChanged:function(e,t,i){t=M.handleScreenModelPart(e,t,i),E.onChanged(e,t)},onCleanUp:function(e){var t=_,i=so;e.svgImageClipPath&&t.removeNodeWithAllChilds(e.svgImageClipPath),i.removeAllFilters(e)},getPropertyBinding:function(){return Jn},onPropBindFunc:function(e,t){switch(e){case"_ImageClipPath":eo(t);break;case"_HandlePropGraphic":r=M,a=F,(i=t)&&i.imgData&&((r=r.getProp(i,"Graphic"))?(i.imgData.imgUrl=a.toHRef(r,i),ho(i)):(i.svgImage.setAttributeNS(ae.xlinkNS,"xlink:href",""),i.imgData.upToDate=!1));break;case"_ImageBounds":co(t);break;case"_ImageBoundsOrig":ho(t)}var i,r,a}};function yo(e){var t,i=e,r=M,a=F,n=i.gfxWebLib.getStyle(),o="Label"===i.props.Type?To:go,s=o[n]||o.extended;for(t in s)"BackFillPattern"===t&&r.getProp(i,"BackColor",a.enumConverter.None,4278190080)<16777216?i.props[t]=po.HmiFillPattern.Solid:i.props[t]=s[t];e.border=E.Border.createBorder()}function Do(e){var t;e.domSvgNode=e.domNode=ae.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"}),e.text=E.Text.createText(e,(t=e,{getBBox:function(){var e=E.getInnerBounds(t);return{x:e.l,y:e.t,width:e.w,height:e.h}}}))}mo={Enabled:{func:["OperationEnabled"]},BorderWidth:{gc:"None",func:["Border.BorderItems","Border.BorderRect","Text.TextClip"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["Text"]},BackFillPattern:{func:["Border.BorderItems","Border.BorderRect"],dep:["BackColor"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},Corners:{func:["Border.BorderRect"]},ForeColor:{gc:"Color",svg:[{si:"text.svgText",sp:"fill"}]},BackColor:{func:["Border.BackColors"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},Left:{func:["Border.BorderRect","Text.TextClip","_updateLayout"],dep:["RotationAngle"]},Top:{func:["Border.BorderRect","Text.TextClip","_updateLayout"],dep:["RotationAngle"]},Width:{func:["Border.BorderRect","Text.TextClip","_updateLayout"],dep:["TextTrimming","RotationAngle"]},Height:{func:["Border.BorderRect","Text.TextClip","_updateLayout"],dep:["RotationAngle"]},Padding:{func:["_updateLayout"]},Font:{func:["Text.Font"],dep:["Text"]},HorizontalTextAlignment:{func:["Text.TextHorizontalAlignment"]},VerticalTextAlignment:{func:["Text.TextVerticalAlignment"]},Text:{func:["_setText"]},TextTrimming:{func:["_setText"]},TextWrapping:{func:["_setText"]}},go={extended:{BackFillPattern:(po=v).HmiFillPattern.Transparent,BackColor:16777215,AlternateBackColor:16777215,BorderColor:16777215,AlternateBorderColor:16777215,BorderWidth:0,TextTrimming:po.HmiTextTrimming.None,VisualizeQuality:!1},futuredark:{BackFillPattern:po.HmiFillPattern.Transparent,BackColor:16777215,AlternateBackColor:16777215,BorderColor:16777215,AlternateBorderColor:16777215,BorderWidth:0,TextTrimming:po.HmiTextTrimming.None,VisualizeQuality:!1}},To={extended:{BackFillPattern:po.HmiFillPattern.Solid,Corners:{TopLeftRadius:5,TopRightRadius:5,BottomLeftRadius:5,BottomRightRadius:5}},futuredark:{BackFillPattern:po.HmiFillPattern.Solid,Corners:{TopLeftRadius:0,TopRightRadius:0,BottomLeftRadius:0,BottomRightRadius:0}}};var So={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",onInit:function(e){return yo(e),Do(e),E.initAllAttributes(e),e.domNode},onChanged:function(e,t,i){if(!i){var r,a,n=e,o=t,s=n.gfxWebLib.getStyle(),l=(n="Label"===n.props.Type?To:go)[s]||n.extended;for(a in l)"BackFillPattern"===a&&(r=o.BackColor)&&(o[a]=r<16777216?po.HmiFillPattern.Solid:l[a])}t=M.handleScreenModelPart(e,t,i),E.onChanged(e,t)},onCleanUp:function(e){},getPropertyBinding:function(){return mo},onPropBindFunc:function(e,t,i){switch(e){case"_setText":var r,a,n=t,o=M,s=F,l=E,u=o.getProp(n,"Text");if(o.getPropRaw(n,"TextTrimming"))for(c=l.getFont(n,"Font"),p=l.getInnerBounds(n).w,m=u.split(/\r\n|[\n\r\u0085\u2028\u2029]/g),u="",g=0;g<m.length;g++)u&&(u+="\n"),u+=r=s.textEllipsis(m[g],p,c);else if(o.getPropRaw(n,"TextWrapping"))for(var h,d,c=l.getFont(n,"Font"),p=l.getInnerBounds(n).w,m=u.split(/\r\n|[\n\r\u0085\u2028\u2029]/g),u="",g=0;g<m.length;g++){for(var T=/\r|[ \u00A0]{1}|[^ \u00A0]+/g,f=[];null!==(h=T.exec(m[g]));)f.push(h[0]);if(r="",f[a=0])for(r="";f[0];)if(a+(d=ae.getTextWidth(c,f[0]))<=p||-1===p||ae.getTextWidth(c,r+f[0])<=p)r+=f.shift(),a+=d;else if(""===r){for(var y,D="",S=f[0].split("");S[0];)y=D+S[0],ae.getTextWidth(c,y)<=p?D+=S.shift():(0===D.length&&(D+=S.shift()),u+=D+"\n",D="");f.shift(),""!==D&&f.unshift(D)}else!/[ \u00A0]{1}$/.test(r)&&/^[ \u00A0]{1}$/.test(f[0])&&(r+=f.shift()),u+=r+"\n",r="",a=0;u+=r,g<m.length-1&&(u+="\n")}E.Text.setText(n.text,u);break;case"_updateLayout":o=t,i||E.Text.setOffsets(o.text,0,0)}}};function bo(e){var t=window.Variant.CF_VT;switch(e&t.TYPE_MASK){case t.BOOL:return"{B}";case t.INT8:case t.INT16:case t.INT32:case t.INT64:case t.UINT8:case t.UINT16:case t.UINT32:case t.UINT64:return"{I}";case t.FLOAT:case t.DOUBLE:return"{F}";case t.TIMESPAN:return"{P}";case t.DATETIME:return"{D} {T}";case t.CY:return"{N2}";case t.BITSET8:return"{B8,4}";case t.BITSET16:return"{B16,4}";case t.BITSET32:return"{H8,4}";case t.BITSET64:return"{H16,4}";case t.BLOB:return"{H}";case t.CHROM_CHAR:case t.STR:case t.SREF:return"{S}"}return""}function Co(e){return e.replace(/^[0]+/g,"")}var vo={getDefaultOutputFormat:bo,is64BitDataType:function(e){var t=window.Variant.CF_VT;switch(e){case t.INT64:case t.UINT64:case t.BITSET64:case t.CY:return!0;default:return!1}},getDefaultProcessValueOutputFormat:function(e){return""===e.format?void 0!==e.vt?bo(e.vt):"string"==typeof e.pv?"{S}":"number"==typeof e.pv?"{F}":"":e.format},convertString2DataType:function(e,t,i){var r,a,n=F.enumHmiFieldDataType;if(!(0===t.length&&(r=i,a=F.enumHmiFieldDataType,r>=a.Decimal)&&r<=a.Float)){switch(i){case n.Binary:return t=Co(t),t=H.baseConverter.bin2dec(t);case n.Hex:return t=Co(t),t=H.baseConverter.hex2dec(t);case n.Integer:return t=Co(t);case n.Float:case n.Decimal:case n.Exponential:t=parseFloat(t.replace(",","."));break;case n.Date:case n.Time:case n.DateTime:case n.String:return t}return isNaN(t)?void 0:t}}};function _o(e){var t,i=M,r=F,a=i.getProp(e,"RotationAngle",r.enumConverter.TransformRotatePlaced,0),r=i.getProp(e,"Flip",r.enumConverter.TransformScale,0);a||r?(t="",a&&(t+=a),r&&(t=t+(" translate("+(2*i.getProp(e,"Left")+i.getProp(e,"Width")))+", 0 ) "+r),e.domNode.setAttribute("transform",t)):e.domNode.removeAttribute("transform")}function Po(e,t){var i=M,r=F;e.domSvgNode.setAttribute("focusable",!1),e.domSvgNode.setAttribute("display",i.getProp(e,"Visible",r.enumConverter.Display)),e.domSvgNode.setAttribute("x",i.getProp(e,"Left")),e.domSvgNode.setAttribute("y",i.getProp(e,"Top")),e.domSvgNode.setAttribute("width",Math.max(0,i.getProp(e,"Width"))),e.domSvgNode.setAttribute("height",Math.max(0,i.getProp(e,"Height"))),e.domSvgNode.style["pointer-events"]="none",e.domSvgNode.style.contain="content";for(var a=e.domSvgNode.firstElementChild;a;)a.style&&"defs"!==a.nodeName&&(a.style["pointer-events"]="visiblePainted"),a=a.nextElementSibling;e.domSvgNode.setAttribute("opacity",i.getProp(e,"Opacity",r.enumConverter.None,1)),_o(e),E.setEnabled(e),e.quality=E.Quality.create(e),E.Quality.ShowQuality(e),e.handler&&e.handler.onScopeInitialized&&e.handler.onScopeInitialized(e,t)}function Ao(e,t){var i=F,r=E;void 0!==t.Enabled&&r.setEnabled(e),e.domNode&&(void 0===t.RotationAngle&&void 0===t.RotationCenterX&&void 0===t.RotationCenterY&&void 0===t.RotationCenterPlacement||(_o(e),r.Quality.ShowQuality(e)),void 0===t.CurrentQuality&&void 0===t.VisualizeQuality||r.Quality.ShowQuality(e),void 0!==t.Name)&&e.domNode.setAttribute("data-tif-id",t.Name),e.domSvgNode&&(void 0!==t.Visible&&e.domSvgNode.setAttribute("display",i.convertTo(i.enumConverter.Display,t.Visible,e)),void 0!==t.Left&&e.domSvgNode.setAttribute("x",t.Left),void 0!==t.Top&&e.domSvgNode.setAttribute("y",t.Top),void 0===t.Top&&void 0===t.Left&&void 0===t.Width&&void 0===t.Height||(void 0!==t.Width&&e.domSvgNode.setAttribute("width",Math.max(0,t.Width)),void 0!==t.Height&&e.domSvgNode.setAttribute("height",Math.max(0,t.Height)),_o(e),r.Quality.ShowQuality(e)),void 0!==t.Opacity&&e.domSvgNode.setAttribute("opacity",t.Opacity),void 0!==t.Flip||e.props.Flip&&void 0!==t.Left)&&_o(e)}er={HANDLE_NAME:"WebRTPU.Handler",DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.Advanced.WebRTPU.Handler",DISABLE_SETSELECTIONPROPS:!1,onInit:function(e,t){return e.handler.updateFrameAttributes=Ao,e.domNode=ae.createSvgElement("g"),R.onInit(e,Po,t),e.domNode},onCurrentLanguage:function(e){R.onCurrentLanguage(e)},onCurrentStyle:function(e){R.onCurrentStyle(e)},onChanged:function(e,t,i){return R.onChanged(e,t,i)},onCreatePart:function(e,t,i){return R.onCreatePart(e,t,i)},onDeletePart:function(e,t){return R.onDeletePart(e,t)},onMovePart:function(e,t,i){return R.onMovePart(e,t,i)},onFocus:function(e){R.onFocus(e)},onFocusOut:function(e){R.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return R.checkInnerNavigation(e,t,i,r)},onCleanUp:function(e){R.onCleanUp(e)},getPropertyBinding:function(){return null},getBounds:function(e){var t=M;return{l:t.getPropRaw(e,"Left"),t:t.getPropRaw(e,"Top"),w:t.getPropRaw(e,"Width"),h:t.getPropRaw(e,"Height")}},onFlashing:function(e,t,i){R.onFlashing(e,t,i)},checkControlIsReady:function(e){return R.checkControlIsReady(e)},addDelayedUpdates:function(e,t,i,r){R.addDelayedUpdates(e,t,i,r)},handleDelayedUpdates:function(e){R.handleDelayedUpdates(e)},webRtpuIsArray:function(e){return R.webRtpuIsArray(e)},registerWebRTPUContent:function(e,t,i){R.registerWebRTPUContent(e,t,i)},setParamProps:function(e,t,i){R.setParamProps(e,t,i)},getTemplatePrefixUri:function(e){return R.getTemplatePrefixUri(e)},loadSubTemplate:function(e,t,i,r,a,n){return R.loadSubTemplate(e,t,i,r,a,n)},removeSubTemplate:function(e){R.removeSubTemplate(e)}};Vo=er,xo=new window.Variant(0);function wo(){var o="Centered",s="Centered",l={Left:"start",Centered:"middle",Right:"end"},u={Left:function(e,t){return t.x},Centered:function(e,t){return t.x+t.width/2},Right:function(e,t){return t.x+t.width}},h={Top:function(e,t){return t.y},Centered:function(e,t){return t.y+(t.height/2-e.height/2)},Bottom:function(e,t,i){return t.y+t.height-e.height-.2*i}};this.applyLayout=function(e,t,i){var r,a,n=e.getTextDesc();0<n.lines&&(r=1<n.lines?n.txtSize+(n.lines-1)*n.dyNext:n.txtSize,t.bBox={height:r},(r=e.getOffsets()).dirty)&&(a=u[o](t.bBox,i),t=h[s](t.bBox,i,n.txtSize),e.setAnchor(l[o]),e.setPosition(a+r.x,t+r.y),r.dirty=!1)},this.setXAlignment=function(e){o=e},this.setYAlignment=function(e){s=e}}var Vo,xo,Eo,Io,Ro,Bo={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",TEMPLATE_HANDLER_TYPE:"NATIVE",DISABLE_SETSELECTIONPROPS:!1,onInit:function(e){return E.onInitEnabled(e),e.props.ProcessValue&&e.props.ProcessValue.VT&&(e._vt=e.props.ProcessValue.VT),e._orgOutputFormat=M.getProp(e,"OutputFormat"),Vo.onInit(e)},initProcessValueAndOutputFormats:function(e){var t,i=vo;e.props.ProcessValue&&(t=xo.setValue(M.getProp(e,"ProcessValue")),i.is64BitDataType(t.typeOf())?e.props.ProcessValue=H.format(t._value,"{I}"):e.props.ProcessValue=t.jsValueOf())},onCurrentLanguage:function(e,t){Vo.onCurrentLanguage(e,t)},onCurrentStyle:function(e,t){Vo.onCurrentStyle(e,t)},onChanged:function(e,t,i){var r,a,n,o,s,l,u;r=e,n=i,s=M,l=vo,u={},(a=t).ProcessValue&&a.ProcessValue.VT&&(r._vt=a.ProcessValue.VT),""===s.getScreenModelPartName(r,a,n)&&(void 0!==a.OutputFormat&&(r._orgOutputFormat=a.OutputFormat,""===a.OutputFormat)&&(o=xo.setValue(s.getProp(r,"ProcessValue")),u.format=r._orgOutputFormat,u.pv=o.valueOf(),u.vt=o.typeOf(),a.OutputFormat=l.getDefaultProcessValueOutputFormat(u)),void 0!==a.ProcessValue)&&(o=xo.setValue(a.ProcessValue),l.is64BitDataType(o.typeOf())?a.ProcessValue=H.format(o._value,"{I}"):a.ProcessValue=o.jsValueOf(),""===r._orgOutputFormat)&&(u.format=r._orgOutputFormat,u.pv=o.valueOf(),u.vt=o.typeOf(),a.OutputFormat=l.getDefaultProcessValueOutputFormat(u)),E.onChangedEnabled(e,t,i),Vo.onChanged(e,t,i)},onFlashing:function(e,t,i){Vo.onFlashing(e,t,i)},onFocus:function(e){Vo.onFocus(e)},onFocusOut:function(e){Vo.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return Vo.checkInnerNavigation(e,t,i,r)},onCleanUp:function(e){Vo.onCleanUp(e)},onInputFinished:function(e,t){e.gfxWebLib.connection.sendEventByName(e.rtoid,"InputFinished",t)},getPropertyBinding:function(){return Vo.getPropertyBinding()},getBounds:function(e){return Vo.getBounds(e)}},Lo={fill:"#CCCCCC"},Mo=function(e,t,i,r,a,n,o,s){var l=e,u=o,h={fill:"#EEEEEE"},d=Lo,c={fill:"#BBBBBB"},p={fill:"#F6F6F6"},m=s,g=null,T=null,f=null;if(e=t,o=!1,g=ae.createSvgElement("g"),"object"==typeof e?"svg"!==e.nodeName&&"g"!==e.nodeName&&"svg:svg"!==e.nodeName&&"svg:g"!==e.nodeName||(e.appendChild(g),o=!0):"string"==typeof e&&(o=((document.getElementById(e)?document.getElementById(e):(g.setAttributeNS(null,"id",e),document.documentElement)).appendChild(g),!0)),o){var y,D,e=i,o=r,s=a,t=n,i=0,r=0,a=(a=s<t?(i=(t-s)/2,r=0,s):(i=0,r=(s-t)/2,t))/4,r="vertical_up"===u?(D="LineUp","M"+(e+r+a)+" "+(o+i+3*a)+" L"+(e+.5*s)+" "+(o+i+a)+" L"+(e+r+3*a)+" "+(o+i+3*a)+" Z"):"vertical_down"===u?(D="LineDown","M"+(e+r+3*a)+" "+(o+i+a)+" L"+(e+.5*s)+" "+(o+i+3*a)+" L"+(e+r+a)+" "+(o+i+a)+" Z"):"horizontal_up"===u?(D="LineUp","M"+(e+r+a)+" "+(o+.5*t)+" L"+(e+r+3*a)+" "+(o+i+3*a)+" L"+(e+r+3*a)+" "+(o+i+a)+" Z"):(D="LineDown","M"+(e+r+3*a)+" "+(o+.5*t)+" L"+(e+r+a)+" "+(o+i+a)+" L"+(e+r+a)+" "+(o+i+3*a)+" Z");for(y in T=ae.createSvgElement("rect",{id:l,"data-tif-type":D,x:e,y:o,width:s,height:t,appendTo:g}),h)h.hasOwnProperty(y)&&T.setAttributeNS(null,y,h[y]);for(y in f=ae.createSvgElement("path",{d:r,"pointer-events":"none",appendTo:g}),d)d.hasOwnProperty(y)&&f.setAttributeNS(null,y,d[y])}return{onPointerDown:function(e,t,i){for(var r in d)d.hasOwnProperty(r)&&f.removeAttributeNS(null,r);for(r in c)c.hasOwnProperty(r)&&f.setAttributeNS(null,r,c[r]);this.fireFunction("buttonDown")},onPointerUp:function(e,t){for(var i in c)c.hasOwnProperty(i)&&f.removeAttributeNS(null,i);for(i in d)d.hasOwnProperty(i)&&f.setAttributeNS(null,i,d[i]);this.fireFunction("buttonUp")},fireFunction:function(e){"function"==typeof m?m(l,e):"object"==typeof m&&m.scrollbuttonChanged(l,e)},updateScrollButton:function(e,t,i,r){var a=0,n=0,o=ae.setAttr,s=i<r?(a=(r-i)/2,n=0,i):(a=0,n=(i-r)/2,r),s=s/4,n="vertical_up"===u?"M"+(e+n+s)+" "+(t+a+3*s)+" L"+(e+.5*i)+" "+(t+a+s)+" L"+(e+n+3*s)+" "+(t+a+3*s)+" Z":"vertical_down"===u?"M"+(e+n+3*s)+" "+(t+a+s)+" L"+(e+.5*i)+" "+(t+a+3*s)+" L"+(e+n+s)+" "+(t+a+s)+" Z":"horizontal_up"===u?"M"+(e+n+s)+" "+(t+.5*r)+" L"+(e+n+3*s)+" "+(t+a+3*s)+" L"+(e+n+3*s)+" "+(t+a+s)+" Z":"M"+(e+n+3*s)+" "+(t+.5*r)+" L"+(e+n+s)+" "+(t+a+s)+" L"+(e+n+s)+" "+(t+a+3*s)+" Z";o(T,{x:e,y:t,width:i,height:r}),o(f,{d:n,"pointer-events":"none"})},hide:function(){g.setAttributeNS(null,"display","none")},show:function(){g.setAttributeNS(null,"display","inherit")},remove:function(){g.parentNode.removeChild(g)},enable:function(){for(var e in p)p.hasOwnProperty(e)&&T.removeAttributeNS(null,e);for(e in h)h.hasOwnProperty(e)&&T.setAttributeNS(null,e,h[e])},disable:function(){for(var e in h)h.hasOwnProperty(e)&&T.removeAttributeNS(null,e);for(e in p)p.hasOwnProperty(e)&&T.setAttributeNS(null,e,p[e])},updateColor:function(){T.setAttributeNS(null,"fill",h.fill)}}},Fo=function(e,F,H,O,N,k,t,W,G,U,z,j,Y,X,q){function K(e,t){var i,r,a;return e=e.split("rgba(")[1].split(","),i=parseInt(e[0],10),r=parseInt(e[1],10),a=parseInt(e[2],10),e=e[3],"rgba("+Math.round(Math.min(Math.max(0,i+i*t),255))+","+Math.round(Math.min(Math.max(0,r+r*t),255))+","+Math.round(Math.min(Math.max(0,a+a*t),255))+","+e}function Z(e,t){if(0<=t&&t<=1)return"rgba("+(e=e.split("rgba(")[1].split(","))[0]+","+e[1]+","+e[2]+","+t+")"}var c,Q,J,o=e,$=t,ee=W,p=j,i={fill:"#EEEEEE"},l={fill:"#CCCCCC"},u={fill:"#BBBBBB"},r={fill:"#F6F6F6",stroke:"#f6f6f6"},te=Y,m="vertical",g=N,ie=!1,re=z,a=null,s=!0,T={abs:"",perc:U},f=null,y=0,D=0,S=0,b=0,C=null,v=null,_=null,P=0,A=0,w=0,V=0;if(e=F,t=!1,a=ae.createSvgElement("g"),"object"==typeof e?"svg"!==e.nodeName&&"g"!==e.nodeName&&"svg:svg"!==e.nodeName&&"svg:g"!==e.nodeName||(e.appendChild(a),t=!0):"string"==typeof e&&(t=((document.getElementById(e)?document.getElementById(e):(a.setAttributeNS(null,"id",e),document.documentElement)).appendChild(a),!0)),t){var n,h,d,x,E,I,R=H,B=O,L=N,M=k,e=G,t=U,W=q,j=!1,Y=!1;if("string"==typeof X&&-1!==X.indexOf("rgba")&&(i.fill=K(X,1.4),u.fill=Z(X,.8),Lo.fill=l.fill=Z(X,.5)),!W&&M<L?(m="horizontal",g=M):W&&(g="horizontal"===(m=W)?M:L),"vertical"===m)if(a.setAttribute("data-tif-type","VScroll"),a.setAttribute("data-tif-id","VScroll_"+o),y=h=n=R,S=L,M<=2*g)Y=!0,b=0,x=(d=B)+M/2;else switch(b=M-2*g,p){case"top_top":D=B+2*g,x=(d=B)+g;break;case"bottom_bottom":d=(D=B)+M-2*g,x=B+M-g;break;case"top_bottom":D=B+g,x=(d=B)+M-g;break;default:D=B,b=M}else if("horizontal"===m)if(a.setAttribute("data-tif-type","HScroll"),a.setAttribute("data-tif-id","HScroll_"+o),D=x=d=B,b=M,L<=2*g)j=!0,S=0,h=(n=R)+L/2;else switch(S=L-2*g,p){case"top_top":y=R+2*g,h=(n=R)+g;break;case"bottom_bottom":n=(y=R)+L-2*g,h=R+L-g;break;case"top_bottom":y=R+g,h=(n=R)+L-g;break;default:y=R,S=L}for(E in f=ae.createSvgElement("rect",{id:"scrollbar_"+o,"data-tif-type":"Scrollbar",x:y,y:D,width:S,height:b,appendTo:a}),i)i.hasOwnProperty(E)&&f.setAttributeNS(null,E,i[E]);for(E in"vertical"===m?(A=D+(b-b*e)*t,w=Math.max(6,b*e),c=w/(b-w),D+b<A+w&&(A=D+b-w),I=18<S?3:Math.round(S/6),_=ae.createSvgElement("rect",{id:"scroller_"+o,"data-tif-type":"Thumber",x:y+I,y:A,width:S-2*I,rx:L/4,height:w,appendTo:a})):"horizontal"===m&&(P=y+(S-S*e)*t,V=Math.max(6,S*e),c=V/(S-V),y+S<P+V&&(P=y+S-V),I=18<b?3:Math.round(b/6),_=ae.createSvgElement("rect",{id:"scroller_"+o,"data-tif-type":"Thumber",x:P,y:D+I,width:V,height:b-2*I,ry:M/4,appendTo:a})),l)l.hasOwnProperty(E)&&_.setAttributeNS(null,E,l[E]);"none_none"!==p&&(C=new Mo("scrollUpperRect_"+o,a,n,d,j?L/2:g,Y?M/2:g,m+"_up"),v=new Mo("scrollLowerRect_"+o,a,h,x,j?L/2:g,Y?M/2:g,m+"_down"))}return{onPointerDown:function(e,t,i){if(s){var r,a=this,n=i.getAttributeNS(null,"id");if(n==="scroller_"+o)this.scroll(e,t,"mousedown");else if(n==="scrollLowerRect_"+o||n==="scrollUpperRect_"+o)this.buttonScrollActive=!0,this.scrollDir="down",this.scrollStep=re,this.currentScrollButton=v,n==="scrollUpperRect_"+o&&(this.scrollDir="up",this.currentScrollButton=C),this.currentScrollButton.onPointerDown(e,t,i),this.scrollPercent(this.scrollDir,this.scrollStep),setTimeout(function(){a.scrollPerButton(a)},400);else if(n==="scrollbar_"+o){for(r in this.scrollbarScrollActive=!0,Q=e,J=t,this.scrollDir="down",this.scrollStep=re,"vertical"===m?t<A&&(this.scrollDir="up"):"horizontal"===m&&e<P&&(this.scrollDir="up"),l)_.removeAttributeNS(null,r);for(r in u)_.setAttributeNS(null,r,u[r]);this.scrollPercent(this.scrollDir,c),setTimeout(function(){a.scrollPerScrollbar(a)},400)}}},onPointerMove:function(e,t){return!(!s||!ie||(this.scroll(e,t,"mousemove"),0))},onPointerUp:function(e,t){if(s&&(ie&&this.scroll(e,t,"mouseup"),this.buttonScrollActive&&(this.buttonScrollActive=!1,this.currentScrollButton.onPointerUp(e,t),this.currentScrollButton=void 0,this.fireFunction("scrollEnd")),this.scrollbarScrollActive)){for(var i in this.scrollbarScrollActive=!1,u)u.hasOwnProperty(i)&&_.removeAttributeNS(null,i);for(i in l)l.hasOwnProperty(i)&&_.setAttributeNS(null,i,l[i]);this.fireFunction("scrollEnd")}},scroll:function(e,t,i){if("mousedown"===i){for(var r in ie=!0,this.panCoords={x:e,y:t},this.fireFunction("scrollStart"),l)l.hasOwnProperty(r)&&_.removeAttributeNS(null,r);for(r in u)u.hasOwnProperty(r)&&_.setAttributeNS(null,r,u[r])}else if("mousemove"===i){var a,n=e-this.panCoords.x,o=t-this.panCoords.y,s=!1;"vertical"===m&&(a=A,D+b<(A=(A+=o)<D?D:A)+w&&(A=D+b-w),_.setAttributeNS(null,"y",A),a!==A)&&(s=!0),(s="horizontal"===m&&(o=P,y+S<(P=(P+=n)<y?y:P)+V&&(P=y+S-V),_.setAttributeNS(null,"x",P),o!==P)?!0:s)&&this.fireFunction("scrollChange"),this.panCoords={x:e,y:t}}else if("mouseup"===i){for(r in ie=!1,u)u.hasOwnProperty(r)&&_.removeAttributeNS(null,r);for(r in l)l.hasOwnProperty(r)&&_.setAttributeNS(null,r,l[r]);this.fireFunction("scrollEnd")}},scrollPercent:function(e,t){"up"===e&&(t*=-1);e=this.getValue().perc+t;this.scrollToPercent(e=1<(e=e<0?0:e)?1:e)},scrollToPercent:function(e){var t;0<=e&&e<=1&&("vertical"===m&&(A=t=D+(b-w)*e,_.setAttributeNS(null,"y",t)),"horizontal"===m&&(P=t=y+(S-V)*e,_.setAttributeNS(null,"x",t)),this.fireFunction("scrolledStep"))},scrollPerButton:function(e){e.buttonScrollActive&&(e.scrollPercent(e.scrollDir,e.scrollStep),setTimeout(function(){e.scrollPerButton(e)},50))},scrollPerScrollbar:function(e){var t=!0;"vertical"===m?("up"===e.scrollDir&&A<J||"down"===e.scrollDir&&J<A+w)&&(t=!1):("up"===e.scrollDir&&P<Q||"down"===e.scrollDir&&Q<P+V)&&(t=!1),e.scrollbarScrollActive&&t&&(e.scrollPercent(e.scrollDir,c),setTimeout(function(){e.scrollPerScrollbar(e)},50))},scrollToValue:function(e){($<=e&&e<=ee||e<=$&&ee<=e)&&this.scrollToPercent(e/(ee-$))},getValue:function(){var e;return"vertical"===m&&(e=(A-D)/(b-w)),{abs:$+(ee-$)*(e="horizontal"===m?(P-y)/(S-V):e),perc:e}},fireFunction:function(e){T=this.getValue(),"function"==typeof te?te(o,e,T.abs,T.perc):"object"==typeof te&&te.scrollbarChanged(o,e,T.abs,T.perc)},updateScrollbar:function(e,t,i,r,a){var n,o,s,l,u=!1,h=!1,d=ae.setAttr,a=a||G;if("vertical"===m)if(y=o=n=e,S=i,r<=2*g)h=!0,b=0,l=(s=t)+r/2;else switch(b=r-2*g,p){case"top_top":D=t+2*g,l=(s=t)+g;break;case"bottom_bottom":s=(D=t)+r-2*g,l=t+r-g;break;case"top_bottom":D=t+g,l=(s=t)+r-g;break;default:D=t,b=r}else if("horizontal"===m)if(D=l=s=t,b=r,i<=2*g)u=!0,S=0,o=(n=e)+i/2;else switch(S=i-2*g,p){case"top_top":y=e+2*g,o=(n=e)+g;break;case"bottom_bottom":n=(y=e)+i-2*g,o=e+i-g;break;case"top_bottom":y=e+g,o=(n=e)+i-g;break;default:y=e,S=i}d(f,{x:y,y:D,width:S,height:b}),"vertical"===m?(A=D+(b-b*a)*T.perc,w=Math.max(6,b*a),c=w/(b-w),d(_,{x:y+3,y:A=D+b<A+w?D+b-w:A,width:S-6,height:w})):"horizontal"===m&&(P=y+(S-S*a)*T.perc,V=Math.max(6,S*a),c=V/(S-V),d(_,{x:P=y+S<P+V?y+S-V:P,y:D+3,width:V,height:b-6})),"none_none"!==p&&(C.updateScrollButton(n,s,u?i/2:g,h?r/2:g),v.updateScrollButton(o,l,u?i/2:g,h?r/2:g))},hide:function(){a.setAttributeNS(null,"display","none")},show:function(){a.setAttributeNS(null,"display","inherit")},remove:function(){a.parentNode.removeChild(a)},scrollbarHeight:function(){return b},scrollbarWidth:function(){return S},enable:function(){for(var e in s=!0,r)r.hasOwnProperty(e)&&_.removeAttributeNS(null,e);for(e in l)l.hasOwnProperty(e)&&_.setAttributeNS(null,e,l[e]);for(e in r)r.hasOwnProperty(e)&&f.removeAttributeNS(null,e);for(e in i)i.hasOwnProperty(e)&&f.setAttributeNS(null,e,i[e]);C.enable(),v.enable()},disable:function(){for(var e in s=!1,l)l.hasOwnProperty(e)&&_.removeAttributeNS(null,e);for(e in r)r.hasOwnProperty(e)&&_.setAttributeNS(null,e,r[e]);for(e in i)i.hasOwnProperty(e)&&f.removeAttributeNS(null,e);for(e in r)r.hasOwnProperty(e)&&f.setAttributeNS(null,e,r[e]);C.disable(),v.disable()},getState:function(){return s},updateScrollerColor:function(e){"string"==typeof e&&-1!==e.indexOf("rgba")&&(i.fill=K(e,1.4),u.fill=Z(e,.8),Lo.fill=l.fill=Z(e,.5),f&&f.setAttributeNS(null,"fill",i.fill),_&&_.setAttributeNS(null,"fill",l.fill),C&&C.updateColor(),v)&&v.updateColor()}}},Ho=function(e,t){function o(){return{l:S.l,t:S.t,w:S.w,h:S.h}}function l(){return D.h>S.h&&S.w>h}function u(){return D.w>S.w&&S.h>h}var h=18,d=.025,c="top_bottom",i=6,p=0,m=0,g=!1,T=1,a=1,n=1,s=0,f=null,y=null,D={l:0,t:0,w:0,h:0},S={l:0,t:0,w:0,h:0},b=e.rtoid,r=t,C=ae.createSvgElement("svg",{id:"SVGScrollView_"+e.rtoid,appendTo:e.domSvgNode||e.domNode}),v=ae.createSvgElement("g",{appendTo:C});return{getScrollbarWidth:function(e){return"vertical"===e&&y?y.scrollbarWidth():"horizontal"===e&&f?f.srollbarHeight():h},getWindow:function(){return C},getDocument:function(){return v},getClientRect:function(){var e=o();return y&&(e.w-=y.scrollbarWidth()),f&&(e.h-=f.scrollbarHeight()),e},getOffsetX:function(){return-p},getOffsetY:function(){return-m},setScrollSteps:function(e){0<e.StepPercY&&0<e.StepSizeY&&(T=e.StepPercY,a=e.StepSizeY,g=!0)},resetScrollSteps:function(){g=!1,n=a=T=1,s=0},setWindowPos:function(e,t,i,r,a){var n=o();!1===P.equalRect(S,e)&&(ae.setBBox(C,e),S=e,this.updateScrollbars(t,i,r,a),S.w===n.w&&S.h===n.h||this.fireFunction())},setDocumentSize:function(e,t,i,r,a,n){var o=l(),s=u(),e={l:0,t:0,w:e,h:t};!1===P.equalRect(D,e)&&(D=e,this.updateScrollbars(i,r,a,n),o===l()&&s===u()||this.fireFunction())},setScrollPos:function(e,t){"vertical"===e?y&&y.scrollToValue(-t):"horizontal"===e&&f&&f.scrollToValue(-t)},setScrollPerc:function(e,t){"vertical"===e?y&&y.scrollToPercent(t):"horizontal"===e&&f&&f.scrollToPercent(t)},updateScrollbars:function(e,t,i,r){var a,n=d,o=u(),s=l();e=e||0,t=t||0,i=i||h,r=r||h,0<D.w&&0<D.h&&(f&&(f.remove(),f=null),o?(a=S.w/D.w,f=new Fo("sbhoriz_"+b,C,0,S.h-i,S.w-(s?r:0),i,(D.w-S.w)*e,-(D.w-S.w)*(1-e),a,e,n,c,this,void 0,"horizontal"),e&&f.scrollToPercent(e)):(v.setAttributeNS(null,"transform","translate(0,"+m+")"),p=0),y&&(y.remove(),y=null),s?(a=S.h/D.h,!0===g&&(n=T),y=new Fo("sbvert_"+b,C,S.w-r,0,r,S.h-(o?i:0),(D.h-S.h)*t,-(D.h-S.h)*(1-t),a,t,n,c,this,void 0,"vertical"),t&&y.scrollToPercent(t)):(v.setAttributeNS(null,"transform","translate("+p+",0)"),m=0))},scrollbarChanged:function(e,t,i,r){"scrollChange"!==t&&"scrolledStep"!==t||(e.match(/horiz/gi)&&(p=i),e.match(/vert/gi)&&(t=m,m=i,!0===g)&&((e=i-s<0?Math.ceil((i-.5)/a):Math.floor((i+.5)/a))===n?m=t:(m=e*a,s=i,n=e)),v.setAttributeNS(null,"transform","translate("+p+","+m+")"))},fireFunction:function(e){"function"==typeof r?r(e):"object"==typeof r&&r.scrollviewChanged()},onPointerDown:function(e,t,i){var r=i.getAttributeNS(null,"id");return null!==r&&(r.match(/horiz/gi)?(f.onPointerDown(e,t,i),!0):!!r.match(/vert/gi)&&(y.onPointerDown(e,t,i),!0))},onPointerMove:function(e,t){var i=!1;return f&&(i=f.onPointerMove(e,t)),i=y?y.onPointerMove(e,t):i},onPointerUp:function(e,t,i){return void 0===i?f?(f.onPointerUp(e,t),!0):!!y&&(y.onPointerUp(e,t),!0):null!==(i=i.getAttributeNS(null,"id"))&&(i.match(/horiz/gi)?(f.onPointerUp(e,t),!0):!!i.match(/vert/gi)&&(y.onPointerUp(e,t),!0))},getSbExtentPerpend:function(e){return h<=e?h:i<e?e:i},getSbExtentPerpendDefault:function(){return h}}},Oo=function(e,v){function _(e,t){E<I?(x[E].textContent=e,x[E].setAttribute("dy",E?t+4:t-3)):ae.createSvgElement("tspan",{dy:E?t+4:t-3,appendTo:A}).textContent=e,E+=1}function P(e,t,i){var r=V[t][i];return(r=void 0===r?V[t][i]={width:ae.getTextWidth(e,i),timestamp:0}:r).timestamp=Date.now(),r}var A=e,i=!1,r=!1,a=null,n="Centered",o="Centered",w={x:0,y:0,dirty:!1},V={},s={lines:0,txtSize:12,dyNext:16,docSize:0},x=A.childNodes,E=0,I=0;return{setInitialized:function(){i=!0,r&&(this.applyLayout(v.getBBox()),r=!1)},setTextDesc:function(e,t,i){s.lines=e,s.txtSize=t,s.dyNext=i,s.docSize=t-3+(e-1)*(t+4)},getTextDesc:function(){return s},getTextSize:function(){var e=A.getAttribute("font-size");return e?parseInt(e,10):0},setOffsets:function(e,t){w.x=e,w.y=t,w.dirty=!0,i?this.applyLayout(v.getBBox()):r=!0},getOffsets:function(){return w},getBBox:function(){return ae.getBBox(A)},setText:function(e,t,i,r){var a,n,o,s=F,l=e.split(/\r\n|[\n\r\u0085\u2028\u2029]/g),u=t.Name+","+t.Size+","+t.Weight;if(u in V||(V[u]={}),I=x.length,E=0,r)for(a=0;a<l.length;a++)o=s.textEllipsis(l[a],i,t),_(s.converterBlanks2Nbsps(o),t.Size);else for(a=0;a<l.length;a++){for(var h=/\r|[ \u00A0]{1}|[^ \u00A0]+/g,d=[];null!=(n=h.exec(l[a]));)d.push(n[0]);var c="",p=0;if(d[0])for(c="";d[0];){var m=P(t,u,d[0]).width;if(p+m<=i||-1===i||ae.getTextWidth(t,c+d[0])<=i)c+=d.shift(),p+=m;else if(""===c){for(var g,T="",f=d[0].split("");f[0];)g=T+f[0],P(t,u,g).width<=i?T+=f.shift():(0===T.length&&(T+=f.shift()),_(s.converterBlanks2Nbsps(T),t.Size),T="");d.shift(),""!==T&&d.unshift(T)}else!/[ \u00A0]{1}$/.test(c)&&/^[ \u00A0]{1}$/.test(d[0])&&(c+=d.shift()),_(""===c?"":s.converterBlanks2Nbsps(c),t.Size),c="",p=0}""===c&&1<l.length?_("",t.Size):_(s.converterBlanks2Nbsps(c),t.Size)}for(var y=E;y<I;y++)A.removeChild(x[E]);var D,S=Date.now();for(D in V)if(V.hasOwnProperty(D)){var b,C=V[D];for(b in C)C.hasOwnProperty(b)&&C[b].timestamp+1e3<S&&delete C[b]}return this.setTextDesc(A.childNodes.length,t.Size,t.Size+4),w.dirty=!0,this.applyLayout(v.getBBox())},setPosition:function(e,t){A.setAttribute("x",e),A.setAttribute("y",t);for(var i=e,r=x.length,a=0;a<r;a++)x[a].setAttribute("x",i)},setAnchor:function(e){A.setAttribute("text-anchor",e)},setTransform:function(e){A.setAttribute("transform",e)},applyLayout:function(e){var t={};return a.applyLayout(this,t,e),r=!1,t.bBox},setMode:function(e,t,i){n=t,o=i,this.setLayout(e)},setLayout:function(e){(a=e).setXAlignment(n),a.setYAlignment(o)},setXAlignment:function(e){n!==e&&(w.dirty=!0,n=e,a.setXAlignment(n),i?this.applyLayout(v.getBBox()):r=!0)},setYAlignment:function(e){o!==e&&(w.dirty=!0,o=e,a.setYAlignment(o),i?this.applyLayout(v.getBBox()):r=!0)}}},No=function(e,h){var i,d=e,r="Centered",a="Centered",c={x:0,y:0,dirty:!1},n={lines:0,txtSize:12,dyNext:16},p=d.childNodes;this.setTextDesc=function(e,t,i){e!==n.lines&&(n.lines=e,c.dirty=!0),t!==n.txtSize&&(n.txtSize=t,c.dirty=!0),n.dyNext=i},this.getTextDesc=function(){return n},this.setOffsets=function(e,t){c.x=e,c.y=t,c.dirty=!0,this.applyLayout(h.getBBox())},this.getOffsets=function(){return c},this.getBBox=function(){return ae.getBBox(d)},this.setText=function(e){var t=F,i=0,r=0,a=e.split(/\r\n|[\n\r\u0085\u2028\u2029]/g),n=a.length,o=p.length,e=this.getTextSize(),s=e+4,l=.9*s-4;for(this.setTextDesc(n,e,s),i=0;i<n&&i<o;i++)p[i].textContent=t.converterBlanks2Nbsps(a[i]),c.dirty&&p[i].setAttribute("dy",0===i?l:s);if(o<n)for(;i<n;i++){var u=ae.createSvgElement("tspan",{dy:0===i?l:s});u.textContent=t.converterBlanks2Nbsps(a[i]),d.appendChild(u)}if(n<o)for(r=i;r<o;r++)d.removeChild(p[i]);return this.applyLayout(h.getBBox())},this.getTextSize=function(){var e=d.getAttribute("font-size");return e?parseInt(e,10):0},this.removeAllChilds=function(){for(;d.firstChild;)d.removeChild(d.firstChild)},this.setX=function(e){d.setAttribute("x",e)},this.setY=function(e){d.setAttribute("y",e)},this.setChildrenX=function(e){for(var t=0,i=p.length;t<i;t++)p[t].setAttribute("x",e)},this.setPosition=function(e,t){this.setX(e),this.setY(t),this.setChildrenX(e)},this.setAnchor=function(e){d.setAttribute("text-anchor",e)},this.setTransform=function(e){d.setAttribute("transform",e)},this.applyLayout=function(e){var t={};return i.applyLayout(this,t,e),t.bBox},this.setMode=function(e,t,i){r=t,a=i,this.setLayout(e)},this.setLayout=function(e){(i=e).setXAlignment(r),i.setYAlignment(a)},this.setXAlignment=function(e){r!==e&&(c.dirty=!0,r=e,i.setXAlignment(r),this.applyLayout(h.getBBox()))},this.setYAlignment=function(e){a!==e&&(c.dirty=!0,a=e,i.setYAlignment(a),this.applyLayout(h.getBBox()))}};function ko(e){e.operable=!0;var t,i=e,r=i.gfxWebLib.getStyle(),a=Ro[r]||Ro.extended;for(t in a)i.props[t]=a[t];e.border=E.Border.createBorder(),e._view=null,e.svgText=null}function Wo(e){var t={};return t.hori=e._view.getSbExtentPerpendDefault(),t.vert=t.hori,t}function Go(e){var t,i,r,a=E,n=(h=M).getProp(e,"Text"),o=h.getProp(e,"TextWrapping"),s=a.getFont(e,"Font"),l=h.getPropRaw(e,"TextTrimming"),u=(d=h.getProp(e,"HorizontalTextAlignment"))===Eo.HmiHorizontalAlignment.Center?.5:d===Eo.HmiHorizontalAlignment.Right?1:0,h=(d=h.getProp(e,"VerticalTextAlignment"))===Eo.HmiVerticalAlignment.Center?.5:d===Eo.HmiVerticalAlignment.Bottom?1:0,d=Wo(e);o?(l=!1,t=e._view.getClientRect().w,i=e.textAdapter.setText(n,s,t,l),e.textAdapter.getTextDesc().docSize>e._view.getClientRect().h&&(i=e.textAdapter.setText(n,s,t-e._view.getScrollbarWidth("vertical"),l),e._view.setDocumentSize(t,i.height-1,u,h,d.hori,d.vert),r=!0),l||r||e._view.setDocumentSize(t,i.height-1,u,h,d.hori,d.vert)):l?(o=a.getInnerBounds(e),i=e.textAdapter.setText(n,s,o.w,l),e._view.setDocumentSize(o.w,i.height-1,u,h,d.hori,d.vert)):(t=ae.getTextWidthCR(s,n),i=e.textAdapter.setText(n,s,t),e._view.setDocumentSize(t,i.height-1,u,h,d.hori,d.vert))}function Uo(e,t){zo(e),e.gfxWebLib.connection.sendPropertyByName(e.rtoid,"Text",t,!0)}function zo(e){e.svgText.setAttribute("display","inline")}Eo=v,Io={Enabled:{func:["OperationEnabled"]},BorderWidth:{gc:"None",func:["Border.BorderItems","Border.BorderRect","Quality.ShowQuality"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["Width"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ForeColor:{gc:"Color",svg:[{si:"svgText",sp:"fill"}]},BackColor:{func:["Border.BackColors"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},HorizontalTextAlignment:{func:["TextHorizontalAlignment"]},VerticalTextAlignment:{func:["TextVerticalAlignment"]},Left:{func:["Border.BorderRect","_updateLayout","Quality.ShowQuality"],dep:["RotationAngle"]},Top:{func:["Border.BorderRect","_updateLayout","Quality.ShowQuality"],dep:["RotationAngle"]},Width:{func:["Border.BorderRect","_updateLayout","Quality.ShowQuality"],dep:["RotationAngle"]},Height:{func:["Border.BorderRect","_updateLayout","Quality.ShowQuality"],dep:["RotationAngle"]},Padding:{func:["_updateLayout"]},Font:{func:["Font"],dep:["Text"]},VisualizeQuality:{func:["Quality.ShowQuality"]},CurrentQuality:{func:["Quality.ShowQuality"]},Text:{func:["_setText"],dep:["BackColor"]},TextWrapping:{func:["_setText"]},TextTrimming:{func:["_setText"]}};var jo={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",onPointerDown:function(e,t,i,r){if(e._view.onPointerDown(t,i,r))return e.gfxWebLib.interaction.setCapture(e),32768},onPointerUp:function(e,t,i,r,a){if(!e._view.onPointerUp(t,i,r)&&!M.getProp(e,"ReadOnly")){if(e!==e.gfxWebLib.selection.getActiveItem())return!1;if(0!==a)return!1;e.gfxWebLib.input.startInput(e)}return!0},onPointerMove:function(e,t,i){e._view.onPointerMove(t,i)},onReleaseCapture:function(e,t,i){e._view.onPointerUp(t,i)},onInit:function(e){var t,i,r,a;return ko(e),i=E,(r={}).item=t=e,r.func=t.handler.scrollviewChanged,r.scrollviewChanged=function(){this.func(this.item)},t.domSvgNode=t.domNode=ae.createSvgScreenItemNode(t,{style:"pointer-events: visiblePainted; touch-action: none;"}),t.quality=i.Quality.create(t),t._view=new Ho(t,r),t.svgText=ae.createSvgElement("text",{appendTo:t._view.getDocument()}),e.textAdapter=new Oo(e.svgText,(a=e,{getBBox:function(){var e=a._view.getClientRect();return{x:0,y:0,width:e.w,height:e.h}}})),e.textAdapter.setLayout(new wo),E.initAllAttributes(e),e.textAdapter.setInitialized(),e.domNode},onChanged:function(e,t,i){t=M.handleScreenModelPart(e,t,i),E.onChanged(e,t)},onCleanUp:function(e){e.textAdapter=null},onFocusOut:function(e){e.gfxWebLib.input.checkHandleInputEnd(e)},onKeyDown:function(e,t,i,r){var a=e.gfxWebLib.input,n=e.gfxWebLib.keyboard.handler.getKeycodes(),o=e.gfxWebLib.keyboard.handler.getFlags(),s=!1;return n&&t===n.SPACE&&o&&0==(r&o.CTRL)&&(a.isInputActive()||(M.getProp(e,"ReadOnly")||a.startInput(e),s=!0)),s},getInputStartValue:function(e){return M.getProp(e,"Text")},onInputKeyDown:function(e,t,i,r){var a=!1;switch(t){case 27:e.gfxWebLib.input.endInput(!1);break;case 9:e.gfxWebLib.input.endInput(a=!0),r?e.gfxWebLib.selection.selectPreviousItem(!0):e.gfxWebLib.selection.selectNextItem(!0)}return a},onInputFocusOut:function(e,t){Uo(e,t)},onInput:Uo,getPropertyBinding:function(){return Io},onPropBindFunc:function(e,t){switch(e){case"_setText":Go(t);break;case"_updateLayout":i=t,r=E.getInnerBounds(i),n=(a=M).getProp(i,"HorizontalTextAlignment"),a=a.getProp(i,"VerticalTextAlignment"),n=n===Eo.HmiHorizontalAlignment.Center?.5:n===Eo.HmiHorizontalAlignment.Right?1:0,a=a===Eo.HmiVerticalAlignment.Center?.5:a===Eo.HmiVerticalAlignment.Bottom?1:0,o=Wo(i),i._view.setWindowPos(r,n,a,o.hori,o.vert),i.textAdapter.setOffsets(0,0)}var i,r,a,n,o},scrollviewChanged:function(e){Go(e)},hideTextElement:function(e){e.svgText.setAttribute("display","none")},showTextElement:zo};Yo=er;var Yo,Xo={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiTextBox",DISABLE_SETSELECTIONPROPS:!(Ro={extended:{Corners:{TopLeftRadius:5,TopRightRadius:5,BottomLeftRadius:5,BottomRightRadius:5}},futuredark:{Corners:{TopLeftRadius:0,TopRightRadius:0,BottomLeftRadius:0,BottomRightRadius:0}}}),onInit:function(e){return t=e.gfxWebLib.getProjectVersion(),i=17,(!t||t.split(".")[0]>=i?(E.onInitEnabled(e),Yo):(e.handler=jo,e.handler)).onInit(e);var t,i},onCurrentLanguage:function(e,t){Yo.onCurrentLanguage(e,t)},onCurrentStyle:function(e,t){Yo.onCurrentStyle(e,t)},onChanged:function(e,t,i){E.onChangedEnabled(e,t,i),Yo.onChanged(e,t,i)},onFlashing:function(e,t,i){Yo.onFlashing(e,t,i)},onFocus:function(e){Yo.onFocus(e)},onFocusOut:function(e){Yo.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return Yo.checkInnerNavigation(e,t,i,r)},onCleanUp:function(e){Yo.onCleanUp(e)},getPropertyBinding:function(){return Yo.getPropertyBinding()},getBounds:function(e){return Yo.getBounds(e)}};qo=T,Ko=new window.Variant(0);var qo,Ko,Zo,Qo,Jo,$o,es,ts={DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiScaleWidget",DISABLE_SETSELECTIONPROPS:!1,onInit:function(e,t){E.onInitEnabled(e),void 0===e.props.ProcessValue&&(e.props.ProcessValue=0);var i=Ko.setValue(e.props.ProcessValue);return e.computedProcessValue=Number(i.jsValueOf()),qo.onInit(e,t)},initProcessValueAndOutputFormats:function(e){var t,i=M,r=vo,a={};void 0===e.props.OutputFormat&&(e.props.OutputFormat=i.getProp(e,"OutputFormat")),e._orgOutputFormat=e.props.OutputFormat,t=Ko.setValue(i.getProp(e,"ProcessValue")),e.props.ProcessValue=t.jsValueOf(),""===e.props.OutputFormat&&(a.format=e.props.OutputFormat,a.pv=t.valueOf(),a.vt=t.typeOf(),e.props.OutputFormat=r.getDefaultProcessValueOutputFormat(a)),t=Ko.setValue(i.getProp(e,"ComputedMinPeakValue")),e.props.ComputedMinPeakValue=t.jsValueOf(),t=Ko.setValue(i.getProp(e,"ComputedMaxPeakValue")),e.props.ComputedMaxPeakValue=t.jsValueOf(),"Gauge"===e.props.Type?(void 0===e.props.CurvedScale&&(e.props.CurvedScale={}),void 0===e.props.CurvedScale.OutputFormat&&(e.props.CurvedScale.OutputFormat=i.getPropDefault("CurvedScalePart","OutputFormat")),e._orgOutputFormatScale=e.props.CurvedScale.OutputFormat,""===e.props.CurvedScale.OutputFormat&&(e.props.CurvedScale.OutputFormat=r.getDefaultOutputFormat(window.Variant.CF_VT.DOUBLE))):(void 0===e.props.StraightScale&&(e.props.StraightScale={}),void 0===e.props.StraightScale.OutputFormat&&(e.props.StraightScale.OutputFormat=i.getPropDefault("StraightScalePart","OutputFormat")),e._orgOutputFormatScale=e.props.StraightScale.OutputFormat,""===e.props.StraightScale.OutputFormat&&(e.props.StraightScale.OutputFormat=r.getDefaultOutputFormat(window.Variant.CF_VT.DOUBLE)))},onCurrentLanguage:function(e,t){qo.onCurrentLanguage(e,t)},onCurrentStyle:function(e,t){qo.onCurrentStyle(e,t)},onChanged:function(e,t,i){var r,a,n,o,s,l,u;return r=e,a=t,n=i,l=vo,u={},""===(n=(s=M).getScreenModelPartName(r,a,n))&&(void 0!==a.OutputFormat&&(r._orgOutputFormat=a.OutputFormat,""===a.OutputFormat)&&(o=Ko.setValue(s.getProp(r,"ProcessValue")),u.format=r._orgOutputFormat,u.pv=o.valueOf(),u.vt=o.typeOf(),a.OutputFormat=l.getDefaultProcessValueOutputFormat(u)),void 0!==a.ProcessValue&&(o=Ko.setValue(a.ProcessValue),a.ProcessValue=o.jsValueOf(),""===r._orgOutputFormat)&&(u.format=r._orgOutputFormat,u.pv=o.valueOf(),u.vt=o.typeOf(),a.OutputFormat=l.getDefaultProcessValueOutputFormat(u)),void 0!==a.ComputedMinPeakValue&&(o=Ko.setValue(a.ComputedMinPeakValue),a.ComputedMinPeakValue=o.jsValueOf()),void 0!==a.ComputedMaxPeakValue)&&(o=Ko.setValue(a.ComputedMaxPeakValue),a.ComputedMaxPeakValue=o.jsValueOf()),"StraightScale"!==n&&"CurvedScale"!==n||(void 0!==(s=void 0!==a[n]?a[n]:a).OutputFormat?(u=r._orgOutputFormatScale,s.OutputFormat!==u&&(r._orgOutputFormatScale=s.OutputFormat,""===s.OutputFormat)&&(s.OutputFormat=l.getDefaultOutputFormat(window.Variant.CF_VT.DOUBLE))):r.gfxWebLib.appMode===zl.EDIT&&(s.OutputFormat=(r.props.StraightScale||r.props.CurvedScale).OutputFormat)),E.onChangedEnabled(e,t,i),qo.onChanged(e,t,i)},onFlashing:function(e,t,i){T.onFlashing(e,t,i)},onCleanUp:function(e){qo.onCleanUp(e)},onFocus:function(e){qo.onFocus(e)},onFocusOut:function(e){qo.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return qo.checkInnerNavigation(e,t,i,r)},getPropertyBinding:function(){return qo.getPropertyBinding()},getBounds:function(e){return qo.getBounds(e)}};function is(e){return"cwb_"+e.rtoid}function rs(e,t){var i,r;e&&(0===Qo.numClocks&&(r=(new Date).getMilliseconds(),window.setTimeout(es,1e3-r+200)),r=is(e),Qo[r]=e,Qo.numClocks=Qo.numClocks+1,i=new Date,ns(e,i))}function as(e){var t;e&&(t=is(e),Qo[t]===e&&delete Qo[t],Qo.numClocks=Qo.numClocks-1,0===Qo.numClocks)&&(clearInterval(Jo),Jo=null)}function ns(e,t){var i,r=0,a=0,n=0,o=0;e.timeZoneMode===$o.Local?(r=t.getHours(),a=t.getMinutes(),n=t.getSeconds()):e.timeZoneMode===$o.Offset?(i=t.getTime()-6e4*t.getTimezoneOffset(),i+=6e4*e.timeZoneOffset,r=(o=new Date(i)).getUTCHours(),a=o.getUTCMinutes(),n=o.getUTCSeconds()):"string"==typeof(i=H.format(t,"{T,@HH:mm:ss}",{timeZone:e.timeZone}))&&3<=(o=i.split(":")).length&&(r=+o[0],a=+o[1],n=+o[2]),Zo.onChanged(e,{ComputedHours:r,ComputedMinutes:a,ComputedSeconds:n})}function os(e,t){var i,r,a=t.typeOf();a===window.Variant.CF_VT.DATETIME?(i=t.valueOf().getTime(),r=(r=new Date).getTime()-6e4*r.getTimezoneOffset(),e.timeZoneOffset=(i-r)/6e4,e.timeZoneMode=$o.Offset):a===window.Variant.CF_VT.TIMESPAN?(e.timeZoneOffset=t.valueOf().getTime()/6e4,e.timeZoneMode=$o.Offset):a===window.Variant.CF_VT.STR?(i=t.valueOf())?(e.timeZone=e.gfxWebLib.textbib.toIANATimeZone(i),e.timeZoneMode=$o.Zone):e.timeZoneMode=$o.Local:a!==window.Variant.CF_VT.EMPTY&&0<=(r=t.valueOf())?(e.timeZone=e.gfxWebLib.textbib.toIANATimeZone(r),e.timeZoneMode=$o.Zone):e.timeZoneMode=$o.Local}Qo={numClocks:0},Jo=null,$o={Local:0,Offset:1,Zone:2};var ss,ls,us={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",TEMPLATE_HANDLER_TYPE:"NATIVE",DISABLE_SETSELECTIONPROPS:!(es=function(){Jo=setInterval(function(){var e,t=new Date;for(e in Qo)"numClocks"!==e&&ns(Qo[e],t)},1e3)}),onInit:function(e){(t=e).props.Analog=!0,t.props.FakePropDigiTime="Not supported yet!",t.timeZoneOffset=0,t.timeZoneMode=$o.Local,t.timeZone="Europe/Berlin",t.props.ComputedHours=0,t.props.ComputedMinutes=0,t.props.ComputedSeconds=0;var t=window.Variant(M.getProp(e,"TimeSource"));return os(e,t),t=Zo.onInit(e),rs(e),t},initTimeSourceAndOutputFormats:function(e){var t=M;e.props.TimeSource&&(t=window.Variant(t.getProp(e,"TimeSource")),e.props.TimeSource=t.jsValueOf())},onCurrentLanguage:function(e,t){Zo.onCurrentLanguage(e,t)},onCurrentStyle:function(e,t){Zo.onCurrentStyle(e,t)},onChanged:function(e,t,i){var r;""===M.getScreenModelPartName(e,t,i)&&void 0!==t.TimeSource&&(r=window.Variant(t.TimeSource),t.TimeSource=r.jsValueOf(),os(e,r)),Zo.onChanged(e,t,i)},onFlashing:function(e,t,i){Zo.onFlashing(e,t,i)},onFocus:function(e){Zo.onFocus(e)},onFocusOut:function(e){Zo.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return Zo.checkInnerNavigation(e,t,i,r)},onCleanUp:function(e){as(e),Zo.onCleanUp(e)},onScopeInitialized:function(e){},getPropertyBinding:function(){return Zo.getPropertyBinding()},getBounds:function(e){return Zo.getBounds(e)}},hs={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiButton",DISABLE_SETSELECTIONPROPS:!(ls=["Graphic","AlternateGraphic"]),onInit:function(e,t){return E.onInitEnabled(e),"ToggleSwitch"===e.props.Type&&(e.fallback={ensuredState:e.props.IsAlternateState,_timeoutID:0,_timeoutDelay:1e3,resetStateByTimeout(){window.clearTimeout(this._timeoutID),this._timeoutID=window.setTimeout(()=>ss.onChanged(e,{IsAlternateState:this.ensuredState}),this._timeoutDelay)},clearResetStateByTimeout(){window.clearTimeout(this._timeoutID)}}),ss.onInit(e,t)},onScopeInitialized:function(e){E.imageWidthHeight(e,ls)},onCurrentLanguage:function(e,t){ss.onCurrentLanguage(e,t)},onCurrentStyle:function(e,t){ss.onCurrentStyle(e,t)},onChanged:function(e,t,i){var r,a=E;for(r in t)-1!==r.indexOf("Graphic")&&"GraphicStretchMode"!==r&&a.loadImage(e,t[r],r,i);a.onChangedEnabled(e,t,i),"ToggleSwitch"===e.props.Type&&t.hasOwnProperty("IsAlternateState")&&(e.fallback.ensuredState=t.IsAlternateState,e.fallback.clearResetStateByTimeout()),ss.onChanged(e,t,i)},onFlashing:function(e,t,i){ss.onFlashing(e,t,i)},onFocus:function(e){ss.onFocus(e)},onFocusOut:function(e){ss.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return ss.checkInnerNavigation(e,t,i,r)},onCleanUp:function(e){ss.onCleanUp(e)},getPropertyBinding:function(){return ss.getPropertyBinding()},getBounds:function(e){return ss.getBounds(e)}};ds=ss=Zo=er,cs=new window.Variant(0);var ds,cs,ps,ms,gs,Ts,fs={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiSelectionGroup",DISABLE_SETSELECTIONPROPS:!(ps=["SelectionItems.Graphic"]),onScopeInitialized:function(e){E.imageWidthHeight(e,ps)},onInit:function(e,t){return E.onInitEnabled(e),ds.onInit(e,t)},initProcessValueAndOutputFormats:function(e){var t=M,t=cs.setValue(t.getProp(e,"ProcessValue"));e.props.ProcessValue=t.jsValueOf()},onChanged:function(e,t,i){var r,a=E,n=M;for(r in t)-1!==r.indexOf("Graphic")&&"GraphicStretchMode"!==r&&a.loadImage(e,t[r],r,i);""===n.getScreenModelPartName(e,t,i)&&void 0!==t.ProcessValue&&(n=cs.setValue(t.ProcessValue),t.ProcessValue=n.jsValueOf()),a.onChangedEnabled(e,t,i),ds.onChanged(e,t,i)},onFlashing:function(e,t,i){ds.onFlashing(e,t,i)},onCreatePart:function(e,t,i){return ds.onCreatePart(e,t,i)},onDeletePart:function(e,t,i){return ds.onDeletePart(e,t)},onMovePart:function(e,t,i){return ds.onMovePart(e,t,i)},onCurrentStyle:function(e,t){ds.onCurrentStyle(e,t)},onFocus:function(e){ds.onFocus(e)},onFocusOut:function(e){ds.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return ds.checkInnerNavigation(e,t,i,r)},onCleanUp:function(e){ds.onCleanUp(e)},getBounds:function(e){return ds.getBounds(e)}},ys=(ms=T,gs=new window.Variant(0),Ts="",{DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiSymboliciofield",DISABLE_SETSELECTIONPROPS:!1,onInit:function(e,t){if(E.onInitEnabled(e),t)e.props.ResourceList||(e.props.ResourceList=e.currentResourceList);else{var i=e;if(i.props.ResourceList)for(var r=i.props.ResourceList.length,a=0;a<r;a+=1)i.props.ResourceList[a].GraphicWidth=0,i.props.ResourceList[a].GraphicHeight=0}return ms.onInit(e,t)},initProcessValueAndOutputFormats:function(e){var t=M,t=gs.setValue(t.getProp(e,"ProcessValue"));e.props.ProcessValue=t.jsValueOf()},onScopeInitialized:function(e){E.imageWidthHeight(e,["Graphic"])},onCurrentLanguage:function(e,t){ms.onCurrentLanguage(e,t)},onCurrentStyle:function(e,t){ms.onCurrentStyle(e,t)},onChanged:function(e,t,i){var r,a=E;e.container&&e.container.isCleanedUp||(e.templateInstance?(void 0!==t.ResourceList&&(r=(void 0!==t.SelectedIndex?t:e.props).SelectedIndex,e.props.ResourceList&&0<e.props.ResourceList.length&&(t.Graphic=t.Graphic||"",t.Text=t.Text||""),0===t.ResourceList.length&&(t.Graphic="",t.Text=""),e.props.ResourceList=t.ResourceList,ys.listProvider.notyfyResourceListContainer(e,e.props.ResourceList,Ts,r),delete t.ResourceList),i||void 0===t.ProcessValue||(t.ProcessValue=gs.setValue(t.ProcessValue).jsValueOf()),a.onChangedEnabled(e,t,i),ms.onChanged(e,t,i),t.Graphic?a.loadImage(e,t.Graphic,"Graphic"):void 0===t.Text&&void 0===t.Graphic||(r=Ss(e),ys.listProvider.notyfyResourceListContainerCurrrent(e,r,Ts))):ms.addDelayedUpdates(ys.onChanged,e,t,i))},onImageLoaded:function(e,t){t.targetPath||(t=Ss(e),ys.listProvider.notyfyResourceListContainerCurrrent(e,t,Ts))},onFlashing:function(e,t,i){ms.onFlashing(e,t,i)},onCommand:function(e,t,i){var r=E;switch(t){case"MAXIMIZE":e.maximize=!0,e.props.ResourceList&&r.imageWidthHeight(e,["ResourceList.Graphic"]);var a,n=e.domNode.querySelector("#TIFID_ExpandedListBox");n&&e.container&&(a=e.gfxWebLib.topLevelScreenWindow.getTopLevelScreenWindow(e),Cs(e,a,n));break;case"RESTORE":e.restore=!0,e.maximize&&e.oldPosition&&(ys.onChanged(e,e.oldPosition),e.prevParentNode.insertBefore(e.domNode,e.nextNode),e.domNode.style.removeProperty("transform")),e.maximize=!1,e.restore=!1}},onFocus:function(e){ms.onFocus(e)},onFocusOut:function(e){var t,i;t=e.gfxWebLib.getProjectVersion(),i=16,t&&t.split(".")[0]===i&&(t=e.domNode.querySelector("#TIFID_ExpandedListBox"))&&(e.domNode.style.height="",e.domNode.style["z-index"]=0,"none"!==t.getAttribute("display"))&&(i=e.domNode.querySelector("#TIFID_CollapsSymbolicIOField"))&&i.dispatchEvent(new PointerEvent("pointerdown",{isPrimary:!0})),ms.onFocusOut(e)},onCleanUp:function(e,t){t&&(e.currentResourceList=e.props.ResourceList),ms.onCleanUp(e)},checkInnerNavigation:function(e,t,i,r){return ms.checkInnerNavigation(e,t,i,r)},listProvider:{setUpdateFunction:function(e,t,i){e["_cbResourceListChanged_"+t]=i},setUpdateCurrentFunction:function(e,t,i){e["_cbResourceListCurrentChanged_"+t]=i},setListHeightFunction:function(e,t,i){e["_cbResourceListHeightChange_"+t]=i},setProperties:function(e,t,i,r){var a=e.itemCount;e.itemCount=Math.min(e.props.ResourceList.length,t),e.itemHeight=i,e.contentPosY=r,a!==e.itemCount&&0!==e.itemCount&&e.maximize&&!e.restore&&(t=e.domNode.querySelector("#TIFID_ExpandedListBox"),i=e.gfxWebLib.topLevelScreenWindow.getTopLevelScreenWindow(e),Cs(e,i,t))},hasList:function(e,t){return"HmiTextList"===t||"HmiGraphicList"===t||"HmiTextGraphicList"===t},getList:function(e,t,i){if(Ts&&Ts!==t&&Ds(e),Ts=t,i)return i=-1!==e.props.SelectedIndex&&e.props.ResourceList&&e.props.SelectedIndex<e.props.ResourceList.length?e.props.ResourceList[e.props.SelectedIndex]:Ss(e),ys.onCommand(e,"RESTORE"),bs(e.props.SelectedIndex,i,[]);e.props.ResourceList&&0!==e.props.ResourceList.length||(i=E,e.props.ResourceList=(r=e,(t=t)&&(t=r.gfxWebLib.connection.getEventIDs())&&r.gfxWebLib.connection.sendEvent(r.rtoid,t.OnRequestResourceListEntries),[]),i.imageWidthHeight(e,["ResourceList.Graphic"]));var r=webRTPU.DataPreprocessor.clone(e.props.ResourceList),t=-1!==e.props.SelectedIndex&&e.props.SelectedIndex<r.length?r[e.props.SelectedIndex]:{};return bs(e.props.SelectedIndex,t,r)},releaseList:function(e,t){e["_cbResourceListChanged_"+t]&&delete e["_cbResourceListChanged_"+t],e["_cbResourceListCurrentChanged_"+t]&&delete e["_cbResourceListCurrentChanged_"+t],Ds(e)},setSelection:function(e,t,i,r){},notyfyResourceListContainer:function(e,t,i,r){e["_cbResourceListChanged_"+i]&&e["_cbResourceListChanged_"+i](t,r)},notyfyResourceListContainerCurrrent:function(e,t,i){e["_cbResourceListCurrentChanged_"+i]&&e["_cbResourceListCurrentChanged_"+i](t)}},getPropertyBinding:function(){return ms.getPropertyBinding()},getBounds:function(e){return ms.getBounds(e)}});function Ds(e){delete e.props.ResourceList}function Ss(e){var t={ElementID:1,Text:e.props.Text,Graphic:e.props.Graphic,GraphicWidth:e.props.GraphicWidth,GraphicHeight:e.props.GraphicHeight};return void 0!==e.props.SelectedIndex&&-1!==e.props.SelectedIndex&&(t.$index=e.props.SelectedIndex),t}function bs(e,t,i){return{SelectedIndex:e,Current:t,List:i}}function Cs(e,t,i){var r,a,n,o,s,l=M;e.prevParentNode=e.domNode.parentNode,e.nextNode=e.maximize?e.domNode.nextSibling:e.nextNode,0!==e.itemCount&&0===e.props.RotationAngle&&(e.oldPosition={Left:l.getProp(e,"Left"),Top:l.getProp(e,"Top")},r=e,a=l.getProp(e,"Left"),n=l.getProp(e,"Top"),o={},s={},E.getRelPosToTLSW(r.container,o),r.factor=o.adaptScreenToWindowFactor,s.Left=o.x+a*r.factor,s.Top=o.y+n*r.factor,a=s,ys.onChanged(e,a),o=e.itemCount*e.itemHeight+e.contentPosY,r=l.getProp(e,"Top")+(n=l.getProp(e,"Height")),s=l.getProp(t,"Height"),r+o*e.factor>s?i.setAttribute("transform","translate(0,"+-o+")"):i.setAttribute("transform","translate(0,"+n+")"),t.domNode.appendChild(e.domNode),e.domNode.style.transformOrigin="0 0",e.domNode.style.transform="scale("+e.factor+")")}var vs=ys;_s=er,Ps=new window.Variant(0);var _s,Ps,As,x,ws={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiSymbolContainer",DISABLE_SETSELECTIONPROPS:!1,onScopeInitialized:function(e){_s.setParamProps(e,e.props.Properties,"ParamProps",!0)},onInit:function(e){return E.onInitEnabled(e),e.props.Properties=e.props.Properties||{},_s.onInit(e)},initProcessValueAndOutputFormats:function(e){var t=M;e.props.ProcessValue&&(t=Ps.setValue(t.getProp(e,"ProcessValue")),e.props.ProcessValue=t.jsValueOf())},onCurrentLanguage:function(e,t){_s.onCurrentLanguage(e,t)},onCurrentStyle:function(){},onChanged:function(e,t,i){var r;"Properties"===(i?i.split(":")[0].split(".")[0]:"")?(e.props.Properties=D.extend(e.props.Properties,t),_s.setParamProps(e,t,"ParamProps",!0)):(void 0!==t.ProcessValue&&(r=Ps.setValue(t.ProcessValue),t.ProcessValue=r.jsValueOf()),E.onChangedEnabled(e,t,i),_s.onChanged(e,t,i))},onFlashing:function(e,t,i){_s.onFlashing(e,t,i)},onCreatePart:function(e,t,i){return _s.onCreatePart(e,t,i)},onDeletePart:function(e,t,i){return _s.onDeletePart(e,t)},onMovePart:function(e,t,i){return _s.onMovePart(e,t,i)},onFocus:function(e){_s.onFocus(e)},onFocusOut:function(e){_s.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return _s.checkInnerNavigation(e,t,i,r)},onCleanUp:function(e){_s.onCleanUp(e)},getBounds:function(e){return _s.getBounds(e)}},Vs={getStraightScale:function(e){var t=M,e=t.getProp(e,"StraightScale")||{},i="StraightScale",r={};return r.Orientation=t.getPropPart(e,i,"Orientation"),r.ScalingType=t.getPropPart(e,i,"ScalingType"),r.DivisionCount=t.getPropPart(e,i,"DivisionCount"),r.SubDivisionCount=t.getPropPart(e,i,"SubDivisionCount"),r.LargeTickLabelingStep=t.getPropPart(e,i,"LargeTickLabelingStep"),r.BeginValue=t.getPropPart(e,i,"BeginValue"),r.EndValue=t.getPropPart(e,i,"EndValue"),r.OutputFormat=t.getPropPart(e,i,"OutputFormat"),r.MeasurementUnitType=t.getPropPart(e,i,"MeasurementUnitType"),r.MeasurementUnit=t.getPropPart(e,i,"MeasurementUnit"),r.AutoScaling=t.getPropPart(e,i,"AutoScaling"),r.ScaleMode=t.getPropPart(e,i,"ScaleMode"),r.LabelColor=t.getPropPart(e,i,"LabelColor"),r.TickColor=t.getPropPart(e,i,"TickColor"),r},getLimit:function(e,t){var i=M,e=i.getProp(e,t)||{},t="LimitPart",r={};return r.LowerLimitAvailable=i.getPropPart(e,t,"LowerLimitAvailable"),r.LowerLimitVisible=i.getPropPart(e,t,"LowerLimitVisible"),r.UpperLimitAvailable=i.getPropPart(e,t,"UpperLimitAvailable"),r.UpperLimitVisible=i.getPropPart(e,t,"UpperLimitVisible"),r.FlashingOnViolation=i.getPropPart(e,t,"FlashingOnViolation"),r.AboveUpperLimitColor=i.getPropPart(e,t,"AboveUpperLimitColor"),r.BelowLowerLimitColor=i.getPropPart(e,t,"BelowLowerLimitColor"),r.UpperLimit=i.getPropPart(e,t,"UpperLimit"),r.LowerLimit=i.getPropPart(e,t,"LowerLimit"),r.LowerLimitAvailable&&r.UpperLimitAvailable&&r.UpperLimit===r.LowerLimit&&(r.LowerLimitAvailable=r.UpperLimitAvailable=0),r},getCorners:function(e){var t=M,e=t.getPropRaw(e,"Corners")||{},i="CornersPart";return{TopLeftRadius:t.getPropPart(e,i,"TopLeftRadius"),TopRightRadius:t.getPropPart(e,i,"TopRightRadius"),BottomRightRadius:t.getPropPart(e,i,"BottomRightRadius"),BottomLeftRadius:t.getPropPart(e,i,"BottomLeftRadius")}},getPadding:function(e){var t=M,e=t.getPropRaw(e,"Padding")||{},i="PaddingPart";return{Top:t.getPropPart(e,i,"Top"),Bottom:t.getPropPart(e,i,"Bottom"),Left:t.getPropPart(e,i,"Left"),Right:t.getPropPart(e,i,"Right")}},getMargin:function(e){var t=M,e=t.getPropRaw(e,"Margin")||{},i="MarginPart";return{Top:t.getPropPart(e,i,"Top"),Bottom:t.getPropPart(e,i,"Bottom"),Left:t.getPropPart(e,i,"Left"),Right:t.getPropPart(e,i,"Right")}}};function xs(e){var t=M,i=t.getProp(e,"Left"),r=t.getProp(e,"Top");e.yogaRoot.calculateLayout(t.getProp(e,"Width"),t.getProp(e,"Height"),x.DIRECTION_LTR);for(var a=0;a<e.yogaNodes.length;a++){var n=e.yogaNodes[a],o=n.child.getComputedLayout();n.item.handler?n.item.handler.onChanged(n.item,{Left:o.left+i,Top:o.top+r,Width:o.width,Height:o.height}):D.extend(n.item.props,{Left:o.left+i,Top:o.top+r,Width:o.width,Height:o.height})}}As=v,x=null,"object"==typeof window.webRTPU&&window.webRTPU.Yoga&&(x=window.webRTPU.Yoga);var Es,Is,Rs={DOM_TYPE:"svg",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiStackPanel",onInit:function(e){var t=M,i=e.items,r=e.container;if(x){var a=t.getProp(e,"Wrapping"),n=t.getProp(e,"Orientation"),n=(e.yogaConfig=x.Config.create(),e.yogaRoot=x.Node.create(e.yogaConfig),e.yogaRoot.setFlexDirection(n===As.HmiOrientation.Horizontal?x.FLEX_DIRECTION_ROW:x.FLEX_DIRECTION_COLUMN),e.yogaRoot.setFlexWrap(a?x.WRAP_WRAP:x.WRAP_NO_WRAP),Vs.getPadding(e));e.yogaRoot.setPadding(x.EDGE_LEFT,n.Left),e.yogaRoot.setPadding(x.EDGE_RIGHT,n.Right),e.yogaRoot.setPadding(x.EDGE_TOP,n.Top),e.yogaRoot.setPadding(x.EDGE_BOTTOM,n.Bottom),e.yogaNodes=[];for(var o=0;o<i.length;o++){var s,l,u=r.handler.getItem(r,i[o]);u&&(u.panel=e,s=x.Node.create(e.yogaConfig))&&((l=t.getProp(u,"Width"))?s.setWidth(l):(s.setWidthAuto(),s.setMinWidth(t.getProp(u,"MinimumWidth")),s.setMaxWidth(t.getProp(u,"MaximumWidth"))),(l=t.getProp(u,"Height"))?s.setHeight(l):(s.setHeightAuto(),s.setMinHeight(t.getProp(u,"MinimumHeight")),s.setMaxHeight(t.getProp(u,"MaximumHeight"))),(l=t.getPropRaw(u,"BorderWidth",0,0))&&(s.setBorder(x.EDGE_LEFT,l),s.setBorder(x.EDGE_RIGHT,l),s.setBorder(x.EDGE_TOP,l),s.setBorder(x.EDGE_BOTTOM,l)),l=Vs.getMargin(u),s.setMargin(x.EDGE_LEFT,l.Left),s.setMargin(x.EDGE_RIGHT,l.Right),s.setMargin(x.EDGE_TOP,l.Top),s.setMargin(x.EDGE_BOTTOM,l.Bottom),e.yogaRoot.insertChild(s,o),e.yogaNodes.push({item:u,child:s}))}xs(e)}},onChanged:function(e,t){D.extend(e.props,t),void 0!==t.Orientation&&e.yogaRoot.setFlexDirection(t.Orientation===As.HmiOrientation.Horizontal?x.FLEX_DIRECTION_ROW:x.FLEX_DIRECTION_COLUMN),void 0!==t.Wrapping&&e.yogaRoot.setFlexWrap(t.Wrapping?x.WRAP_WRAP:x.WRAP_NO_WRAP),xs(e)},onResized:function(e){},onCleanUp:function(e){e.yogaNodes=[],e.root&&e.root.freeRecursive(),e.config&&e.config.free()},getPropertyBinding:function(){return null}};function Bs(e){var i;e.domNode=_.createDomScreenItemNode(e,{style:"position: absolute; pointer-events: auto;"}),window.Hammer&&((i=e).hammertime=new Hammer.Manager(i.domNode,{touchAction:"none"}),i.hammertime.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL,threshold:S.zoomOnPoint?3:0})),i.hammertime.add(new Hammer.Swipe({event:"onefingerswipe",velocity:.1}).recognizeWith(i.hammertime.get("pan"))),i.hammertime.on("panstart",function(e){i.domNode.style.touchAction="none",e.preventDefault(),i.container&&i.container.handler&&i.container.handler.lockGesture(i.container,i.hammertime)}),i.hammertime.on("panmove",function(e){e.preventDefault()}),i.hammertime.on("panend",function(e){i.domNode.style.touchAction="pinch-zoom",e.preventDefault()}),i.hammertime.on("onefingerswipe",function(e){var t=Es.HmiGesture.Unknown;switch(e.offsetDirection){case Hammer.DIRECTION_LEFT:t=Es.HmiGesture.SwipeLeft;break;case Hammer.DIRECTION_RIGHT:t=Es.HmiGesture.SwipeRight;break;case Hammer.DIRECTION_UP:t=Es.HmiGesture.SwipeUp;break;case Hammer.DIRECTION_DOWN:t=Es.HmiGesture.SwipeDown}t!==Es.HmiGesture.Unknown&&i.gfxWebLib.connection.sendGestureEvent(i.rtoid,t)})),e.domNode}Is={Enabled:{func:["_setEnable"]},Visible:{gc:"Display",html:[{si:"domNode",ss:"display"}]},Left:{gc:"Pixel",html:[{si:"domNode",ss:"left"}]},Top:{gc:"Pixel",html:[{si:"domNode",ss:"top"}]},Width:{gc:"Pixel",html:[{si:"domNode",ss:"width"}]},Height:{gc:"Pixel",html:[{si:"domNode",ss:"height"}]},BackColor:{gc:"Color",html:[{si:"domNode",ss:"background-color"}]}};var Ls,Ms={DOM_TYPE:"html",TEMPLATE_HANDLER_TYPE:"NATIVE",onInit:function(e){return Bs(e),E.initAllAttributes(e),e.domNode},onChanged:function(e,t,i){E.onChanged(e,t)},onCleanUp:function(e){e.hammertime&&e.hammertime.destroy()},getPropertyBinding:function(){return Is},onPropBindFunc:function(e,t,i){"_setEnable"===e&&(e=t,t=M.getProp(e,"Enabled"),e.container&&(t=e.container.isEnabled&&t),e.gfxWebLib.interaction.addEvents(e,t),e.hammertime)&&e.hammertime.set({enable:t})}},Fs={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",onInit:function(e){return e.domSvgNode=e.domNode=ae.createSvgScreenItemNode(e,{}),e.domNode},onChanged:function(e,t,i){i?(i=M.getPart(e,i),D.extend(i,t)):(D.extend(e.props,t),!0===t.Visible&&(i=e.domNode,e.handler=Ws.getHandler(e.props.Type),t=e.handler.onInit(e),e.domParent.replaceChild(t,i)))},onCleanUp:function(){},getPropertyBinding:function(){return null}};function Hs(e,t){var i=M,r=e.screen,a=i.getProp(e,"Enabled"),n=r.isEnabled;if(e.container&&(a=e.container.isEnabled&&a),r.isEnabled=a,!t&&n!==r.isEnabled)for(var o=r.items.length,s=0;s<o;s+=1){var l=r.items[s];l.handler.getPropertyBinding()&&!l.ignorePropertyBinding?l.handler.onChanged(l,{Enabled:i.getProp(l,"Enabled")}):l.handler.onChanged(l,{_Enabled:!0})}}Ls={Enabled:{func:["_enableItems"]},Visible:{gc:"Display",html:[{si:"domNode",ss:"display"}]},Left:{gc:"Pixel",html:[{si:"domNode",ss:"left"}]},Top:{gc:"Pixel",html:[{si:"domNode",ss:"top"}]},Width:{func:["_updateGeometry"]},Height:{func:["_updateGeometry"]},RotationCenterPlacement:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationCenterX:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationCenterY:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationAngle:{gc:"TransformRotate",html:[{si:"domNode",ss:"transform"}]}};var Os={DOM_TYPE:"html",TEMPLATE_HANDLER_TYPE:"NATIVE",onInit:function(e){var t;return(t=e).domNode=_.createDomScreenItemNode(t,{style:"position: absolute; pointer-events: none;"}),t.screen={offsetLeft:0,offsetTop:0,items:[],domHtmlItems:t.domNode,container:t,gfxWebLib:t.gfxWebLib,tabOrder:null,winManager:null,layersInfo:null,handler:null,domNode:null,core:null,props:{Width:t.props.Width,Height:t.props.Height,Type:"Screen"}},t.container&&(t.screen.tabOrder=t.container.tabOrder,t.screen.layersInfo=t.container.layersInfo,t.screen.handler=t.container.handler,t.screen.winManager=t.container.winManager,t.screen.domNode=t.container.domNode,t.screen.core=t.container.core),E.initAllAttributes(e),E.onInitEnabled(e),e.domNode},onChanged:function(e,t,i){i||(E.onChangedEnabled(e,t,i)&&Hs(e),E.onChanged(e,t))},onResized:function(e){},onCleanUp:function(e){},getPropertyBinding:function(){return Ls},onPropBindFunc:function(e,t,i){switch(e){case"_updateGeometry":r=t,a=E.getBounds(r),_.setBBox(r.domNode,a),r.screen.props.Width=a.w,r.screen.props.Height=a.h;break;case"_enableItems":Hs(t,i)}var r,a},addItem:function(e,t){e.screen.items.push(t),t.container=e.screen,t.groupContainer=e.container;e=e.screen;e="svg"===(t.handler.DOM_TYPE||"svg")?(e.domSvgItems||(e.domSvgItems=ae.createSvgElement("svg",{style:"position: absolute; pointer-events: none; overflow: visible; display: block;",focusable:"false",appendTo:e.domHtmlItems})),e.domSvgItems):(e.domSvgItems=null,e.domHtmlItems);return t.domNode&&e.appendChild(t.domNode),e}};a={};var a,Ns,ks,Ws={initObjTypes:function(){a.Screen=null,a.ScreenWindow=Si,a.PopupScreenWindow=Si,a.CustomWebControlContainer=r,a.SwacContainer=r,a.AlarmControl=r,a.TrendControl=r,a.FunctionTrendControl=r,a.TrendCompanion=r,a.ObjectExplorerControl=r,a.ProcessControl=r,a.SystemDiagnosisControl=r,a.WebControl=r,a.MediaControl=r,a.DetailedParameterControl=r,a.ProcessDiagnosisCriteriaAnalysisControl=r,a.ProcessDiagnosisGraphOverviewControl=r,a.ProcessDiagnosisPlcCodeViewerControl=r,a.ProcessDiagnosisOverviewControl=r,a.Line=aa,a.Polyline=ra,a.Polygon=ca,a.Rectangle=Ia,a.Circle=fn,a.CircularArc=wn,a.CircleSegment=jn,a.Ellipse=Tn,a.EllipticalArc=An,a.EllipseSegment=zn,a.GraphicView=fo,a.StackPanel=Rs,a.TouchArea=Ms,a.Group=Os,a.Text=So,a.Label=So,a.IOField=Bo,a.TextBox=Xo,a.Bar=ts,a.Clock=us,a.Slider=ts,a.Gauge=ts,a.Button=hs,a.RadioButtonGroup=fs,a.CheckBoxGroup=fs,a.ListBox=fs,a.ToggleSwitch=hs,a.SymbolicIOField=vs,a.CustomWidgetContainer=ws,a.SymbolContainer=ws,a.FaceplateContainer=_i},getHandler:function(e,t){e=a[e];return void 0!==e?t&&!1===t.props.Visible&&"svg"===e.DOM_TYPE?Fs:e:null},addHandler:function(e,t){null!=a[e]?O.consolLog(O.enumTraceMode.Warning,"HmiObjectTypes Warning: Handler did already exist and will NOT be overwritten: "+e):a[e]=t},isTypeSupported:function(e){return void 0!==a[e]},iterateOverObjTypes:function(e,t){if("function"==typeof e)for(var i in a)a.hasOwnProperty(i)&&e(t,i,a[i])},TYPE_HMI_SCREEN:"Screen",TYPE_HMI_SCREENWINDOW:"ScreenWindow",TYPE_HMI_TOPLEVELSCREENWINDOW:"TopLevelScreenWindow",TYPE_HMI_POPUPSCREENWINDOW:"PopupScreenWindow",TYPE_HMI_IOFIELD:"IOField"},Gs=(ks=function(e,t,i,r,a,n,o,s){var l="M"+zs(e+a,t);return(l+="L"+zs(e+i-n,t)+"Q"+zs(e+i,t)+zs(e+i,t+n))+("L"+zs(e+i,t+r-o)+"Q"+zs(e+i,t+r)+zs(e+i-o,t+r))+("L"+zs(e+s,t+r)+"Q"+zs(e,t+r)+zs(e,t+r-s))+("L"+zs(e,t+a)+"Q"+zs(e,t)+zs(e+a,t))+"Z"},{createBorder:function(e){return{fillMode:e,svgBorderItem:null,svgBorderItemFillRect:null,svgBorderBgItem:null,svgBorderBgItemFillRect:null,svgFillClipPath:null,svgBgPatternElement:null,svgBgGradientElement:null,svgFillClipRect:null,svgFillPattern:null}},createBorderClone:function(e,t,i){return{fillMode:i,svgBorderItem:i?null:t.BI.evaluate(e,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,svgBorderItemFillRect:t.BIFR.evaluate(e,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,svgBorderBgItem:i?null:t.BBI.evaluate(e,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,svgBorderBgItemFillRect:t.BBIFR.evaluate(e,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,svgFillClipPath:null,svgBgPatternElement:null,svgBgGradientElement:null,svgFillClipRect:null,svgFillPattern:null}},setAttribute:function(e,t,i){null!==e.svgBorderBgItemFillRect&&e.svgBorderBgItemFillRect.setAttribute(t,i),null!==e.svgBorderBgItem&&e.svgBorderBgItem.setAttribute(t,i),null!==e.svgBorderItemFillRect&&e.svgBorderItemFillRect.setAttribute(t,i),null!==e.svgBorderItem&&e.svgBorderItem.setAttribute(t,i)},removeAttribute:function(e,t){null!==e.svgBorderBgItemFillRect&&e.svgBorderBgItemFillRect.removeAttribute(t),null!==e.svgBorderBgItem&&e.svgBorderBgItem.removeAttribute(t),null!==e.svgBorderItemFillRect&&e.svgBorderItemFillRect.removeAttribute(t),null!==e.svgBorderItem&&e.svgBorderItem.removeAttribute(t)},BorderItems:function(e){var t,i,r,a,n,o=M,s=F,l=e.border;n=M,r=(a=e).handler,(t=a.border).fillMode||t.svgBorderBgItem||(t.svgBorderBgItem=ae.createSvgElement(r.BORDER_SVG_ELEM_TYPE,{}),a.domSvgNode.insertBefore(t.svgBorderBgItem,a.domSvgNode.firstChild)),t.svgBorderBgItemFillRect||(t.svgBorderBgItemFillRect=ae.createSvgElement(r.BORDER_SVG_ELEM_TYPE,{stroke:"none"}),a.domSvgNode.insertBefore(t.svgBorderBgItemFillRect,a.domSvgNode.firstChild)),t.fillMode||(n.getProp(a,"ShowFillLevel",0,0)?t.svgBorderBgItem.setAttribute("fill","rgba(0,0,0,0)"):t.svgBorderBgItem.setAttribute("fill","none"),n.getProp(a,"DashType",0,0)?t.svgBorderBgItem.removeAttribute("display"):t.svgBorderBgItem.setAttribute("display","none")),r=M,a=(n=e).handler,t=n.border,i=F,t.fillMode||null!==t.svgBorderItem||(t.svgBorderItem=ae.createSvgElement(a.BORDER_SVG_ELEM_TYPE,{}),n.domSvgNode.insertBefore(t.svgBorderItem,t.svgBorderBgItem.nextSibling)),null===t.svgBorderItemFillRect&&(t.svgBorderItemFillRect=ae.createSvgElement(a.BORDER_SVG_ELEM_TYPE,{stroke:"none"}),void 0!==r.getPropRaw(n,"BackFillPattern"))&&(t.fillMode?n.domSvgNode.insertBefore(t.svgBorderItemFillRect,t.svgBorderBgItemFillRect.nextSibling):n.domSvgNode.insertBefore(t.svgBorderItemFillRect,t.svgBorderBgItem)),t.fillMode||(a=r.getProp(n,"ShowFillLevel",0,0),r=r.getProp(n,"DashType",i.enumConverter.AlternateBorderDashArray),a?t.svgBorderItem.setAttribute("fill","rgba(0,0,0,0)"):(t.svgBorderItem.setAttribute("fill","none"),null!==r?t.svgBorderBgItem.setAttribute("stroke-dasharray",r):t.svgBorderBgItem.removeAttribute("stroke-dasharray"))),n=M,i=F,null!==(r=(a=e).border).svgBgPatternElement&&(r.svgBgPatternElement.parentNode.removeChild(r.svgBgPatternElement),r.svgBgPatternElement=null),null!==r.svgBgGradientElement&&(r.svgBgGradientElement.parentNode.removeChild(r.svgBgGradientElement),r.svgBgGradientElement=null),131072<=(n=n.getProp(a,"BackFillPattern",i.enumConverter.None,0))&&(1048576<=n?r.svgBgGradientElement=E.createSvgBgGradient(a,n):r.svgBgPatternElement=E.createSvgBgPattern(a,n)),t=e,i=M,r=F,a=ae.getSvgDefs(t),i=i.getProp(t,"ShowFillLevel",r.enumConverter.None,0),null!==(r=t.border).svgFillClipPath&&(r.svgFillClipPath.removeChild(r.svgFillClipRect),r.svgFillClipRect=null,a.removeChild(r.svgFillClipPath),r.svgFillClipPath=null,a.removeChild(r.svgFillPattern),r.svgFillPattern=null),i&&(r.svgFillClipPath=ae.createSvgElement("clipPath",{id:P.mkId(t,"ID_ItemFillClipPath"),appendTo:a}),r.svgFillClipRect=ae.createSvgElement("rect",{appendTo:r.svgFillClipPath}),r.svgFillPattern=ae.createSvgElement("pattern",{id:P.mkId(t,"ID_ItemFillPattern"),patternUnits:"userSpaceOnUse",appendTo:a}),r.svgBorderItemFillRect&&r.svgBorderItemFillRect.setAttribute("clip-path",P.mkUrl(t,"ID_ItemFillClipPath")),r.svgBorderBgItemFillRect)&&r.svgBorderBgItemFillRect.setAttribute("clip-path",P.mkUrl(t,"ID_ItemFillClipPath")),Us(e),65536===o.getProp(e,"BackFillPattern",s.enumConverter.None,0)?(l.svgBorderBgItemFillRect.setAttribute("fill","none"),l.svgBorderItemFillRect&&l.svgBorderItemFillRect.setAttribute("fill","none")):(null!==l.svgBgPatternElement?l.svgBorderItemFillRect.setAttribute("fill",P.mkUrl(e,"ID_ItemBgPatternElement")):l.svgBorderItemFillRect&&l.svgBorderItemFillRect.setAttribute("fill","none"),null!==l.svgBgGradientElement?l.svgBorderBgItemFillRect.setAttribute("fill",P.mkUrl(e,"ID_ItemBgGradientElement")):(n=o.getProp(e,"BackColor",s.enumConverter.Color),l.svgBorderBgItemFillRect.setAttribute("fill",n)))},BorderRect:function(e){var t,i,r;"rect"===e.handler.BORDER_SVG_ELEM_TYPE?(i=e,r=E.getBorderRect(i),(i=i.border).svgBorderItemFillRect&&ae.setBBox(i.svgBorderItemFillRect,r),i.svgBorderItem&&ae.setBBox(i.svgBorderItem,r),i.svgBorderBgItemFillRect&&ae.setBBox(i.svgBorderBgItemFillRect,r),i.svgBorderBgItem&&ae.setBBox(i.svgBorderBgItem,r)):"path"===e.handler.BORDER_SVG_ELEM_TYPE&&(i=e,r=Vs.getCorners(i),e=E.getBorderRect(i),i=i.border,e.w<=0||e.h<=0?Gs.removeAttribute(i,"d"):(t=Math.min(e.w,e.h)/2,r.TopLeftRadius=Math.min(r.TopLeftRadius,t),r.TopRightRadius=Math.min(r.TopRightRadius,t),r.BottomRightRadius=Math.min(r.BottomRightRadius,t),r.BottomLeftRadius=Math.min(r.BottomLeftRadius,t),t=ks(e.l,e.t,e.w,e.h,r.TopLeftRadius,r.TopRightRadius,r.BottomRightRadius,r.BottomLeftRadius),Gs.setAttribute(i,"d",t)))},BackColors:function(e,t){var i,r=M,a=F,n=r.getProp(e,"BackFillPattern",a.enumConverter.None,0),o=e.border;65536!==n&&(o.svgBgGradientElement?(i=a.mkColorObj(r.getProp(e,t)),re.setBackColors(n,o.svgBgGradientElement.childNodes,i)):(i=r.getProp(e,t,a.enumConverter.Color),o.svgBorderBgItemFillRect.setAttribute("fill",i)))},FillClip:Us});function Us(e){var t=M,i=E.getInnerBounds(e),r=e.border;if(null!==r.svgFillClipPath){var a=Math.min(100,t.getProp(e,"FillLevel")),t=t.getProp(e,"FillDirection"),n=E.copyBounds(i);switch(t){case Ns.HmiFillDirection.BottomToTop:n.t=n.t+(100-a)/100*n.h;break;case Ns.HmiFillDirection.TopToBottom:n.h=n.h-(100-a)/100*n.h;break;case Ns.HmiFillDirection.LeftToRight:n.w=n.w-(100-a)/100*n.w;break;case Ns.HmiFillDirection.RightToLeft:n.l=n.l+(100-a)/100*n.w}ae.setBBox(r.svgFillClipRect,n)}}function zs(e,t){return e+" "+t+" "}var js,er={createText:function(e,t){var i=ae,r=i.createSvgElement("clipPath",{id:P.mkId(e,"ID_ClipPath"),appendTo:e.domSvgNode}),a=i.createSvgElement("rect",{fill:"none",appendTo:r}),i=i.createSvgElement("text",{"clip-path":P.mkUrl(e,"ID_ClipPath"),appendTo:e.domSvgNode}),e=new No(i,t);return e.setLayout(new wo),{svgTextClipPath:r,svgTextClipRect:a,svgText:i,textBox:e}},setText:function(e,t){e.textBox.setText(t)},setOffsets:function(e,t,i){e.textBox.setOffsets(t,i)},display:function(e,t){e.svgText.setAttribute("display",t?"inline":"none")},TextClip:function(e){var t=E.getInnerBounds(e),e=e.text;null!==e.svgTextClipRect&&(t.w=Math.max(0,t.w),t.h=Math.max(0,t.h),ae.setBBox(e.svgTextClipRect,t))},TextHorizontalAlignment:function(e){var t=M.getProp(e,"HorizontalTextAlignment",F.enumConverter.textHAlign);e.text.textBox.setXAlignment(t)},TextVerticalAlignment:function(e){var t=M.getProp(e,"VerticalTextAlignment",F.enumConverter.textVAlign);e.text.textBox.setYAlignment(t)},Font:function(e){var t=E.getFont(e,"Font");E.setFontProps(e.text.svgText,t)}};function Ys(e,t){var i,r,a,n,o=e.quality;if(!o.svgImageOverlay.loaded){if(!e.gfxWebLib.isImageOverlayLoaded())return void e.gfxWebLib.registerForOverlay(e);o.svgImageOverlay.setAttributeNS(ae.xlinkNS,"xlink:href",e.gfxWebLib.overlayContent.qualityImage),o.svgImageOverlay.loaded=!0}r=(a=e.gfxWebLib.getOverlaySize()).w,a=a.h,r&&a&&(i={},t=t||E.getBounds(e),e.handler!==jo&&(t.l=t.t=0),t.w>r&&t.h>a?(i.w=r,i.h=a,i.l=t.l+(t.w-r)/2,i.t=t.t+(t.h-a)/2):(e=t.w/r)<(n=t.h/a)?(i.w=t.w,i.l=t.l,i.h=Math.floor(e*a+.5),i.t=t.t+Math.floor((t.h-e*a)/2+.5)):(i.w=Math.floor(n*r+.5),i.l=t.l+Math.floor((t.w-n*r)/2+.5),i.h=t.h,i.t=t.t),ae.setBBox(o.svgImageOverlay,i))}var Xs,qs,Ks,Zs,Qs,Js,$s,el,tl,il,rl,al={create:function(e){return{svgQuality:null,svgObjectState:null,svgImageOverlay:null,isShown:!1}},ShowQuality:function(e){var t,i,r,a=M,n=a.getPropRaw(e,"VisualizeQuality"),a=15&a.getPropRaw(e,"CurrentQuality"),n=n&&a&&a!==js.HmiQuality.Good,a=e.quality;a?e.gfxWebLib.appMode!==zl.EDIT&&(n?(n=E.getBounds(e),e.handler!==jo&&(n.l=n.t=0),a.svgQuality||(i=ae,(r=(t=e).quality).svgQuality=i.createSvgElement("g",{}),r.svgObjectState=i.createSvgElement("rect",{fill:P.mkUrl(t,"ID_Pattern_QualityVisualization_DiagonalHatch",!0),"pointer-events":"none",appendTo:r.svgQuality}),r.svgImageOverlay=i.createSvgElement("image",{preserveAspectRatio:"none",opacity:"0.5","pointer-events":"none",appendTo:r.svgQuality})),ae.setBBox(a.svgObjectState,n),Ys(e,n),a.isShown||(e.domSvgNode.contains(a.svgQuality)||e.domSvgNode.appendChild(a.svgQuality),a.svgQuality.setAttribute("display","inline"),a.isShown=!0)):a.isShown&&(a.svgQuality.setAttribute("display","none"),a.isShown=!1)):O.consolLog(O.enumTraceMode.Error,"HmiObject.Quality.showQuality: Wrong parameter! quality not initialized!")},adjustImageOverlay:Ys},nl=(Xs=js=Ns=Es=v,Ks=(qs=S).drawInsideFrame,Qs=function(e,t,i,r){var a,n,o;if(1<i.length)if(o=t[n=i[0]],a=i.slice(1,i.length),R.webRtpuIsArray(o))for(var s=0;s<o.length;s++)Qs(e,o[s],a,(r?r+":":"")+n+"."+o[s].ElementID);else D.isObject(o)?Qs(e,t[n],a):O.consolLog(O.enumTraceMode.Error,"resolveAndLoad(): Wrong currentPart in: "+e.props.Type+" / "+r);else(i=t[t=i[0]])&&Zs(e,i,t,r)},Js=function(e,t){var i,r=t.split("."),a=r.length;if(1===a)return e[t];if(2===a)return(e=e[r[0]])[r[1]];for(i=0;i<a;i++)e=e[r[i]];return e},$s=function(t,i,r,e){try{var a,n;"_"===t[0]?(a=i.handler).onPropBindFunc?a.onPropBindFunc(t,i,e):O.consolLog(O.enumTraceMode.Error,"HmiObject:_onPropBindFunc() Item does not supported onPropBindFunc(). Item type: "+i.props.Type):(n=Js(nl,t))?n.call(null,i,r):O.consolLog(O.enumTraceMode.Error,"HmiObject:_onPropBindFunc() func: "+t+" is not supported for type: "+i.props.Type+" property: "+r)}catch(e){O.traceErr(e,"HmiObject:_onPropBindFunc() func:"+t+" itemType: "+i.props.Type+" property: "+r,i)}},el=function(e,t,i,r,a){var n,o,s;if(void 0!==i.func)for(s=i.func.length,n=0;n<s;n+=1)void 0===a[o=i.func[n]]&&(a[o]=!0,$s(o,t,e,r))},tl=function(e,t,i){var r,a,n,o,s,l=M;if(void 0!==i.gc){if(r=l.getProp(t,e,F.enumConverter[i.gc]),void 0!==i.svg)for(s=i.svg.length,n=0;n<s;n+=1)null!==t[(a=i.svg[n]).si]&&("data"===a.sp?t[a.si].data=r:void 0!==r&&(o=Js(t,a.si),null!==r?"xlink:href"===a.sp?o.setAttributeNS(ae.xlinkNS,a.sp,r):o.setAttribute(a.sp,r):o.removeAttribute(a.sp)));if(void 0!==i.html)for(s=i.html.length,n=0;n<s;n+=1)a=i.html[n],void 0!==r&&null!==t[a.si]&&(o=Js(t,a.si),a.ss?null!==r?o.style[a.ss]=r:o.style.removeProperty(a.ss):a.sp&&(null!==r?o.setAttribute(a.sp,r):o.removeAttribute(a.sp)))}},il=["Line","Polyline","Connector","CircularArc","EllipticalArc","Circle","CircleSegment","Ellipse","EllipseSegment","GraphicView","Polygon","Rectangle","SymbolView","Tube","TubeArc"],rl={EventActions:1,PropertyEvents:2,PropertyDynamics:4,ExplicitUnlock:8},{getHandlerType:function(e){return e.props.Type},onChanged:function(e,t){var i,r,a,n,o=e.handler.getPropertyBinding(),s={},l=Object.keys(t);if(t!==e.props)for(var u=e,h=t,d=l,c=M,p=d.length,m=0;m<p;m+=1){var g,T=h[g=d[m]];c.setProp(u,g,T),"Name"===g&&(u.domSvgNode||u.domNode).setAttribute("data-tif-id",T)}for(n=l.length,i=0;i<n;i+=1)void 0!==(r=o[a=l[i]])&&void 0!==r.func&&el(a,e,r,!1,s);for(i=0;i<n;i+=1)void 0!==(r=o[a=l[i]])&&void 0!==r.gc&&tl(a,e,r);for(i=0;i<n;i+=1)if(void 0!==(r=o[a=l[i]])&&void 0!==r.dep){var f,y,D,S,b=e,C=r,v=o;if((S=D=y=f=void 0)!==C.dep){for(S=C.dep.length,y=0;y<S;y+=1)D=v[f=C.dep[y]],el(f,b,D,!1,{});for(y=0;y<S;y+=1)D=v[f=C.dep[y]],tl(f,b,D)}}return!1},onCleanUp:function(e,t){ml(e),nl.removeTifLibExpandoProps(e),e.gfxWebLib.interaction.removeEvents(e),e.handler&&e.handler.onCleanUp&&e.handler.onCleanUp(e,t)},onFocus:function(e,t){var i=M,r=e.handler;e.hasFocus=!0,void 0!==r.onFocus&&r.onFocus(e,t),t&&e.props.Type!==Ws.TYPE_HMI_SCREEN&&(r=e.container.container).control&&r.control.handler.scrollIntoView&&(t=function i(r,a,n,o){return{left:r,top:a,width:n,height:o,right:r+n,bottom:a+o,translate:function(e,t){return i(e+r,t+a,n,o)},zoom:function(e){return i(r*e,a*e,n*e,o*e)}}}(i.getPropRaw(e,"Left"),i.getPropRaw(e,"Top"),i.getPropRaw(e,"Width")||10,i.getPropRaw(e,"Height")||10),r.control.handler.scrollIntoView(r,t))},onFocusOut:function(e,t){var i=e.handler;e.hasFocus=!1,void 0!==i.onFocusOut&&i.onFocusOut(e,t)},setSelectionProps:function(e){var t=M,i=F,r=void 0===e.handler.DISABLE_SETSELECTIONPROPS||!e.handler.DISABLE_SETSELECTIONPROPS,a=t.getProp(e,"BorderColor",i.enumConverter.None,-1),n=t.getProp(e,"ShowFocusVisual",i.enumConverter.None,!1);(r=-1===a?!1:r)&&n&&((a=e.border?e.border.svgBorderItem||e.svgBorderBgItem:null)?(r=t.getProp(e,"BorderWidth",i.enumConverter.None,0),n=t.getProp(e,"FocusColor",i.enumConverter.Color,0),e.svgSelectionElement=a.cloneNode(!0),e.svgSelectionElement.setAttribute("stroke",n),e.svgSelectionElement.setAttribute("stroke-width",r+2),e.svgSelectionElement.setAttribute("fill","none"),a.parentNode.appendChild(e.svgSelectionElement)):e.svgSelectionElement=null)},clearSelectionProps:ml,onKeyDown:function(e,t,i,r){var a=!1;return a=e.handler.onKeyDown?e.handler.onKeyDown(e,t,i,r):a},onKeyUp:function(e,t,i,r){var a=!1;return a=e.handler.onKeyUp?e.handler.onKeyUp(e,t,i,r):a},setEnabled:cl,onInitEnabled:function(e){e.container&&(e.orgEnabled=M.getProp(e,"Enabled"),e.orgOperability=M.getProp(e,"Operability",0,Xs.HmiOperability.Operable),e.props.Enabled=e.container.isEnabled&&e.orgEnabled,e.props.Enabled?e.props.Operability=e.orgOperability&~Xs.HmiOperability.DisabledProgrammatically:e.props.Operability=e.orgOperability|Xs.HmiOperability.DisabledProgrammatically)},onChangedEnabled:function(e,t,i){if(!i&&e.container)return i=e.props.Enabled,void 0!==t.Enabled?(e.orgEnabled=t.Enabled,t.Enabled=e.container.isEnabled&&t.Enabled,t.Enabled?t.Operability=e.orgOperability&~Xs.HmiOperability.DisabledProgrammatically:t.Operability=e.orgOperability|Xs.HmiOperability.DisabledProgrammatically,i!==t.Enabled):void 0!==t._Enabled?(t.Enabled=e.container.isEnabled&&e.orgEnabled,t.Enabled?t.Operability=e.orgOperability&~Xs.HmiOperability.DisabledProgrammatically:t.Operability=e.orgOperability|Xs.HmiOperability.DisabledProgrammatically,delete t._Enabled,i!==t.Enabled):void 0},cleanUpDomNodes:function(e){var t=_;pl(e.domNode),t.removeNodeWithAllChilds(e.domNode),e.domNode=null,e.domSvgNode&&(pl(e.domSvgNode),t.removeNodeWithAllChilds(e.domSvgNode),e.domSvgNode=null)},initAllAttributes:function(e){for(var t,i,r=e.handler.getPropertyBinding(),a={},n=Object.keys(r),o=n.length,s=0;s<o;s+=1)void 0!==(t=r[i=n[s]])&&void 0!==t.func&&el(i,e,t,!0,a);for(s=0;s<o;s+=1)void 0!==(t=r[i=n[s]])&&void 0!==t.gc&&tl(i,e,t)},getRelPosToTLSW:ol,getSize:function(e){var t,i=M,r=e.handler;return void 0!==r.getSize?t=r.getSize(e):((t={}).w=i.getPropRaw(e,"Width"),t.h=i.getPropRaw(e,"Height")),t},getBounds:gl,getInnerBounds:function(e){var t=M,i=F,r=gl(e);return r.w&&r.h&&(t=t.getProp(e,"BorderWidth",i.enumConverter.None,0),Tl(e.props.Type)||(t=Math.floor(t/2)),r.l+=t,r.t+=t,r.w=Math.max(0,r.w-2*t),r.h=Math.max(0,r.h-2*t),r.w)&&r.h&&(i=Vs.getPadding(e),r.l+=i.Left,r.t+=i.Top,r.w=Math.max(0,r.w-(i.Left+i.Right)),r.h=Math.max(0,r.h-(i.Top+i.Bottom))),r},getBorderRect:function(e){var t=M,i=F,r=0,a=gl(e);return a.w&&a.h&&(Tl(e.props.Type)&&(r=t.getProp(e,"BorderWidth",i.enumConverter.None,0),r=Math.floor(r/2)),a.l+=r,a.t+=r,a.w=Math.max(0,a.w-2*r),a.h=Math.max(0,a.h-2*r)),a},copyBounds:function(e){return{l:e.l,t:e.t,w:e.w,h:e.h}},createSvgBgPattern:function(e,t){var i=131072<=(i=t)&&i<=131076?i-131072:131077===i?38:196608<=i&&i<=196644?i-196608+5:void 0;return void 0!==i?ae.createPattern(e,i):(O.consolLog(O.enumTraceMode.Warning,"HmiObject:createSvgBgPattern() wrong fillStyle: "+t.toString()),null)},createSvgBgGradient:function(e,t){var i={id:P.mkId(e,"ID_ItemBgGradientElement")};return re.setProps(t,e,i)?ae.createLinearGradient(e,i):null},safeFontFamily:sl,getFont:ul,setFontProps:ll,addTifLibExpandoProps:function(e,t){t.setAttribute("data-tif-type","WSI:"+e.props.Type),t.TifProperties={tif:{},item:e}},removeTifLibExpandoProps:function(e){e.domSvgNode&&e.domSvgNode.TifProperties?e.domSvgNode.TifProperties=null:e.domNode&&e.domNode.TifProperties&&(e.domNode.TifProperties=null)},canActivate:function(e,t){var i,r=M;return!!e&&((i=r.getProp(e,"Operability",0,Xs.HmiOperability.Operable))&&!e.gfxWebLib.getCheckAuthorization()&&(i&=~Xs.HmiOperability.NoAuthorization),!!(r.getPropRaw(e,"Visible")&&dl(e)&&i===Xs.HmiOperability.Operable&&(fl(e)||yl(e)||e.operable&&!t)))},hasActions:fl,hasDynamics:function(e){return!!e.rtflags&&0!=(e.rtflags&rl.PropertyDynamics)},isExplicitUnlock:yl,commentRequired:function(){return!1},checkMustDrawInsideFrame:Tl,OperationEnabled:cl,Font:function(e){var t=ul(e,"Font");ll(e.svgText,t)},TextHorizontalAlignment:function(e){var t=M.getProp(e,"HorizontalTextAlignment",F.enumConverter.textHAlign);e.textAdapter.setXAlignment(t)},TextVerticalAlignment:function(e){var t=M.getProp(e,"VerticalTextAlignment",F.enumConverter.textVAlign);e.textAdapter.setYAlignment(t)},Flashing:function(e){e.gfxWebLib.flashing.setFlashingAttributes(e)},imageWidthHeight:function(e,t){var i,r;if(t.length)for(var a=e.templateInstance,n=0;n<t.length;n++)r=(i=t[n]).split("."),i&&Qs(e,a.Store.props,r,"")},loadImage:Zs=function(e,t,i,r){i={propName:i,targetPath:r};(new te).loadImage(e,t,hl,i)}});function ol(e,t){var i,r,a,n=M;if(e&&e.props)switch(e.props.Type){case"DesktopWindow":t.x=0,t.y=0,t.adaptScreenToWindowFactor=1;break;case Ws.TYPE_HMI_TOPLEVELSCREENWINDOW:t.x=n.getPropRaw(e,"Left"),t.y=n.getPropRaw(e,"Top"),qs.zoomOnPoint&&(a=n.getProp(e,"CurrentZoomFactor",0,1),t.x-=n.getPropRaw(e,"HorizontalScrollBarPosition")*a,t.y-=n.getPropRaw(e,"VerticalScrollBarPosition")*a),t.adaptScreenToWindowFactor=1;break;case Ws.TYPE_HMI_SCREENWINDOW:case Ws.TYPE_HMI_POPUPSCREENWINDOW:ol(e.container,t),i=n.getPropRaw(e,"Left"),r=n.getPropRaw(e,"Top"),void 0!==e.control&&(i+=e.control.left,r+=e.control.top),a=n.getProp(e,"CurrentZoomFactor",0,1),i-=n.getPropRaw(e,"HorizontalScrollBarPosition")*a,r-=n.getPropRaw(e,"VerticalScrollBarPosition")*a,t.x+=i*t.adaptScreenToWindowFactor,t.y+=r*t.adaptScreenToWindowFactor;break;case"FaceplateContainer":case"Group":ol(e.container,t),i=n.getPropRaw(e,"Left"),r=n.getPropRaw(e,"Top"),void 0!==e.control&&(i+=e.control.left,r+=e.control.top),t.x+=i*t.adaptScreenToWindowFactor,t.y+=r*t.adaptScreenToWindowFactor;break;case Ws.TYPE_HMI_SCREEN:case"FaceplateType":ol(e.container,t),t.x+=e.offsetLeft*t.adaptScreenToWindowFactor,t.y+=e.offsetTop*t.adaptScreenToWindowFactor,t.adaptScreenToWindowFactor*=e.adaptScreenToWindowFactor||1;break;default:O.consolLog(O.enumTraceMode.Error,"_getRelPosToTLSW(): unknown container type: "+e.props.Type)}else t.x=0,t.y=0,t.adaptScreenToWindowFactor=1}function sl(e){return"Arial"===e?"Arial, Helvetica, sans-serif":"Arial Black"===e?"Arial Black, Gadget, sans-serif":"Tahoma"===e?"Tahoma, Geneva, sans-serif":"Lucida Sans Unicode"===e?"Lucida Sans Unicode, Lucida Grande, sans-serif":"Trebuchet MS"===e?"Trebuchet MS, Helvetica, sans-serif":"Verdana"===e?"Verdana, Geneva, sans-serif":"Times New Roman"===e?"Times New Roman, Times, serif":"Georgia"===e?"Georgia, Utopia, Charter, serif":"Courier New"===e?"Courier New, Courier, monospace":`"${e}"`}function ll(e,t){e.setAttribute("font-size",t.Size.toString()+"px"),e.setAttribute("font-style",t.Italic?"italic":"normal"),e.setAttribute("font-weight",t.Weight),e.setAttribute("font-family",sl(t.Name)),t=t.Underline||t.StrikeOut?(t.Underline?"underline ":"")+(t.StrikeOut?"line-through ":""):"none",e.setAttribute("text-decoration",t)}function ul(){var e=M,t=arguments[0]||{},i="FontPart";return 1<arguments.length&&(t=e.getProp(arguments[0],arguments[1])||{}),{Name:e.getPropPart(t,i,"Name"),Size:e.getPropPart(t,i,"Size"),Underline:e.getPropPart(t,i,"Underline"),StrikeOut:e.getPropPart(t,i,"StrikeOut"),Weight:e.getPropPart(t,i,"Weight"),Italic:e.getPropPart(t,i,"Italic")}}function hl(e,t){var i,r=t.params,a=r.propName,n=r.targetPath;r.propName&&((i={})[a+"Width"]=t.w,i[a+"Height"]=t.h,e.templateInstance?(R.onChanged(e,i,n),e.handler.onImageLoaded&&e.handler.onImageLoaded(e,r)):R.addDelayedUpdates(R.onChanged,e,i,n))}function dl(e){var t=M.getProp(e,"Enabled");return t=e.container?e.container.isEnabled&&t:t}function cl(e){var t=dl(e);e.gfxWebLib.interaction.addEvents(e,t)}function pl(e){window.angular&&((e=angular.element(e)).empty&&e.empty(),e.remove)&&e.remove()}function ml(e){e.svgSelectionElement&&(e.svgSelectionElement.parentNode&&e.svgSelectionElement.parentNode.removeChild(e.svgSelectionElement),e.svgSelectionElement=null)}function gl(e,t){var i,r=M,a=e.handler;return void 0!==a.getBoundsWhole&&t?a.getBoundsWhole(e):(void 0!==a.getBounds?i=a.getBounds(e):((i={}).l=r.getPropRaw(e,"Left"),i.t=r.getPropRaw(e,"Top"),i.w=r.getPropRaw(e,"Width"),i.h=r.getPropRaw(e,"Height")),i)}function Tl(e){return-1===il.indexOf(e)||Ks}function fl(e){return!!e.rtflags&&0!=(e.rtflags&rl.EventActions)}function yl(e){return!!e.rtflags&&0!=(e.rtflags&rl.ExplicitUnlock)}nl.Border=Gs,nl.Text=er,nl.Quality=al;var E=nl;Dl=[{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,3,8,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,8)}},{w:8,h:8,f:function(e,t){e.beginPath(),e.lineCap="square",e.strokeStyle=t,e.moveTo(4,0),e.lineTo(8,4),e.moveTo(0,4),e.lineTo(4,8),e.stroke()}},{w:8,h:8,f:function(e,t){e.beginPath(),e.strokeStyle=t,e.moveTo(1,0),e.lineTo(0,1),e.moveTo(8,1),e.lineTo(1,8),e.stroke()}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,8),e.fillRect(0,7,8,1)}},{w:4,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,7,1,1)}},{w:4,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,3,1,1),e.fillRect(2,1,1,1)}},{w:2,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(1,2,1,1)}},{w:4,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(0,2,1,1),e.fillRect(1,1,1,1),e.fillRect(2,0,1,1),e.fillRect(2,2,1,1),e.fillRect(3,3,1,1)}},{w:2,h:2,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(1,1,1,1)}},{w:2,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,2),e.fillRect(1,1,1,4),e.fillRect(0,3,1,3),e.fillRect(1,6,1,2)}},{w:2,h:2,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,2,1),e.fillRect(1,1,1,1)}},{w:4,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,3,3),e.fillRect(0,3,1,1),e.fillRect(3,0,1,1),e.fillRect(2,2,2,2)}},{w:4,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,4,7),e.fillRect(0,7,1,1),e.fillRect(2,7,2,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(7,0,1,1),e.fillRect(0,1,8,1),e.fillRect(3,2,1,3),e.fillRect(0,5,8,1),e.fillRect(7,6,1,2)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(6,0,2,1),e.fillRect(4,1,2,1),e.fillRect(2,2,2,1),e.fillRect(0,3,2,1),e.fillRect(4,3,2,1),e.fillRect(6,4,2,1),e.fillRect(5,5,1,1),e.fillRect(3,6,2,1),e.fillRect(0,7,2,1),e.fillRect(4,7,2,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(2,0,2,1),e.fillRect(6,2,1,1),e.fillRect(5,3,1,1),e.fillRect(2,4,2,1),e.fillRect(6,6,1,1),e.fillRect(5,7,1,1),e.fillRect(7,7,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(2,1,2,1),e.fillRect(2,3,2,1),e.fillRect(6,3,2,1),e.fillRect(0,4,2,1),e.fillRect(4,4,2,1),e.fillRect(6,5,2,3),e.fillRect(2,7,2,1)}},{w:8,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(4,2,1,1),e.fillRect(5,1,1,1),e.fillRect(7,3,1,1)}},{w:8,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(2,0,1,2),e.fillRect(5,0,1,1),e.fillRect(4,1,1,1),e.fillRect(6,1,1,1),e.fillRect(1,2,1,1),e.fillRect(3,2,1,2),e.fillRect(5,2,1,1),e.fillRect(7,2,1,2)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,3,1,1),e.fillRect(1,7,1,1),e.fillRect(4,0,1,1),e.fillRect(4,2,1,1),e.fillRect(5,5,1,1),e.fillRect(7,6,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(5,0,3,1),e.fillRect(0,2,2,1),e.fillRect(4,2,4,1),e.fillRect(0,3,6,2),e.fillRect(0,6,6,2)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(2,0,1,1),e.fillRect(4,0,1,1),e.fillRect(3,1,1,1),e.fillRect(7,1,1,1),e.fillRect(1,3,1,1),e.fillRect(3,3,1,1),e.fillRect(5,3,1,1),e.fillRect(7,3,1,1),e.fillRect(3,5,1,1),e.fillRect(7,5,1,1),e.fillRect(0,6,1,1),e.fillRect(6,6,1,1),e.fillRect(1,7,1,1),e.fillRect(5,7,1,1)}},{w:4,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,1,1,1),e.fillRect(2,1,1,1),e.fillRect(0,3,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,3,4),e.fillRect(7,0,1,1),e.fillRect(4,3,3,1),e.fillRect(3,4,1,1),e.fillRect(5,4,3,1),e.fillRect(3,5,5,1),e.fillRect(0,6,3,1),e.fillRect(4,6,3,1),e.fillRect(1,7,2,1),e.fillRect(4,7,4,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,6,1),e.fillRect(1,1,1,1),e.fillRect(4,1,1,1),e.fillRect(0,2,1,1),e.fillRect(5,2,1,1),e.fillRect(2,3,2,1),e.fillRect(1,4,1,1),e.fillRect(4,4,1,1),e.fillRect(0,5,1,1),e.fillRect(5,5,1,1),e.fillRect(6,5,2,3)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(1,0,3,1),e.fillRect(0,1,1,1),e.fillRect(4,1,1,1),e.fillRect(5,2,3,2),e.fillRect(0,4,1,1),e.fillRect(4,4,1,1),e.fillRect(1,5,3,3),e.fillRect(5,5,1,1)}},{w:4,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(3,0,1,1),e.fillRect(1,1,2,2),e.fillRect(0,3,1,1),e.fillRect(3,3,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(5,0,3,1),e.fillRect(0,5,1,3),e.fillRect(1,6,3,1),e.fillRect(4,5,4,3),e.fillRect(5,4,3,1),e.fillRect(6,1,1,3)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,3,1),e.fillRect(4,0,1,1),e.fillRect(0,1,1,3),e.fillRect(5,1,1,3),e.fillRect(1,2,7,1),e.fillRect(2,4,1,1),e.fillRect(4,4,1,1),e.fillRect(7,4,1,1),e.fillRect(4,4,1,1),e.fillRect(1,5,1,3),e.fillRect(3,5,1,3),e.fillRect(6,5,1,3),e.fillRect(0,6,8,1)}},{w:8,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(7,0,1,1),e.fillRect(5,1,2,1),e.fillRect(3,2,2,1),e.fillRect(1,3,2,1)}},{w:8,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,2,1),e.fillRect(7,0,1,1),e.fillRect(5,1,3,1),e.fillRect(3,2,3,1),e.fillRect(1,3,3,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(5,0,3,1),e.fillRect(0,1,2,1),e.fillRect(4,1,2,1),e.fillRect(1,2,4,1),e.fillRect(2,3,2,1),e.fillRect(1,4,4,1),e.fillRect(0,5,2,1),e.fillRect(4,5,2,1),e.fillRect(0,6,1,1),e.fillRect(5,6,3,1),e.fillRect(6,7,2,1)}},{w:4,h:1,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,1)}},{w:1,h:2,f:function(e,t){e.fillStyle=t,e.fillRect(0,1,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,8),e.fillRect(0,5,8,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,1),e.fillRect(2,1,1,1),e.fillRect(1,2,1,1),e.fillRect(0,3,1,1),e.fillRect(7,4,1,1),e.fillRect(6,5,1,1),e.fillRect(5,6,1,1),e.fillRect(4,7,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(2,0,2,1),e.fillRect(1,1,2,1),e.fillRect(0,2,2,1),e.fillRect(0,3,1,1),e.fillRect(7,3,1,1),e.fillRect(6,4,2,1),e.fillRect(5,5,2,1),e.fillRect(4,6,2,1),e.fillRect(3,7,2,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(1,0,1,1),e.fillRect(4,0,1,1),e.fillRect(0,1,1,1),e.fillRect(5,1,1,1),e.fillRect(6,2,2,2),e.fillRect(0,4,1,1),e.fillRect(5,4,1,1),e.fillRect(1,5,1,1),e.fillRect(4,5,1,1),e.fillRect(2,6,2,2)}},{w:8,h:1,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,1)}},{w:1,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,1,1,1)}},{w:8,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,4),e.fillRect(0,3,8,1)}}],Sl=new G(30);var Dl,Sl,bl,Cl,vl,_l,Pl,Al,wl,Vl,xl,El,Il,Rl,Bl,Ll={createPatternImage:function(e,t,i,r){var a,n,e=M.getProp(e,"AlternateBackColor",F.enumConverter.Color,0),o=Dl[t].w,s=Dl[t].h,l=t+"-"+e;let u=Sl.get(l);u||((n=(a=_.createDomElement("canvas",{width:o,height:s,style:"position:absolute;"})).getContext("2d")).lineWidth=1,Dl[t].f(n,e),u=a.toDataURL("image/png"),Sl.set(l,u)),i.setAttribute("width",o),i.setAttribute("height",s),r.setAttributeNS(ae.xlinkNS,"xlink:href",u),r.setAttribute("width",o),r.setAttribute("height",s)},createScreenHostedPatterns:function(e){var t,i;t=e,t=(i=ae).getSvgDefs(e),i=i.createSvgElement("pattern",{id:"ID_Pattern_QualityVisualization_DiagonalHatch",patternUnits:"userSpaceOnUse",width:2,height:4,appendTo:t}),ae.createSvgElement("rect",{x:0,y:0,width:1,height:1,fill:"#303030",appendTo:i}),ae.createSvgElement("rect",{x:1,y:2,width:1,height:1,fill:"#303030",appendTo:i})}};function Ml(e,t,i){var r=1,a=Il(e);return t=t||"XY",i&&"string"==typeof t&&(r=(t=t.replace(/\n/g,"")).split("").length),void 0===a&&(a=xl(e,t).height,Rl(e,a)),r*a}function Fl(e,t,i){if(!t)return 0;var r,a,n,o=0,e=`${e.Italic?"italic":"normal"} ${e.Weight} ${e.Size}px "${e.Name}"`;if(vl||(Cl=_.createDomElement("canvas",{}),vl=Cl.getContext("2d")),vl.font=e,i){if("string"!=typeof t)return vl.measureText(t).width;for(n=(t=t.replace(/\n/g,"")).split(""),r=0;r<n.length;r++)o=o<(a=vl.measureText(n[r]).width)?a:o;return o}return vl.measureText(t).width}function Hl(e){return e=P.isScreen(e)?e.domSvgDefs:e.domSvgNode||(e.container?e.container.domSvgDefs:e.domParent||e.domNode)}function Ol(e){return e=!P.isScreen(e)&&(e.container||e.domParent)||e}function Nl(e,t){return t&&(e=Ol(e))&&(e=e.svgDefsLookup)&&void 0!==e[t]?e[t]:null}function kl(e,t){var i,r,a;for(i in t=t||{},_l+=1,a=document.createElementNS(Vl,e),t)if(t.hasOwnProperty(i))switch(r=t[i],i){case"textNode":a.appendChild(document.createTextNode(r));break;case"appendTo":r.appendChild(a);break;default:a.setAttribute(i,r)}return a}wl=Al=Pl=null,xl=function(e,t){var i,r;Bl(e),wl.textContent=" "===t?"x x":t;try{if(0===(i=Al.getBBox()).height&&0!==i.width&&(i.width=0)," "===t)return wl.textContent="xx",r=Al.getBBox(),{x:i.x,y:i.y,width:i.width-r.width,height:i.height}}catch(e){O.traceErr(e,"SVG:getTextBBox() catched exception.")}return i},El=[],Il=function(e){for(var t,i=El.length,r=0;r<i;r+=1)if((t=El[r]).Name===e.Name&&t.Size===e.Size)return 0<r&&(El.splice(r,1),El.unshift(t)),t.height},Rl=function(e,t){20<El.length&&El.pop(),El.unshift({Name:e.Name,Size:e.Size,height:t})},Bl=function(e){Al.setAttribute("font-size",e.Size.toString()+"px"),Al.setAttribute("font-style",e.Italic?"italic":"normal"),Al.setAttribute("font-weight",e.Weight),Al.setAttribute("font-family",E.safeFontFamily(e.Name)),e=e.Underline||e.StrikeOut?(e.Underline?"underline ":"")+(e.StrikeOut?"line-through":""):"none",Al.setAttribute("text-decoration",e)};function Wl(e,t,i){if(!(this instanceof Wl))return new Wl(e,t);this.defaultOptions={cldrDataPath:"content/systemdata/cldr-data",imagePath:"/",basePath:"/",templatePath:"/",customWidgetPath:"/",lcid:1033,style:"extended",styleName:"ExtendedStyle",hasActiveStyle:!1,projectVersion:"",projectId:"",forceHtml:!1,checkAuthorization:!0},this.mergeOptions=function(e){var t,i=this.options||this.defaultOptions;for(t in i)void 0===e[t]&&(e[t]=i[t]);return e},this.appMode=e,this.appType=t||jl.SCADA,this.browserZoom=1,this.rootDiv=null,this.options=this.mergeOptions(i||{}),this.overlayContent={schedule:{},loaded:!1,size:{w:48,h:48}},this.init=function(i,e){var t,r,a=!0;e&&e.basePath&&(e.templatePath||(e.templatePath=e.basePath+("/"===e.basePath.charAt(e.basePath.length-1)?"":"/")+"templates/"),e.customWidgetPath||(e.customWidgetPath=e.basePath+("/"===e.basePath.charAt(e.basePath.length-1)?"":"/")+"customwidgets/")),this.options=this.mergeOptions(e||{});try{Yl||("undefined"!=typeof SWAC&&SWAC.Container&&(t=".min.js",t+=S.assetSuffix,(r=window.location.origin+window.location.pathname).endsWith("/")||((r.endsWith(".html")||r.endsWith(".htm"))&&(r=r.slice(0,r.lastIndexOf("/"))),r+="/"),SWAC.Config.TimeOuts.Create<3e4&&(SWAC.Config.TimeOuts.Create=3e4),SWAC.Config.TimeOuts.Internal<3e4&&(SWAC.Config.TimeOuts.Internal=3e4),SWAC.Config.Container.Behaviors.AddDpcValues=!0,SWAC.Config.Container.URLs.BaseLibrary||(SWAC.Config.Container.URLs.BaseLibrary=r+"libs/swac-base"+t),SWAC.Config.Control.URLs.BaseLibrary||(SWAC.Config.Control.URLs.BaseLibrary=r+"libs/webcc-base"+t),SWAC.Config.Control.Extensions.HMI||(SWAC.Config.Control.Extensions.HMI=r+"webcc/hmi-extension"+t),SWAC.Config.Control.Extensions.Dialogues||(SWAC.Config.Control.Extensions.Dialogues=r+"webcc/dialogues-extension"+t),SWAC.Config.Control.Extensions.Formatting||(SWAC.Config.Control.Extensions.Formatting=r+"webcc/formatting-extension"+t),SWAC.Config.Control.Extensions.X_Textbib||(SWAC.Config.Control.Extensions.X_Textbib=r+"webcc/x_textbib-extension"+t),SWAC.Config.Control.Extensions.Pickers||(SWAC.Config.Control.Extensions.Pickers=r+"webcc/picker-extension"+t),SWAC.Config.Control.Extensions.X_SiemensFont||(SWAC.Config.Control.Extensions.X_SiemensFont=r+"webcc/x_siemensfont-extension"+t)),Ws.initObjTypes(),Ki.initControlTypes(),ae.createBBoxItems(document.body),Yl=!0),window.angular&&((this.rootDiv=i).setAttribute("ng-controller","PwcAdvancedToolkitController"),(n=angular.element(document.body).injector())?(n.loadNewModules(["PWC.Lib.HmiTypes.Advanced.Toolkit"]),n.invoke(function(e){var t=angular.element(i);"function"==typeof t.scope&&e(i)(t.scope())})):(o=(n=angular.bootstrap(i,["PWC.Lib.HmiTypes.Advanced.Toolkit"])).get("$templateCache"))&&(s=this.connection.getAppDir()+"content/templates/window.html",D.ajax({dataType:"html",url:s,success:function(e){o.put(s,e)},async:!1})));var n,o,s,l=this.connection.getAppDir();try{this.customsettings.readSettings(l)}catch(e){O.traceErr(e,"GfxWebLib:init().readSettings()")}try{this.textbib.registerTextResource("WebUX"),this.textbib.setLocale(this.options.lcid,l)}catch(e){O.traceErr(e,"GfxWebLib:init().setLocale()"),a=!1}}catch(e){O.traceErr(e,"GfxWebLib:init()"),a=!1}return a},this.registerTextResource=function(e){this.textbib.registerTextResource(e)},this.setLocale=function(e){this.textbib.setLocale(e)},this.getLocale=function(){return this.textbib.getLocale()},this.setSystemPartsStyleProperties=function(e){gt.setStyleProps(e)},this.setStyle=function(e,t){a=(r=(a=(a=e).toLowerCase().split("::"))[a.length-1].replace("style","")).split("_");var i,r={fullName:r,baseName:a[0]},a=(t&&!D.isEmptyObject(t)||(a=this.options.projectVersion,i=17,t=!a||a.split(".")[0]>=i?gt.getStyleProps(r.fullName):gt.getStyleProps("extended_v16")),t&&gt.setStyleProps(t),this.options.style=r.baseName,e.split("::"));this.options.styleName=a[a.length-1]},this.getStyle=function(e){return e?this.options.styleName:this.options.style},this.setHasActiveStyle=function(e){this.options.hasActiveStyle=e},this.getHasActiveStyle=function(){return this.options.hasActiveStyle},this.setProjectVersion=function(e){"number"==typeof e?this.options.projectVersion=((4278190080&e)>>24)+"."+((16711680&e)>>16)+"."+((65280&e)>>8)+"."+(255&e):"string"==typeof e&&(this.options.projectVersion=e)},this.getProjectVersion=function(){return this.options.projectVersion},this.setProjectId=function(e){(this.options.projectId=e)&&"undefined"!=typeof webRTPU&&webRTPU.Engine&&(webRTPU.Engine.Options.urlSuffix="?p="+e)},this.getProjectId=function(){return this.options.projectId},this.setCheckAuthorization=function(e){this.options.checkAuthorization=e},this.getCheckAuthorization=function(){return this.options.checkAuthorization},this.createHmiObject=function(e,t,i,r){e={rtflags:0,rtoid:t,gfxWebLib:this,props:D.extend(!0,{Type:e},i)||{}};return r&&D.extend(e,r),i=E.getHandlerType(e),e.handler=Ws.getHandler(i),null!==e.handler?(e.handler.onInit(e),this.options.forceHtml&&!t.startsWith("blueprint")&&"html"!==e.handler.DOM_TYPE&&(r=_.createDomElement("div",{style:"position: absolute; pointer-events: none;"}),ae.createSvgElement("svg",{style:"position: absolute; pointer-events: none; overflow: visible;",focusable:"false",appendTo:r}).appendChild(e.domNode),e.domNode=r),e):null},this.updateHmiObject=function(e,t,i){return void 0!==e.handler&&(e.handler.onChanged(e,t,i),!0)},this.updateDLData=function(e,t,i){return!(!e.handler||!e.handler.onDLSendData||(e.handler.onDLSendData(e,t,i),0))},this.onCurrentLocale=function(e,t){return t=t||this.getLocale(),!(!e.handler||!e.handler.onCurrentLocale||(e.handler.onCurrentLocale(e,t),0))},this.onCurrentStyle=function(e,t){return t=t||this.getStyle(),!(!e.handler||!e.handler.onCurrentStyle||(e.handler.onCurrentStyle(e,t),0))},this.cleanupHmiObject=function(e){E.onCleanUp(e)},this.createPartObject=function(e,t,i){return!(!e.handler||!e.handler.onCreatePart||(e.handler.onCreatePart(e,t,i||{}),0))},this.deletePartObject=function(e,t){return!(!e.handler||!e.handler.onDeletePart||(e.handler.onDeletePart(e,t),0))},this.movePartObject=function(e,t,i){return!(!e.handler||!e.handler.onMovePart||(e.handler.onMovePart(e,t,i),0))},this.addHmiObjectHandler=function(e,t,i){Ws.addHandler(e,t),i&&br.addDefaults(e,i)},this.cbSetImageSize=function(e,t){var i,r,a=E,e=e.gfxWebLib;for(r in e.overlayContent.size=t,e.overlayContent.imageHelper=null,e.overlayContent.loaded=!0,i=e.overlayContent.schedule){var n=i[r];n.quality&&a.Quality.adjustImageOverlay(n)}delete e.overlayContent.schedule},this.isImageOverlayLoaded=function(){return this.overlayContent.loaded},this.registerForOverlay=function(e){this.overlayContent.schedule[e.rtoid]||(this.overlayContent.schedule[e.rtoid]=e)},this.getOverlaySize=function(){return this.overlayContent&&this.overlayContent.size?this.overlayContent.size:null},this.flashing={},this.flashing.handler={},this.flashing.setFlashingAttributes=function(e){void 0!==this.handler.setFlashingAttributes&&this.handler.setFlashingAttributes(e)},this.flashing.setRemoveItemSpecificFlashing=function(e,t,i){void 0!==this.handler.setRemoveItemSpecificFlashing&&this.handler.setRemoveItemSpecificFlashing(e,t,i)},this.flashing.getFlashingRates=function(){if(void 0!==this.handler.getFlashingRates)return this.handler.getFlashingRates()},this.topLevelScreenWindow={parent:this},this.topLevelScreenWindow.handler={},this.topLevelScreenWindow.getTopLevelScreenWindowOffset=function(e){return void 0!==this.handler.getTopLevelScreenWindowOffset?this.handler.getTopLevelScreenWindowOffset(e):{x:0,y:0}},this.topLevelScreenWindow.getTopLevelScreenWindowDiv=function(){return void 0!==this.handler.getTopLevelScreenWindowDiv?this.handler.getTopLevelScreenWindowDiv():this.parent.rootDiv||document.body},this.topLevelScreenWindow.getTopLevelScreenWindow=function(e){return void 0!==this.handler.getTopLevelScreenWindow?this.handler.getTopLevelScreenWindow(e):null},this.topLevelScreenWindow.enumScreens=function(e,t,i){return void 0!==this.handler.enumScreens&&this.handler.enumScreens(e,t,i)},this.screen={parent:this},this.screen.handler={},this.screen.getItem=function(e,t){return void 0!==this.handler.getItem?this.handler.getItem(e,t):null},this.screen.enumItems=function(e,t,i,r){return void 0!==this.handler.enumItems&&this.handler.enumItems(e,t,i,r)},this.screen.getCalculatedZoomFactor=function(e){return void 0!==this.handler.getCalculatedZoomFactor?this.handler.getCalculatedZoomFactor(e):1},this.connection={parent:this},this.connection.handler={},this.connection.validateRTOID=function(e){if("string"==typeof e)return e.split("_").length<=2},this.connection.getAppDir=function(){return void 0!==this.handler.getAppDir?this.handler.getAppDir():this.parent.options.basePath},this.connection.getImageUrl=function(){return void 0!==this.handler.getImageUrl?this.handler.getImageUrl():this.parent.options.imagePath},this.connection.getTemplateUrl=function(){return void 0!==this.handler.getTemplateUrl?this.handler.getTemplateUrl():this.parent.options.templatePath},this.connection.getCustomControlUrl=function(e){return void 0!==this.handler.getCustomControlUrl?this.handler.getCustomControlUrl(e):this.parent.options.basePath},this.connection.getCustomWidgetUrl=function(){return void 0!==this.handler.getCustomWidgetUrl?this.handler.getCustomWidgetUrl():this.parent.options.customWidgetPath},this.connection.getLicenseType=function(){if(void 0!==this.handler.getLicenseType)return this.handler.getLicenseType()},this.connection.getLicenseIDs=function(){if(void 0!==this.handler.getLicenseIDs)return this.handler.getLicenseIDs()},this.connection.getEventIDs=function(){if(void 0!==this.handler.getEventIDs)return this.handler.getEventIDs()},this.connection.getEventParamIDs=function(){if(void 0!==this.handler.getEventParamIDs)return this.handler.getEventParamIDs()},this.connection.datatypesToGfxCHROMID=function(e){if(void 0!==this.handler.datatypesToGfxCHROMID)return this.handler.datatypesToGfxCHROMID(e)},this.connection.datatypesToString=function(e){if(void 0!==this.handler.datatypesToString)return this.handler.datatypesToString(e)},this.connection.sendToolBarCommand=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendToolBarCommand&&this.handler.sendToolBarCommand(e,t,i)},this.connection.sendTappedEvent=function(e,t,i,r,a,n){this.validateRTOID(e)&&void 0!==this.handler.sendTappedEvent&&this.handler.sendTappedEvent(e,t,i,r,a,n)},this.connection.sendGestureEvent=function(e,t){this.validateRTOID(e)&&void 0!==this.handler.sendGestureEvent&&this.handler.sendGestureEvent(e,t)},this.connection.sendEvent=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendEvent&&this.handler.sendEvent(e,t,i)},this.connection.sendEventByName=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendEventByName&&this.handler.sendEventByName(e,t,i)},this.connection.sendPropertyByName=function(e,t,i,r,a){this.validateRTOID(e)&&void 0!==this.handler.sendPropertyByName&&this.handler.sendPropertyByName(e,t,i,r,a)},this.connection.sendPropertiesByName=function(e,t,i,r){this.validateRTOID(e)&&void 0!==this.handler.sendPropertiesByName&&this.handler.sendPropertiesByName(e,t,i,r)},this.connection.sendPartPropertyByName=function(e,t,i,r,a,n){this.validateRTOID(e)&&void 0!==this.handler.sendPartPropertyByName&&this.handler.sendPartPropertyByName(e,t,i,r,a,n)},this.connection.sendPartPropertiesByName=function(e,t,i,r,a){this.validateRTOID(e)&&void 0!==this.handler.sendPartPropertiesByName&&this.handler.sendPartPropertiesByName(e,t,i,r,a)},this.connection.setPropertyValue=function(e,t,i,r){void 0!==this.handler.setPropertyValue&&this.handler.setPropertyValue(e,t,i,r)},this.connection.sendDomainLogicEvent=function(e,t,i,r){this.validateRTOID(e)&&void 0!==this.handler.sendDomainLogicEvent&&this.handler.sendDomainLogicEvent(e,t,i,r)},this.connection.sendAsyncMethodResult=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendAsyncMethodResult&&this.handler.sendAsyncMethodResult(e,t,i)},this.connection.sendScreenItemCreate=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendScreenItemCreate&&this.handler.sendScreenItemCreate(e,t,i)},this.connection.sendScreenItemDelete=function(e){this.validateRTOID(e)&&void 0!==this.handler.sendScreenItemDelete&&this.handler.sendScreenItemDelete(e)},this.connection.sendPartCreate=function(e,t,i,r){this.validateRTOID(e)&&void 0!==this.handler.sendPartCreate&&this.handler.sendPartCreate(e,t,i,r)},this.connection.sendPartDelete=function(e,t){this.validateRTOID(e)&&void 0!==this.handler.sendPartDelete&&this.handler.sendPartDelete(e,t)},this.connection.sendPartMove=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendPartMove&&this.handler.sendPartMove(e,t,i)},this.interaction={},this.interaction.handler={},this.interaction.addEvents=function(e,t){void 0!==this.handler.addEvents&&this.handler.addEvents(e,t)},this.interaction.removeEvents=function(e,t){void 0!==this.handler.removeEvents&&this.handler.removeEvents(e,t)},this.interaction.setCapture=function(e){void 0!==this.handler.setCapture&&this.handler.setCapture(e)},this.interaction.releaseCapture=function(){void 0!==this.handler.releaseCapture&&this.handler.releaseCapture()},this.interaction.evtX=function(e){if(void 0!==this.handler.evtX)return this.handler.evtX(e)},this.interaction.evtY=function(e){if(void 0!==this.handler.evtY)return this.handler.evtY(e)},this.interaction.checkPermission=function(e,t){return void 0===this.handler.checkPermission||this.handler.checkPermission(e,t)},this.input={},this.input.handler={},this.input.startInput=function(e){void 0!==this.handler.startInput&&this.handler.startInput(e)},this.input.endInput=function(e){void 0!==this.handler.endInput&&this.handler.endInput(e)},this.input.isInputActive=function(){if(void 0!==this.handler.isInputActive)return this.handler.isInputActive()},this.input.checkHandleInputEnd=function(e){void 0!==this.handler.checkHandleInputEnd&&this.handler.checkHandleInputEnd(e)},this.cursor={},this.cursor.handler={},this.cursor.suspendCursor=function(e,t,i,r){void 0!==this.handler.suspendCursor&&this.handler.suspendCursor(e,t,i,r)},this.keyboard={},this.keyboard.handler={},this.keyboard.getKeycodes=function(){if(void 0!==this.handler.getKeycodes)return this.handler.getKeycodes()},this.keyboard.getFlags=function(){if(void 0!==this.handler.getFlags)return this.handler.getFlags()},this.selection={},this.selection.handler={},this.selection.getActiveItem=function(){if(void 0!==this.handler.getActiveItem)return this.handler.getActiveItem()},this.selection.setActiveItem=function(e){void 0!==this.handler.setActiveItem&&this.handler.setActiveItem(e)},this.selection.selectNextItem=function(e){void 0!==this.handler.selectNextItem&&this.handler.selectNextItem(e)},this.selection.selectPreviousItem=function(e){void 0!==this.handler.selectPreviousItem&&this.handler.selectPreviousItem(e)},this.tooltip={},this.tooltip.handler={},this.tooltip.show=function(e,t,i,r){void 0!==this.handler.show&&this.handler.show(e,t,i,r)},this.tooltip.hide=function(){void 0!==this.handler.hide&&this.handler.hide()},this.tooltip.suspend=function(){void 0!==this.handler.suspend&&this.handler.suspend()},this.tooltip.resume=function(){void 0!==this.resume&&this.resume()},this.dialogs={},this.dialogs.handler={},this.dialogs.showRuntimeDialogWithIcon=function(e,t,i){void 0!==this.handler.showRuntimeDialogWithIcon&&this.handler.showRuntimeDialogWithIcon(e,t,i)},this.dialogs.hideRuntimeDialogWithIcon=function(){void 0!==this.handler.hideRuntimeDialogWithIcon&&this.handler.hideRuntimeDialogWithIcon()},this.dialogs.showOperationMotive=function(){void 0!==this.handler.showOperationMotive&&this.handler.showOperationMotive()},this.dialogs.hideOperationMotive=function(){void 0!==this.handler.hideOperationMotive&&this.handler.hideOperationMotive()},this.dialogs.showHelp=function(e,t){void 0!==this.handler.showHelp&&this.handler.showHelp(e,t)},this.dialogs.showCCDialog=function(e,t,i,r,a){if(void 0!==this.handler.showCCDialog)return this.handler.showCCDialog(e,t,i,r,a)},this.dialogs.closeCCDialog=function(e){void 0!==this.handler.closeCCDialog&&this.handler.closeCCDialog(e)},this.dialogs.showDateTimePicker=function(e,t){var i;if(void 0!==this.handler.showDateTimePicker)return(i=e.gfxWebLib.getProjectVersion())&&0<i.length?t.projectVersion=parseInt(i.split(".")[0]):t.projectVersion=i,this.handler.showDateTimePicker(e,t)},this.customsettings={parent:this},this.customsettings.getSetting=function(e,t,i){return Ul.getSetting(e,t,i)},this.customsettings.readSettings=function(e){Ul.readSettings(e)},this.textbib={parent:this},this.textbib.registerTextResource=function(e){we.registerTextResource(e)},this.textbib.setLocale=function(e){var t=this.parent.connection.getAppDir(),i=t+this.parent.options.cldrDataPath;H.setLocale(e,i),Ke.setLocale(e),we.setLocale(e,t)},this.textbib.getLocale=function(){return we.getLocale()},this.textbib.getText=function(e){return we.getText(e)},this.textbib.getLocaliziedDateTimeFormat=function(e){return we.getLocaliziedDateTimeFormat(e)},this.textbib.format=function(e,t){var i,r={cldrDataPath:this.parent.connection.getAppDir()+this.parent.options.cldrDataPath};return 2<arguments.length&&("object"==typeof(i=arguments[2])?D.extend(r,i):"string"==typeof i?r.timeZone=i:r.lcid=i),H.format(e,t,r)},this.textbib.parseDate=function(e,t){var i,r={cldrDataPath:this.parent.connection.getAppDir()+this.parent.options.cldrDataPath};return 2<arguments.length&&("object"==typeof(i=arguments[2])?D.extend(r,i):"string"==typeof i?r.timeZone=i:r.lcid=i),H.parseDate(e,t,r)},this.textbib.toIANATimeZone=function(e){return"string"==typeof e?isNaN(e)?H.Timezone.getTimezoneFromName(e):H.Timezone.getTimezoneFromIndex(+e):"number"==typeof e?-1===e?"localtime":H.Timezone.getTimezoneFromIndex(e):null},this.textbib.getSupportedTimeZones=function(){return H.Timezone.getSupportedTimeZones()},this.textbib.getDefaultFormat=function(e){return vo.getDefaultOutputFormat(e)},this.umcservice={},this.umcservice.handler={},this.umcservice.getServiceEndpoint=function(){if(void 0!==this.handler.getServiceEndpoint)return this.handler.getServiceEndpoint()},this.umcservice.init=function(e,t){void 0!==this.handler.init&&this.handler.init(e,t)},this.umcservice.getKey=function(e){if(void 0!==this.handler.getKey)return this.handler.getKey(e)},this.channelregistry={},this.channelregistry.handler={},this.channelregistry.browse=function(){return void 0!==this.handler.browse?this.handler.browse():[]},this.channelregistry.open=function(e,t){return void 0!==this.handler.open?this.handler.open(e,t):null}}var Gl,ae={svgNS:Vl="http://www.w3.org/2000/svg",xlinkNS:"http://www.w3.org/1999/xlink",getSvgDefs:Hl,lookupSvgDef:Nl,appendSvgDef:function(e,t){var i,r,a;return!!t&&!!(r=Ol(e))&&((a=(r=r).svgDefsLookup)||(a={RefCount:0},r.svgDefsLookup=a),void 0!==(r=a)[a=t.getAttribute("id")]?(i=t.getAttribute("RefCount"),i=parseInt(i,10),t.setAttribute("RefCount",(i+=1).toString())):((r[a]=t).setAttribute("RefCount","1"),Hl(e).appendChild(t)),r.RefCount=r.RefCount+1,!0)},_lookupSvgDef:function(e,t){return t&&(e=Ol(e))&&(e=e.svgDefsLookup)&&void 0!==e[t]?e[t]:null},removeSvgDef:function(e,t){var i,r,a,n=Nl(e,t);return!!n&&(a=n.getAttribute("RefCount"),a=parseInt(a,10),r=(i=Ol(e)).svgDefsLookup,1<a?n.setAttribute("RefCount",(a-=1).toString()):((a=Hl(e)).contains(n)&&a.removeChild(n),delete r[t]),r.RefCount=r.RefCount-1,0===r.RefCount&&delete i.svgDefsLookup,!0)},removeSvgDefsLookup:function(e,t){var i,e=Ol(e);return!!e&&!(!(i=e.svgDefsLookup)||0!==i.RefCount&&!0!==t||(delete e.svgDefsLookup,0))},createSvgElement:kl,composeId:function(e,t,i,r,a){var n,o=P;if(t)return e?(a?n=r?o.mkUrl(e,t):o.mkId(e,t):i||r?i&&!r?n=t+"_"+i:i&&r?n="url(#"+t+"_"+i+")":!i&&r&&(n="url(#"+t+")"):n=t,n):t},createSvgScreenItemNode:function(e,t){return(t=t||{})["data-rtoid"]=e.rtoid,t["data-tif-id"]=void 0!==e.props.Name?e.props.Name:"",t=kl("g",t),E.addTifLibExpandoProps(e,t),t},augmentSvgScreenItemNode:function(e,t,i){for(var r in(t=t||{})["data-rtoid"]=e.rtoid,t["data-tif-id"]=void 0!==e.props.Name?e.props.Name:"",t)if(t.hasOwnProperty(r)){var a=t[r];switch(r){case"textNode":i.appendChild(document.createTextNode(a));break;case"appendTo":a.appendChild(i);break;default:i.setAttribute(r,a)}}E.addTifLibExpandoProps(e,i)},createPattern:function(e,t){var i=Hl(e),i=kl("pattern",{id:P.mkId(e,"ID_ItemBgPatternElement"),patternUnits:"userSpaceOnUse",stroke:"none",appendTo:i}),r=kl("image",{preserveAspectRatio:"none",appendTo:i});return Ll.createPatternImage(e,t,i,r),i},createImagePattern:function(e,t,i,r){var a=Hl(e),n="ID_ItemImagePattern";return(t=t||kl("pattern",{id:P.mkId(e,n),patternUnits:"userSpaceOnUse",stroke:"none",appendTo:a})).appendChild(i),r.setAttribute("fill",P.mkUrl(e,n)),t},createLinearGradient:function(e,t,i){var r,a,n;for(i=i||Hl(e),n=kl("linearGradient",{id:t.id,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,appendTo:i}),r=0;r<t.stops.length;r+=1)a=t.stops[r],kl("stop",{offset:a.offset,"stop-color":a.color,"stop-opacity":a.opacity,appendTo:n});return n},createRadialGradient:function(e,t){for(var i,e=Hl(e),r=kl("radialGradient",{id:t.id,cx:t.cx,cy:t.cy,fx:t.fx,fy:t.fy,r:t.r,appendTo:e}),a=0;a<t.stops.length;a+=1)i=t.stops[a],kl("stop",{offset:i.offset,"stop-color":i.color,"stop-opacity":i.opacity,appendTo:r});return r},getSvgElementCount:function(){return _l},resetSvgElementCount:function(){_l=0},arcParameter:function(e,t,i,r,a,n,o){return[e,",",t," ",i," ",r,",",a," ",n,",",o].join("")},pointParameter:function(e,t){return[e,",",t," "].join("")},createBBoxItems:function(e){bl=_.createDomElement("div",{id:"ID_BBox_DIV",style:"position:absolute; left:-10000px; top:-10000px; visibility:hidden;",appendTo:e}),Pl=kl("svg",{id:"ID_BBox_SVG",style:"pointer-events: none",appendTo:bl}),Al=kl("text",{"text-anchor":"start",appendTo:Pl}),(wl=kl("tspan",{appendTo:Al,dy:"40px"})).textContent="XY"},getBBox:function(t){var i,e,r=Pl;if(null!=t){try{(e=t.cloneNode(!0)).setAttribute("display","inline"),r.appendChild(e),i=e.getBBox()}catch(e){O.traceErr(e,"SVG:getBBox() catched exception."),i=t.getBBox()}return r.removeChild(e),i}O.consolLog(O.enumTraceMode.Error,"Svg:getBBox() wrong svgElement")},getTextBBox:function(e,t){return{x:0,y:0,width:Fl(e,t),height:Ml(e,t)}},getTextHeight:Ml,getTextHeightStacked:function(e,t){return xl(e,t).width},getTextWidth:Fl,getTextWidthCR:function(e,t){if(!t)return 0;var i,r,a,n,e=`${e.Italic?"italic":"normal"} ${e.Weight} ${e.Size}px "${e.Name}"`;for(vl||(Cl=_.createDomElement("canvas",{}),vl=Cl.getContext("2d")),vl.font=e,i=t.split(/\r\n|[\n\r\u0085\u2028\u2029]/g),r=a=0;r<i.length;r++)n=vl.measureText(i[r]).width,a=Math.max(n,a);return a},setBBox:function(e,t){e.setAttribute("x",t.l),e.setAttribute("y",t.t),e.setAttribute("width",t.w),e.setAttribute("height",t.h)},setAttr:function(e,t,i){if("object"==typeof t)for(i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i]);else e.setAttribute(t,i)},setTextSpanContent:function(e,t){t&&Bl(t),"string"==typeof e&&(wl.textContent=" "===e?"x x":e)},getSubStringLength:function(e,t){var i=null;if(null!==wl)try{i=wl.getSubStringLength(e,t)}catch(e){O.traceErr(e,"SVG:getSubStringLength(charnum, nchars) catched exception.")}return i}},Ul={getSetting:function(e,t,i){return void 0!==Gl[e]&&void 0!==Gl[e][t]?Gl[e][t]:(void 0===i&&O.consolLog(O.enumTraceMode.Error,"CustomSettings.getSetting(): "+e+"."+t),i)},readSettings:function(e){var t=e+"content/custom/CustomSettings.json";D.ajax({url:t,async:!1,dataType:"json",error:function(e){O.traceErr(e,"CustomSettings.readSettings(): "+t)},success:function(e){Gl=e.CustomSettings}})}},zl={UNKNOWN:_l=0,RUNTIME:1,EDIT:2},jl={UNKNOWN:0,WinCC:1,SCADA:2,CLOUD:3},Yl=!(Gl={}),er=Wl;const Xl=3;ql=c,Kl=function(e){return e.Modifiers=e.flags,e.Trigger=e.trigger,e.deltaX=e.deltaX||0,e.deltaY=e.deltaY||0,e.pageX=e.x,e.pageY=e.y,e},Jl.prototype={type2Event:function(e){switch(e){case 10:return"down";case 11:return"up";case 12:return"tapped";case 13:return"contextTapped";case 14:return"pan";case 20:return"focusEnter";case 21:return"focusLeave";case 1:return"enter";case 2:return"hover";case 3:return"leave";case 4:return"wheel"}return null},bind:function(e,t){e=this.type2Event(e);return!!e&&("wheel"===e&&this.element.addEventListener(e,this.onMouseWheel,{passive:!1}),this.handlers[e]=t,this.counter++,!0)},unbind:function(e){e=this.type2Event(e);return!(!e||("wheel"===e&&this.element.removeEventListener(e,this.onMouseWheel,{passive:!1}),this.handlers[e]=null,this.counter--,0!==this.counter)||(this.pointers.stop(),this.pointers=null))}};var ql,Kl,Zl,Ql=Jl;function Jl(e,i){this.element=e,this.template=i,this.handlers={},this.counter=0;var r=this;this.pointers=ql.Pointers.createInstance(e,{rtpuMode:!0,item:i.rootItem.Store,callbacks:{down:function(e){var t;r.handlers.down&&(e=Kl(e),r.handlers.down(e)),r.handlers.pan&&(r.capture=r.capture||(t=null,t=ql.Pointers.createInstance(document,{autoStart:!1,rtpuMode:!0,callbacks:{move:function(e){e.deltaX=e.x-t.lastX,e.deltaY=e.y-t.lastY,t.move&&!t.stopped&&(t.recognized?(t.lastX=e.x,t.lastY=e.y,e=Kl(e),t.move(e)):(Math.abs(e.deltaX)>=Xl||Math.abs(e.deltaY)>=Xl)&&(t.recognized=!0,t.item.container)&&t.item.container.handler&&t.item.container.handler.lockGesture(t.item.container,null,!0))},leave:function(e){t.leave&&(e=Kl(e),t.leave(e)),t.leave=null,t.move=null,t.item=null,t.releaseCapture()}}})),r.capture.pointerId=e.pointerId,r.capture.lastX=e.x,r.capture.lastY=e.y,r.capture.move=r.handlers.pan,r.capture.leave=r.handlers.up,r.capture.recognized=!1,r.capture.stopped=!1,r.capture.item=i.rootItem.Store,!r.capture.item.container&&r.capture.item.parentItem&&(r.capture.item=r.capture.item.parentItem.RTPUItem.Store),r.capture.setCapture())},up:function(e){r.handlers.pan&&(r.capture.move=null,r.capture.leave=null,r.capture.item=null,r.capture.releaseCapture()),r.handlers.up&&(e=Kl(e),r.handlers.up(e)),e.click&&0===e.button?r.handlers.tapped&&(e=Kl(e),r.handlers.tapped(e)):e.click&&2===e.button&&r.handlers.contextTapped&&(e=Kl(e),r.handlers.contextTapped(e))},move:function(e){r.handlers.hover&&!e.which&&(e=Kl(e),r.handlers.hover(e))},enter:function(e){window.pageX=e.x,window.pageY=e.y,r.handlers.enter&&(e=Kl(e),r.handlers.enter(e))},leave:function(e){r.handlers.leave&&(e=Kl(e),r.handlers.leave(e))}}}),this.onMouseWheel=function(e){var t=e.deltaY||e.deltaX||1;r.handlers.wheel&&(e.Modifiers=(e.getModifierState("Control")?1:0)+(e.getModifierState("Shift")?2:0)+(e.getModifierState("Alt")?4:0),e.Trigger=0!==e.which?e.button+16:0,e.deltaWheel=t,r.handlers.wheel(e))}}function $l(e){return Zl.get(e)}Zl=window.Map?new Map:null;var eu,tu,iu={canUse:function(){return!(!c.hasPointers()||!window.Map)},register:function(e,t,i,r){t=$l(e)||new Ql(e,t);return!!t.bind(i,r)&&(Zl.set(e,t),!0)},unregister:function(e,t,i){var r=$l(e);return!!r&&(r.unbind(t,i)&&Zl.delete(e),!0)},stopCapture:function(){var e;for(e of Zl.values())e.handlers.pan&&e.capture&&(e.capture.stopped=!0)},onFocusIn:function(e){var t;for(t of Zl.values())t.handlers.focusEnter&&t.template.rootItem.Store===e&&t.handlers.focusEnter({Trigger:0,Modifier:0,preventDefault:function(){},stopPropagation:function(){}})},onFocusOut:function(e){var t;for(t of Zl.values())t.handlers.focusLeave&&t.template.rootItem.Store===e&&t.handlers.focusLeave({Trigger:0,Modifier:0,preventDefault:function(){},stopPropagation:function(){}})},transform:function(e,t,i){var r,a,n=i.RootNode;return"FaceplateContainer"===i.Store.props.Type&&(n=(i.Store.groupContainer?i.Store.container:i.Store).container.domNode),window.convertPointFromPageToNode&&n?(r=window.convertPointFromPageToNode(n,e.pageX,e.pageY,e.isCapture),a={".type":t,".currentTaget":e.currentTarget,X:r.x,Y:r.y,Modifiers:e.Modifiers,Trigger:e.Trigger,PanDeltaX:0,PanDeltaY:0,WheelDelta:e.deltaWheel},(e.deltaX||e.deltaY)&&(r=window.convertPointFromPageToNode(n,e.pageX-e.deltaX,e.pageY-e.deltaY,!0),a.PanDeltaX=a.X-r.x,a.PanDeltaY=a.Y-r.y)):(n=i.RootNode.getBoundingClientRect(),a={".type":t,".currentTaget":e.currentTarget,X:e.pageX-window.pageXOffset-n.left,Y:e.pageY-window.pageYOffset-n.top,Modifiers:e.Modifiers,Trigger:e.Trigger,PanDeltaX:e.deltaX,PanDeltaY:e.deltaY,WheelDelta:e.deltaWheel}),a}};function ru(e){var t=null;return window.DOMMatrix?t=new window.DOMMatrix:window.WebKitCSSMatrix?t=new window.WebKitCSSMatrix:window.MSCSSMatrix&&(t=new window.MSCSSMatrix),e&&t&&t.setMatrixValue(e),t}function au(e,t,i){this.x=e,this.y=t,this.z=i}function nu(e){for(var t=eu,i=e,r=window.pageXOffset||document.documentElement.scrollLeft,a=window.pageYOffset||document.documentElement.scrollTop;i&&i!==i.ownerDocument.documentElement;)var n=window.getComputedStyle(i,void 0).transform||"none",t=("none"===n?eu:ru(n)).multiply(t),i=i.parentNode;for(var o=e.clientWidth||e.parentNode&&e.parentNode.clientWidth||0,s=e.clientHeight||e.parentNode&&e.parentNode.clientHeight||0,l=4,u=1/0,h=1/0;0<=--l;){var d=new au(0===l||1===l?0:o,0===l||3===l?0:s,0).transformBy(t);d.x<u&&(u=d.x),d.y<h&&(h=d.y)}e=e.getBoundingClientRect();return tu=eu.translate(e.left-u+r,e.top-h+a,0).multiply(t)}tu=eu=null,au.prototype.transformBy=function(e){e=e.multiply(eu.translate(this.x,this.y,this.z));return new au(e.m41,e.m42,e.m43)},(eu=ru())&&(window.convertPointFromPageToNode=function(e,t,i,r){return r&&tu?new au(t,i,0).transformBy(tu.inverse()):new au(t,i,0).transformBy(nu(e).inverse())},window.convertPointFromNodeToPage=function(e,t,i){return new au(t,i,0).transformBy(nu(e))});var ou,su=function(e){function t(e,t,i,r){return F.illuminate(e,t,i,r)}function i(e,t){return F.darker(e,t)}function r(e,t){return F.lighter(e,t)}function a(e,t){return(e=gt.getSystemPartDefault(e))&&t?e[t]:e}var n=e;return{rtpuConverters:{IsString:function(e){return"string"==typeof e},IsNumber:function(e){return"number"==typeof e},IsNaN:function(e){return isNaN(e)},IsBoolean:function(e){return"boolean"==typeof e},ToNumeric:function(e){return"object"==typeof e?NaN:Number(e)},CountItems:function(e){return e&&e.cursor?e.cursor:0},FormatPattern:function(e,t,i){var r=null;return"string"!=typeof(i=null!==(r=void 0!==i?n.textbib.toIANATimeZone(i):r)?n.textbib.format(e,t,r):n.textbib.format(e,t))&&O.consolLog(O.enumTraceMode.Error,"Converter.toFormat() unable to format val: "+(i=""+e)+" OutputFormat: "+t+" value: "+e),i},GetDefaultFormat:function(e){return n.textbib.getDefaultFormat(e)},RGB:function(e){var t=F;return t.convertTo(t.enumConverter.RGB,e)},RGBA:function(e){var t=F;return t.convertTo(t.enumConverter.Color,e)},Alpha:function(e){return((4278190080&e)>>>24)/255},Illuminate:t,Darker:i,Lighter:r,ThresholdColorForValue:function(e,t,i){return F.toThresholdColorRaw(e,t,i)},Bounds:function(e,t,i){return F.bounds(e,t,i)},Min:function(e,t){return Math.min(e,t)},Max:function(e,t){return Math.max(e,t)},TextDecoration:function(e){e=e.Underline||e.StrikeOut?(e.Underline?"underline ":"")+(e.StrikeOut?"line-through ":""):"none";return e},TextHeight:function(e,t,i){return ae.getTextHeight(t,e,i)},TextWidth:function(e,t,i){return ae.getTextWidth(t,e,i)},TextEllipsis:function(e,t,i,r="right"){return F.textEllipsis(e,t,i,r)},GetTextByID:function(e){return n.textbib.getText(e)},GetStyleDependentDefaultValue:a,GetDefaultValue:a,IsMultiline:function(e){return!(!e||"string"!=typeof e)&&(e.includes("\n")||e.includes(""))},Trace:function(e){return O.consolLog(O.enumTraceMode.TestCurr,e),0},TextPosY:function(e,t,i){return F.getTextPosY(e,t,i)},MergeColors:function(e){return F.mergeColors(e)},TemplatePrefixURI:function(){return R.getTemplatePrefixUri()},Format2Type:function(e){return H.format2Type(e)},Hex2Dec:function(e){return H.baseConverter.hex2dec(e)},Bin2Dec:function(e){return H.baseConverter.bin2dec(e)},TextWrap:function(e,t,i,r){return F.textWrap(e,t,i,r)},GetHmiFieldDataTypeEnum:function(){return F.enumHmiFieldDataType},IsDesignMode:function(){return n.appMode===zl.EDIT},IsRuntime:function(){return n.appMode===zl.RUNTIME},LoadImage:function(e,t,i,r){(new te).loadImage(e,t,i,r)},ShowTooltip:function(e,t,i,r){n.tooltip.show(e,t,i,r)},HideTooltip:function(){n.tooltip.hide()},MapEventName:function(e){return f.mapEventName(e)},HRef:function(e,t){var i=F;return i.convertTo(i.enumConverter.HRef,e,t)}},darker:i,lighter:r,illuminate:t}},lu=function(e){function g(e){for(var t=e?e.length:0,i=null,r=0;r<t;r+=1)i=Math.max(null!==i?i:a.Slow,e[r].rate);return i}var a=e.flashing.getFlashingRates();return{registerForFlashing:function(e,t,i,r,a){var n=g(t.flashingNVEs||[]);if(i){t.flashingNVEs=t.flashingNVEs||[];for(var o,s=e,l=t,i=r,r=a,u=l.flashingNVEs?l.flashingNVEs.length:0,h=0;h<u&&(o=l.flashingNVEs[h]).nve!==s;h+=1);o&&l.flashingNVEs.splice(h,1),l.flashingNVEs.push(o={nve:s,item:l,rate:i,func:r})}else for(var d=e,c=t.flashingNVEs||[],p=c?c.length:0,m=0;m<p;m+=1)if(c[m].nve===d){c.splice(m,1);break}a=g(t.flashingNVEs),null!==n&&a!==n&&(null===a||a<n)&&(t.gfxWebLib.flashing.setRemoveItemSpecificFlashing(t,!1,n),n=null),null!==a&&a!==n&&(null===n||a<n)&&t.gfxWebLib.flashing.setRemoveItemSpecificFlashing(t,!0,a)},onFlashing:function(e,t,i){for(var r,a=e.flashingNVEs?e.flashingNVEs.length:0,n=0;n<a;n+=1)(r=e.flashingNVEs[n]).func(e,r.nve,t,i)}}};function uu(e,t,i){(i=i.Store).handler.onCommand?i.handler.onCommand(i,e,t):O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler.sendCommand item does not support onCommand(). item type: "+i.props.Type+" connand: "+e+" value: "+t)}function hu(e,t,i){var r=i.Store;switch(e){case"ProcessValueChanged":ou.connection.sendPropertyByName(r.rtoid,"ProcessValue",t,!0);break;case"SelectedIndexChanged":ou.connection.sendEventByName(r.rtoid,"OnSelectedIndexChanged",Math.max(0,t));break;case"ResourceEntryChanged":ou.connection.sendEventByName(r.rtoid,"OnResourceEntryChanged",Math.max(0,t));break;case"RequestResourceListEntries":ou.connection.sendEventByName(r.rtoid,"OnRequestResourceListEntries");break;default:O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler.sendEvent: Unknown event: "+e)}}var du,cu,pu,mu,gu,I,Tu,fu,yu,Du,Su,bu,Cu,vu,_u,Pu,Au,wu,Vu,xu,Eu,Iu,Ru,Bu,Lu={init:function(e,t){ou=e,t.registerSendCommand(uu),t.registerSendEvent(hu)},sendChangeProperty:function(e,t,i,r,a){t?ou.connection.sendPartPropertyByName(e.rtoid,t,i,r,a):ou.connection.sendPropertyByName(e.rtoid,i,r,a)}},Mu={getDefaultTemplate:function(e){return"style."+e.gfxWebLib.getStyle()+"."+e.props.Type.toLowerCase()+".default.svghmi"},removeTemplatePath:function(e){var t=e.lastIndexOf("/");return-1!==t?e.substring(t+1):e},changeTemplate:function(e){var t,i=e.gfxWebLib,r=e.domNode.parentNode,a=e.domNode.nextElementSibling;r&&e.domNode&&r.removeChild(e.domNode),t=e,E.onCleanUp(t,!0),t.templateInstance&&(t.templateInstance.remove(!0,!0,!1),t.templateInstance=null),e.gfxWebLib=i,e.container&&(e.domParent=r),t=e.handler.onInit(e,!0),r&&(a?r.insertBefore(t,a):r.appendChild(t))},loadSubTemplate:function(e){var t={ActualX:0,ActualY:0,ActualWidth:e.props.Width,ActualHeight:e.props.Height};return R.loadSubTemplate(e.node,e,e.props.Type,e.props.RenderingTemplate,e.cbOnChanged,e.cbOnTemplateLoaded,t)},updateSubTemplate:function(e,t){R.onChanged(e,t)}},Fu=(Tu=!1,fu=Array.isArray,yu=function(e,t){var i,r,a=br.getPropertyInfos(t);for(i in a){var n,o=a[i];void 0===(n=e[i])?o.IsPart?o.IsArray?e[i]=[]:void 0===(t=o.Type)?"Elements"!==i&&"Columns"!==i&&"Systems"!==i&&O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler.setAllPartProps: Missing part declaration for HmiPart: "+i):(e[i]={},yu(e[i],t)):e[i]=o.DefaultValue:o.IsPart&&!fu(n)&&(o.IsArray?e[i]=[]:(r=n,void 0===(t=o.Type||r.Type)?O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler.setAllPartProps: Missing Type in HmiPart: "+i):yu(r,t)))}for(i in e)if(n=e[i],fu(n)){var s=n.length;if(s)for(var l=0;l<s;l+=1)(r=n[l])&&(void 0===(t=Rr.getTypeNameFromId(r.Type))?"Elements"!==i&&"Columns"!==i&&"Systems"!==i&&O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler.setAllPartProps: Missing part declaration for HmiPart: "+i+"["+l+"]"):yu(r,t))}},Du={ListBox:1,ScrollBar:1,Slider:1,RadioButtonGroup:1,CheckBoxGroup:1,ToggleSwitch:1,IOField:1,TextBox:1,SymbolicIOField:1},Su=0,bu=1,Cu=2,vu=3,_u=4,Pu=5,Au=6,wu=7,Vu=8,xu=function(e,t){var i=!1;return i=e===v.HmiScreenObjectType.ControlBarTextBoxPart&&"Text"===t?!0:i},Eu=function(e){return!e.control||!e.control.handler.isReady||e.control.handler.isReady(e)},Iu=function(e){e.updateTemplateInstanceSuspended=!0},Ru=function(e){for(;delete e.updateTemplateInstanceAfterSuspended,qu(e),e.updateTemplateInstanceAfterSuspended;);delete e.updateTemplateInstanceSuspended},Bu={},"object"!=typeof webRTPU||"function"!=typeof webRTPU.Engine||(I=new webRTPU.Engine)||O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler createWebRTPU() webRTPU Engine could not be created!"),{HANDLE_NAME:"WebRTPU.Handler",DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.Advanced.WebRTPU.Handler",DISABLE_SETSELECTIONPROPS:!1,onInit:function(t,i,r){var a,e,n,o={HmiProps:t.props,ParamProps:{},SysProps:{Style:t.gfxWebLib.getStyle(!0)}};if(t.domNode)return Tu||(Yu(t.gfxWebLib),Tu=!0),S.checkProperties||yu(t.props,t.props.Type),Du[t.props.Type]&&(t.operable=!0),t.templateInstance=null,t.props.RenderingTemplate||(t.props.RenderingTemplate=Mu.getDefaultTemplate(t)),e=t.props.RenderingTemplate.substring(0,t.props.RenderingTemplate.lastIndexOf("/")+1),gt.setResourceCachePrefix(e),t.handler&&t.handler.initProcessValueAndOutputFormats&&t.handler.initProcessValueAndOutputFormats(t),a=Bu[t.props.Type]?Hu(Mu.getDefaultTemplate(t),Ou(t)):Hu(t.props.RenderingTemplate,Nu(t)),I.hasTemplate(a)?(e=I.applyTemplate(a,t.domNode,o,t))&&(t.templateInstance=e,t.domSvgNode=t.templateInstance.RootNode,i(t,r),Ku(t)):(n=function(e){if(e){if(!t.container||!t.container.isCleanedUp){if(!Bu[t.props.Type]){e=Hu(t.props.RenderingTemplate,Nu(t));if(a!==e)return void O.consolLog(O.enumTraceMode.Info,"WebRTPU.Handler.onInit() item: "+t.rtoid+" Template already changed from: "+a+" to: "+e)}e=I.applyTemplate(a,t.domNode,o,t);e&&(t.templateInstance=e,t.domSvgNode=t.templateInstance.RootNode,i(t,r),Ku(t))}}else Bu[t.props.Type]?O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler.onInit() item: "+t.rtoid+" Template not loaded: "+a):(Bu[t.props.Type]=!0,a=Hu(Mu.getDefaultTemplate(t),Ou(t)),I.loadTemplateFromUrl(a,a).then(n,function(){O.traceErr(Error("Could not load template: "+t.props.RenderingTemplate),"WebRTPU.Handler.onInit()",t),Bu[t.props.Type]=!1}))},I.loadTemplateFromUrl(a,a).then(n,function(){Bu[t.props.Type]=!0,a=Hu(Mu.getDefaultTemplate(t),Ou(t)),I.loadTemplateFromUrl(a,a).then(n,function(){O.traceErr(Error("Could not load template: "+t.props.RenderingTemplate),"WebRTPU.Handler.onInit()",t),Bu[t.props.Type]=!1})})),t.domNode.setAttribute("data-rtoid",t.rtoid),t.domNode.setAttribute("data-tif-id",void 0!==t.props.Name?t.props.Name:""),E.addTifLibExpandoProps(t,t.domNode),t.domNode;O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler.onInit() item is missing a domNode")},onCurrentLanguage:function(e,t){e.templateInstance?(e.control&&e.control.handler&&e.control.handler.onCurrentLanguage&&e.control.handler.onCurrentLanguage(e,t),e.templateInstance.update(0,!0)):Xu(Fu.onCurrentLanguage,e,0,!0)},onCurrentStyle:function(e){Mu.changeTemplate(e)},onChanged:function(e,t,i){var r="HmiProps";if(!e.container||!e.container.isCleanedUp){if(i){var a=M.getPartPathWithIndex(e,i);a&&(r="HmiProps."+a)}else if(!(void 0===t.RenderingTemplate||e.control&&e.control.handler.onCurrentStyle))return Zu(e.props,t),!0;e.templateInstance&&Eu(e)?(e.templateInstance.setHmiProps(t,r),(a=e).updateTemplateInstanceSuspended?a.updateTemplateInstanceAfterSuspended=!0:qu(a),!i&&e.handler.updateFrameAttributes&&e.handler.updateFrameAttributes(e,t)):Xu(Fu.onChanged,e,t,i)}},onCreatePart:function(e,t,i){var r={};return!(e.container&&e.container.isCleanedUp||(e.templateInstance&&Eu(e)?ku(e,t,0,r)&&(yu(i,i.Type),r.elements.push(i),Fu.onChanged(e,r.elements,r.elementsPath)):Xu(Fu.onCreatePart,e,t,i),0))},onDeletePart:function(e,t){var i={};if(e.container&&e.container.isCleanedUp)return!1;if(e.templateInstance&&Eu(e)){if(!ku(e,t,1,i))return!1;i.elements.splice(i.index,1),Fu.onChanged(e,i.elements,i.elementsPath)}else Xu(Fu.onDeletePart,e,t,void 0);return!0},onMovePart:function(e,t,i){var r,a={};if(e.container&&e.container.isCleanedUp)return!1;if(e.templateInstance&&Eu(e)){if(ku(e,t,1,a)){if(0<=i&&i<a.elements.length)return r=a.elements.splice(a.index,1),a.elements.splice(i,0,r[0]),Fu.onChanged(e,a.elements,a.elementsPath),!0;O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler.onMovePart() Error position out of range of the elements! pos: "+i+" max: "+(a.elements.length-1))}return!1}return Xu(Fu.onMovePart,e,t,i),!0},onFocus:function(e){e.templateInstance?(iu.onFocusIn(e),Fu.onChanged(e,{HasFocus:!0}),e.templateInstance.RootFocusManager.setFocus()):Xu(Fu.onFocus,e,void 0,void 0)},onFocusOut:function(e){e.templateInstance?(iu.onFocusOut(e),Fu.onChanged(e,{HasFocus:!1}),e.templateInstance.RootFocusManager&&e.templateInstance.RootFocusManager.removeFocus()):Xu(Fu.onFocusOut,e,void 0,void 0)},checkInnerNavigation:function(e,t,i,r){if(e.templateInstance&&e.templateInstance.RootFocusManager){e=e.templateInstance.RootFocusManager;if(e.onKeyDown(t,i,r))return!0;i=function(e,t,i){var r;if(1<t)return Su;switch(e){case mu.ESC:r=i===gu.SHIFT?Vu:Su;break;case mu.ENTER:r=i===gu.SHIFT?wu:Su;break;case mu.TAB:switch(i){case gu.NONE:r=Pu;break;case gu.SHIFT:r=Au;break;default:r=Su}break;case mu.ARROWLEFT:r=bu;break;case mu.ARROWRIGHT:r=Cu;break;case mu.ARROWUP:r=i===gu.NONE?vu:Su;break;case mu.ARROWDOWN:r=i===gu.NONE?_u:Su;break;default:r=Su}return r}(t,i,r);if(i!==Su)return null!==e.moveFocus(i);r=function(e){switch(e){case mu.SPACE:case mu.ENTER:return"accept";case mu.ESC:return"cancle";default:return null}}(t);if(r)return e.callAction(r)}return!1},onCleanUp:function(e){e.templateInstance&&(e.templateInstance.remove(!0,!0,!1),e.templateInstance=null)},getPropertyBinding:function(){return null},getBounds:function(e){var t=M;return{l:0,t:0,w:t.getPropRaw(e,"Width"),h:t.getPropRaw(e,"Height")}},onFlashing:function(e,t,i){cu.onFlashing(e,t,i)},checkControlIsReady:Eu,addDelayedUpdates:Xu,handleDelayedUpdates:Ku,webRtpuIsArray:fu,setAllPartProps:yu,registerWebRTPUContent:function(e,t,i){I?I.registerContent(e,t,i):O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler registerWebRTPUContent()  webRTPU Engine could not be created!")},setParamProps:function(e,t,i){e.templateInstance&&(e.templateInstance.setParamProps(t,i,!0),qu(e))},getTemplatePrefixUri:Nu,loadSubTemplate:function(t,i,e,r,a,n,o){var s,l,u=i.props,h={HmiProps:u,ParamProps:{},SysProps:{Style:i.gfxWebLib.getStyle(!0)}};if(o&&(h.Layout=o),Tu||(Yu(i.gfxWebLib),Tu=!0),s=Bu[u.Type]?Hu(Mu.removeTemplatePath(r),Ou(i)):Hu(r,Nu(i)),I.hasTemplate(s))(l=I.applyTemplate(s,t,h,i))&&((i.templateInstance=l).PropertyChangedCallback=a,Ku(i),n)&&n(i,l);else{const d=function(e){if(!e)return O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler.loadSubTemplate() Template not loaded: "+s),null;e=I.applyTemplate(s,t,h,i);e&&((i.templateInstance=e).PropertyChangedCallback=a),Ku(i),n&&n(i,e)};I.loadTemplateFromUrl(s,s,"",!0).then(d,function(){Bu[u.Type]=!0,s=Hu(Mu.removeTemplatePath(r),Ou(i)),I.loadTemplateFromUrl(s,s,"",!0).then(d,function(){O.traceErr(Error("Could not load template: "+s),"WebRTPU.Handler.loadSubTemplate()",i),Bu[u.Type]=!1})})}return l},removeSubTemplate:function(e){e.remove(!1,!0,!1)}});function Hu(e,t){if(e.startsWith("data:image/"))return e;let i=t+e;return(i=encodeURI(i).replace(/\+/g,"%2B")).endsWith(".svghmi")||(i+=".svghmi"),i}function Ou(e){return e.gfxWebLib.connection.getAppDir()+"templates/"+e.gfxWebLib.getStyle()+"/"}function Nu(e){var t,i=e.gfxWebLib;return void 0===pu&&(pu=e&&e.container&&i.appType!==jl.CLOUD),"CustomWidgetContainer"===e.props.Type||"SymbolContainer"===e.props.Type?t=i.connection.getCustomWidgetUrl():(t=i.connection.getTemplateUrl(),i.getHasActiveStyle()||(pu&&(t=t.substr(0,t.indexOf("resources/"))+"templates/"),t+=i.getStyle()+"/")),t}function ku(e,t,i,r){var a=M,n={};if(function(e,t,i){var r=t.lastIndexOf(".");if(-1!==r){var a=t.slice(0,r),r=Number(t.slice(r+1-t.length));if(!isNaN(r))return t=M.getPart(e,a),i.partId=r,i.arrayRef=t,i.elementsPath=a,!0}return!1}(e,t,n)){e=webRTPU.DataPreprocessor.clone(n.arrayRef),a=a.findIndexByID(e=e||[],n.partId);if(0===i&&-1===a||1===i&&-1!==a||2===i)return(r=r||{}).elementsPath=n.elementsPath,r.elements=e,r.index=a,1}return O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler.getPartElemPathIndexAndArray() Error element "+(0===i?"must":"does")+" not exist! path: "+t),0}function Wu(e,t){O.consolLog(e,t)}function Gu(e,t){I.registerNVEType(e,t)}function Uu(e,t){var i,r,a;if(void 0===t)return yu(h={},e),h;if(r=(i=e.split(".")).length,h=(a=t.Store).props,1===r)return yu(h,a.props.Type),h;for(var n=br.getPropertyInfos(a.props.Type),o=1;o<r;o+=1){var s=h,l=i[o].match(/[^(\.|\'|\"|\[|\])]+/g),u=n[l[0]],h=h[l[0]];if(l[1]&&(h=h[l[1]]),o===r-1||void 0===h){if(u&&u.IsPart){var d=void 0===h;if(d&&u.IsArray)return[];h=M.mergePropertiesFromInfo(h,u.Type),yu(h,u.Type),d&&(s[l[0]]=h);var c=h;for(o+=1;o<r;o+=1)c=c[(l=i[o].match(/[^(\.|\'|\"|\[|\])]+/g))[0]];return c}return-1!==l[0].indexOf("GraphicWidth")||-1!==l[0].indexOf("GraphicHeight")?0:void 0===u?(d=t.Parent&&t.Parent.SecondaryType?t.Parent.SecondaryType:"none",O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler resolveDefault() WebRTPU Wrong binding or missing property in Template: "+t._template.URI+" path: "+e+" parentSecondayType: "+d),null):u.DefaultValue}n=br.getPropertyInfos(u.Type)}}function zu(e,t,i,r){var e=e.slice("HmiProps.".length),i=i.Store,e=M.getPartPathWithId(i,e),a={};i.control&&(""===e.path?(a[e.name]=t,i.handler.updateFrameAttributes&&i.handler.updateFrameAttributes(i,a),"CustomWebControlContainer"===i.props.Type&&i.control.handler.onChanged(i,Object.defineProperty({},e.name,{value:t,enumerable:!0}))):(a=M.getPart(i,e.path),r=xu(a.Type,e.name))),"ToggleSwitch"===i.props.Type&&"IsAlternateState"===e.name&&i.fallback.resetStateByTimeout(),Lu.sendChangeProperty(i,e.path,e.name,t,r||!i.control),"IOField"===i.props.Type&&i.handler.onInputFinished(i,t)}function ju(e,t,i){var r,a=i.Store;switch(t){case"screen":r=(a.container&&a.container.domNode?a.container:a).domNode;break;case"item":r=a.domNode;break;default:r=t.style&&void 0!==t.style.cursor?t:a.domNode}a.gfxWebLib.cursor.suspendCursor(r,"auto"===e?0:1,!0,e)}function Yu(e){var t;if((i=e.getProjectVersion())&&i.split(".")[0]<17&&(S.checkProperties=!0),mu=e.keyboard.getKeycodes(),gu=e.keyboard.getFlags(),I){webRTPU.Engine.Options.checkProperties=S.checkProperties,fu=webRTPU.ObservableArray.isArray,Fu.webRtpuIsArray=webRTPU.ObservableArray.isArray,du=su(e),I.registerConverters(du.rtpuConverters),I.registerEnums(v),I.registerDefaultResolver(Uu),I.registerPropertyChangedCallback(zu),e.appMode!==zl.EDIT&&(I.registerSetCursor(ju),iu.canUse()&&I.registerEventCallbacks(iu.register,iu.unregister),I.registerEventTransformer(iu.transform));var i={"SysProps.IsDesignMode":e.appMode===zl.EDIT,"SysProps.IsTouchOnly":!1};I.registerConstants(i),Lu.init(e,I),I.registerXLinkTransformation((t=e,function(e){return e?(0===e.indexOf("content/",0)?t.connection.getAppDir():t.connection.getImageUrl())+e:""})),I.registerTracer(O.getTraceMode(),Wu),c.Templates&&I.registerFileLoader(c.Templates.fileLoader),cu=lu(e),$.NVES&&"function"==typeof $.NVES.initialize&&(i={propChanged:zu,loadSubTemplate:Fu.loadSubTemplate,removeSubTemplate:Fu.removeSubTemplate,registerForFlashing:cu.registerForFlashing,getSystemPartDefaults:gt.getSystemPartDefault},e={register:Gu,converter:du.rtpuConverters,debug:{mode:O.getTraceMode(),tracer:Wu},enums:v,helper:i},iu.canUse()&&(i.registerEvent=iu.register,i.unregisterEvent=iu.unregister),$.NVES.initialize(e));for(var r=[{type:"HmiWindow",context:Yr},{type:"HmiCustomWebControlContainer",context:Yr},{type:"HmiMediaControl",context:Yr},{type:"HmiSwacContainer",context:Yr},{type:"HmiWebControl",context:Yr},{type:"HmiObjectExplorerControl",context:Yr},{type:"HmiPopupScreenWindow",context:Pt},{type:"HmiFaceplateContainer",context:Pt},{type:"HmiScreenWindow",context:Pt}],a=r.length,n=0;n<a;n+=1){var o=r[n];I.registerContent(1,o.type,o.context)}}else O.consolLog(O.enumTraceMode.Error,"WebRTPU.Handler initWebRTPU() WebRTPU Engine not created!")}function Xu(e,t,i,r){t.delayedUpdates=t.delayedUpdates||[],t.delayedUpdates[t.delayedUpdates.length]={fct:e,param1:i,param2:r},O.consolLog(O.enumTraceMode.Info,"WebRTPU.Handler.addDelayedUpdates() fct: "+e.name+" item: "+t.rtoid+" Template not instanced yet! Add to delayed updates!")}function qu(e){e.container&&e.container.handler?e.container.handler.onScreenItemTemplateInstanceDirty(e):e.templateInstance.update()}function Ku(e){if(e.container&&e.container.isCleanedUp)return!1;if(e.delayedUpdates&&Eu(e)){var t=e.delayedUpdates.length;if(t){O.consolLog(O.enumTraceMode.TestCurr,"WebRTPU.Handler.handleDelayedUpdate() len: "+t),Iu(e);for(var i=0;i<t;i+=1){var r=e.delayedUpdates[i];O.consolLog(O.enumTraceMode.Info,"WebRTPU.Handler.handleDelayedUpdate() fct: "+r.fct.name+" item: "+e.rtoid),r.fct(e,r.param1,r.param2)}e.delayedUpdates=null,Ru(e)}}}function Zu(r,a){function n(e){return e&&(e.constructor===Object||"object"==typeof e)}Object.keys(a).forEach(function(e){var t=r[e],i=a[e];Array.isArray(t)&&Array.isArray(i)?r[e]=t.concat(i):n(t)&&n(i)?Zu(t,i):r[e]=i})}var Qu,Ju,R=Fu;function $u(e){return!!e&&e.constructor===Object}function eh(e,t){for(var i=e.length,r=0;r<i;r++)if(e[r].ElementID===t)return r;return-1}function th(e){var t={},i=Qu[e];if(i)for(var r=Object.keys(i),a=0;a<r.length;a++){var n=r[a];t[n]=i[n].DefaultValue}return t}function ih(e,t){var i=e.props[t];return i=void 0===i&&void 0!==Qu[e.props.Type]&&void 0!==Qu[e.props.Type][t]?(e=Qu[e.props.Type][t]).IsPart?e.IsArray?[]:th(e.Type):e.DefaultValue:i}Qu=br.getPropertyInfos(),Ju={props:{}};var B,rh,L,ah,nh,oh,sh,lh,uh,hh,dh,ch,ph,M={getProp:function(e,t,i,r){var a,n=F;return i=i||n.enumConverter.None,void 0===(a=ih(e,t))?void 0!==r?r:(O.consolLog(O.enumTraceMode.Error,"Properties.getProp(): Wrong property name / missing defaultValue: "+e.props.Type+" / "+t),a):i&&!$u(a)?n.convertTo(i,a,e):a},getPropRaw:ih,getPropDefault:function(e,t,i,r){var a,n=F;if(i=i||n.enumConverter.None,void 0===Qu[e]||void 0===Qu[e][t])return void 0!==r?r:(O.consolLog(O.enumTraceMode.Error,"Properties.getPropDefault(): Wrong property name / missing defaultValue: "+e+" / "+t),a);if((r=Qu[e][t]).IsPart){if(r.IsArray)return[];a=th(r.Type)}else a=n.convertTo(i,r.DefaultValue,Ju);return a},getPropPart:function(e,t,i,r,a){var n=F;return r=r||n.enumConverter.None,void 0===e[i]?this.getPropDefault(t,i,r,a):n.convertTo(r,e[i],Ju)},setProp:function(e,t,i){$u(i)?e.props[t]=D.extend(e.props[t],i):e.props[t]=i},setPropPart:function(e,t,i){$u(i)?e[t]=D.extend(e[t],i):e[t]=i},handleScreenModelPart:function(e,t,i){if(i){var r,i=i.split(".");if(0<i.length)return(r={})[i[0]]=t,r}return t},getScreenModelPartName:function(e,t,i){var r="";return r=i&&0<(i=i.split(".")).length?i[0]:r},getPart:function(e,t){var i=e.props,r=t.split(":");if(0<r.length)for(var a=0;a<r.length;a++){var n=r[a].split(".");if(void 0===(i=i[n[0]]))return null;if(R.webRtpuIsArray(i)){n=+n[1];if(n){n=eh(i,n);if(-1===n)return null;i=i[n]}}}return i},getPartPathWithIndex:function(e,t){var i="",r="",a=e.props,n=t.split(":");if(0<n.length)for(var o=0;o<n.length;o++){var s=n[o].split(".");i+=r+s[0],r=".",a&&(a=a[s[0]],R.webRtpuIsArray(a))&&(s=+s[1])&&(-1!==(s=eh(a,s))?(a=a[s],i+="["+s+"]"):i+="["+a.length+"]")}return i},getPartPathWithId:function(e,t){var i,r="",a="",n=e.props,o=t.match(/[^(\.|\'|\"|\[|\])]+/g);if(0<o.length){for(var s,l=o.length-1,u=0;u<l;u++)r+=a+o[u],a=":",n=n[o[u]],R.webRtpuIsArray(n)&&(s=n[o[u+=1]])&&(s=s.ElementID)&&(r+="."+s);i=o[u]}return{name:i,path:r}},findIndexByID:eh,mergePropertiesFromInfo:function(e,t){e=e||{};var i=Qu[t];if(i)for(var r=Object.keys(i),a=0;a<r.length;a++){var n=r[a];void 0!==e[n]||i[n].IsPart||(e[n]=i[n].DefaultValue)}return e}},mh={isVisible:function(e){var t,i,r,a=M;return void 0===e.container||!(t=a.getProp(e,"Layer",0,0))||!(void 0!==(t=(i=(r=e.container).layersInfo).getRTLayerMask()[t])&&!0!==t||i.isObjectDeclutteringActivated()&&(t=i.getObjectMinDeclutterSize(),i=i.getObjectMaxDeclutterSize(),a=a.getProp(r.container,"CurrentZoomFactor"),e=(r=E.getBounds(e)).w*a,r=r.h*a,e<t||i<e)&&(r<t||i<r))},onChanged:function(e,t,i){i=M.getPart(e,i);i&&(e.layersInfo.updateLayerElement(i,t),e.handler.updateVisibility(e))}},gh=(B=v,rh=J.chrome()?0:.5,nh=["",[3,1],[1,1],[3,1,1,1],[3,1,1,1,1,1]],oh=function(e,t,i){var r,a,n,o;for(e=ah(e),o=(r=nh[e]).length,a=[],n=0;n<o;n+=1)a[n]=r[n]*t,"butt"!==i&&(a[n]=r[n]*t,1&n?a[n]+=t:a[n]=Math.max(1,a[n]-t));return a.toString()},sh=(e,t,i)=>{return`0,${oh(e,t,i).split(",").reverse()},0`},lh=function(e,t,i){t=Vs.getLimit(t,i);if(null!==e){if(t.LowerLimitAvailable&&t.LowerLimitVisible&&e<t.LowerLimit)return t.BelowLowerLimitColor;if(t.UpperLimitAvailable&&t.UpperLimitVisible&&t.UpperLimit<e)return t.AboveUpperLimitColor}return null},uh=function(e,t){if(1===e.alpha)return e;if(0===e.alpha)return t;for(var i={space:t.space,values:t.values.slice(),alpha:e.alpha+t.alpha*(1-e.alpha)},r=0;r<3;r++){var a=e.values[r]*e.alpha,n=t.values[r]*t.alpha;i.values[r]=Math.round((a+n*(1-e.alpha))/i.alpha)}return i},hh=-1,{parseBool:function(e){return"number"==typeof e?0!==e:"string"==typeof e&&("1"===e||"0"!==e&&"true"===e.toLowerCase())},converterBlanks2Nbsps:_h,textEllipsis:function(e,t,i,r="right"){var a,n=ae,o=_h(e),s=o,l=o.length;if(void 0!==i){if(t<(a=n.getTextWidth(i,o))&&0<l){if((t-=n.getTextWidth(i,""))<=0)return"";if(l=Math.round(t/(a/l)),"left"===r){let e=1;for(var u=o.length;s=o.substring(u-l+e,u),a=n.getTextWidth(i,s),++e,t<a&&e<l;);s=""+s}else{if(s=o.substr(0,l-1),t<(a=n.getTextWidth(i,s)))for(;t<a&&0<l;)s=o.substr(0,l-1),a=n.getTextWidth(i,s),--l;else if(a<t){for(;a<t;)s=o.substr(0,l+=1),a=n.getTextWidth(i,s);s=o.substr(0,--l-1)}s+=""}}}else t<=l&&("left"===r?(e=o.length,s=""+o.substring(e-t+1,e)):(s=o.substr(0,t-1),s+=""));return s},textWrap:function(e,t,i,r=/\r|[ \u00A0]{1}|[^ \u00A0]+/g){for(var a,n,o,s,l=[],u=[],h="",d=0;null!=(n=r.exec(e));)l.push(n[0]);if(l[0])for(;l[0];)if(d+(a=ae.getTextWidth(i,l[0]))<=t||-1===t||ae.getTextWidth(i,h+l[0])<=t)h+=l.shift(),d+=a;else if(""===h){for(o=l[0].split(n="");o[0];)s=n+o[0],(a=ae.getTextWidth(i,s))<=t?n+=o.shift():(0===n.length&&(n+=o.shift()),u.push(_h(n)),n="",a=0);l.shift(),""!==n&&l.unshift(n)}else u.push(_h(h)),h="",d=0;return u.push(_h(h)),u},getTextPosY:function(e,t,i){var r;switch(e){case B.HmiVerticalAlignment.Top:r=i;break;case B.HmiVerticalAlignment.Center:r=(t+.65*i)/2;break;default:r=t-.2*i-2}return Math.floor(r)},getCenterOffset:ch=function(e){var t,i=M;return e.handler&&e.handler.getCenterOffset?t=e.handler.getCenterOffset(e):(t={x:i.getProp(e,"Width")/2,y:i.getProp(e,"Height")/2},"svg"===e.handler.DOM_TYPE&&(t.x=t.x+i.getProp(e,"Left"),t.y=t.y+i.getProp(e,"Top"))),t},getRefPoint:ph=function(e){var t=M,t=e.handler&&e.handler.getRefPoint?e.handler.getRefPoint(e):{x:t.getProp(e,"Left"),y:t.getProp(e,"Top")};return t},enumConverter:L={None:0,Color:1,FillCol:4,RGB:5,LineStyle:10,LineDashArray:11,BorderDashArray:12,Plus05:13,LineCap:15,LineJoin:16,Display:20,Opaque:21,Fill:23,TextAnchor:24,RCX:25,RCY:26,CX:27,CY:28,R:29,HRef:30,textHAlign:31,textVAlign:32,textOrientation:33,BarLimitColor:34,BarLimitColorRaw:36,AlternateLineDashArray:37,AlternateBorderDashArray:38,TransformOrigin:500,TransformRotate:501,Pixel:502,TransformOriginPlaced:503,TransformRotatePlaced:505,TransformScale:506,FormatAddUnit:1e3,Unused_01:1001,Format:1002},convertTo:function(e,t,i){switch(e){case L.None:return t;case L.Color:return Sh(t);case L.RGB:return Dh(t);case L.FillCol:return v=t,_=i,65536===(P=M.getProp(_,"BackFillPattern",gh.enumConverter.None,0))?"none":65536<P||null!==_.svgFillClipRect?void 0:Sh(v);case L.LineStyle:return ah(t);case L.LineDashArray:return P=t,_=i,C=(v=M).getProp(_,"CapType",gh.enumConverter.LineCap,"butt"),v=v.getProp(_,"LineWidth"),0===P?null:oh(P,v,C);case L.AlternateLineDashArray:return C=t,D=i,b=(S=M).getProp(D,"CapType",gh.enumConverter.LineCap,"butt"),S=S.getProp(D,"LineWidth"),0===C?null:sh(C,S,b);case L.BorderDashArray:return D=t,S=i,y=(b=M).getProp(S,"CapType",gh.enumConverter.LineCap,"butt"),b=b.getProp(S,"BorderWidth"),0===D?null:oh(D,b,y);case L.AlternateBorderDashArray:return y=t,g=i,f=(T=M).getProp(g,"CapType",gh.enumConverter.LineCap,"butt"),T=T.getProp(g,"BorderWidth"),0===y?null:sh(y,T,f);case L.Plus05:return Th(t);case L.LineCap:return yh(t,i);case L.LineJoin:switch(t){case B.HmiLineJoinType.Miter:return"miter";case B.HmiLineJoinType.Bevel:return"bevel";default:return"round"}return;case L.Display:return g=i,t&&mh.isVisible(g)?"inline":"none";case L.Opaque:return(T=t)<0?0:1<T?1:T;case L.Fill:return 65536===(f=t)?"none":65536<f?void 0:null;case L.TextAnchor:switch(t){case B.HmiHorizontalAlignment.Left:return"start";case B.HmiHorizontalAlignment.Center:return"middle";default:return"end"}return;case L.RCX:return m=i,0===(p=t)?null:M.getPropRaw(m,"Width")*p/200;case L.RCY:return m=i,0===(p=t)?null:M.getPropRaw(m,"Height")*p/200;case L.CX:return d=i,(c=M).getProp(d,"Left")+c.getProp(d,"Width")/2;case L.CY:return c=i,(d=M).getPropRaw(c,"Top")+d.getPropRaw(c,"Height")/2;case L.R:return h=i,0===(u=t)?0:(E.checkMustDrawInsideFrame(h.props.Type)&&(u-=Math.floor(M.getPropRaw(h,"BorderWidth")/2)),u);case L.HRef:return fh(t,i);case L.textHAlign:switch(t){case B.HmiHorizontalAlignment.Center:return"Centered";case B.HmiHorizontalAlignment.Right:return"Right";default:return"Left"}return;case L.textVAlign:switch(t){case B.HmiVerticalAlignment.Center:return"Centered";case B.HmiVerticalAlignment.Bottom:return"Bottom";default:return"Top"}return;case L.textOrientation:switch(t){case hh:return"rotate 90";case dh:return"rotate 270";default:return"rotate 0"}return;case L.BarLimitColorRaw:return bh(t,i);case L.BarLimitColor:return Sh(bh(t,i));case L.Format:return vh(t,i);case L.FormatAddUnit:return h=M,u=vh(u=t,s=i),l=h.getPropRaw(s,"MeasurementUnitType"),h=h.getPropRaw(s,"MeasurementUnit"),0===l||void 0===h||""===h?u:u+" "+h;case L.TransformOrigin:return s=i,n=(l=M).getProp(s,"RotationCenterX")/100,o=l.getProp(s,"RotationCenterY")/100,l.getProp(s,"Width")*n+"px "+l.getProp(s,"Height")*o+"px 0px ";case L.TransformRotate:n=i;return 0===(n=M.getProp(n,"RotationAngle"))?null:"rotate("+n+"deg)";case L.TransformOriginPlaced:o=i;return(o=Ah(o)).x+"px "+o.y+"px";case L.TransformRotatePlaced:return r=i,0===(a=M.getProp(r,"RotationAngle"))?null:(r=Ah(r),"rotate("+a.toString()+" "+r.x.toString()+" "+r.y.toString()+")");case L.TransformScale:return(a=t)?"scale("+(a&B.HmiFlipMode.Horizontal?"-1":"1")+",1)":null;case L.Pixel:return t+rh+"px"}var r,a,n,o,s,l,u,h,d,c,p,m,g,T,f,y,D,S,b,C,v,_,P;O.consolLog(O.enumTraceMode.Error,"convertTo(): wrong converter:"+e.toString()+" !")},convertFileTimeToJSTimeStamp:function(e){return O.consolLog(O.enumTraceMode.Error,"convertFileTimeToJSTimeStamp: FileTime is obsolete, please use DatePresice object to handle DateTime"),Array.isArray(e)?window.DatePrecise(e).getTime():e},convertJSTimeStampToFileTime:function(e){return O.consolLog(O.enumTraceMode.Error,"convertJSTimeStampToFileTime: FileTime is obsolete, DateTime is seconds since 1.1.1970 and nanoseconds offset [seconds, nanoseconds]"),e},toPlus05:Th,toLineStyle:ah=function(e){e%=256;return(e=Math.max(e,0))>=nh.length?0:e},toLineCap:yh,toFormat:vh,toCol:Sh,mkColorObj:Ph,toRGB:Dh,toThresholdColorRaw:function(e,t,i){var r,a,n=B.HmiThresholdMode,o=t?t.length:0,s=null;if("string"==typeof e&&(e=Number(e),isNaN(e)))return i;if(null!==e&&0<o){for(r=0;r<o;r+=1)if(void 0!==(a=t[r])){if(a.ThresholdMode===n.Maximum||a.ThresholdMode===n.Upper)break;if(null!==(s=Ch(e,a)))break}if(null===s)for(r=o-1;0<=r;--r)if(void 0!==(a=t[r])){if(a.ThresholdMode===n.Minimum||a.ThresholdMode===n.Lower)break;if(null!==(s=Ch(e,a)))break}}return null===s?i:s},toBarLimitColorRaw:bh,toHRef:fh,enumHmiFieldDataType:{None:0,String:dh=1,Decimal:2,Integer:3,Binary:4,Hex:5,Exponential:6,Float:7,Date:8,Time:9,DateTime:10,TimeSpan:11},hsvToRgb:function(e,t,i){var t=t/255,r=i/255,i=e/255*360,e=Math.floor(i/60%6),i=i/60-e,a=r*(1-t),n=r*(1-i*t),o=r*(1-(1-i)*t),s=[];switch(e){case 0:s=[r,o,a];break;case 1:s=[n,r,a];break;case 2:s=[a,r,o];break;case 3:s=[a,n,r];break;case 4:s=[o,a,r];break;case 5:s=[r,a,n]}return[Math.min(255,Math.round(255*Math.max(0,s[0]))),Math.min(255,Math.round(255*Math.max(0,s[1]))),Math.min(255,Math.round(255*Math.max(0,s[2])))]},rgbToHsv:function(e,t,i){var r,e=e/255,t=t/255,i=i/255,a=Math.min(Math.min(e,t),i),n=Math.max(Math.max(e,t),i),a=n-a,o=n,n=0===n||0==a?r=0:(r=a/n,e===n?(t-i)/a:t===n?2+(i-e)/a:4+(e-t)/a);return(n*=60)<0&&(n+=360),[Math.floor(n/360*255),Math.floor(255*r),Math.floor(255*o)]},colorToRgb:function(e){return[Math.floor(e%16777216/65536),Math.floor(e%65536/256),Math.floor(e%256)]},mergeColors:function(e){for(var t,i,r=e.length,a=[],n=0;n<r;n+=1)t=Ph(e[n]),a.push(t);return i=function(e){for(var t=e[0],i=1,r=e.length;i<r;i++)t=uh(t,e[i]);return t}(a),256*(256*(256*Math.round(255*i.alpha)+i.values[0])+i.values[1])+i.values[2]},bounds:wh,illuminate:Vh,darker:function(e,t){return Vh(e,t)},lighter:function(e,t){return Vh(e,-1*t)},numberOfFirstNoneColorInEnumConverter:L.LineStyle});function Th(e){return 0===e?0:e<2?e+.5:e}function fh(e,t){return""===e?null:(0===e.indexOf("content/images/",0)?t.gfxWebLib.connection.getAppDir():t.gfxWebLib.connection.getImageUrl())+e}function yh(e,t){var i=M;return i.getProp(t,"EndType",0,0)||i.getProp(t,"StartType",0,0)||e>=B.HmiCapType.Flat?"butt":e>=B.HmiCapType.Square?"square":"round"}function Dh(e){return"rgb("+((16711680&(e>>>=0))>>>16)+","+((65280&e)>>>8)+","+(255&e)+")"}function Sh(e){return"rgba("+((16711680&(e>>>=0))>>>16)+","+((65280&e)>>>8)+","+(255&e)+","+((4278190080&e)>>>24)/255+")"}function bh(e,t){var i,r=M;return null!==(e=function(e,t,i){for(var r,a=0;a<i.length;a+=1)if(null!==(r=lh(e,t,i[a])))return r;return null}(e,t,["DangerLimits","WarningLimits","UserDefinedLimits1","UserDefinedLimits2","UserDefinedLimits3"],Vs.getStraightScale))?e:(e=r.getPropRaw(t,"ShowNormalRange"),i=r.getPropRaw(t,"BackColor"),r.getProp(t,e?"NormalRangeColor":"BarColor",gh.enumConverter.None,i))}function Ch(e,t){var i=B.HmiThresholdMode;if(t.ThresholdMode&&"number"==typeof e){var r=window.Big(e);switch(t.ThresholdMode){case i.Maximum:case i.Upper:if(r.gt(t.BeginValue))return t.Color;break;case i.Normal:if(r.gt(t.BeginValue)&&r.lt(t.EndValue))return t.Color;break;case i.Minimum:case i.Lower:if(r.lt(t.EndValue))return t.Color}}return null}function vh(e,t){var i=M.getProp(t,"OutputFormat"),r=t.gfxWebLib.textbib.format(e,i);return"string"!=typeof r&&O.consolLog(O.enumTraceMode.Error,"Converter.toFormat() unable to format val: "+(r=""+e)+" OutputFormat: "+i+" item: "+t.rtoid),r}function _h(e){return void 0!==e&&"string"!=typeof e&&(e+=""),e?e.replace(/\s/g,""):""}function Ph(e){return{space:"rgb",values:[(16711680&e)>>>16,(65280&e)>>>8,255&e],alpha:((4278190080&e)>>>24)/255}}function Ah(e){var t,i,r=M,a={},n=r.getProp(e,"RotationCenterX"),o=r.getProp(e,"RotationCenterY");switch(r.getProp(e,"RotationCenterPlacement")){case B.HmiRotationCenterPlacement.NormedFromCenter:i=E.getBounds(e,!0),t=ch(e),a.x=t.x+i.w/2*n,a.y=t.y+i.h/2*o;break;case B.HmiRotationCenterPlacement.AbsoluteToContainer:a.x=n,a.y=o,"html"===e.handler.DOM_TYPE&&(i=ph(e),a.x-=i.x,a.y-=i.y);break;default:t=ch(e),a.x=t.x+n,a.y=t.y+o}return a}function wh(e,t,i){var r=Math.min(t,i),t=Math.max(t,i);return e<r?e=r:t<e&&(e=t),e}function Vh(e,t,i,r){var a,n=e,o=gh,t=wh(t,-1,1),r=r||0,i=o.colorToRgb(i||16777215),s=o.rgbToHsv(i[0],i[1],i[2]);return i=o.colorToRgb(r),(r=o.rgbToHsv(i[0],i[1],i[2]))[2]!==s[2]&&(i=o.colorToRgb(e),r=(a=o.rgbToHsv(i[0],i[1],i[2]))[2]+(r[2]>s[2]?t:-t)*a[2],r=wh(r,0,255),n=65536*(i=o.hsvToRgb(a[0],a[1],r))[0]|256*i[1]|i[2],n+=16777216*(e>>>24)),n}var F=gh;xh=Object.freeze({0:{time:"(GMT-12:00) International Date Line West",tz:"Etc/GMT+12",name:"Dateline Standard Time"},1:{time:"(GMT-11:00) Midway Island, Samoa",tz:"Pacific/Apia",name:"Samoa Standard Time"},2:{time:"(GMT-10:00) Hawaii",tz:"Pacific/Honolulu",name:"Hawaiian Standard Time"},3:{time:"(GMT-09:00) Alaska",tz:"America/Anchorage",name:"Alaskan Standard Time"},4:{time:"(GMT-08:00) Pacific Time (US and Canada); Tijuana",tz:"America/Tijuana",name:"Pacific Standard Time"},10:{time:"(GMT-07:00) Mountain Time (US and Canada)",tz:"America/Denver",name:"Mountain Standard Time"},13:{time:"(GMT-07:00) Chihuahua, La Paz, Mazatlan",tz:"America/Chihuahua",name:"Mexico Standard Time 2"},15:{time:"(GMT-07:00) Arizona",tz:"America/Phoenix",name:"U.S. Mountain Standard Time"},20:{time:"(GMT-06:00) Central Time (US and Canada)",tz:"America/Chicago",name:"Central Standard Time"},25:{time:"(GMT-06:00) Saskatchewan",tz:"America/Regina",name:"Canada Central Standard Time"},30:{time:"(GMT-06:00) Guadalajara, Mexico City, Monterrey",tz:"America/Mexico_City",name:"Mexico Standard Time"},33:{time:"(GMT-06:00) Central America",tz:"America/Guatemala",name:"Central America Standard Time"},35:{time:"(GMT-05:00) Eastern Time (US and Canada)",tz:"America/New_York",name:"Eastern Standard Time"},40:{time:"(GMT-05:00) Indiana (East)",tz:"America/Indianapolis",name:"U.S. Eastern Standard Time"},45:{time:"(GMT-05:00) Bogota, Lima, Quito",tz:"America/Bogota",name:"S.A. Pacific Standard Time"},50:{time:"(GMT-04:00) Atlantic Time (Canada)",tz:"America/Halifax",name:"Atlantic Standard Time"},55:{time:"(GMT-04:00) Caracas, La Paz",tz:"America/La_Paz",name:"S.A. Western Standard Time"},56:{time:"(GMT-04:00) Santiago",tz:"America/Santiago",name:"Pacific S.A. Standard Time"},60:{time:"(GMT-03:30) Newfoundland and Labrador",tz:"America/St_Johns",name:"Newfoundland and Labrador Standard Time"},65:{time:"(GMT-03:00) Brasilia",tz:"America/Sao_Paulo",name:"E. South America Standard Time"},70:{time:"(GMT-03:00) Buenos Aires, Georgetown",tz:"America/Cayenne",name:"S.A. Eastern Standard Time"},73:{time:"(GMT-03:00) Greenland",tz:"America/Godthab",name:"Greenland Standard Time"},75:{time:"(GMT-02:00) Mid-Atlantic",tz:"America/Noronha",name:"Mid-Atlantic Standard Time"},80:{time:"(GMT-01:00) Azores",tz:"Atlantic/Azores",name:"Azores Standard Time"},83:{time:"(GMT-01:00) Cape Verde Islands",tz:"Atlantic/Cape_Verde",name:"Cape Verde Standard Time"},84:{time:"(GMT) Greenwich",tz:"Etc/GMT",name:"GMT"},85:{time:"(GMT) Greenwich Mean Time: Dublin, Edinburgh, Lisbon, London",tz:"Europe/London",name:"GMT Standard Time"},90:{time:"(GMT) Casablanca, Monrovia",tz:"Africa/Monrovia",name:"Greenwich Standard Time"},95:{time:"(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",tz:"Europe/Belgrade",name:"Central Europe Standard Time"},100:{time:"(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb",tz:"Europe/Warsaw",name:"Central European Standard Time"},105:{time:"(GMT+01:00) Brussels, Copenhagen, Madrid, Paris",tz:"Europe/Paris",name:"Romance Standard Time"},110:{time:"(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",tz:"Europe/Berlin",name:"W. Europe Standard Time"},113:{time:"(GMT+01:00) West Central Africa",tz:"Africa/Bangui",name:"W. Central Africa Standard Time"},115:{time:"(GMT+02:00) Bucharest",tz:"Europe/Bucharest",name:"E. Europe Standard Time"},120:{time:"(GMT+02:00) Cairo",tz:"Africa/Cairo",name:"Egypt Standard Time"},125:{time:"(GMT+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius",tz:"Europe/Kiev",name:"FLE Standard Time"},130:{time:"(GMT+02:00) Athens, Istanbul, Minsk",tz:"Europe/Bucharest",name:"GTB Standard Time"},135:{time:"(GMT+02:00) Jerusalem",tz:"Asia/Jerusalem",name:"Israel Standard Time"},140:{time:"(GMT+02:00) Harare, Pretoria",tz:"Africa/Johannesburg",name:"South Africa Standard Time"},145:{time:"(GMT+03:00) Moscow, St. Petersburg, Volgograd",tz:"Europe/Moscow",name:"Russian Standard Time"},150:{time:"(GMT+03:00) Kuwait, Riyadh",tz:"Asia/Kuwait",name:"Arab Standard Time"},155:{time:"(GMT+03:00) Nairobi",tz:"Africa/Nairobi",name:"E. Africa Standard Time"},158:{time:"(GMT+03:00) Baghdad",tz:"Asia/Baghdad",name:"Arabic Standard Time"},160:{time:"(GMT+03:30) Tehran",tz:"Asia/Tehran",name:"Iran Standard Time"},165:{time:"(GMT+04:00) Abu Dhabi, Muscat",tz:"Asia/Dubai",name:"Arabian Standard Time"},170:{time:"(GMT+04:00) Baku, Tbilisi, Yerevan",tz:"Asia/Yerevan",name:"Caucasus Standard Time"},175:{time:"(GMT+04:30) Kabul",tz:"Asia/Kabul",name:"Transitional Islamic State of Afghanistan Standard Time"},180:{time:"(GMT+05:00) Ekaterinburg",tz:"Asia/Yekaterinburg",name:"Ekaterinburg Standard Time"},185:{time:"(GMT+05:00) Islamabad, Karachi, Tashkent",tz:"Asia/Tashkent",name:"West Asia Standard Time"},190:{time:"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi",tz:"Asia/Calcutta",name:"India Standard Time"},193:{time:"(GMT+05:45) Kathmandu",tz:"Asia/Katmandu",name:"Nepal Standard Time"},195:{time:"(GMT+06:00) Astana, Dhaka",tz:"Asia/Almaty",name:"Central Asia Standard Time"},200:{time:"(GMT+06:00) Sri Jayawardenepura",tz:"Asia/Colombo",name:"Sri Lanka Standard Time"},201:{time:"(GMT+06:00) Almaty, Novosibirsk",tz:"Asia/Novosibirsk",name:"N. Central Asia Standard Time"},203:{time:"(GMT+06:30) Yangon, Rangoon",tz:"Asia/Rangoon",name:"Myanmar Standard Time"},205:{time:"(GMT+07:00) Bangkok, Hanoi, Jakarta",tz:"Asia/Bangkok",name:"S.E. Asia Standard Time"},207:{time:"(GMT+07:00) Krasnoyarsk",tz:"Asia/Krasnoyarsk",name:"North Asia Standard Time"},210:{time:"(GMT+08:00) Beijing, Chongqing, Hong Kong SAR, Urumqi",tz:"Asia/Shanghai",name:"China Standard Time"},215:{time:"(GMT+08:00) Kuala Lumpur, Singapore",tz:"Asia/Singapore",name:"Singapore Standard Time"},220:{time:"(GMT+08:00) Taipei",tz:"Asia/Taipei",name:"Taipei Standard Time"},225:{time:"(GMT+08:00) Perth",tz:"Australia/Perth",name:"W. Australia Standard Time"},227:{time:"(GMT+08:00) Irkutsk, Ulaanbaatar",tz:"Asia/Irkutsk",name:"North Asia East Standard Time"},230:{time:"(GMT+09:00) Seoul",tz:"Asia/Seoul",name:"Korea Standard Time"},235:{time:"(GMT+09:00) Osaka, Sapporo, Tokyo",tz:"Asia/Tokyo",name:"Tokyo Standard Time"},240:{time:"(GMT+09:00) Yakutsk",tz:"Asia/Yakutsk",name:"Yakutsk Standard Time"},245:{time:"(GMT+09:30) Darwin",tz:"Australia/Darwin",name:"A.U.S. Central Standard Time"},250:{time:"(GMT+09:30) Adelaide",tz:"Australia/Adelaide",name:"Cen. Australia Standard Time"},255:{time:"(GMT+10:00) Canberra, Melbourne, Sydney",tz:"Australia/Sydney",name:"A.U.S. Eastern Standard Time"},260:{time:"(GMT+10:00) Brisbane",tz:"Australia/Brisbane",name:"E. Australia Standard Time"},265:{time:"(GMT+10:00) Hobart",tz:"Australia/Hobart",name:"Tasmania Standard Time"},270:{time:"(GMT+10:00) Vladivostok",tz:"Asia/Vladivostok",name:"Vladivostok Standard Time"},275:{time:"(GMT+10:00) Guam, Port Moresby",tz:"Pacific/Port_Moresby",name:"West Pacific Standard Time"},280:{time:"(GMT+11:00) Magadan, Solomon Islands, New Caledonia",tz:"Pacific/Guadalcanal",name:"Central Pacific Standard Time"},285:{time:"(GMT+12:00) Fiji Islands, Kamchatka, Marshall Islands",tz:"Pacific/Fiji",name:"Fiji Islands Standard Time"},290:{time:"(GMT+12:00) Auckland, Wellington",tz:"Pacific/Auckland",name:"New Zealand Standard Time"},300:{time:"(GMT+13:00) Nuku alofa",tz:"Pacific/Tongatapu",name:"Tonga Standard Time"}}),Eh=Object.freeze({version:"2019b",zoneData:{Africa:{Bangui:{abbrs:["LMT","WAT"],untils:[-1588464816e3,null],offsets:[-13.6,-60],isdsts:[0,0]},Cairo:{abbrs:["EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET"],untils:[-929844e6,-9231084e5,-9061704e5,-8928684e5,-875844e6,-85779e7,-844308e6,-825822e6,-8126856e5,-7941996e5,-7798536e5,-7626636e5,-3990888e5,-3866508e5,-3683304e5,-3551148e5,-3367908e5,-3236544e5,-3051684e5,-292032e6,-2736324e5,-260496e6,-2420964e5,-22896e7,-2105604e5,-197424e6,-178938e6,-1658016e5,-147402e6,-1342656e5,-115866e6,-1026432e5,-8433e7,-711072e5,-527076e5,-394848e5,-211716e5,-79488e5,103644e5,235872e5,419004e5,551232e5,735228e5,867456e5,1050588e5,1182816e5,1365948e5,1498176e5,1681308e5,1813536e5,1997532e5,212976e6,2312892e5,244512e6,2628252e5,276048e6,2943612e5,307584e6,3259836e5,3392064e5,3575196e5,3707424e5,3963996e5,4022784e5,4268124e5,4338144e5,452214e6,4654368e5,48375e7,4969728e5,515286e6,5285088e5,546822e6,5600448e5,5784444e5,5916672e5,6104124e5,6232032e5,6415164e5,6547392e5,6730524e5,6862752e5,7046748e5,7178976e5,7362108e5,7494336e5,7677468e5,7809696e5,79902e7,812322e6,8304696e5,8437716e5,8619192e5,8752212e5,8933688e5,9066708e5,9254232e5,9387252e5,9568728e5,9701748e5,9883224e5,10016244e5,1019772e6,1033074e6,10512216e5,10645236e5,1083276e6,1096578e6,11147256e5,11280276e5,11461752e5,11588724e5,11776248e5,11891124e5,12090744e5,12199572e5,1240524e6,1250802e6,12725784e5,1281474e6,12840696e5,12858804e5,14001912e5,14038164e5,1406844e6,14116788e5,null],offsets:[-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Johannesburg:{abbrs:["SAST","SAST","SAST","SAST","SAST","SAST"],untils:[-21092886e5,-860976e6,-8452548e5,-8295264e5,-8138052e5,null],offsets:[-90,-120,-180,-120,-180,-120],isdsts:[0,0,1,0,1,0]},Monrovia:{abbrs:["MMT","MMT","GMT"],untils:[-1604359012e3,6359307e4,null],offsets:[43.1333,44.5,0],isdsts:[0,0,0]},Nairobi:{abbrs:["LMT","EAT","+0230","+0245","EAT"],untils:[-1309746436e3,-12623148e5,-9467802e5,-3156291e5,null],offsets:[-147.2667,-180,-150,-165,-180],isdsts:[0,0,0,0,0]}},America:{Anchorage:{abbrs:["AST","AWT","APT","AST","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","YST","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST"],untils:[-8802e8,-7693956e5,-765378e6,-868824e5,-214704e5,-57492e5,99792e5,257004e5,414288e5,577548e5,734832e5,892044e5,1049328e5,120654e6,1267056e5,1521036e5,1623888e5,1835532e5,1992816e5,2156076e5,2307312e5,2470572e5,2627856e5,2785068e5,2942352e5,3099564e5,3256848e5,341406e6,3571344e5,3728556e5,388584e6,40491e7,4200336e5,4363596e5,4390308e5,4520844e5,4678056e5,483534e6,4992552e5,5149836e5,5307048e5,5446188e5,5621544e5,5760684e5,5942088e5,607518e6,6256584e5,6389676e5,657108e6,671022e6,6885576e5,7024716e5,7200072e5,7339212e5,7520616e5,7653708e5,7835112e5,7968204e5,8149608e5,8288748e5,8464104e5,8603244e5,87786e7,891774e6,9093096e5,9232236e5,941364e6,9546732e5,9728136e5,9861228e5,10042632e5,10181772e5,10357128e5,10496268e5,10671624e5,10810764e5,10992168e5,1112526e6,11306664e5,11439756e5,1162116e6,11736108e5,11941704e5,12050604e5,122562e7,123651e7,12570696e5,12685644e5,1289124e6,1300014e6,13205736e5,13314636e5,13520232e5,13629132e5,13834728e5,13943628e5,14149224e5,14258124e5,1446372e6,14578668e5,14784264e5,14893164e5,1509876e6,1520766e6,15413256e5,15522156e5,15727752e5,15836652e5,16042248e5,16157196e5,16362792e5,16471692e5,16677288e5,16786188e5,16991784e5,17100684e5,1730628e6,1741518e6,17620776e5,17729676e5,17935272e5,1805022e6,18255816e5,18364716e5,18570312e5,18679212e5,18884808e5,18993708e5,19199304e5,19308204e5,195138e7,19628748e5,19834344e5,19943244e5,2014884e6,2025774e6,20463336e5,20572236e5,20777832e5,20886732e5,21092328e5,21201228e5,21406824e5,null],offsets:[600,540,540,600,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,540,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540],isdsts:[0,1,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Bogota:{abbrs:["BMT","-05","-04","-05"],untils:[-1739041424e3,7048692e5,733896e6,null],offsets:[296.2667,300,240,300],isdsts:[0,0,1,0]},Cayenne:{abbrs:["LMT","-04","-03"],untils:[-184626904e4,-710928e5,null],offsets:[209.3333,240,180],isdsts:[0,0,0]},Chicago:{abbrs:["CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","EST","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CWT","CPT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST"],untils:[-16332768e5,-16151364e5,-16018272e5,-15836868e5,-15637248e5,-15516324e5,-1538928e6,-15201828e5,-15044544e5,-14917572e5,-14730048e5,-14597028e5,-14415552e5,-14282532e5,-14101056e5,-13968036e5,-1378656e6,-1365354e6,-13472064e5,-13339044e5,-1315152e6,-130185e7,-12837024e5,-12704004e5,-12522528e5,-12389508e5,-12208032e5,-12075012e5,-11893536e5,-11760516e5,-11572992e5,-1144602e6,-11258496e5,-11125476e5,-10944e8,-1081098e6,-10677888e5,-10454148e5,-10315008e5,-10181988e5,-10000512e5,-9867492e5,-9679968e5,-9552996e5,-9365472e5,-9232452e5,-9050976e5,-8917956e5,-8802144e5,-7693956e5,-7653924e5,-7472448e5,-7339428e5,-7157952e5,-7024932e5,-6843456e5,-6710436e5,-652896e6,-639594e6,-6208416e5,-6081444e5,-589392e6,-57609e7,-5579424e5,-5446404e5,-5264928e5,-5131908e5,-4950432e5,-4817412e5,-4635936e5,-4472676e5,-4315392e5,-415818e6,-4000896e5,-3843684e5,-36864e7,-3529188e5,-3371904e5,-3214692e5,-3057408e5,-2894148e5,-2736864e5,-2579652e5,-2422368e5,-2265156e5,-2107872e5,-195066e6,-1793376e5,-1636164e5,-147888e6,-131562e6,-1164384e5,-1001124e5,-84384e6,-686628e5,-529344e5,-372132e5,-214848e5,-57636e5,99648e5,25686e6,414144e5,577404e5,734688e5,8919e7,1049184e5,1206396e5,1266912e5,1520892e5,1623744e5,1835388e5,1992672e5,2155932e5,2307168e5,2470428e5,2627712e5,2784924e5,2942208e5,309942e6,3256704e5,3413916e5,35712e7,3728412e5,3885696e5,4048956e5,4200192e5,4363452e5,4520736e5,4677948e5,4835232e5,4992444e5,5149728e5,530694e6,544608e6,5621436e5,5760576e5,594198e6,6075072e5,6256476e5,6389568e5,6570972e5,6710112e5,6885468e5,7024608e5,7199964e5,7339104e5,7520508e5,76536e7,7835004e5,7968096e5,81495e7,828864e6,8463996e5,8603136e5,8778492e5,8917632e5,9092988e5,9232128e5,9413532e5,9546624e5,9728028e5,986112e6,10042524e5,10181664e5,1035702e6,1049616e6,10671516e5,10810656e5,1099206e6,11125152e5,11306556e5,11439648e5,11621052e5,11736e8,11941596e5,12050496e5,12256092e5,12364992e5,12570588e5,12685536e5,12891132e5,13000032e5,13205628e5,13314528e5,13520124e5,13629024e5,1383462e6,1394352e6,14149116e5,14258016e5,14463612e5,1457856e6,14784156e5,14893056e5,15098652e5,15207552e5,15413148e5,15522048e5,15727644e5,15836544e5,1604214e6,16157088e5,16362684e5,16471584e5,1667718e6,1678608e6,16991676e5,17100576e5,17306172e5,17415072e5,17620668e5,17729568e5,17935164e5,18050112e5,18255708e5,18364608e5,18570204e5,18679104e5,188847e7,189936e7,19199196e5,19308096e5,19513692e5,1962864e6,19834236e5,19943136e5,20148732e5,20257632e5,20463228e5,20572128e5,20777724e5,20886624e5,2109222e6,2120112e6,21406716e5,null],offsets:[360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Chihuahua:{abbrs:["LMT","MST","CST","MST","CST","MST","CST","CDT","CST","CDT","CST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST"],untils:[-15147396e5,-13430664e5,-12348072e5,-1220292e6,-12071592e5,-11913444e5,828864e6,8463996e5,8603136e5,8778492e5,8917668e5,9093024e5,9232164e5,9413568e5,954666e6,9728064e5,9891396e5,10018368e5,101817e7,10357056e5,10496196e5,10671552e5,10810692e5,10992096e5,11125188e5,11306592e5,11439684e5,11621088e5,1175418e6,11935584e5,12074724e5,1225008e6,1238922e6,12564576e5,12703716e5,1288512e6,13018212e5,13199616e5,13332708e5,13514112e5,13653252e5,13828608e5,13967748e5,14143104e5,14282244e5,144576e7,1459674e6,14778144e5,14911236e5,1509264e6,15225732e5,15407136e5,15546276e5,15721632e5,15860772e5,16036128e5,16175268e5,16356672e5,16489764e5,16671168e5,1680426e6,16985664e5,17124804e5,1730016e6,174393e7,17614656e5,17753796e5,17929152e5,18068292e5,18249696e5,18382788e5,18564192e5,18697284e5,18878688e5,19017828e5,19193184e5,19332324e5,1950768e6,1964682e6,19828224e5,19961316e5,2014272e6,20275812e5,20457216e5,20590308e5,20771712e5,20910852e5,21086208e5,21225348e5,21400704e5,null],offsets:[424.3333,420,360,420,360,420,360,300,360,300,360,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420],isdsts:[0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Denver:{abbrs:["MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MWT","MPT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST"],untils:[-16332732e5,-16151328e5,-16018236e5,-15836832e5,-1570374e6,-15516288e5,-15389244e5,-15340896e5,-8802108e5,-7693956e5,-7653888e5,-1478844e5,-1315584e5,-1164348e5,-1001088e5,-843804e5,-686592e5,-529308e5,-372096e5,-214812e5,-576e7,99684e5,256896e5,41418e6,57744e6,734724e5,891936e5,104922e6,1206432e5,1266948e5,1520928e5,162378e6,1835424e5,1992708e5,2155968e5,2307204e5,2470464e5,2627748e5,278496e6,2942244e5,3099456e5,325674e6,3413952e5,3571236e5,3728448e5,3885732e5,4048992e5,4200228e5,4363488e5,4520772e5,4677984e5,4835268e5,499248e6,5149764e5,5306976e5,5446116e5,5621472e5,5760612e5,5942016e5,6075108e5,6256512e5,6389604e5,6571008e5,6710148e5,6885504e5,7024644e5,72e10,733914e6,7520544e5,7653636e5,783504e6,7968132e5,8149536e5,8288676e5,8464032e5,8603172e5,8778528e5,8917668e5,9093024e5,9232164e5,9413568e5,954666e6,9728064e5,9861156e5,1004256e6,101817e7,10357056e5,10496196e5,10671552e5,10810692e5,10992096e5,11125188e5,11306592e5,11439684e5,11621088e5,11736036e5,11941632e5,12050532e5,12256128e5,12365028e5,12570624e5,12685572e5,12891168e5,13000068e5,13205664e5,13314564e5,1352016e6,1362906e6,13834656e5,13943556e5,14149152e5,14258052e5,14463648e5,14578596e5,14784192e5,14893092e5,15098688e5,15207588e5,15413184e5,15522084e5,1572768e6,1583658e6,16042176e5,16157124e5,1636272e6,1647162e6,16677216e5,16786116e5,16991712e5,17100612e5,17306208e5,17415108e5,17620704e5,17729604e5,179352e7,18050148e5,18255744e5,18364644e5,1857024e6,1867914e6,18884736e5,18993636e5,19199232e5,19308132e5,19513728e5,19628676e5,19834272e5,19943172e5,20148768e5,20257668e5,20463264e5,20572164e5,2077776e6,2088666e6,21092256e5,21201156e5,21406752e5,null],offsets:[420,360,420,360,420,360,420,360,420,360,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420],isdsts:[0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Godthab:{abbrs:["LMT","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03"],untils:[-1686083584e3,3238452e5,3389508e5,3546756e5,3704004e5,3861252e5,40185e7,4175748e5,4332996e5,4490244e5,465354e6,4810788e5,4968036e5,5125284e5,5282532e5,543978e6,5597028e5,5754276e5,5911524e5,6068772e5,622602e6,6383268e5,6546564e5,6703812e5,686106e6,7018308e5,7175556e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[206.9333,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Guatemala:{abbrs:["LMT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST"],untils:[-1617040676e3,1230552e5,130914e6,4223448e5,4330548e5,669708e6,6842196e5,11463768e5,11596788e5,null],offsets:[362.0667,360,300,360,300,360,300,360,300,360],isdsts:[0,0,1,0,1,0,1,0,1,0]},Halifax:{abbrs:["LMT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","AWT","APT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST"],untils:[-2131645536e3,-16962768e5,-16804692e5,-16320744e5,-16151436e5,-15667632e5,-155709e7,-15354864e5,-15249492e5,-15044688e5,-14934132e5,-14724144e5,-14619636e5,-14409648e5,-14293908e5,-14095152e5,-13967316e5,-1376856e6,-13664916e5,-1346616e6,-13338324e5,-13139568e5,-13036788e5,-12825072e5,-12726612e5,-12510576e5,-12400884e5,-1219608e6,-12074292e5,-11887632e5,-11759796e5,-11573136e5,-11439252e5,-11240496e5,-11137716e5,-10913904e5,-1081026e6,-10598544e5,-1050786e6,-10309104e5,-10181268e5,-9994608e5,-9866772e5,-965592e6,-9552276e5,-9359568e5,-9231732e5,-9045072e5,-8917236e5,-8802216e5,-7693956e5,-7653996e5,-747252e6,-73395e7,-7158024e5,-7025004e5,-6843528e5,-6710508e5,-6529032e5,-6396012e5,-5893992e5,-5760972e5,-5579496e5,-5446476e5,-5265e8,-513198e6,-4950504e5,-4817484e5,-4315464e5,-4182444e5,-4000968e5,-3867948e5,-3686472e5,-3553452e5,-3371976e5,-3238956e5,-242244e6,-2265228e5,-2107944e5,-1950732e5,-1793448e5,-1636236e5,-1478952e5,-1315692e5,-1164456e5,-1001196e5,-843912e5,-6867e7,-529416e5,-372204e5,-21492e6,-57708e5,99576e5,256788e5,414072e5,577332e5,734616e5,891828e5,1049112e5,1206324e5,1363608e5,152082e6,1678104e5,1835316e5,19926e7,215586e6,2307096e5,2470356e5,262764e6,2784852e5,2942136e5,3099348e5,3256632e5,3413844e5,3571128e5,372834e6,3885624e5,4048884e5,420012e6,436338e6,4520664e5,4677876e5,483516e6,4992372e5,5149656e5,5306868e5,5446008e5,5621364e5,5760504e5,5941908e5,6075e8,6256404e5,6389496e5,65709e7,671004e6,6885396e5,7024536e5,7199892e5,7339032e5,7520436e5,7653528e5,7834932e5,7968024e5,8149428e5,8288568e5,8463924e5,8603064e5,877842e6,891756e6,9092916e5,9232056e5,941346e6,9546552e5,9727956e5,9861048e5,10042452e5,10181592e5,10356948e5,10496088e5,10671444e5,10810584e5,10991988e5,1112508e6,11306484e5,11439576e5,1162098e6,11735928e5,11941524e5,12050424e5,1225602e6,1236492e6,12570516e5,12685464e5,1289106e6,1299996e6,13205556e5,13314456e5,13520052e5,13628952e5,13834548e5,13943448e5,14149044e5,14257944e5,1446354e6,14578488e5,14784084e5,14892984e5,1509858e6,1520748e6,15413076e5,15521976e5,15727572e5,15836472e5,16042068e5,16157016e5,16362612e5,16471512e5,16677108e5,16786008e5,16991604e5,17100504e5,173061e7,17415e8,17620596e5,17729496e5,17935092e5,1805004e6,18255636e5,18364536e5,18570132e5,18679032e5,18884628e5,18993528e5,19199124e5,19308024e5,1951362e6,19628568e5,19834164e5,19943064e5,2014866e6,2025756e6,20463156e5,20572056e5,20777652e5,20886552e5,21092148e5,21201048e5,21406644e5,null],offsets:[254.4,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Indianapolis:{abbrs:["CST","CDT","CST","CDT","CST","CDT","CST","CWT","CPT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","EST","CST","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST"],untils:[-16332768e5,-16151364e5,-16018272e5,-15836868e5,-9002592e5,-8917956e5,-8802144e5,-7693956e5,-7653924e5,-7472448e5,-7339428e5,-7157952e5,-7024932e5,-6843456e5,-6710436e5,-652896e6,-639594e6,-6208416e5,-6081444e5,-589392e6,-57609e7,-5579424e5,-5446404e5,-5264928e5,-5131908e5,-4950432e5,-4817412e5,-4635936e5,-3867876e5,-36864e7,-214884e5,-57672e5,99612e5,256824e5,11439612e5,11621016e5,11735964e5,1194156e6,1205046e6,12256056e5,12364956e5,12570552e5,126855e7,12891096e5,12999996e5,13205592e5,13314492e5,13520088e5,13628988e5,13834584e5,13943484e5,1414908e6,1425798e6,14463576e5,14578524e5,1478412e6,1489302e6,15098616e5,15207516e5,15413112e5,15522012e5,15727608e5,15836508e5,16042104e5,16157052e5,16362648e5,16471548e5,16677144e5,16786044e5,1699164e6,1710054e6,17306136e5,17415036e5,17620632e5,17729532e5,17935128e5,18050076e5,18255672e5,18364572e5,18570168e5,18679068e5,18884664e5,18993564e5,1919916e6,1930806e6,19513656e5,19628604e5,198342e7,199431e7,20148696e5,20257596e5,20463192e5,20572092e5,20777688e5,20886588e5,21092184e5,21201084e5,2140668e6,null],offsets:[360,300,360,300,360,300,360,300,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300],isdsts:[0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Juneau:{abbrs:["PST","PWT","PPT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","YDT","PST","PDT","PST","PDT","PST","PDT","YST","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST"],untils:[-8802072e5,-7693956e5,-7653852e5,-214776e5,-57564e5,9972e6,256932e5,414216e5,577476e5,73476e6,891972e5,1049256e5,1206468e5,1266984e5,1520964e5,1623816e5,183546e6,1992744e5,2156004e5,230724e6,24705e7,2627784e5,2784996e5,294228e6,3099492e5,3256776e5,3414024e5,3571272e5,3728484e5,3885768e5,4049028e5,4200264e5,4363524e5,4390308e5,4520844e5,4678056e5,483534e6,4992552e5,5149836e5,5307048e5,5446188e5,5621544e5,5760684e5,5942088e5,607518e6,6256584e5,6389676e5,657108e6,671022e6,6885576e5,7024716e5,7200072e5,7339212e5,7520616e5,7653708e5,7835112e5,7968204e5,8149608e5,8288748e5,8464104e5,8603244e5,87786e7,891774e6,9093096e5,9232236e5,941364e6,9546732e5,9728136e5,9861228e5,10042632e5,10181772e5,10357128e5,10496268e5,10671624e5,10810764e5,10992168e5,1112526e6,11306664e5,11439756e5,1162116e6,11736108e5,11941704e5,12050604e5,122562e7,123651e7,12570696e5,12685644e5,1289124e6,1300014e6,13205736e5,13314636e5,13520232e5,13629132e5,13834728e5,13943628e5,14149224e5,14258124e5,1446372e6,14578668e5,14784264e5,14893164e5,1509876e6,1520766e6,15413256e5,15522156e5,15727752e5,15836652e5,16042248e5,16157196e5,16362792e5,16471692e5,16677288e5,16786188e5,16991784e5,17100684e5,1730628e6,1741518e6,17620776e5,17729676e5,17935272e5,1805022e6,18255816e5,18364716e5,18570312e5,18679212e5,18884808e5,18993708e5,19199304e5,19308204e5,195138e7,19628748e5,19834344e5,19943244e5,2014884e6,2025774e6,20463336e5,20572236e5,20777832e5,20886732e5,21092328e5,21201228e5,21406824e5,null],offsets:[480,420,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,480,480,420,480,420,480,420,540,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540],isdsts:[0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},La_Paz:{abbrs:["CMT","BST","-04"],untils:[-1205954844e3,-1192307244e3,null],offsets:[272.6,212.6,240],isdsts:[0,1,0]},Mexico_City:{abbrs:["LMT","MST","CST","MST","CST","MST","CST","CDT","CST","CDT","CST","CWT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST"],untils:[-15147396e5,-13430664e5,-12348072e5,-1220292e6,-12071592e5,-11913444e5,-9752616e5,-9631692e5,-9171144e5,-9073548e5,-8219016e5,-8100684e5,-6275016e5,-61299e7,828864e6,8463996e5,8603136e5,8778492e5,8917632e5,9092988e5,9232128e5,9413532e5,9546624e5,9728028e5,989136e6,10018332e5,10181664e5,1035702e6,1049616e6,10671516e5,10810656e5,1099206e6,11125152e5,11306556e5,11439648e5,11621052e5,11754144e5,11935548e5,12074688e5,12250044e5,12389184e5,1256454e6,1270368e6,12885084e5,13018176e5,1319958e6,13332672e5,13514076e5,13653216e5,13828572e5,13967712e5,14143068e5,14282208e5,14457564e5,14596704e5,14778108e5,149112e7,15092604e5,15225696e5,154071e7,1554624e6,15721596e5,15860736e5,16036092e5,16175232e5,16356636e5,16489728e5,16671132e5,16804224e5,16985628e5,17124768e5,17300124e5,17439264e5,1761462e6,1775376e6,17929116e5,18068256e5,1824966e6,18382752e5,18564156e5,18697248e5,18878652e5,19017792e5,19193148e5,19332288e5,19507644e5,19646784e5,19828188e5,1996128e6,20142684e5,20275776e5,2045718e6,20590272e5,20771676e5,20910816e5,21086172e5,21225312e5,21400668e5,null],offsets:[396.6,420,360,420,360,420,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360],isdsts:[0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},New_York:{abbrs:["EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EWT","EPT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST"],untils:[-16332804e5,-161514e7,-16018308e5,-15836904e5,-15703812e5,-1551636e6,-15365124e5,-15232104e5,-1504458e6,-14917608e5,-14730084e5,-14597064e5,-14415588e5,-14282568e5,-14101092e5,-13968072e5,-13786596e5,-13653576e5,-134721e7,-1333908e6,-13151556e5,-13018536e5,-1283706e6,-1270404e6,-12522564e5,-12389544e5,-12208068e5,-12075048e5,-11893572e5,-11760552e5,-11573028e5,-11446056e5,-11258532e5,-11125512e5,-10944036e5,-10811016e5,-1062954e6,-1049652e6,-10315044e5,-10182024e5,-10000548e5,-9867528e5,-9680004e5,-9553032e5,-9365508e5,-9232488e5,-9051012e5,-8917992e5,-880218e6,-7693956e5,-765396e6,-7472484e5,-7339464e5,-7157988e5,-7024968e5,-6843492e5,-6710472e5,-6528996e5,-6395976e5,-6208452e5,-608148e6,-5893956e5,-5760936e5,-557946e6,-544644e6,-5264964e5,-5131944e5,-4950468e5,-4817448e5,-4635972e5,-4472712e5,-4315428e5,-4158216e5,-4000932e5,-384372e6,-3686436e5,-3529224e5,-337194e6,-3214728e5,-3057444e5,-2894184e5,-27369e7,-2579688e5,-2422404e5,-2265192e5,-2107908e5,-1950696e5,-1793412e5,-16362e7,-1478916e5,-1315656e5,-116442e6,-100116e6,-843876e5,-686664e5,-52938e6,-372168e5,-214884e5,-57672e5,99612e5,256824e5,414108e5,577368e5,734652e5,891864e5,1049148e5,120636e6,1266876e5,1520856e5,1623708e5,1835352e5,1992636e5,2155896e5,2307132e5,2470392e5,2627676e5,2784888e5,2942172e5,3099384e5,3256668e5,341388e6,3571164e5,3728376e5,388566e6,404892e6,4200156e5,4363416e5,45207e7,4677912e5,4835196e5,4992408e5,5149692e5,5306904e5,5446044e5,56214e7,576054e6,5941944e5,6075036e5,625644e6,6389532e5,6570936e5,6710076e5,6885432e5,7024572e5,7199928e5,7339068e5,7520472e5,7653564e5,7834968e5,796806e6,8149464e5,8288604e5,846396e6,86031e7,8778456e5,8917596e5,9092952e5,9232092e5,9413496e5,9546588e5,9727992e5,9861084e5,10042488e5,10181628e5,10356984e5,10496124e5,1067148e6,1081062e6,10992024e5,11125116e5,1130652e6,11439612e5,11621016e5,11735964e5,1194156e6,1205046e6,12256056e5,12364956e5,12570552e5,126855e7,12891096e5,12999996e5,13205592e5,13314492e5,13520088e5,13628988e5,13834584e5,13943484e5,1414908e6,1425798e6,14463576e5,14578524e5,1478412e6,1489302e6,15098616e5,15207516e5,15413112e5,15522012e5,15727608e5,15836508e5,16042104e5,16157052e5,16362648e5,16471548e5,16677144e5,16786044e5,1699164e6,1710054e6,17306136e5,17415036e5,17620632e5,17729532e5,17935128e5,18050076e5,18255672e5,18364572e5,18570168e5,18679068e5,18884664e5,18993564e5,1919916e6,1930806e6,19513656e5,19628604e5,198342e7,199431e7,20148696e5,20257596e5,20463192e5,20572092e5,20777688e5,20886588e5,21092184e5,21201084e5,2140668e6,null],offsets:[300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Noronha:{abbrs:["LMT","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02"],untils:[-176721782e4,-12069612e5,-1191366e6,-11753784e5,-115983e7,-6338232e5,-6220728e5,-6022872e5,-5918364e5,-5707512e5,-560214e6,-5391288e5,-5313564e5,-1913688e5,-1842012e5,-1551672e5,-1500732e5,-1289016e5,-1211292e5,-999576e5,-895932e5,-684216e5,-579708e5,4997448e5,5112324e5,5305896e5,5402628e5,5621256e5,571194e6,5929704e5,6020388e5,62442e7,634698e6,938916e6,9516132e5,9709704e5,9715716e5,10030248e5,10139076e5,null],offsets:[129.6667,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Phoenix:{abbrs:["MST","MDT","MST","MDT","MST","MWT","MST","MWT","MST","MDT","MST"],untils:[-16332732e5,-16151328e5,-16018236e5,-15836832e5,-8802108e5,-82051914e4,-81265314e4,-79684554e4,-843804e5,-686592e5,null],offsets:[420,360,420,360,420,360,420,360,420,360,420],isdsts:[0,1,0,1,0,1,0,1,0,1,0]},Regina:{abbrs:["LMT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MWT","MPT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","CST"],untils:[-2030202084e3,-16320636e5,-16151328e5,-12516516e5,-12383496e5,-1220202e6,-12069e8,-11887524e5,-11754504e5,-1156698e6,-11440008e5,-11252484e5,-11119464e5,-1032714e6,-10169928e5,-10012644e5,-986148e6,-9698148e5,-9540936e5,-9377604e5,-9220392e5,-9063108e5,-8905896e5,-8802108e5,-7693956e5,-7653888e5,-7484508e5,-7327296e5,-7157916e5,-7024896e5,-684342e6,-67104e7,-6528924e5,-6395904e5,-620838e6,-6081408e5,-5893884e5,-5760864e5,-5579388e5,-5446368e5,-5264892e5,-5131872e5,-4950396e5,-4817376e5,-46359e7,-450288e6,-4315356e5,-4182336e5,-400086e6,-386784e6,-3371868e5,-3214656e5,-3057372e5,null],offsets:[418.6,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0]},Santiago:{abbrs:["SMT","-05","SMT","-04","SMT","-04","-05","-04","-05","-04","-05","-04","-05","-04","-05","-04","-05","-04","-03","-04","-05","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03"],untils:[-1892661434e3,-16884108e5,-1619205434e3,-15938064e5,-1335986234e3,-13175856e5,-13043628e5,-12860496e5,-12728268e5,-12545136e5,-12412908e5,-12229776e5,-12097548e5,-11913552e5,-11781324e5,-870552e6,-865278e6,-74052e7,-7363764e5,-718056e6,-7136496e5,-366192e5,-23922e6,-33552e5,75276e5,244656e5,377676e5,559152e5,692172e5,879696e5,1006668e5,1182096e5,1321164e5,1508688e5,163566e6,1823184e5,1956204e5,213768e6,22707e7,2452176e5,2585196e5,277272e6,2899692e5,3087216e5,3214188e5,3401712e5,3534732e5,3716208e5,3849228e5,4030704e5,4163724e5,43452e7,447822e6,4665744e5,4792716e5,498024e6,5107212e5,5294736e5,5451948e5,5609232e5,5742252e5,5923728e5,6056748e5,6244272e5,6371244e5,6534576e5,668574e6,6873264e5,7006284e5,718776e6,732078e6,7502256e5,7635276e5,7816752e5,7949772e5,8137296e5,8264268e5,8451792e5,8596908e5,8766288e5,8899308e5,9068688e5,9231948e5,939528e6,95283e7,9715824e5,9842796e5,1003032e6,10157292e5,10344816e5,10471788e5,10659312e5,10792332e5,10973808e5,11106828e5,11288304e5,11421324e5,11608848e5,1173582e6,11923344e5,1206846e6,1223784e6,1237086e6,12552336e5,127035e7,12866832e5,13048236e5,13138992e5,13356684e5,13465584e5,1367118e6,13786128e5,13985676e5,14100624e5,14632812e5,14711472e5,14947308e5,15025968e5,15261804e5,15340464e5,1554606e6,15679152e5,15860556e5,15993648e5,16175052e5,16308144e5,16489548e5,1662264e6,16804044e5,16937136e5,17124588e5,1725768e6,17439084e5,17572176e5,1775358e6,17886672e5,18068076e5,18201168e5,18382572e5,18515664e5,18703116e5,1883016e6,19017612e5,19150704e5,19332108e5,194652e7,19646604e5,19779696e5,199611e7,20094192e5,20275596e5,20408688e5,2059614e6,20723184e5,20910636e5,21043728e5,21225132e5,21358224e5,null],offsets:[282.7667,300,282.7667,240,282.7667,240,300,240,300,240,300,240,300,240,300,240,300,240,180,240,300,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180],isdsts:[0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]},Sao_Paulo:{abbrs:["LMT","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03"],untils:[-1767214412e3,-12069576e5,-11913624e5,-11753748e5,-11598264e5,-6338196e5,-6220692e5,-6022836e5,-5918328e5,-5707476e5,-5602104e5,-5391252e5,-5313528e5,-195426e6,-1841976e5,-1551636e5,-1500696e5,-128898e6,-1211256e5,-99954e6,-895896e5,-68418e6,-579672e5,4997484e5,511236e6,5305932e5,5402664e5,5621292e5,5711976e5,592974e6,6020424e5,6244236e5,6347016e5,656478e6,666756e6,6879276e5,6976008e5,719982e6,7284456e5,7508268e5,7617096e5,7822764e5,7931592e5,813726e6,824004e6,8445708e5,8560584e5,8761068e5,8887176e5,9080748e5,9195624e5,9389196e5,9516168e5,970974e6,9824616e5,10030284e5,10139112e5,10362924e5,10453608e5,10665324e5,10768104e5,10993644e5,11088648e5,11294316e5,11403144e5,11626956e5,11723688e5,11923308e5,12032136e5,12243852e5,12346632e5,12558348e5,12667176e5,12872844e5,12981672e5,1318734e6,13302216e5,13507884e5,13610664e5,1382238e6,1392516e6,14136876e5,14245704e5,14451372e5,145602e7,14765868e5,14874696e5,15080364e5,15189192e5,15413004e5,15503688e5,null],offsets:[186.4667,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},St_Johns:{abbrs:["NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NWT","NPT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST"],untils:[-1664130548e3,-1650137348e3,-1632076148e3,-1615145348e3,-1598650148e3,-1590100148e3,-1567286948e3,-1551565748e3,-1535837348e3,-1520116148e3,-1503782948e3,-1488666548e3,-1472333348e3,-1457216948e3,-1440883748e3,-1425767348e3,-1409434148e3,-1394317748e3,-1377984548e3,-1362263348e3,-1346534948e3,-1330813748e3,-1314480548e3,-1299364148e3,-1283030948e3,-1267914548e3,-1251581348e3,-1236464948e3,-1220131748e3,-1205015348e3,-1188682148e3,-1172960948e3,-1156627748e3,-1141511348e3,-1125178148e3,-1110061748e3,-0xff65a19220,-10937286e5,-10786122e5,-10616706e5,-10489734e5,-1030221e6,-10175238e5,-9987714e5,-9860742e5,-966717e6,-9546246e5,-9352674e5,-9225702e5,-9038178e5,-8911206e5,-8723682e5,-7693956e5,-7654014e5,-7460442e5,-733347e6,-7145946e5,-7018974e5,-683145e6,-6704478e5,-6516954e5,-6389982e5,-619641e6,-6069438e5,-589401e6,-576099e6,-5579514e5,-5446494e5,-5265018e5,-5131998e5,-4950522e5,-4817502e5,-4636026e5,-4503006e5,-4315482e5,-4182462e5,-4000986e5,-3867966e5,-368649e6,-355347e6,-3371994e5,-3238974e5,-3057498e5,-2894238e5,-2736954e5,-2579742e5,-2422458e5,-2265246e5,-2107962e5,-195075e6,-1793466e5,-1636254e5,-147897e6,-131571e6,-1164474e5,-1001214e5,-84393e6,-686718e5,-529434e5,-372222e5,-214938e5,-57726e5,99558e5,25677e6,414054e5,577314e5,734598e5,89181e6,1049094e5,1206306e5,136359e6,1520802e5,1678086e5,1835298e5,1992582e5,2155842e5,2307078e5,2470338e5,2627622e5,2784834e5,2942118e5,309933e6,3256614e5,3413826e5,357111e6,3728322e5,3885606e5,4048866e5,4200102e5,4363362e5,4520646e5,4677858e5,4835142e5,4992354e5,5149638e5,530685e6,54459186e4,56212746e4,57604146e4,59417826e4,60749106e4,62563146e4,63894066e4,65708106e4,67099506e4,68853066e4,70244466e4,71998026e4,73389426e4,75203466e4,76534386e4,78348426e4,79679346e4,81493386e4,82884786e4,84638346e4,86029746e4,87783306e4,89174706e4,90928266e4,92319666e4,94133706e4,95464626e4,97278666e4,98609586e4,100423626e4,101815026e4,103568586e4,104959986e4,106713546e4,108104946e4,109918986e4,111249906e4,113063946e4,114394866e4,116208906e4,117358386e4,119414346e4,120503346e4,122559306e4,123648306e4,125704266e4,126853746e4,128909706e4,129998706e4,13205538e5,13314438e5,13520034e5,13628934e5,1383453e6,1394343e6,14149026e5,14257926e5,14463522e5,1457847e6,14784066e5,14892966e5,15098562e5,15207462e5,15413058e5,15521958e5,15727554e5,15836454e5,1604205e6,16156998e5,16362594e5,16471494e5,1667709e6,1678599e6,16991586e5,17100486e5,17306082e5,17414982e5,17620578e5,17729478e5,17935074e5,18050022e5,18255618e5,18364518e5,18570114e5,18679014e5,1888461e6,1899351e6,19199106e5,19308006e5,19513602e5,1962855e6,19834146e5,19943046e5,20148642e5,20257542e5,20463138e5,20572038e5,20777634e5,20886534e5,2109213e6,2120103e6,21406626e5,null],offsets:[210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,90,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Tijuana:{abbrs:["LMT","MST","PST","MST","PST","PDT","PST","PWT","PPT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST"],untils:[-1514736e6,-14516676e5,-13430628e5,-12348036e5,-12229632e5,-1207242e6,-8738208e5,-7693956e5,-7616772e5,-6860736e5,-6615396e5,-4950396e5,-481734e6,-46359e7,-4502844e5,-4315356e5,-41823e7,-400086e6,-3867804e5,-3686364e5,-3553308e5,-3371868e5,-3238812e5,-3057372e5,-2924316e5,1992744e5,2156004e5,230724e6,24705e7,2627784e5,2784996e5,294228e6,3099492e5,3256776e5,3413988e5,3571272e5,3728484e5,3885768e5,4049028e5,4200264e5,4363524e5,4520808e5,467802e6,4835304e5,4992516e5,51498e7,5307012e5,5446152e5,5621508e5,5760648e5,5942052e5,6075144e5,6256548e5,638964e6,6571044e5,6710184e5,688554e6,702468e6,7200036e5,7339176e5,752058e6,7653672e5,7835076e5,7968168e5,8149572e5,8288712e5,8464068e5,8603208e5,8778564e5,8917704e5,909306e6,92322e7,9413604e5,9546696e5,97281e7,9861192e5,10042596e5,10181736e5,10357092e5,10496232e5,10671588e5,10810728e5,10992132e5,11125224e5,11306628e5,1143972e6,11621124e5,11754216e5,1193562e6,1207476e6,12250116e5,12389256e5,12564612e5,12685608e5,12891204e5,13000104e5,132057e7,133146e7,13520196e5,13629096e5,13834692e5,13943592e5,14149188e5,14258088e5,14463684e5,14578632e5,14784228e5,14893128e5,15098724e5,15207624e5,1541322e6,1552212e6,15727716e5,15836616e5,16042212e5,1615716e6,16362756e5,16471656e5,16677252e5,16786152e5,16991748e5,17100648e5,17306244e5,17415144e5,1762074e6,1772964e6,17935236e5,18050184e5,1825578e6,1836468e6,18570276e5,18679176e5,18884772e5,18993672e5,19199268e5,19308168e5,19513764e5,19628712e5,19834308e5,19943208e5,20148804e5,20257704e5,204633e7,205722e7,20777796e5,20886696e5,21092292e5,21201192e5,21406788e5,null],offsets:[468.0667,420,480,420,480,420,480,420,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480],isdsts:[0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]}},Asia:{Almaty:{abbrs:["LMT","+05","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+06","+05","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06"],untils:[-1441170468e3,-12475476e5,3549096e5,3707172e5,3864456e5,4022532e5,4179816e5,4337892e5,449604e6,465336e6,4810608e5,4967856e5,5125104e5,5282352e5,54396e7,5596848e5,5754096e5,5911344e5,6068592e5,622584e6,6383088e5,6546384e5,6703632e5,6860916e5,6957684e5,7018128e5,7175376e5,7332624e5,7489872e5,764712e6,7804368e5,7961616e5,8118864e5,828216e6,84636e7,8596656e5,8778096e5,8911152e5,9092592e5,9225648e5,9413136e5,9540144e5,9727632e5,985464e6,10042128e5,10175184e5,10356624e5,1048968e6,1067112e6,10804176e5,10991664e5,null],offsets:[-307.8,-300,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-360,-300,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Baghdad:{abbrs:["BMT","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03"],untils:[-1641005856e3,3890484e5,402264e6,417906e6,4338e8,4496148e5,4654224e5,4811508e5,4967928e5,5125176e5,5282424e5,5439672e5,559692e6,5754168e5,5911416e5,6068664e5,6225912e5,638316e6,6546456e5,670464e6,6862752e5,7020864e5,7178976e5,7336224e5,7494336e5,7651584e5,7809696e5,7966944e5,8125056e5,8283168e5,844128e6,8598528e5,875664e6,8913888e5,9072e8,9229248e5,938736e6,9545472e5,9703584e5,9860832e5,10018944e5,10176192e5,10334304e5,10491552e5,10649664e5,10807776e5,10965888e5,11123136e5,11281248e5,11438496e5,11596608e5,11753856e5,11911968e5,null],offsets:[-177.6,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Bangkok:{abbrs:["BMT","+07"],untils:[-1570084924e3,null],offsets:[-402.0667,-420],isdsts:[0,0]},Calcutta:{abbrs:["MMT","IST","+0630","IST","+0630","IST"],untils:[-201970567e4,-8915814e5,-8720586e5,-8626374e5,-764145e6,null],offsets:[-321.1667,-330,-390,-330,-390,-330],isdsts:[0,0,1,0,1,0]},Colombo:{abbrs:["MMT","+0530","+06","+0630","+0530","+0630","+06","+0530"],untils:[-2019705572e3,-883287e6,-8626392e5,-7640514e5,8329626e5,8462664e5,11450394e5,null],offsets:[-319.5333,-330,-360,-390,-330,-390,-360,-330],isdsts:[0,0,1,1,0,0,0,0]},Dubai:{abbrs:["LMT","+04"],untils:[-1577936472e3,null],offsets:[-221.2,-240],isdsts:[0,0]},Hong_Kong:{abbrs:["LMT","HKT","HKST","HKT","JST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT"],untils:[-20566908e5,-9009108e5,-8915796e5,-8842482e5,-7612092e5,-7479072e5,-728541e6,-7170498e5,-6970914e5,-6837858e5,-668061e6,-6547554e5,-6366114e5,-6233058e5,-6051618e5,-5918562e5,-5737122e5,-5598018e5,-5416578e5,-5283522e5,-5102118e5,-4981122e5,-4787622e5,-4666626e5,-4467078e5,-435213e6,-4152582e5,-4031586e5,-3838086e5,-371709e6,-352359e6,-3402594e5,-3209094e5,-3088098e5,-288855e6,-2773602e5,-2574054e5,-2459106e5,-2259558e5,-2138562e5,-1945062e5,-1824066e5,-1630566e5,-1485378e5,-1328166e5,-1170882e5,-101367e6,-856386e5,-693126e5,-535842e5,-37863e6,-221346e5,-64134e5,9315e6,250362e5,407646e5,564858e5,722142e5,885402e5,1042686e5,1199898e5,1260414e5,1514394e5,1671678e5,182889e6,1986174e5,2143386e5,2953854e5,3092922e5,null],offsets:[-456.7,-480,-540,-510,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480],isdsts:[0,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Irkutsk:{abbrs:["IMT","+07","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+08","+07","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08"],untils:[-1575874625e3,-12475548e5,3549024e5,37071e7,3864384e5,402246e6,4179744e5,433782e6,4495968e5,4653288e5,4810536e5,4967784e5,5125032e5,528228e6,5439528e5,5596776e5,5754024e5,5911272e5,606852e6,6225768e5,6383016e5,6546312e5,670356e6,6860844e5,6957612e5,7018056e5,7175304e5,7332552e5,74898e7,7647048e5,7804296e5,7961544e5,8118792e5,8282088e5,8463528e5,8596584e5,8778024e5,891108e6,909252e6,9225576e5,9413064e5,9540072e5,972756e6,9854568e5,10042056e5,10175112e5,10356552e5,10489608e5,10671048e5,10804104e5,10991592e5,111186e7,11306088e5,11433096e5,11620584e5,11747592e5,1193508e6,12068136e5,12249576e5,12382632e5,12564072e5,12697128e5,12884616e5,13011624e5,14142564e5,null],offsets:[-417.0833,-420,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-480,-420,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Jerusalem:{abbrs:["JMT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDDT","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST"],untils:[-164100364e4,-9336456e5,-857358e6,-8443008e5,-825822e6,-8126856e5,-7941996e5,-7798536e5,-7626564e5,-7483104e5,-7311276e5,-6819624e5,-6732432e5,-667962e6,-6523272e5,-636426e6,-6220872e5,-6089472e5,-5918472e5,-5724864e5,-558576e6,-5428512e5,-5277312e5,-5144256e5,-4908456e5,-4829868e5,-4594752e5,-4515372e5,-4285512e5,-4182624e5,-400032e6,-3874284e5,14238e7,1508436e5,1671768e5,1786644e5,3340152e5,337644e6,452556e6,4622328e5,4822776e5,4955796e5,5167512e5,5264244e5,545436e6,5584788e5,5766264e5,5893236e5,6098904e5,6207732e5,638316e6,651618e6,6697656e5,6836724e5,70182e7,7157268e5,7337016e5,7471764e5,7651512e5,7780212e5,7966008e5,8100756e5,8268408e5,8428212e5,8588952e5,8741844e5,8903448e5,9050292e5,9230112e5,9363132e5,9556704e5,9707832e5,9867708e5,10012824e5,10173564e5,10339416e5,1048806e6,1065132e6,10812924e5,1095804e6,11123136e5,11288124e5,11437632e5,11596572e5,11752128e5,11898972e5,12066624e5,12231612e5,1238112e6,1254006e6,12695616e5,1284246e6,1301616e6,131751e7,13330656e5,13483548e5,13645152e5,13828284e5,13959648e5,1414278e6,14274144e5,14457276e5,1458864e6,1477782e6,14903136e5,15092316e5,15217632e5,15406812e5,15538176e5,15721308e5,15852672e5,16035804e5,16167168e5,16356348e5,16481664e5,16670844e5,1679616e6,1698534e6,17116704e5,17299836e5,174312e7,17614332e5,17745696e5,17928828e5,18060192e5,18249372e5,18374688e5,18563868e5,18689184e5,18878364e5,19009728e5,1919286e6,19324224e5,19507356e5,1963872e6,198279e7,19953216e5,20142396e5,20267712e5,20456892e5,20582208e5,20771388e5,20902752e5,21085884e5,21217248e5,2140038e6,null],offsets:[-140.6667,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-240,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Kabul:{abbrs:["+04","+0430"],untils:[-7889328e5,null],offsets:[-240,-270],isdsts:[0,0]},Katmandu:{abbrs:["LMT","+0530","+0545"],untils:[-1577943676e3,5049018e5,null],offsets:[-341.2667,-330,-345],isdsts:[0,0,0]},Krasnoyarsk:{abbrs:["LMT","+06","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+07","+06","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07"],untils:[-1577513486e3,-12475512e5,354906e6,3707136e5,386442e6,4022496e5,417978e6,4337856e5,4496004e5,4653324e5,4810572e5,496782e6,5125068e5,5282316e5,5439564e5,5596812e5,575406e6,5911308e5,6068556e5,6225804e5,6383052e5,6546348e5,6703596e5,686088e6,6957648e5,7018092e5,717534e6,7332588e5,7489836e5,7647084e5,7804332e5,796158e6,8118828e5,8282124e5,8463564e5,859662e6,877806e6,8911116e5,9092556e5,9225612e5,94131e7,9540108e5,9727596e5,9854604e5,10042092e5,10175148e5,10356588e5,10489644e5,10671084e5,1080414e6,10991628e5,11118636e5,11306124e5,11433132e5,1162062e6,11747628e5,11935116e5,12068172e5,12249612e5,12382668e5,12564108e5,12697164e5,12884652e5,1301166e6,141426e7,null],offsets:[-371.4333,-360,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-420,-360,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Kuwait:{abbrs:["LMT","+03"],untils:[-719636812e3,null],offsets:[-186.8667,-180],isdsts:[0,0]},Novosibirsk:{abbrs:["LMT","+06","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+07","+06","+07","+08","+07","+08","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07"],untils:[-15794767e5,-12475512e5,354906e6,3707136e5,386442e6,4022496e5,417978e6,4337856e5,4496004e5,4653324e5,4810572e5,496782e6,5125068e5,5282316e5,5439564e5,5596812e5,575406e6,5911308e5,6068556e5,6225804e5,6383052e5,6546348e5,6703596e5,686088e6,6957648e5,7018092e5,717534e6,7332588e5,7380864e5,7489872e5,764712e6,7804368e5,7961616e5,8118864e5,828216e6,84636e7,8596656e5,8778096e5,8911152e5,9092592e5,9225648e5,9413136e5,9540144e5,9727632e5,985464e6,10042128e5,10175184e5,10356624e5,1048968e6,1067112e6,10804176e5,10991664e5,11118672e5,1130616e6,11433168e5,11620656e5,11747664e5,11935152e5,12068208e5,12249648e5,12382704e5,12564144e5,126972e7,12884688e5,13011696e5,14142636e5,1469304e6,null],offsets:[-331.6667,-360,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-420,-360,-420,-480,-420,-480,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0]},Rangoon:{abbrs:["RMT","+0630","+09","+0630"],untils:[-1577946287e3,-8732682e5,-77841e7,null],offsets:[-384.7833,-390,-540,-390],isdsts:[0,0,0,0]},Seoul:{abbrs:["LMT","KST","JST","KST","KST","KDT","KST","KDT","KST","KDT","KST","KDT","KST","KDT","KST","KDT","KST","KST","KDT","KST","KDT","KST"],untils:[-1948782472e3,-18304146e5,-7673508e5,-4981284e5,-4627026e5,-4517334e5,-4297842e5,-4182966e5,-3995442e5,-3874518e5,-3680946e5,-3560022e5,-336645e6,-3245526e5,-3051954e5,-293103e6,-264933e6,547578e6,5608836e5,5790276e5,5923332e5,null],offsets:[-507.8667,-510,-540,-540,-510,-570,-510,-570,-510,-570,-510,-570,-510,-570,-510,-570,-510,-540,-600,-540,-600,-540],isdsts:[0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0]},Shanghai:{abbrs:["CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST"],untils:[-9336672e5,-9220932e5,-9088704e5,-8888292e5,-8810496e5,-7678692e5,-7458336e5,-7338276e5,-7168896e5,-6996132e5,-6838848e5,-6706692e5,-6523488e5,-6500196e5,5155272e5,5270148e5,5451624e5,5584644e5,5772168e5,589914e6,6086664e5,6219684e5,640116e6,653418e6,6715656e5,6848676e5,null],offsets:[-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Singapore:{abbrs:["SMT","+07","+0720","+0720","+0730","+09","+0730","+08"],untils:[-2038200925e3,-11676348e5,-1073028e6,-89418e7,-8796654e5,-7670052e5,3786642e5,null],offsets:[-415.4167,-420,-440,-440,-450,-540,-450,-480],isdsts:[0,0,1,0,0,0,0,0]},Taipei:{abbrs:["CST","JST","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST"],untils:[-10178208e5,-766224e6,-7458336e5,-7338276e5,-7168896e5,-6996132e5,-6838848e5,-6706692e5,-6523488e5,-6391332e5,-6208128e5,-6075972e5,-5892768e5,-5760612e5,-5629248e5,-5417604e5,-5287104e5,-5102244e5,-4971744e5,-4786884e5,-4656384e5,-4498308e5,-434016e6,-4182084e5,-40248e7,-3866724e5,-370944e6,-3551364e5,-339408e6,-3236004e5,-3025152e5,-291978e6,-2709792e5,-260442e6,1339776e5,1497852e5,1655136e5,1813212e5,2996064e5,3075516e5,null],offsets:[-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Tashkent:{abbrs:["LMT","+05","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+06","+05"],untils:[-1441168631e3,-12475476e5,3549096e5,3707172e5,3864456e5,4022532e5,4179816e5,4337892e5,449604e6,465336e6,4810608e5,4967856e5,5125104e5,5282352e5,54396e7,5596848e5,5754096e5,5911344e5,6068592e5,622584e6,6383088e5,6546384e5,6703632e5,6860916e5,null],offsets:[-277.1833,-300,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-360,-300],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Tehran:{abbrs:["LMT","TMT","+0330","+04","+05","+04","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330"],untils:[-1704165944e3,-757394744e3,2471778e5,259272e6,277758e6,2839824e5,2908098e5,306531e6,3224322e5,338499e6,6732162e5,6854814e5,7012098e5,7171038e5,7327458e5,7486398e5,7642818e5,7801758e5,7958178e5,8117118e5,8273538e5,8432478e5,8589762e5,8748702e5,8905122e5,9064062e5,9220482e5,9379422e5,9535842e5,9694782e5,9852066e5,10011006e5,10167426e5,10326366e5,10482786e5,10641726e5,10798146e5,10957086e5,1111437e6,1127331e6,1206045e6,1221939e6,12376674e5,12535614e5,12692034e5,12850974e5,13007394e5,13166334e5,13322754e5,13481694e5,13638978e5,13797918e5,13954338e5,14113278e5,14269698e5,14428638e5,14585058e5,14743998e5,14901282e5,15060222e5,15216642e5,15375582e5,15532002e5,15690942e5,15847362e5,16006302e5,16163586e5,16322526e5,16478946e5,16637886e5,16794306e5,16953246e5,17109666e5,17268606e5,1742589e6,1758483e6,1774125e6,1790019e6,1805661e6,1821555e6,1837197e6,1853091e6,1868733e6,1884627e6,19003554e5,19162494e5,19318914e5,19477854e5,19634274e5,19793214e5,19949634e5,20108574e5,20265858e5,20424798e5,20581218e5,20740158e5,20896578e5,21055518e5,21211938e5,21370878e5,null],offsets:[-205.7333,-205.7333,-210,-240,-300,-240,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210],isdsts:[0,0,0,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Tokyo:{abbrs:["JST","JDT","JST","JDT","JST","JDT","JST","JDT","JST"],untils:[-683802e6,-6723108e5,-6547716e5,-6408612e5,-620298e6,-6094116e5,-5888484e5,-577962e6,null],offsets:[-540,-600,-540,-600,-540,-600,-540,-600,-540],isdsts:[0,1,0,1,0,1,0,1,0]},Vladivostok:{abbrs:["LMT","+09","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+10","+09","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10"],untils:[-1487321251e3,-1247562e6,3548952e5,3707028e5,3864312e5,4022388e5,4179672e5,4337748e5,4495896e5,4653216e5,4810464e5,4967712e5,512496e6,5282208e5,5439456e5,5596704e5,5753952e5,59112e7,6068448e5,6225696e5,6382944e5,654624e6,6703488e5,6860772e5,695754e6,7017984e5,7175232e5,733248e6,7489728e5,7646976e5,7804224e5,7961472e5,811872e6,8282016e5,8463456e5,8596512e5,8777952e5,8911008e5,9092448e5,9225504e5,9412992e5,954e9,9727488e5,9854496e5,10041984e5,1017504e6,1035648e6,10489536e5,10670976e5,10804032e5,1099152e6,11118528e5,11306016e5,11433024e5,11620512e5,1174752e6,11935008e5,12068064e5,12249504e5,1238256e6,12564e8,12697056e5,12884544e5,13011552e5,14142492e5,null],offsets:[-527.5167,-540,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-600,-540,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Yakutsk:{abbrs:["LMT","+08","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+09","+08","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09"],untils:[-1579423138e3,-12475584e5,3548988e5,3707064e5,3864348e5,4022424e5,4179708e5,4337784e5,4495932e5,4653252e5,48105e7,4967748e5,5124996e5,5282244e5,5439492e5,559674e6,5753988e5,5911236e5,6068484e5,6225732e5,638298e6,6546276e5,6703524e5,6860808e5,6957576e5,701802e6,7175268e5,7332516e5,7489764e5,7647012e5,780426e6,7961508e5,8118756e5,8282052e5,8463492e5,8596548e5,8777988e5,8911044e5,9092484e5,922554e6,9413028e5,9540036e5,9727524e5,9854532e5,1004202e6,10175076e5,10356516e5,10489572e5,10671012e5,10804068e5,10991556e5,11118564e5,11306052e5,1143306e6,11620548e5,11747556e5,11935044e5,120681e7,1224954e6,12382596e5,12564036e5,12697092e5,1288458e6,13011588e5,14142528e5,null],offsets:[-518.9667,-480,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-540,-480,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Yekaterinburg:{abbrs:["LMT","PMT","+04","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+05","+04","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05"],untils:[-1688270553e3,-1592610305e3,-1247544e6,3549132e5,3707208e5,3864492e5,4022568e5,4179852e5,4337928e5,4496076e5,4653396e5,4810644e5,4967892e5,512514e6,5282388e5,5439636e5,5596884e5,5754132e5,591138e6,6068628e5,6225876e5,6383124e5,654642e6,6703668e5,6860952e5,695772e6,7018164e5,7175412e5,733266e6,7489908e5,7647156e5,7804404e5,7961652e5,81189e7,8282196e5,8463636e5,8596692e5,8778132e5,8911188e5,9092628e5,9225684e5,9413172e5,954018e6,9727668e5,9854676e5,10042164e5,1017522e6,1035666e6,10489716e5,10671156e5,10804212e5,109917e7,11118708e5,11306196e5,11433204e5,11620692e5,117477e7,11935188e5,12068244e5,12249684e5,1238274e6,1256418e6,12697236e5,12884724e5,13011732e5,14142672e5,null],offsets:[-242.55,-225.0833,-240,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-300,-240,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300],isdsts:[0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Yerevan:{abbrs:["LMT","+03","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+04","+03","+04","+03","+04","+03","+04","+03","+04","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04"],untils:[-144116268e4,-4051404e5,3549168e5,3707244e5,3864528e5,4022604e5,4179888e5,4337964e5,4496112e5,4653432e5,481068e6,4967928e5,5125176e5,5282424e5,5439672e5,559692e6,5754168e5,5911416e5,6068664e5,6225912e5,638316e6,6546456e5,6703704e5,6860988e5,7018236e5,7175484e5,7332732e5,748998e6,7647228e5,7804476e5,7961724e5,8118972e5,8596728e5,8778168e5,8911224e5,9092664e5,922572e6,9413208e5,9540216e5,9727704e5,9854712e5,100422e7,10175256e5,10356696e5,10489752e5,10671192e5,10804248e5,10991736e5,11118744e5,11306232e5,1143324e6,11620728e5,11747736e5,11935224e5,1206828e6,1224972e6,12382776e5,12564216e5,12697272e5,1288476e6,13011768e5,13199256e5,null],offsets:[-178,-180,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-240,-180,-240,-180,-240,-180,-240,-180,-240,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]}},Atlantic:{Azores:{abbrs:["HMT","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","+00","-01","-02","-01","+00","-01","-02","-01","+00","-01","-02","-01","+00","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","WET","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01"],untils:[-18303768e5,-16895484e5,-16777944e5,-166743e7,-16477308e5,-16358076e5,-16161948e5,-1604358e6,-15846588e5,-15727356e5,-15530364e5,-15411996e5,-15215004e5,-14424444e5,-1426806e6,-1379286e6,-13647708e5,-13484412e5,-13333212e5,-13163868e5,-13012668e5,-12843324e5,-12698172e5,-12214332e5,-1206918e6,-11911932e5,-11754684e5,-11276892e5,-11119644e5,-10968444e5,-10805148e5,-10635804e5,-10490652e5,-10333404e5,-10176156e5,-10024956e5,-986166e6,-9692316e5,-9504828e5,-9420156e5,-922662e6,-9069372e5,-891126e6,-877302e6,-8736768e5,-864e9,-8579484e5,-8458524e5,-842832e6,-8313408e5,-825894e6,-8144028e5,-8107776e5,-7998912e5,-7944444e5,-7829532e5,-779328e6,-7684416e5,-7629948e5,-7490844e5,-7333596e5,-717624e6,-7018992e5,-6861744e5,-6704496e5,-6547248e5,-639e9,-5918256e5,-575496e6,-5597712e5,-5440464e5,-5283216e5,-5125968e5,-496872e6,-4811472e5,-4654224e5,-4496976e5,-4339728e5,-4176432e5,-4019184e5,-3861936e5,-3704688e5,-354744e6,-3390192e5,-3232944e5,-3075696e5,-2918448e5,-27612e7,-2603952e5,-2446704e5,-2283408e5,-212616e6,-1968912e5,-1811664e5,-1654416e5,-1497168e5,-133992e6,-1182672e5,2282724e5,2439972e5,2603268e5,2760516e5,2917764e5,3075048e5,323226e6,3389544e5,3546792e5,370404e6,3861288e5,4018536e5,417582e6,4333032e5,449028e6,4653576e5,4810824e5,4968072e5,512532e6,5282568e5,5439816e5,5597064e5,5754312e5,591156e6,6068808e5,6226056e5,6383304e5,65466e7,6703848e5,6861096e5,7018344e5,7175592e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[114.5333,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,0,60,120,60,0,60,120,60,0,60,120,60,0,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,0,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Cape_Verde:{abbrs:["LMT","-02","-01","-02","-01"],untils:[-18303768e5,-8626104e5,-764118e6,18612e7,null],offsets:[94.0667,120,60,120,60],isdsts:[0,0,1,0,0]}},Australia:{Adelaide:{abbrs:["ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT"],untils:[-167256534e4,-16653906e5,-8836398e5,-8761266e5,-8603982e5,-844677e6,-8283438e5,-8132274e5,576882e5,679698e5,891378e5,1000242e5,1205874e5,1314738e5,152037e6,1629234e5,1834866e5,1949778e5,215541e6,2264274e5,2469906e5,257877e6,2784402e5,2893266e5,3098898e5,3207762e5,3413394e5,3522258e5,372789e6,3842802e5,4048434e5,4157298e5,436293e6,4471794e5,4677426e5,478629e6,4991922e5,5112882e5,530037e6,5427378e5,5620914e5,5747922e5,5941458e5,6062418e5,6255954e5,6376914e5,657045e6,6679314e5,6884946e5,7011954e5,7199442e5,7314354e5,7519986e5,7640946e5,7834482e5,796149e6,8148978e5,8282034e5,8463474e5,859653e6,877797e6,8911026e5,9092466e5,9225522e5,941301e6,9540018e5,9727506e5,9854514e5,10042002e5,10175058e5,10356498e5,10489554e5,10670994e5,1080405e6,10991538e5,11118546e5,11306034e5,1143909e6,1162053e6,11747538e5,11935026e5,1207413e6,12231378e5,12388626e5,12545874e5,12703122e5,1286037e6,13017618e5,13174866e5,13332114e5,1349541e6,13652658e5,13809906e5,13967154e5,14124402e5,1428165e6,14438898e5,14596146e5,14753394e5,14910642e5,1506789e6,15225138e5,15388434e5,15545682e5,1570293e6,15860178e5,16017426e5,16174674e5,16331922e5,1648917e6,16646418e5,16803666e5,16960914e5,1712421e6,17281458e5,17438706e5,17595954e5,17753202e5,1791045e6,18067698e5,18224946e5,18382194e5,18539442e5,1869669e6,18859986e5,19017234e5,19174482e5,1933173e6,19488978e5,19646226e5,19803474e5,19960722e5,2011797e6,20275218e5,20432466e5,20589714e5,2075301e6,20910258e5,21067506e5,21224754e5,21382002e5,null],offsets:[-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]},Brisbane:{abbrs:["AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST"],untils:[-167256714e4,-16653924e5,-8836416e5,-8761284e5,-8604e8,-8446788e5,-8283456e5,-8132292e5,576864e5,67968e6,6255936e5,63648e7,6570432e5,6679296e5,6884928e5,6993792e5,null],offsets:[-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Darwin:{abbrs:["ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST"],untils:[-167256534e4,-16653906e5,-8836398e5,-8761266e5,-8603982e5,-844677e6,-8283438e5,-8132274e5,null],offsets:[-570,-630,-570,-630,-570,-630,-570,-630,-570],isdsts:[0,1,0,1,0,1,0,1,0]},Hobart:{abbrs:["AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT"],untils:[-16805088e5,-16653924e5,-8836416e5,-8761284e5,-8604e8,-8446788e5,-8283456e5,-8132292e5,-71136e6,-554112e5,-372672e5,-25776e6,-58176e5,56736e5,25632e6,37728e6,576864e5,67968e6,89136e6,1000224e5,1205856e5,131472e6,1520352e5,1629216e5,1834848e5,194976e6,2155392e5,2264256e5,2469888e5,2578752e5,2784384e5,2893248e5,309888e6,3207744e5,3413376e5,352224e6,3727872e5,3860928e5,4048416e5,4175424e5,4362912e5,4471776e5,4677408e5,4786272e5,4991904e5,5100768e5,5300352e5,542736e6,5620896e5,5747904e5,594144e6,60624e7,6255936e5,6376896e5,6570432e5,6703488e5,6866784e5,7017984e5,718128e6,733248e6,7495776e5,7646976e5,7810272e5,7961472e5,8124768e5,8282016e5,8445312e5,8596512e5,8759808e5,8911008e5,9074304e5,9225504e5,93888e7,954e9,9673056e5,9854496e5,1002384e6,1017504e6,10338336e5,10489536e5,10652832e5,10804032e5,10967328e5,11118528e5,11281824e5,11439072e5,1159632e6,1174752e6,11916864e5,12074112e5,1223136e6,12388608e5,12545856e5,12703104e5,12860352e5,130176e7,13174848e5,13332096e5,13495392e5,1365264e6,13809888e5,13967136e5,14124384e5,14281632e5,1443888e6,14596128e5,14753376e5,14910624e5,15067872e5,1522512e6,15388416e5,15545664e5,15702912e5,1586016e6,16017408e5,16174656e5,16331904e5,16489152e5,166464e7,16803648e5,16960896e5,17124192e5,1728144e6,17438688e5,17595936e5,17753184e5,17910432e5,1806768e6,18224928e5,18382176e5,18539424e5,18696672e5,18859968e5,19017216e5,19174464e5,19331712e5,1948896e6,19646208e5,19803456e5,19960704e5,20117952e5,202752e7,20432448e5,20589696e5,20752992e5,2091024e6,21067488e5,21224736e5,21381984e5,null],offsets:[-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]},Perth:{abbrs:["AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST"],untils:[-167255994e4,-16653852e5,-8836344e5,-8761212e5,-8603928e5,-8446716e5,1520424e5,1629288e5,4362984e5,4471848e5,6903144e5,6993864e5,11650824e5,11747592e5,1193508e6,12068136e5,12249576e5,12382632e5,null],offsets:[-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Sydney:{abbrs:["AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT"],untils:[-167256714e4,-16653924e5,-8836416e5,-8761284e5,-8604e8,-8446788e5,-8283456e5,-8132292e5,576864e5,67968e6,89136e6,1000224e5,1205856e5,131472e6,1520352e5,1629216e5,1834848e5,194976e6,2155392e5,2264256e5,2469888e5,2578752e5,2784384e5,2893248e5,309888e6,3207744e5,3413376e5,352224e6,3727872e5,3866976e5,4048416e5,415728e6,4362912e5,4471776e5,4677408e5,4786272e5,4991904e5,5112864e5,5300352e5,542736e6,5620896e5,5747904e5,594144e6,60624e7,6255936e5,63648e7,6570432e5,6679296e5,6884928e5,6993792e5,7199424e5,7314336e5,7519968e5,7628832e5,7834464e5,7943328e5,814896e6,8282016e5,8463456e5,8596512e5,8777952e5,8911008e5,9092448e5,9225504e5,9412992e5,954e9,9673056e5,9854496e5,10041984e5,1017504e6,1035648e6,10489536e5,10670976e5,10804032e5,1099152e6,11118528e5,11306016e5,11439072e5,11620512e5,1174752e6,11935008e5,12074112e5,1223136e6,12388608e5,12545856e5,12703104e5,12860352e5,130176e7,13174848e5,13332096e5,13495392e5,1365264e6,13809888e5,13967136e5,14124384e5,14281632e5,1443888e6,14596128e5,14753376e5,14910624e5,15067872e5,1522512e6,15388416e5,15545664e5,15702912e5,1586016e6,16017408e5,16174656e5,16331904e5,16489152e5,166464e7,16803648e5,16960896e5,17124192e5,1728144e6,17438688e5,17595936e5,17753184e5,17910432e5,1806768e6,18224928e5,18382176e5,18539424e5,18696672e5,18859968e5,19017216e5,19174464e5,19331712e5,1948896e6,19646208e5,19803456e5,19960704e5,20117952e5,202752e7,20432448e5,20589696e5,20752992e5,2091024e6,21067488e5,21224736e5,21381984e5,null],offsets:[-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]}},Etc:{"GMT+12":{abbrs:["-12"],untils:[null],offsets:[720],isdsts:[0]},"GMT-12":{abbrs:["+12"],untils:[null],offsets:[-720],isdsts:[0]},GMT:{abbrs:["GMT"],untils:[null],offsets:[0],isdsts:[0]},UTC:{abbrs:["UTC"],untils:[null],offsets:[0],isdsts:[0]}},Europe:{Belgrade:{abbrs:["CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET"],untils:[-9058248e5,-8572572e5,-8445564e5,-8282268e5,-812502e6,-7967772e5,-777942e6,-7666236e5,4175748e5,4332996e5,4490244e5,465354e6,4810788e5,4968036e5,5125284e5,5282532e5,543978e6,5597028e5,5754276e5,5911524e5,6068772e5,622602e6,6383268e5,6546564e5,6703812e5,686106e6,7018308e5,7175556e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Berlin:{abbrs:["CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CEMT","CEST","CET","CEST","CET","CEST","CEMT","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET"],untils:[-16937064e5,-16804836e5,-16634556e5,-165015e7,-1632006e6,-16187004e5,-9389052e5,-8572572e5,-8445564e5,-8282268e5,-812502e6,-7967772e5,-7810524e5,-7765632e5,-765936e6,-7611804e5,-7484796e5,-7332732e5,-7176312e5,-7146108e5,-7103808e5,-70191e7,-6849756e5,-6704604e5,-6541308e5,-6390108e5,3238308e5,3389508e5,3546756e5,3704004e5,3861252e5,40185e7,4175748e5,4332996e5,4490244e5,465354e6,4810788e5,4968036e5,5125284e5,5282532e5,543978e6,5597028e5,5754276e5,5911524e5,6068772e5,622602e6,6383268e5,6546564e5,6703812e5,686106e6,7018308e5,7175556e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-180,-120,-60,-120,-60,-120,-180,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,0,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Bucharest:{abbrs:["BMT","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET"],untils:[-1213148664e3,-11870568e5,-11754792e5,-11597544e5,-11440296e5,-11277e8,-11119752e5,-10962504e5,-10805256e5,-10648008e5,-1049076e6,-10333512e5,-10176264e5,-10019016e5,-9861768e5,-970452e6,-9547272e5,296604e6,3074868e5,3238164e5,33894e7,354672e6,3703968e5,3861216e5,4018464e5,4175712e5,433296e6,4490208e5,4653504e5,4810752e5,4968e8,5125248e5,5282496e5,5439744e5,5596992e5,575424e6,5911488e5,6068736e5,6225984e5,6383232e5,6546528e5,6703704e5,6860952e5,70182e7,7175448e5,7332696e5,7489944e5,7647192e5,7804404e5,7961688e5,81189e7,8282232e5,8463636e5,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-104.4,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Kiev:{abbrs:["KMT","EET","MSK","CEST","CET","CEST","CET","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET"],untils:[-1441159324e3,-12475368e5,-8925228e5,-8572572e5,-8445564e5,-8282268e5,-8253828e5,3549204e5,370728e6,3864564e5,402264e6,4179924e5,4338e8,4496148e5,4653468e5,4810716e5,4967964e5,5125212e5,528246e6,5439708e5,5596956e5,5754204e5,5911452e5,60687e7,6225948e5,6383196e5,6467832e5,6861024e5,70182e7,7175412e5,7332696e5,7489908e5,7647192e5,7804404e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-122.0667,-120,-180,-120,-60,-120,-60,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120],isdsts:[0,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},London:{abbrs:["GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","BDST","BST","BDST","BST","BDST","BST","BDST","BST","BDST","BST","GMT","BST","GMT","BST","BDST","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT"],untils:[-1691964e6,-16804728e5,-16641432e5,-16501464e5,-16339032e5,-16174872e5,-16018488e5,-15860376e5,-15703992e5,-15521688e5,-15383448e5,-15225336e5,-15075e8,-14905656e5,-14736312e5,-14609304e5,-14427864e5,-1428876e6,-1410732e6,-13962168e5,-13792824e5,-13647672e5,-13484376e5,-13333176e5,-13157784e5,-13012632e5,-12843288e5,-12698136e5,-1253484e6,-1238364e6,-12214296e5,-12069144e5,-118998e7,-11754648e5,-11591352e5,-11434104e5,-1126476e6,-11119608e5,-10956312e5,-10805112e5,-10635768e5,-10490616e5,-10321272e5,-1017612e6,-10012824e5,-9861624e5,-969228e6,-9504792e5,-942012e6,-904518e6,-8960508e5,-8754876e5,-8646012e5,-844038e6,-8325468e5,-8125884e5,-7980732e5,-7810524e5,-7720668e5,-7648056e5,-748476e6,-733356e6,-7194456e5,-71703e7,-7067484e5,-6994872e5,-687996e6,-6680376e5,-654732e6,-636588e6,-6220728e5,-6057432e5,-5906232e5,-5742936e5,-5585688e5,-5422392e5,-5271192e5,-512604e6,-4962744e5,-4811544e5,-46422e7,-4497048e5,-4321656e5,-4176504e5,-4013208e5,-3862008e5,-3692664e5,-3547512e5,-3378168e5,-3233016e5,-306972e6,-291852e6,-276732e6,-2579832e5,-2452824e5,-2265336e5,-213228e6,-195084e6,-1823832e5,-1636344e5,-1509336e5,-1321848e5,-119484e6,-1007352e5,-880344e5,-686808e5,-59004e6,-37242e6,577224e5,698184e5,89172e6,101268e6,1206216e5,1327176e5,1520712e5,1641672e5,1835208e5,1962216e5,2149704e5,2276712e5,24642e7,2591208e5,2784744e5,2905704e5,309924e6,32202e7,3413736e5,3546756e5,3728196e5,3861252e5,4042692e5,4175748e5,4357188e5,4490244e5,4677732e5,4810788e5,4992228e5,5125284e5,5306724e5,543978e6,562122e6,5754276e5,5935716e5,6068772e5,625626e6,6383268e5,6570756e5,6703812e5,6885252e5,7018308e5,7199748e5,7332804e5,7514244e5,76473e7,782874e6,7961796e5,8143236e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,0,-60,0,-60,-120,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Moscow:{abbrs:["MMT","MMT","MST","MMT","MDST","MST","MDST","MSD","MSK","MSD","+05","MSD","MSK","EET","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","EEST","EET","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSK","MSK"],untils:[-1688265017e3,-1656819079e3,-1641353479e3,-1627965079e3,-1618716679e3,-1596429079e3,-15938208e5,-15898608e5,-15424272e5,-15394932e5,-15253236e5,-1522728e6,-14911884e5,-12475368e5,3549204e5,370728e6,3864564e5,402264e6,4179924e5,4338e8,4496148e5,4653468e5,4810716e5,4967964e5,5125212e5,528246e6,5439708e5,5596956e5,5754204e5,5911452e5,60687e7,6225948e5,6383196e5,6546492e5,670374e6,6861024e5,6957792e5,7018236e5,7175484e5,7332732e5,748998e6,7647228e5,7804476e5,7961724e5,8118972e5,8282268e5,8463708e5,8596764e5,8778204e5,891126e6,90927e7,9225756e5,9413244e5,9540252e5,972774e6,9854748e5,10042236e5,10175292e5,10356732e5,10489788e5,10671228e5,10804284e5,10991772e5,1111878e6,11306268e5,11433276e5,11620764e5,11747772e5,1193526e6,12068316e5,12249756e5,12382812e5,12564252e5,12697308e5,12884796e5,13011804e5,14142744e5,null],offsets:[-150.2833,-151.3167,-211.3167,-151.3167,-271.3167,-211.3167,-271.3167,-240,-180,-240,-300,-240,-180,-120,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-180,-120,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180],isdsts:[0,0,1,0,1,1,1,1,0,1,1,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Paris:{abbrs:["PMT","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","CEST","CET","CEST","CET","CEST","WEMT","WEST","WEMT","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET"],untils:[-1855958901e3,-16898148e5,-16803972e5,-16653636e5,-16483428e5,-16351236e5,-16168932e5,-16042788e5,-15854436e5,-15740388e5,-1552266e6,-15399972e5,-15205572e5,-15075108e5,-14905764e5,-1470618e6,-14591268e5,-14440068e5,-14276772e5,-14119524e5,-13962276e5,-13792932e5,-1364778e6,-13484484e5,-13333284e5,-1316394e6,-1301274e6,-12843396e5,-12698244e5,-12534948e5,-12383748e5,-12214404e5,-12069252e5,-11912004e5,-11754756e5,-11603556e5,-11434212e5,-11276964e5,-11119716e5,-10968516e5,-1080522e6,-10635876e5,-10490724e5,-10333476e5,-10176228e5,-10025028e5,-9861732e5,-9692388e5,-95049e7,-942012e6,-932436e6,-8572572e5,-8445564e5,-8282268e5,-812502e6,-8000712e5,-796266e6,-7810524e5,-7666236e5,1968192e5,2125404e5,2288772e5,2439972e5,2603268e5,2760516e5,2917764e5,3075012e5,3238308e5,3389508e5,3546756e5,3704004e5,3861252e5,40185e7,4175748e5,4332996e5,4490244e5,465354e6,4810788e5,4968036e5,5125284e5,5282532e5,543978e6,5597028e5,5754276e5,5911524e5,6068772e5,622602e6,6383268e5,6546564e5,6703812e5,686106e6,7018308e5,7175556e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-9.35,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,-120,-60,-120,-60,-120,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Warsaw:{abbrs:["WMT","CET","CEST","CET","CEST","CET","CEST","EET","EEST","EET","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET"],untils:[-171703224e4,-16937064e5,-16804836e5,-16634556e5,-165015e7,-1632006e6,-16187004e5,-16004736e5,-1587168e6,-15017256e5,-931734e6,-8572572e5,-8445564e5,-8282268e5,-812502e6,-796608e6,-7787268e5,-76266e7,-7484868e5,-7332732e5,-7152156e5,-70191e7,-6849756e5,-6704604e5,-6541308e5,-6390108e5,-3970944e5,-3868128e5,-371088e6,-3553632e5,-3341952e5,-3233088e5,-307584e6,-2918592e5,-271296e6,-2604096e5,-2398464e5,-22896e7,-2083968e5,-1975104e5,-1763424e5,-1660608e5,2288736e5,2439936e5,2603232e5,276048e6,2917728e5,3074976e5,3238272e5,3389472e5,354672e6,3703968e5,3861216e5,4018464e5,4175712e5,433296e6,4490208e5,4653504e5,4810752e5,4968e8,5125248e5,5282496e5,5439744e5,5596992e5,5754276e5,5911524e5,6068772e5,622602e6,6383268e5,6546564e5,6703812e5,686106e6,7018308e5,7175556e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-84,-60,-120,-60,-120,-60,-120,-120,-180,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60],isdsts:[0,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]}},Pacific:{Apia:{abbrs:["LMT","-1130","-11","-10","-11","-10","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14"],untils:[-1861878784e3,-6311106e5,12854988e5,13017528e5,13168728e5,13252392e5,13332024e5,13489272e5,13652568e5,13803768e5,13967064e5,14118264e5,1428156e6,1443276e6,14596056e5,14747256e5,14910552e5,15061752e5,15225048e5,15382296e5,15545592e5,15696792e5,15860088e5,16011288e5,16174584e5,16325784e5,1648908e6,1664028e6,16803576e5,16954776e5,1712412e6,1727532e6,17438616e5,17589816e5,17753112e5,17904312e5,18067608e5,18218808e5,18382104e5,18533304e5,186966e7,18853848e5,19017144e5,19168344e5,1933164e6,1948284e6,19646136e5,19797336e5,19960632e5,20111832e5,20275128e5,20426328e5,20589624e5,20746872e5,20910168e5,21061368e5,21224664e5,21375864e5,null],offsets:[686.9333,690,660,600,660,600,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840],isdsts:[0,0,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]},Auckland:{abbrs:["NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT"],untils:[-1330335e6,-1320057e6,-13006998e5,-1287396e6,-12692502e5,-12559464e5,-12378006e5,-12244968e5,-1206351e6,-11924424e5,-11749014e5,-11609928e5,-11434518e5,-11259144e5,-1112607e6,-10944648e5,-10811574e5,-10630152e5,-10497078e5,-10315656e5,-10182582e5,-1000116e6,-9868086e5,-9680616e5,-955359e6,-936612e6,-9233046e5,-7574256e5,1526328e5,1623096e5,1834776e5,1949688e5,215532e6,2264184e5,2469816e5,257868e6,2784312e5,2893176e5,3098808e5,3207672e5,3413304e5,3522168e5,37278e7,3842712e5,4048344e5,4157208e5,436284e6,4471704e5,4677336e5,47862e7,4991832e5,5100696e5,5306328e5,5415192e5,5620824e5,5735736e5,5941368e5,6050232e5,623772e6,6376824e5,6552216e5,669132e6,6866712e5,7005816e5,7181208e5,732636e6,7495704e5,7640856e5,78102e7,7955352e5,8124696e5,8269848e5,844524e6,8584344e5,8759736e5,889884e6,9074232e5,9219384e5,9388728e5,953388e6,9703224e5,9848376e5,10023768e5,10162872e5,10338264e5,10477368e5,1065276e6,10797912e5,10967256e5,11112408e5,11281752e5,11426904e5,11596248e5,117414e7,11910744e5,1207404e6,1222524e6,12388536e5,12539736e5,12703032e5,12854232e5,13017528e5,13168728e5,13332024e5,13489272e5,13652568e5,13803768e5,13967064e5,14118264e5,1428156e6,1443276e6,14596056e5,14747256e5,14910552e5,15061752e5,15225048e5,15382296e5,15545592e5,15696792e5,15860088e5,16011288e5,16174584e5,16325784e5,1648908e6,1664028e6,16803576e5,16954776e5,1712412e6,1727532e6,17438616e5,17589816e5,17753112e5,17904312e5,18067608e5,18218808e5,18382104e5,18533304e5,186966e7,18853848e5,19017144e5,19168344e5,1933164e6,1948284e6,19646136e5,19797336e5,19960632e5,20111832e5,20275128e5,20426328e5,20589624e5,20746872e5,20910168e5,21061368e5,21224664e5,21375864e5,null],offsets:[-690,-750,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]},Fiji:{abbrs:["LMT","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12"],untils:[-1709985344e3,9098424e5,920124e6,9418968e5,9515736e5,12594168e5,12696984e5,12878424e5,12993336e5,1319292e6,13271544e5,13507416e5,1358604e6,1382796e6,139005e7,14148504e5,14215032e5,14463e8,14529528e5,14783544e5,14844024e5,1509804e6,1515852e6,15412536e5,15473016e5,15727032e5,1579356e6,16041528e5,16108056e5,16362072e5,16422552e5,16676568e5,16737048e5,16991064e5,17051544e5,1730556e6,17372088e5,17620056e5,17686584e5,17934552e5,1800108e6,18255096e5,18315576e5,18569592e5,18630072e5,18884088e5,18944568e5,19198584e5,19265112e5,1951308e6,19579608e5,19833624e5,19894104e5,2014812e6,202086e7,20462616e5,20523096e5,20777112e5,20837592e5,21091608e5,21158136e5,21406104e5,21472632e5,null],offsets:[-715.7333,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Guadalcanal:{abbrs:["LMT","+11"],untils:[-1806748788e3,null],offsets:[-639.8,-660],isdsts:[0,0]},Guam:{abbrs:["GST","+09","GST","GDT","GST","GDT","GST","GDT","GST","GDT","GST","GDT","GST","GDT","GST","GDT","GST","GDT","GST","ChST"],untils:[-8855496e5,-8022564e5,-3318912e5,-28161e7,-73728e6,-2941554e4,-16704e6,-106596e5,99072e5,213948e5,413568e5,528444e5,1248192e5,1308636e5,201888e6,20948766e4,2306592e5,241542e6,9774936e5,null],offsets:[-600,-540,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-600],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0]},Honolulu:{abbrs:["HST","HDT","HST","HWT","HPT","HST","HST"],untils:[-1157283e6,-11554362e5,-8801982e5,-7693956e5,-7653762e5,-7121502e5,null],offsets:[630,570,630,570,570,630,600],isdsts:[0,1,0,1,1,0,0]},Port_Moresby:{abbrs:["+10"],untils:[null],offsets:[-600],isdsts:[0]},Tongatapu:{abbrs:["+1220","+13","+14","+13","+14","+13","+14","+13","+14","+13"],untils:[-9151932e5,9392148e5,9533844e5,9733428e5,9805968e5,10047924e5,10120464e5,14783508e5,14843988e5,null],offsets:[-740,-780,-840,-780,-840,-780,-840,-780,-840,-780],isdsts:[0,0,1,0,1,0,1,0,1,0]}}}});var xh,Eh,Ih,Rh,Bh,Lh,Mh,Fh,Hh,Oh,Nh,kh,Wh,Gh,Uh,zh,jh,Yh,Xh,qh,Kh,Zh,Qh,Jh,$h,ed,td,id,rd,ad,nd,od,sd,ld,ud,hd,dd,cd,pd,md={getTimezoneFromIndex:function(e){e=xh[e];return e?e.tz:null},getTimezoneFromName:function(e){for(var t in xh){t=xh[t];if(t.name===e)return t.tz}return null},getSupportedTimeZones:function(){return xh},getTimeZoneJson:function(){return Eh}},al=(Lh=Bh=!1,Fh=30,Hh=null,Oh=[],Nh=["+"],kh=["short","medium","long","full"],Wh=["D","T","S","P"],Gh=["#","0",",","."],Uh={count:0,first:"",last:""},jh=!(zh={count:0,first:"",last:""}),Yh=[{1025:"ar-SA",1026:"bg",1027:"ca-ES-VALENCIA",1029:"cs",1030:"da",1031:"de",1032:"el",1033:"en-US-POSIX",1034:"es",1035:"fi",1036:"fr",1037:"he",1038:"hu",1039:"is",1040:"it",1041:"ja",1042:"ko",1043:"nl",1044:"nb",1045:"pl",1048:"ro",1049:"ru",1028:"zh-Hant",1046:"pt",1047:"en"},{1050:"hr",1051:"sk",1052:"sq",1053:"sv",1054:"th",1055:"tr",1056:"ur",1057:"id",1058:"uk",1059:"be",1060:"sl",1061:"et",1062:"lv",1063:"lt",1065:"fa",1066:"vi",1067:"hy",1068:"az-Latn",1069:"eu",1071:"mk",1064:"fa",1070:"de",1072:"fr-GN",1073:"en-ZA",1074:"en-BW"},{1077:"zu",1078:"af",1079:"ka",1080:"fo",1081:"hi",1086:"ms",1087:"kk",1088:"ky",1089:"sw-KE",1091:"uz-Latn",1092:"ru",1093:"bn-IN",1094:"pa",1095:"gu",1097:"ta",1098:"te",1099:"kn",1075:"en",1076:"en-ZA",1082:"en",1083:"fi",1084:"en-GB",1085:"he",1090:"tr",1096:"en-IN"},{1100:"ms",1102:"mr",1104:"mn",1106:"cy",1107:"km",1108:"lo",1109:"my",1110:"gl",1115:"si",1121:"ne",1124:"fil",1101:"en-IN",1103:"en-IN",1105:"zh-Hans",1111:"en-IN",1112:"en-IN",1113:"en-IN",1114:"ar-SY",1116:"en-US-POSIX",1117:"en-CA",1118:"am",1119:"ar-MA",1120:"en-IN",1122:"nl",1123:"en"},{1125:"en",1127:"en-NG",1128:"en-NG",1129:"en-NG",1130:"en-NG",1131:"es-BO",1133:"ru",1134:"fr-LU",1136:"en-NG",1138:"am",1139:"ar-ER",1140:"es-PY",1141:"en-US-POSIX",1142:"it",1143:"ar-SO",1145:"nl",1148:"en-CA",1150:"fr",1152:"zh-Hans",1153:"en-NZ",1154:"es",1155:"fr",1157:"ru",1159:"en-RW",1160:"en-NG",1126:"en-NG",1132:"en-ZA",1135:"da",1137:"en-NG",1144:"zh-Hans",1146:"es-CL",1156:"fr",1158:"es-GT",1164:"fa-AF",1289:"en-US-POSIX"},{2049:"ar-IQ",2052:"zh-Hans",2055:"de-CH",2057:"en-GB",2058:"es-MX",2060:"fr-BE",2064:"it-CH",2067:"nl-BE",2070:"pt-PT",2072:"ro-MD",2073:"ru-MD",2074:"sr-Latn",2077:"sv-FI",2080:"ur-IN",2092:"az",2108:"ga",2110:"ms-BN",2115:"uz",2118:"pa",2128:"mn",2145:"ne-IN",2068:"nb",2117:"bn",2129:"zh-Hans",2137:"en-PK",2143:"ar-MA",2144:"en-IN",2155:"es-EC",2163:"am"},{3073:"ar-EG",3076:"zh-Hans-HK",3079:"de-AT",3081:"en-AU",3084:"fr-CA",3098:"sr-Cyrl",4097:"ar-LY",4100:"zh-Hans-SG",4103:"de-LU",4105:"en-CA",4106:"es-GT",4108:"fr-CH",4122:"hr-BA",5121:"ar-DZ",5124:"zh-Hans-MO",5127:"de-LI",5129:"en-NZ",5130:"es-CR",5132:"fr-LU",5146:"bs-Latn",6145:"ar-MA",6153:"en-IE",6154:"es-PA",6156:"fr-MC",3082:"es",3179:"es-PE"},{7169:"ar-TN",7177:"en-ZA",7178:"es-DO",8193:"ar-OM",8201:"en-JM",8202:"es-VE",8204:"fr-RE",9217:"ar-YE",9226:"es-CO",9228:"fr-CD",10241:"ar-SY",10249:"en-BZ",10250:"es-PE",10252:"fr-SN",11265:"ar-JO",11273:"en-TT",11274:"es-AR",11276:"fr-CM",12289:"ar-LB",12297:"en-ZW",12298:"es-EC",12300:"fr-CI",7180:"fr",9225:"en"},{13313:"ar-KW",13321:"en-PH",13322:"es-CL",13324:"fr-ML",14337:"ar-AE",14345:"en-IO",14346:"es-UY",14348:"fr-MR",15361:"ar-BH",15369:"en-HK",15370:"es-PY",15372:"fr-HT",16385:"ar-QA",16393:"en-IN",16394:"es-BO",17417:"en-MY",17418:"es-SV",18441:"en-SI",18442:"es-HN",19466:"es-NI",20490:"es-PR",21514:"es-US",22538:"es",58380:"fr",25626:"bs"}],qh=(Xh=function(e){var t=null;return(t=e<1125?e<1075?e<1050?Yh[0]:Yh[1]:e<1100?Yh[2]:Yh[3]:e<3073?e<2049?Yh[4]:Yh[5]:e<7169?Yh[6]:e<13313?Yh[7]:Yh[8])?t[e]:void 0})(Mh=1033),Kh=function(e){return 4===(e="string"==typeof e?parseInt(e,10):e)?"zh-Hans":null==e||"number"!=typeof e||e<1025||58380<e?void 0:Xh(e)},Zh=function(e){return-1!==Oh.indexOf(e)},Qh=function(e,t){var i=jh?[]:[t+"/supplemental/likelySubtags.json",t+"/supplemental/numberingSystems.json",t+"/supplemental/ordinals.json",t+"/supplemental/metaZones.json",t+"/supplemental/timeData.json",t+"/supplemental/weekData.json"];return i.concat([t+"/main/"+e+"/ca-gregorian.json",t+"/main/"+e+"/timeZoneNames.json",t+"/main/"+e+"/numbers.json",t+"/main/"+e+"/dateFields.json"])},Jh=function(e){var t=e.length,i=!1;return Bh||(U.a.loadTimeZone(md.getTimeZoneJson()),Bh=!0),e.forEach(function(e){D.ajax({dataType:"json",url:e,success:function(e){t--,U.a.load(e),0===t&&(i=jh=!0)},async:!1})}),i},$h=function(e){return Bh||(U.a.loadTimeZone(md.getTimeZoneJson()),Bh=!0),Lh||D.ajax({dataType:"json",url:e,success:function(e){for(var t=0;t<e.length;t++){var i=e[t];U.a.load(i)}Lh=!0},async:!1}),Lh},ed=function(e,t){var i;e=e||(qh=qh||Kh(Mh)),t.endsWith(".json")?e!==Hh&&($h(t),i=U.a.locale(e),Hh=(null!==i.attributes.bundle||(e=Kh(Mh),U.a.locale(e)),e)):Zh(e)?e!==Hh&&(U.a.locale(e),Hh=e):(i=Qh(e,t),Jh(i)?(U.a.locale(e),Hh=e,Oh.push(e)):(e=Kh(Mh),U.a.locale(e),Hh=e))},id=function(e){var t,i={prefix:"+",suffix:""},e=e.runtimeArgs;return e&&e[0]&&(t=(e=e[0])[18]||{"+":"+"},i.prefix=""!==e[0]?e[0]:t["+"],i.suffix=""!==e[10]?e[10]:""),i},rd=function(e){for(var t=0;"S"===e[t]&&t<e.length;)t++;return t},sd={B:{convertValue:Pd,initTypeOpts:function(){return{minDigits:1,blocksize:4}},mapArgsToOpts:function(e,t){var i=Sd(e.params[0]);isNaN(i)||(i=Math.floor(i),t.minDigits=i=i<1?1:64<i?64:i),i=Sd(e.params[1]),isNaN(i)||(i=Math.floor(i),t.blocksize=i=i<0?0:8<i?8:i)},format:function(e,t,i){var e=td.dec2bin(e),r=i.minDigits-e.length,r=bd(r);return Cd(r+e,i.blocksize)},localized:!(Rh="0123456789abcdef")},H:{convertValue:Pd,initTypeOpts:function(){return{minDigits:1,blocksize:4}},mapArgsToOpts:function(e,t){var i=Sd(e.params[0]);isNaN(i)||(i=Math.floor(i),t.minDigits=i=i<1?1:16<i?16:i),i=Sd(e.params[1]),isNaN(i)||(i=Math.floor(i),t.blocksize=i=i<0?0:8<i?8:i)},format:function(e,t,i){var e=td.dec2hex(e),r=i.minDigits-e.length,r=bd(r);return e=e.toUpperCase(),e=Cd(e=r+e,i.blocksize)},localized:!(Ih="0123456789")},I:{convertValue:Pd,initTypeOpts:function(){return{prefix:"",minDigits:1}},mapArgsToOpts:function(e,t){var i=e.prefix;"string"==typeof i&&(t.prefix=i),i=Sd(e.params[0]),isNaN(i)||(t.minDigits=i<1?1:8<i?8:i)},format:function(e,t,i){var e=e.round(),r=0<e.s?i.prefix:"-",e=e.abs().toString(),a=e.length,i=i.minDigits-a;return r+bd(i)+e},localized:!(od=function(e,t,i,r){var a,n,o;if(i.raw&&!(0<=e)){var s,l,u,h=r(0),d=r(-1)[0];if(-1!==(a=t.indexOf(d)))for(n=t.substring(a+1,t.length);n.length;)n=-1!==(o=n.indexOf(d))?(s=t,u=h,t=s=(l=a+o+1)<0||l>=s.length?s:s.substring(0,l)+u+s.substring(l+1,s.length),a=a+o+1,n.substring(o+1,n.length)):""}return t})},S:{convertValue:Ad,initTypeOpts:function(){return{maxChars:0,trim:!1,upper:!1,lower:!1}},mapArgsToOpts:function(e,t){var i,r=0,a=e.params.length;if(0!==a){if(i=Sd(e.params[r]),!isNaN(i)){if(t.maxChars=i<0?0:99<i?99:i,1===a)return;r++}i=e.params[r],t.trim="trim"===i,r+1<a&&(i=e.params[r+1]),t.lower="lower"===i,t.upper="upper"===i}},format:function(e,t,i){var r;return i.trim&&(e=ad(e)),0<(r=i.maxChars)&&(e=e.substring(0,r)),i.lower?e=e.toLowerCase():i.upper&&(e=e.toUpperCase()),e},localized:!(nd=function(e,t,i){if(1===e.length)return"S"===t?i<100?"0":Math.floor(i/100):i;if(2===e.length){if("S"===t)return i<10?"00":i<100?"0"+Math.floor(i/10):Math.floor(i/10);if(i<10)return"0"+i}if(3===e.length){if(i<10)return"00"+i;if(i<100)return"0"+i}return i})},E:{convertValue:_d,initTypeOpts:function(){return{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},mapArgsToOpts:function(e,t){e=Sd(e.params[0]);!isNaN(e)&&0<=e&&(t.minimumFractionDigits=e=e<1?1:9<e?9:e,t.maximumFractionDigits=e)},format:function(e,t,i){var r,a,n=!0,o=Sd(i.maximumFractionDigits),o=(e=e.toExponential(o)).indexOf("e"),s=e.substring(0,o),s=Sd(s),l=e.substring(o+1,e.length),l=Sd(l),u=fd(i,Hh);return(r=gd(u,Uh))||(r=U.a.numberFormatter(i),n=!1),s=r(s),n||Td(u,Uh,r),a=id(r),o=e.substring(o+1,o+2)===a.prefix?a.prefix:"",(a=i).minimumFractionDigits=0,a.maximumFractionDigits=0,u=fd(i,Hh),(r=gd(u,Uh))||(r=U.a.numberFormatter(i),n=!1),a=r(l),n||Td(u,Uh,r),vd(e,s+"E"+o+a,t,r)},localized:!0},N:{convertValue:_d,initTypeOpts:function(){return{style:"decimal",raw:"#,##0.",minimumFractionDigits:2,maximumFractionDigits:2}},mapArgsToOpts:function(e,t){var i=e.params[0];i&&(ld(i[0])?(e.prefix="",delete t.minimumFractionDigits,delete t.maximumFractionDigits,"."===i[0]&&(i="0"+i),t.raw=i):(i=Sd(e.params[0]),!isNaN(i)&&0<=i&&(t.minimumFractionDigits=i=i<1?1:9<i?9:i,t.maximumFractionDigits=i)))},format:function(e,t,i){var r=!0,a=e,n=fd(i,Hh),o=gd(n,Uh);return o||(o=U.a.numberFormatter(i),r=!1),a=o(a=e<0?-a:a),e<0&&(a="-"+a),r||Td(n,Uh,o),a=od(e,a,i,o),a=vd(e,a,t,o)},localized:!0},F:{convertValue:_d,initTypeOpts:function(){return{style:"decimal",useGrouping:!1,minimumFractionDigits:2,maximumFractionDigits:2}},mapArgsToOpts:function(e,t){e=Sd(e.params[0]);isNaN(e)||(t.minimumFractionDigits=e=e<1?1:9<e?9:e,t.maximumFractionDigits=e)},format:function(e,t,i){var r=!0,a=fd(i,Hh),n=gd(a,Uh);return n||(n=U.a.numberFormatter(i),r=!1),i=n(e),r||Td(a,Uh,n),vd(e,i,t,n)},localized:!0},D:{convertValue:wd,initTypeOpts:function(){return{date:"short"}},mapArgsToOpts:function(e,t){e=e.params[0];e&&(Rd(e)?t.date=e:(delete t.date,xd(e)?t.raw=Ed(e):t.skeleton=e))},format:function(e,t,i,r){var a,n,o=!0,s=Bd(e,r.timeZone);return Vd(s)?(a=yd(i,Hh,r.timeZone),(n=gd(a,zh))||("localtime"!==r.timeZone&&(i.timeZone=r.timeZone),n=U.a.dateFormatter(i),o=!1),r=n(s),o||Td(a,zh,n),r):""+e},localized:!0},T:{convertValue:wd,initTypeOpts:function(){return{time:"medium"}},mapArgsToOpts:function(e,t,i){var r,a,n,o,s,e=e.params[0];e&&(i=i,r=e,(a=t).milliSeconds="",2===(r=r.split(".")).length&&((n=rd(r[1]))&&(o=r[1].substr(n+1),a.time=r[0]+o,n=Math.min(n,3),i=window.DatePrecise(i).getTime(),o=Math.abs(i)%1e3,s=""+(o=Math.floor(o/[1,100,10,1][n])),2===n&&o<10&&(s="0"+o),3===n)&&(o<100&&(s="0"+o),o<10)&&(s="00"+o),a.milliSeconds=s),e=r[0],Rd(e)?t.time=e:(delete t.time,xd(e)?t.raw=Ed(e):t.skeleton=e))},format:function(e,t,i,r){var a,n,o=!0,s=Bd(e,r.timeZone);return Vd(s)?(a=yd(i,Hh,r.timeZone),(n=gd(a,zh))||("localtime"!==r.timeZone&&(i.timeZone=r.timeZone),n=U.a.dateFormatter(i),o=!1),r=function(e,t){t=t.milliSeconds;return e=""!==t&&void 0!==t?e+"."+t:e}(n(s),i),o||Td(a,zh,n),r):""+e},localized:!0},P:{convertValue:_d,initTypeOpts:function(){return{format:""}},mapArgsToOpts:function(e,t){t.format=e.params[0]},format:function(e,t,i){var r,a,n,o="",s="";if(e<0&&(o="-",e*=-1),(r=e)<.5)return 0;if(i=function(e){var t,i,r,a,n,o=[],e=e.split(".");for(2===e.length&&(t=e[1]),"D"===(e=(i=e[0].split(":"))[0])[0]&&(r="D")===(e=e.substring(1,e.length))[0]&&(r="DD","D"===(e=e.substring(1,e.length))[0])&&(r="DDD",e=e.substring(1,e.length)),""!==e?i[0]=e.trim():(i[0]=r,r=""),i.reverse(),a=0,t&&(o[0]=t,a=1),n=0;n<i.length;n++)o[a]=i[n],a++;return r&&(o[o.length]=r),o}(i.format||function(e){var t,i=[!1,!1,!1,!1,!1],r=["S","s","m","h","D"],a=[],n=0,o=0,s="";for(i[0]=1<=+e&&e%1e3!=0,i[1]=1<=e/1e3&&e%6e4!=0,i[2]=1<=e/6e4&&e%36e5!=0,i[3]=1<=e/36e5&&e%864e5!=0,i[4]=1<=e/864e5,t=0;t<=5;t++)a[t]=r[t];for(i[0]&&(i[1]=!0,a[0]="SSS"),i[2]&&(i[1]=!0,a[1]="ss"),i[3]&&(i[1]=!0,i[2]=!0,a[1]="ss",a[2]="mm"),i[4]&&i[3]&&(a[3]="hh"),t=0;t<5;t++)if(i[t]){n=t;break}for(t=4;0<=t;t--)if(i[t]){o=t;break}for(t=n;t<=o;t++)s=a[t]+":"+s;return s.substring(0,s.length-1)}(e)),r=Math.floor(r),n=(e=0)+1===i.length?0:1e3,a=Id(i[e],"S",r,n,".","",!0)){if(s=a+s,e+1===i.length)return o+s;e++}if(n=e+1===i.length?0:60,a=Id(i[e],"s",r/=1e3,n,":","")){if(s=a+s,e+1===i.length)return o+s;e++}if(n=e+1===i.length?0:60,a=Id(i[e],"m",r/=60,n,":","")){if(s=a+s,e+1===i.length)return o+s;e++}if(n=e+1===i.length?0:24,a=Id(i[e],"h",r/=60,n,":","")){if(s=a+s,e+1===i.length)return o+s;e++}return o+(s=(a=Id(i[e],"D",r/=24,0,"","D",!0))?s?a+" "+s.substring(1,s.length):a:s)},localized:!(ad=function(e){e="function"==typeof e.trim?e.trim():e.replace(/^\s+|\s+$/gm,"");return e})}},ld=function(e){return-1!==Gh.indexOf(e)},ud=function(e,t){var i,r,a=0;for(e=ad(e);a<Nh.length;){if(r=Nh[a].length,e.substring(0,r)===Nh[a])return i=e.substring(0,r),t.prefix=function(e){switch(e){default:return e}}(i),e.substring(r,e.length);a++}return e},hd=function(e,t,i){var r=(e=ad(e)).substring(0,1);return ld(r)?(t.symbol="N",i.isPattern=!0):(t.symbol=r,e=e.substring(1,e.length),-1!==Wh.indexOf(r)&&(i=e.indexOf(","),""===e.substring(0,i).trim())&&(e=e.substring(i+1,e.length))),e},dd=function(e,t,i){var r,a;return e=e.indexOf("@")<0&&-1!==(r=e.indexOf(","))?(a=e.substring(0,r),t.params[i]=ad(a),e.substring(r+1,e.length)):(a=e,t.params[i]=ad(a),"")},cd=function(e,t){return t.params[0]=e,""},pd=function(e,t,i,r){var a,n,o=Ld();return o=Md(t,o),t=e,!(a=o).invalid&&("+"===a.prefix&&(n=Sd(t),isNaN(n)||!isNaN(n)&&t<0)&&(a.prefix=""),1)&&(n=Number(e),isNaN(n)||!(1e21<=n||n<=-1e21)||"N"!==o.symbol&&"F"!==o.symbol||(o.symbol="E"),t=sd[o.symbol])?(n=e,null===(e=t.convertValue(e))?(i.formatted=!1,n):(t.localized&&Dd(r.lcid,r.cldrDataPath),a=t.initTypeOpts(),t.mapArgsToOpts(o,a,e),t.format(e,o,a,r))):(i.formatted=!1,e)},{setLocale:function(e,t){var i=Kh(e);void 0===i&&(O.consolLog(O.enumTraceMode.Error,"_loadGlobalize Wrong culture: "+e),i=qh),ed(qh=i,t)},format:function(e,t,i){var r,a=[],n=[],o=!1,s=e;if(i=i||{},null===e)return"";if(!t){if(""!==t)return e;r=""+e,t="number"==typeof e?-1!==r.indexOf("E")||-1!==r.indexOf("e")?"{E}":-1!==r.indexOf(".")?"{F}":"{I}":"{S}"}if(r=Hd(t),Fd(r||t,a)){try{o=function(e,t,i,r){for(var a,n={formatted:!0},o=0,s=0;o<t.length&&!0===n.formatted;)"{"!==t[o][0]?i[o]=t[o]:(a=t[o].substring(1,t[o].length-1),i[o]=pd(e,a,n,r),s+=1),o++;return s||(n.formatted=!1),n.formatted}(e,a,n,i)}catch(e){}o&&(s=function(e){for(var t="",i=0;i<e.length;i++)t+=e[i];return t}(n),r)&&(s=s.replace(/\u008B/g,"{").replace(/\u008C/g,"}"))}return s},format2Type:function(e){var t,i,r=F.enumHmiFieldDataType.String,a=[],n=0,o=null;if(e&&(i=Hd(e),Fd(i||e,a))){for(;n<a.length&&null===o;)"{"===(t=a[n]).charAt(0)&&(o=t.substring(1,t.length-1)),n++;o&&(i=Ld(),r=function(e){var t,i=F;switch(e){case"B":t="Binary";break;case"H":t="Hex";break;case"I":t="Integer";break;case"S":t="String";break;case"E":t="Exponential";break;case"N":t="Decimal";break;case"F":t="Float";break;case"D":t="Date";break;case"T":t="Time";break;case"DT":t="DateTime";break;case"P":t="TimeSpan";break;default:t="String"}return i.enumHmiFieldDataType[t]}(function(e,t){var i,r,a,n="";if("D"===e||"T"===e){for(i="D"===e?"T":"D",r=0;r<t.length&&n!==i;)"{"===(a=t[r]).charAt(0)&&(a=a.substring(1,a.length-1),n=(a=ad(a)).substring(0,1),a.includes("h")||a.includes("H"))&&(n="T"),r++;i===n&&(e="DT")}return e}(Md(o,i).symbol,a)))}return r},baseConverter:td={dec2bin:function(e){return Od(e.toFixed(0),Ih,"01")},bin2dec:function(e){return Od(e.toString().substring(0,64),"01",Ih)},dec2hex:function(e){return Od(e.toFixed(0),Ih,Rh)},hex2dec:function(e){return Od(e.toString().toLowerCase().substring(0,16),Rh,Ih)}},parseDate:function(e,t,i){var r={};return Dd((i=i||{}).lcid,i.cldrDataPath),Rd(t)?r.date=t:xd(t)?r.raw=Ed(t):r.skeleton=t,"localtime"!==i.timeZone&&(r.timeZone=i.timeZone),U.a.dateParser(r)(e)}});function gd(e,t){var i=null,t=t[e];return i=t?t.formatter:i}function Td(e,t,i){var r,i={formatter:i,next:""};t.first||(t.first=e),(r=t.last)&&(t[r].next=e),t[e]=i,t.last=e,t.count=t.count+1,t.count>Fh&&(r=t.first)&&(i=t[r],t.first=i.next,delete t[r],t.count=t.count-1)}function fd(e,t){return t=(t=(t+=void 0!==e.minimumFractionDigits?"minfd"+e.minimumFractionDigits:"")+(void 0!==e.maximumFractionDigits?"maxfd"+e.maximumFractionDigits:""))+(void 0!==e.raw?"raw"+e.raw:"")}function yd(e,t,i){var r=e.raw,a=e.skeleton,n=e.date?"d"+e.date:"",o=e.time?"t"+e.time:"",r=r?"r"+e.raw:"";return r=a?"s"+e.skeleton:r,i?t+n+o+r+i:t+n+o+r}function Dd(e,t){void 0!==e&&(e=Kh(e),ed(e=void 0===e?qh:e,t))}function Sd(e){return""===e?NaN:Number(e)}function bd(e){var t=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000"],i="";if(e<0)return"";for(var r=Math.floor(e/10),a=0;a<r;a++)i+=t[10];return i+=t[e%10]}function Cd(e,t){var i,r,a,n;if(t<=0||t>=e.length)return e;r=Math.ceil(e.length/t),n=e.length,a=e.length-t,i=e.substring(a,n),n=e.length-t,a-=t;for(var o=0;o<r-1;o++)i=e.substring(a,n)+" "+i,n-=t,a-=t;return i=0<n?" "+e.substring(0,n):i}function vd(e,t,i,r){var a={prefix:"",suffix:""};return(a=0<=e&&"+"===i.prefix?id(r):a).prefix+t+a.suffix}function _d(e){return e=Sd(e),isNaN(e)?null:e}function Pd(e){return e=""===(e=e)?NaN:("boolean"==typeof e&&(e=e?1:0),window.Big(e)),isNaN(e)?null:e}function Ad(e){return""+e}function wd(e){return e}function Vd(e){return!isNaN(e.getTime())}function xd(e){return!!e&&-1!==e.indexOf("@")}function Ed(e){var t;return e?-1<(t=e.indexOf("@"))?e.substring(t+1,e.length):e:""}function Id(e,t,i,r,a,n,o){var s="";return(e===t||e===t+t||o&&e===t+t+t)&&(o=r?Math.floor(i%r):Math.floor(i),s=(r?a:"")+nd(e,t,o)+n),s}function Rd(e){return"string"==typeof e&&-1!==kh.indexOf(e)}function Bd(e,t){var i=window.DatePrecise(e).toDate();return t?i:(e=i.getTime()+6e4*i.getTimezoneOffset(),new Date(e))}function Ld(){return{invalid:!0,prefix:"",symbol:"",params:[]}}function Md(e,t){var i=0,r={isPattern:!1};if(e){if(e=ud(e,t),e=hd(e,t,r),r.isPattern)e=cd(e,t);else for(;e.length;)e=dd(e,t,i),i++;t.invalid=!1}return t}function Fd(e,t){for(var i,r=0;e.length;)if(-1===(i=e.indexOf("{")))t[r]=e.substring(0,e.length),e="";else{if(0!==i&&(t[r]=e.substring(0,i),e=e.substring(i,e.length),r++),-1===(i=e.indexOf("}")))return!1;t[r]=e.substring(0,i+1),e=e.substring(i+1,e.length),r++}return!0}function Hd(e){return"string"!=typeof e||-1===e.indexOf("\\")?null:e.replace(/\\r\\n/g,"").replace(/\\n/g,"").replace(/\\\\/g,"\\").replace(/\\{/g,"").replace(/\\}/g,"")}function Od(e,t,i){for(var r=window.Big(t.length),a=window.Big(i.length),n=window.Big(0),o=e.length,s=0,l=0;l<o;l++)n=n.mul(r).add(t.indexOf(e.charAt(l)));if(!n.lt(0)){for(var u=n.mod(a).round(0,0),h=i.charAt(u),d=n.div(a);d.gte(1);)if(u=d.mod(a).round(0,0),d=d.div(a),h=i.charAt(u)+h,100<(s+=1)){h=void 0;break}return h}}al.Timezone=md;function Nd(e){function t(){return!0}function o(){var e=u;return Array.isArray(e)?e.length:0}function r(t){var i=u;if(Array.isArray(i))for(let e=0;e<i.length;e++)if(i[e].ElementID===t)return e;return-1}function s(e,t){return!(e<T(t)||e>f(t))}var i,a,n,l,u=e.props.Layers,h={},d={},c=S.maxZoomFactor,p=S.minZoomFactor,m=0,g=function(e){var t;return t=void 0!==u?u[e]:t},T=function(e){e=g(e);return void 0!==e?M.getPropPart(e,"LayerPart","MinimumZoom"):p},f=function(e){e=g(e);return void 0!==e?M.getPropPart(e,"LayerPart","MaximumZoom"):c},y=u;if(void 0!==y)for(n=o(),i=0;i<n;i++)a=(l=y[i]).ElementID||0,M.getPropPart(l,"LayerPart","Visible")?d[a]=h[a]=!0:d[a]=h[a]=!1;return{getRTLayerMask:function(){return h},getObjectMinDeclutterSize:function(){return 0},getObjectMaxDeclutterSize:function(){return 1e5},layerDecluttering:function(e){var t,i,r,a,n;if(m!==e&&(a=c,p<=(n=e))&&n<=a){for(r=o(),t=0;t<r;t++)i=function(e){e=g(e);return void 0!==e&&e.ElementID||0}(t),s(e,t)?d[i]&&(h[i]=!0):h[i]=!1;return 0===m?(m=e,!1):(m=e,!0)}},isObjectDeclutteringActivated:function(){return!1},isLayerDeclutteringActivated:t,updateLayerElement:function(e,t){var i=e.ElementID||0;D.extend(e,t),(t.hasOwnProperty("MaximumZoom")||t.hasOwnProperty("MinimumZoom"))&&(e=r(i),s(m,e)?d[i]&&(h[i]=!0):h[i]=!1),t.hasOwnProperty("Visible")&&(t.Visible?(e=r(i),s(m,e)&&(h[i]=!0),d[i]=!0):d[i]=h[i]=!1)}}}var kd,H=al,O=function(){function i(){return Date.now?Date.now():(new Date).getTime()}function a(e,t,i=!1){if(r=t,e===o.Error&&(n=t),l&&e<=s)switch(e){case o.Error:l.error(t);break;case o.Warning:l.warn(t);break;default:l.info(t)}if(i){var r,i=H.format(Date.now(),"{T,@HH:mm:ss:SSS}",{timeZone:"localtime"})+" : "+r;if(e<=s)c.Connection.sendTraceEvent("0",i)}}var n=null,o={None:0,Error:10,TestCurr:12,Perf:15,Warning:20,Test:35,Info:40,PerfLow:50,All:99},s=o.Warning,r=0,l=null;i();return{enumTraceMode:o,consolLog:a,setTraceMode:function(e){e=Number(e);100<e&&(l={info:function(){c.Connection.sendTraceEvent("0",Array.prototype.slice.call(arguments).toString(),0)},warn:function(){c.Connection.sendTraceEvent("0",Array.prototype.slice.call(arguments).toString(),1)},error:function(){c.Connection.sendTraceEvent("0",Array.prototype.slice.call(arguments).toString(),2)}},e-=100),s=e},getTraceMode:function(){return s},tracePos:function(e,t,i){a(e,"tracePos() "+t+" pos: "+i.x+" / "+i.y)},traceErr:function(e,t,i){e=e+" Hint: "+t;if(a(o.Error,e),i){for(var r=i,t=e;r&&"Screen"!==r.props.Type;)r=r.container;r&&r.domNode&&r.domNode.TifProperties&&((i=r.domNode.TifProperties).lastErrors=i.lastErrors||[],i.lastErrors.push(t))}},traceTimerStart:i,traceTimerLog:function(e,t){a(o.Perf,e+" duration: "+(e=t,i()-e)+" msec")},traceSecondsLog:function(e){var t=i()/1e3;0===r?(r=t,a(o.Info,"traceSecondsLog: "+e+" seconds: "+t)):a(o.Info,"traceSecondsLog: "+e+" seconds: "+Math.round(t-r))},stopForDebug:function(e){},stopIfVal:function(e,t){},traceItemTree:function(e){for(var t=!1;!t;)t=void 0===e.parentNode||null===e.parentNode?(a(o.Info,"parent of: "+e.id+" is: null"),!0):(a(o.Info,"parent of: "+e.id+" is: "+e.parentNode.id),"ID_DesktopLayout"===(e=e.parentNode).id||"ID_MainDiv"===e.id)},traceWholeObject:function(e){var t,i,r=void 0!==e;for(t in a(o.Info,"### Begin ####################################################################################"),e)(r||e.hasOwnProperty(name))&&(i=null===e[t]?"null":void 0===e[t]?"undefined":void 0===e[t].toString?"undefined toString()":e[t].toString(),a(o.Info,"traceWholeObject pn:"+t+" pv:"+i));a(o.Info,"### End ######################################################################################")},initDiffTime:function(e){},traceSwitch:function(e){return e<=s},getLastError:function(){return n}}}(),G=("undefined"!=typeof angular&&((kd=angular.module("PWC.Lib.HmiTypes.Advanced.Toolkit",[])).controller("PwcAdvancedToolkitController",["$scope","$compile",function(a,n){a.create=function(e,t){var i="pwc-"+e+"-directive",r=A.getItem(t),e="Pwc"+e.substr(0,1).toUpperCase()+e.substr(1)+"Controller";return r._toolkitScope=a.$new(!0),r._toolkitScope.rtoid=t,n("<"+i+' ng-controller="'+e+'" data-rtoid="'+t+'" ></'+i+">")(r._toolkitScope)},a.createDialog=function(e){var t=e.appDir,e=e.type;return n('<pwc-dialog-directive ng-controller="PwcDialogController" ng-init="init(\''+e+'\')" appDir="'+t+'"></pwc-dialog-directive>')(a.$new(!0))}}]),kd.filter("pwcIntToRgbFilter",function(){return function(e){return"rgba("+((16711680&e)>>8>>8)+","+((65280&e)>>8)+","+(255&e)+","+((4278190080&e)>>>24)/255+")"}}),kd.filter("pwcShiftFilter",function(){return function(e,t){return void 0===t&&(t=1),"translate("+(t=e?t:0)+","+t+")"}}),kd.filter("pwcSvgFilter",function(){return function(e,t){if(e)return"url(#"+t+")"}}),kd.directive("pwcSvgHrefDirective",function(){return{restrict:"A",link:function(e,i,t){var r=A.getItem(e.rtoid);t.$observe("pwcSvgHrefDirective",function(e){var t=0===e.indexOf("content/",0)?r.gfxWebLib.connection.getAppDir():r.gfxWebLib.connection.getImageUrl();i[0].setAttributeNS(ae.xlinkNS,"xlink:href",t+e)})}}})),kd),Wd=(G&&(G.controller("PwcDialogController",["$scope",function(d){var r,i,c=[];d.showDateTimePicker=function(e,t){var i=e?e.target:event.target||event.srcElement;i&&(t=i.datePreciseValue||t||PWC.HmiAC.Common.HelperUtil.getDtpSupportedDateTimeFormat(i.value).date,r.createDateTimePicker(e,t,function(e,t,i){e.value=i.value,e.datePreciseValue=t,angular.element(e).scope().$apply(),d.onChange(null,[e]),d.setApplyStatus(!0),d.safeApply()}))},d.isValidChange=!1,d.init=function(e){i=document.activeElement,d.dialogType=e,r=PWC.Components.GenericDialog.Content.ObjectTypes.getHandler(e),d.data=r.getData()},d.isValidDateTime=function(e){var t,i,r,a,n=a=!1,e=document.getElementsByName(e),o=e[0].value,e=e[1].value;return PWC.HmiAC.Common.HelperUtil.isDateTimeSupported?!(!o||!e)||"INVALID":!((o=o.split("-")).length<3||(i=parseInt(o[0],10),r=parseInt(o[1],10),o=parseInt(o[2],10),1<=r&&r<=12&&!(n=-1!==[4,6,9,11].indexOf(r)&&0<=o&&o<=30||-1!==[1,3,5,7,8,10,12].indexOf(r)&&0<=o&&o<=31||0<o&&(o<=28||!(29!==o||Boolean(i%4)||!Boolean(i%100)&&Boolean(i%400)))||n))||(t=e.split(":")).length<3)&&(r=parseInt(t[0],10),o=parseInt(t[1],10),i=t[2].split("."),n=parseInt(i[0],10),e=parseInt(i[1],10),0<=r&&r<=23&&0<=o&&o<=59&&0<=n&&n<=59&&0===e||a)},d.isValid=function(e,t){var i,r;return(t=t||event).keyCode?i=t.keyCode:t.which&&(i=t.which),r=i?String.fromCharCode(i):t.target.value,27===i?(this.blur(),!1):8!==i?!t.ctrlKey&&9!==i&&36!==i&&37!==i&&38!==i&&(39!==i||39===i&&"'"===r)&&40!==i&&!!r.match(e)||(t.preventDefault(),!1):void 0},d.onChange=function(e,t,i){var r,a=d.dialogType,n={},o={},s=!1,l=void 0!==t?t[0]:e?e.target:event.target||event.srcElement,u=l.id,h=PWC.Components.GenericDialog.Content.ControlTypes;if(n.elemId=u,n.updatedValue=h.getUpdatedData(l),n.parentId=a,""!==n.updatedValue){if(0===c.length)c.push(n);else{for(r=0;r<c.length;r++)if((o=c[r]).elemId===u){c.splice(r,1),o.updatedValue=h.getUpdatedData(l),o.parentId=a,c.push(o),s=!0;break}s||c.push(n)}!0===i&&d.update(!1,e),0<c.length&&(d.isValidChange=!0)}},d.update=function(e,t){t=t||event,t=r.update(t,c);e&&(r.clean(),i)&&i.focus(),!t&&void 0!==t||(c=[],d.isValidChange=!1)},d.close=function(){var e;r.clean(),e=d.$parent,d.callDestroy(),d&&(d.$destroy(),d=null),e&&e.$destroy(),r=null,c=[],i&&i.focus()},d.setApplyStatus=function(e){d.isValidChange=e},d.safeApply=function(){d.$$phase||d.$digest()}}]),G.directive("pwcDialogDirective",function(){return{restrict:"E",transclude:!0,link:function(e,t,i,r,a){var n=t[0].getAttribute("appDir");e.getContentUrl=function(){return n+"templates/"+e.dialogType+".html"},e.callDestroy=function(){t.remove()},a=a(),t.append(a)},template:'<div ng-include="getContentUrl()"></div>'}}),G.directive("pwcHandleChangeDirective",[function(e){return function(e,t){t.bind("change",function(){e.onChange(null,t),e.safeApply()}),e.$on("$destroy",function(){t.off()})}}]),G.directive("pwcPreventPasteDirective",[function(e){return function(e,t){t.bind("paste",function(e){return e.preventDefault(),!1}),e.$on("$destroy",function(){t.off()})}}]),G.filter("pwcArrayFilter",function(){return function(e,t,i){var r=[];return angular.forEach(e,function(e){e.props[i].value===t&&r.push(e)}),r}}),G.filter("pwcUniqueByPropertyFilter",function(){return function(e,t){var i={},r=[];return angular.forEach(e,function(e){i[e[t]]=e}),angular.forEach(i,function(e){r.push(e)}),r}}),G.filter("searchFilter",function(){return function(e,t){var i=!1,r=e.length;if(t)for(var a=0;a<r;a++)if(e[a]===t){i=!0;break}return i}}),G.directive("setfocus",function(){return{scope:{trigger:"=setfocus"},link:function(t,i){var e=t.$watch("trigger",function(e){!0===e&&(i[0].focus(),t.trigger=!1)});t.$on("$destroy",function(){e()})}}}),G.filter("pwcTrendArrayFilter",function(){return function(e,t,i){var r=[];return angular.forEach(e,function(e){e.props[i].value===t&&r.push(e.tabName)}),r}})),i.d(t,"Lib",function(){return Wd}),A.HmiWindowManager=pe,A.HmiControlTypes=Ki,A.Template=Mu,A.Interaction=iu,A.Converters=su,{AppMode:zl,AppType:jl,Config:{Browser:J,TypeModel:br,PropertyEnums:v,Properties:M,SystemParts:gt},Canvas:{Converters:F,ImageHelper:te,Pattern:Ll,ScrollBar:Fo,ScrollButton:Mo,Dom:_,Svg:ae},HmiTypes:{Advanced:A,ControlBar:Rr,HmiObject:E,HmiObjectTypes:Ws,HmiScreenWindow:Bi,ScrollBase:u,Layers:mh,LayersInfo:Nd,Utils:P},Debug:O,Settings:S,Services:c,GfxWebLib:er,Formatter:H,TextBib:we,jQL:D})}]);